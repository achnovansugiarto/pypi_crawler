{
  "info": {
    "author": "George Tantiras",
    "author_email": "",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 5 - Production/Stable",
      "Environment :: Web Environment",
      "Framework :: Django",
      "Framework :: Django :: 2.1",
      "Framework :: Django :: 2.2",
      "Intended Audience :: Developers",
      "License :: OSI Approved :: BSD License",
      "Natural Language :: English",
      "Operating System :: OS Independent",
      "Programming Language :: Python",
      "Programming Language :: Python :: 3 :: Only",
      "Programming Language :: Python :: 3.5",
      "Programming Language :: Python :: 3.6",
      "Programming Language :: Python :: 3.7",
      "Topic :: Internet :: WWW/HTTP",
      "Topic :: Internet :: WWW/HTTP :: Dynamic Content",
      "Topic :: Internet :: WWW/HTTP :: Site Management"
    ],
    "description": "Let's Agree\n======\n\nAbout\n---\n\n`django-letsagree`is the result of an effort to follow the spirit of [The EU General Data Protection Regulation (GDPR)](https://eugdpr.org/).\n\nA logged in user can belong to one or more Groups.\n\nIf one or more Groups are associated with `django-letsagree`, all users that login as members of those Groups will be asked to provide their consent to the Terms related with each Group. This action, will be recorded in the database.\n\nThe Terms associated with a Group, can be updated with newer versions.\n\nSuch a decision will trigger again the mechanism which asks for the consent of each user before allowing any other operation on the site.\n\nIf the user does not provide consent, the following actions are only allowed:\n\n* Logout.\n* View and delete all instances of own consent provided.\n* View all Terms\n\n\nPrerequisites\n-------\n\n* Python 3.5, 3.6, 3.7\n* Django 2.1, 2.2\n* [Django Admin Site](https://docs.djangoproject.com/en/dev/ref/contrib/admin/)\n* A database with [Window Functions support](https://www.sql-workbench.eu/dbms_comparison.html)\n\nInstallation\n-------\n* `pip install django-letsagree`\n\n* project/settings.py\n    ```python\n    INSTALLED_APPS = [\n        ...\n        'letsagree',\n        ...\n    ]\n\n    MIDDLEWARE = [\n        ...\n        'letsagree.middleware.LetsAgreeMiddleware',  # Near the end of the list\n        ...\n    ]\n    ```\n\n* `django-letsagree` itself does not come with any migrations. It is recommended\n    that you add migrations for its models in your project and avoid using the\n    word `migrations` as the name of the folder.\n\n    The relevant Django setting is [`MIGRATION_MODULES`](https://docs.djangoproject.com/en/dev/ref/settings/#migration-modules).\n    In the following example, we will create a folder called `3p_migrations`\n    in the main project folder where `settings.py` lies.\n\n    If you wish to use a new folder, do not forget to create an empty `__init__.py` inside it.\n\n    project/settings.py:\n    ```python\n    MIGRATION_MODULES = {\n        'letsagree': 'project.3p_migrations.letsagree',\n    }\n    ```\n\n    * Make sure [LANGUAGES](https://docs.djangoproject.com/en/dev/ref/settings/#languages) are properly set as explained in the [Translation](#translation) section.\n      The default implementation will create as **many fields** as the number of `LANGUAGES` Django has set by default.\n\n    Then:\n    ```python\n    ./manage.py makemigrations letsagree\n    ./manage.py migrate\n    ```\n\n* project/urls.py:\n\n    ```python\n    urlpatterns = [\n            ...\n            path('path/to/letsagree/', include('letsagree.urls')),\n            ...\n    ]\n    ```\n\n\n* [Sessions](https://docs.djangoproject.com/en/dev/topics/http/sessions/#enabling-sessions) should be enabled.\n\n\nSettings\n--------\n\n### Default Settings\n```python\nLETSAGREE_CACHE = False\nLETSAGREE_CSS = {}\nLETSAGREE_JS = ()\nLETSAGREE_LOGOUT_APP_NAME = 'admin'\nLETSAGREE_BROWSER_TITLE = ''\nLETSAGREE_BORDER_HEADER = ''\n```\n\n### Database queries\n\n\nThe middleware generates one database query per request in order to make sure that the user has agreed to all the terms related with the Group(s) he belongs to.\n\nIf `LETSAGREE_CACHE = True`, [Django's Cache Framework](https://docs.djangoproject.com/en/dev/topics/cache/) will be used and only one database query will be generated by the middleware, every 24 hours.\n\n`LETSAGREE_CACHE` is not enabled by default, because it exposes the unique `id` for each user by creating a cache record with key `'letsagree-<user id>'`.\n\nTip: [django-hashid-field](https://github.com/nshafer/django-hashid-field), is a library that obscures unique `id`s, without compromising their uniqueness.\n\n<a name='translation'></a>\n### Translation\n\n\n**Watch your `LANGUAGES`**!\n\n#### Database\n\nBy default `lestagree` installs a tiny library [`django-translated-fields`](https://github.com/matthiask/django-translated-fields) to cater for translating the `title`, `summary` and `content` fields of the `Term` model. This library will create separate fields for each entry in the [`LANGUAGES`](https://docs.djangoproject.com/en/dev/ref/settings/#languages) list.\n\nThe first entry of this list is considered as the \"default language\". The relevant database field is marked as `blank=False` and it serves as a fallback value. This value is returned if an entry for the requested language does not exist.\n\nAll other fields that are related with the rest of the languages in the `LANGUAGES` list are marked as `blank=True` and can stay empty.\n\nAlthough the [`LANGUAGE_CODE`](https://docs.djangoproject.com/en/dev/ref/settings/#language-code) setting is not directly related with `letsagree` or `django-translated-fields` it is **strongly** recommended to match the first language in the `LANGUAGES` setting.\n\nExample:\n```python\nLANGUAGES = (('fr', 'French'), ('en', 'English'))\nLANGUAGE_CODE = 'fr'\n```\nThe model `Term` will include the following fields:\n```python\n{\n    'title_fr': {'blank': False},\n    'title_en': {'blank': True},\n    'summary_fr': {'blank': False},\n    'summary_en': {'blank': True},\n    'content_fr': {'blank': False},\n    'content_en': {'blank': True},\n}\n```\n\n#### Strings\n\nAll strings in `django-letsagree` are marked with one of the following ways which allow translation:\n* `django.utils.translation.gettext_lazy('<string>')`\n* `{% trans \"<string>\" %}`\n\n### Custom Form Assets\n\n`django-letsagree` uses`letsagree/pending.html` template which extends `admin/index.html`. Through a `FormView` this template receives a `Formset` which includes all the `Terms` that should receive consent from the user.\n\n`LETSAGREE_CSS` and `LETSAGREE_JS` when set, pass the relevant assets in the `Media` class of the `Form` that serves as the basis of the above mentioned Formset. The syntax is described in the relevant [django documentation.](https://docs.djangoproject.com/en/dev/topics/forms/media/#assets-as-a-static-definition)\n\nA good starting point could be the default css file provided by `django-letsagree`:\n\nsettings.py:\n```python\nLETSAGREE_CSS = {'all': ('letsagree/letsagree.css',)}\n```\n\nOf course, one can completely [override the templates](https://docs.djangoproject.com/en/dev/howto/overriding-templates/).\n\nIn that case, bear in mind that if `{{ empty_form }}` is False, `{{ form }}` contains a formset.\n\n\n### Other settings\n\n* `LETSAGREE_LOGOUT_APP_NAME`: A logout link will appear on the top right corner of both templates.\n\n  This is formed as `reverse(<LETSAGREE_LOGOUT_APP_NAME>:logout)`.\n\n  The logout link defaults to `reverse('admin:logout')`.\n\n* `LETSAGREE_BROWSER_TITLE`: A title for the default template.\n* `LETSAGREE_BORDER_HEADER`: Text that will appear on the top left corner of the default template.\n\n\nPermissions\n-----------\n\nIt is your responsibility to assign every new user to a Group associated with `django-letsagree`. This group should at least include the `delete_notarypublic` permission in case a user whishes to revoke his consent.\n\nIf all permissions for `django-letsagree` models are delegated to a group, the below table illustrates what actions are allowed for user, with either `is_staff == True` or `is_superuser == True`:\n\n\n| Actions | superuser own entries | superuser other entries | admin-user own entries | admin-user other entries |\n| :-----| :------------------:| :--------------------: | :-------------------:  | :---------------------: |\n| view_term | **True** | **True** | **True** |**True**|\n| add_term | **True** |  | **True** |  |\n| change_term | False | False | False | False |\n| delete_term | False | False | False | False |\n| view_notarypublic | **True** | **True** |**True** | False |\n| add_notarypublic | False |  | False |  |\n| change_notarypublic | False | False | False | False |\n| delete_notarypublic | **True** | False | **True** | False |\n\n\n\nNew Term Version\n----------------\nIf two instances of Term associate with the same Group, the instance saved-last is the latest version. All logged in users have to provide consent for this latest version, independently of any previous consent they may have or have not given for the Terms associated with this Group.\n\n`django-letsagree` takes into account if a logged-in user has provided consent only for the latest version of each Term associated with the Groups he belongs to. If not, the user can only logout or visit `django-letsagree` admin page retaining the right to delete any instances of consent he has provided.\n\nTests\n-----\n\nTo run the test suite, you need:\n\n* Virtualenv with tox installed.\n* PostgreSQL, MariaDB/MySQL databases with the same user, password, database name.\n* The following environment variables set: `TOX_DB_NAME`, `TOX_DB_USER`, `TOX_DB_PASSWD`.\n\nUnfortunatelly, the test suite is rather complicated. Sorry!\n\n### Coverage: Not tested\n\n* `LETSAGREE_CSS`\n* `LETSAGREE_JS`\n* `letsagree.admin.term_parents`\n\n\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/raratiru/django-letsagree",
    "keywords": "",
    "license": "BSD 3-Clause License",
    "maintainer": "",
    "maintainer_email": "",
    "name": "django-letsagree",
    "package_url": "https://pypi.org/project/django-letsagree/",
    "platform": "",
    "project_url": "https://pypi.org/project/django-letsagree/",
    "project_urls": {
      "Homepage": "https://github.com/raratiru/django-letsagree"
    },
    "release_url": "https://pypi.org/project/django-letsagree/1.0.0/",
    "requires_dist": [
      "Django (>=2.1)",
      "django-translated-fields",
      "ipdb ; extra == 'dev'"
    ],
    "requires_python": ">=3.5",
    "summary": "A django application that associates Groups with Terms requiring consent from logged in members.",
    "version": "1.0.0",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 17026384,
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "8d59484d529e444dbc79b6af896465e73dbd76d7667baf61ad806360e0351395",
        "md5": "dd58a416efc8538903fa14d1dc585a95",
        "sha256": "e46f84f440fd7cdf14d838facc3ce8b85a0bbdb185f5a59969454f0f52dca9dc"
      },
      "downloads": -1,
      "filename": "django_letsagree-1.0.0-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "dd58a416efc8538903fa14d1dc585a95",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": ">=3.5",
      "size": 17843,
      "upload_time": "2019-04-10T22:59:28",
      "upload_time_iso_8601": "2019-04-10T22:59:28.654588Z",
      "url": "https://files.pythonhosted.org/packages/8d/59/484d529e444dbc79b6af896465e73dbd76d7667baf61ad806360e0351395/django_letsagree-1.0.0-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "adb2b76076ac67c6b529be984909b520b8c5541cd50bb27b59ea031643097fc4",
        "md5": "0f6be751c10a3f84c86a2e05961f1f6e",
        "sha256": "6734f01a281a7051c490661a2002b630f12e8953b256a3bc2b0f63feb2a0788a"
      },
      "downloads": -1,
      "filename": "django-letsagree-1.0.0.tar.gz",
      "has_sig": false,
      "md5_digest": "0f6be751c10a3f84c86a2e05961f1f6e",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": ">=3.5",
      "size": 13134,
      "upload_time": "2019-04-10T22:59:31",
      "upload_time_iso_8601": "2019-04-10T22:59:31.466668Z",
      "url": "https://files.pythonhosted.org/packages/ad/b2/b76076ac67c6b529be984909b520b8c5541cd50bb27b59ea031643097fc4/django-letsagree-1.0.0.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}