{
  "info": {
    "author": "jdh99",
    "author_email": "jdh821@163.com",
    "bugtrack_url": null,
    "classifiers": [],
    "description": "@[TOC]\n\n# esp32使用MicroPython驱动oled屏显示中文和英文\n本文博客链接:[http://blog.csdn.net/jdh99](http://blog.csdn.net/jdh99),作者:jdh,转载请注明.\n\n欢迎前往社区交流：[海萤物联网社区](http://www.ztziot.com/)\n\n## 介绍\n手边有个0.96寸的oled屏，驱动芯片是ssd1306，分辨率是128x64，支持ic接口。准备用esp32开发板驱动它。\n\n在网上查了一圈，使用MicroPython驱动oled屏，大都是用官方库ssd1306驱动。官方库只支持8x8显示英文字符，屏幕上显示太小了，看起来太吃力。于是写了个库micropython-ssd1306py，支持中英文显示，并支持不同字号。\n\n## 安装\n输入命令下载包到指定目录：\n```text\npip install --target=d:/package micropython-ssd1306py\n```\n\n下载后目录：\n\n![在这里插入图片描述](https://img-blog.csdnimg.cn/20210407155442150.png)\n\n删除掉无关文件README和egg-info，将ssd1306py文件夹放在设备的lib目录下。**注意：必须放在lib目录下**\n\n在设备中的目录：\n\n![在这里插入图片描述](https://img-blog.csdnimg.cn/20210407155701828.png)\n\n## 特点\n- 支持英文字号8x8，16x16，24x24，32x32\n- 支持中文字号16x16，24x24，32x32\n- 封装lcd操作常用接口\n\n## 开源\n- [github上的项目地址](https://github.com/jdhxyy/ssd1306py-micropython)\n- [gitee上的项目地址](https://gitee.com/jdhxyy/ssd1306py-micropython)\n\n## 硬件连接\n![在这里插入图片描述](https://img-blog.csdnimg.cn/20210407150355383.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2pkaDk5,size_16,color_FFFFFF,t_70)\n![在这里插入图片描述](https://img-blog.csdnimg.cn/20210407150411722.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2pkaDk5,size_16,color_FFFFFF,t_70)\n\n## API\n```python\ndef init_i2c(scl, sda, width, height):\n    \"\"\"\n    初始化i2c接口\n    :param scl: i2c的时钟脚\n    :param sda: i2c的数据脚\n    :param width: oled屏幕的宽度像素\n    :param height: oled屏幕的高度像素\n    \"\"\"\n\ndef clear():\n    \"\"\"清除屏幕\"\"\"\n\ndef show():\n    \"\"\"屏幕刷新显示\"\"\"\n   \ndef pixel(x, y):\n    \"\"\"画点\"\"\"\n\ndef text(string, x_axis, y_axis, font_size):\n    \"\"\"显示字符串.注意字符串必须是英文或者数字\"\"\"\n\ndef set_font(font, font_size):\n    \"\"\"\n    设置中文字库.允许设置多个不同大小的字库\n    字库必须是字典,格式示例:\n    font = {\n    0xe4bda0:\n        [0x08, 0x08, 0x08, 0x11, 0x11, 0x32, 0x34, 0x50, 0x91, 0x11, 0x12, 0x12, 0x14, 0x10, 0x10, 0x10, 0x80, 0x80,\n         0x80, 0xFE, 0x02, 0x04, 0x20, 0x20, 0x28, 0x24, 0x24, 0x22, 0x22, 0x20, 0xA0, 0x40],  # 你\n    0xe5a5bd:\n        [0x10, 0x10, 0x10, 0x10, 0xFC, 0x24, 0x24, 0x25, 0x24, 0x48, 0x28, 0x10, 0x28, 0x44, 0x84, 0x00, 0x00, 0xFC,\n         0x04, 0x08, 0x10, 0x20, 0x20, 0xFE, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0xA0, 0x40]  # 好\n    }\n    \"\"\"\n\ndef text_cn(string, x_axis, y_axis, font_size):\n    \"\"\"显示中文字符.注意字符必须是utf-8编码\"\"\"\n```\n\n## 示例\n### 显示英文字符\n```python\nimport ssd1306py as lcd\n\n\nlcd.init_i2c(22, 21, 128, 64)\nlcd.text('font8x8', 0, 0, 8)\nlcd.text('font16x16', 0, 20, 16)\nlcd.show()\n```\n\n显示效果：\n![在这里插入图片描述](https://img-blog.csdnimg.cn/20210407152515252.png)\n\n```python\nimport ssd1306py as lcd\n\n\nlcd.init_i2c(22, 21, 128, 64)\nlcd.text('font32x32', 0, 0, 32)\nlcd.show()\n```\n![在这里插入图片描述](https://img-blog.csdnimg.cn/20210407152728168.png)\n\n### 显示汉字\n汉字字库较大，单一字号的字库就需要几M字节，所以没有放在库中。需要自己将需要显示的汉字做成字库传入到库中。\n\n制作字库可以使用工具PCtoLCD2002，[百度网盘下载链接](https://pan.baidu.com/s/1gc5swTKB7iuFa7swJrg_Jg)，提取码：z4tf\n\n使用方法可参考：[如何使用PCtoLCD2002取模（汉字、ASCII字符集）](https://blog.csdn.net/qq_41359157/article/details/106174897)\n\n提取的汉字字库做成字典格式供程序使用，字典的键是汉字的utf-8编码值。可以使用python获取python的utf-8值，比如：\n![在这里插入图片描述](https://img-blog.csdnimg.cn/20210407153847574.png)\n则汉字”你“的utf-8值是0xe4bda0。\n\n也可以使用在线转换工具查询：[http://www.mytju.com/classcode/tools/encode_utf8.asp](http://www.mytju.com/classcode/tools/encode_utf8.asp)\n\n\n比如以下示例，显示汉字“你好”。\n\n```python\nimport ssd1306py as lcd\n\nlcd.init_i2c(22, 21, 128, 64)\n\nfont16 = {\n    0xe4bda0:\n        [0x08, 0x08, 0x08, 0x11, 0x11, 0x32, 0x34, 0x50, 0x91, 0x11, 0x12, 0x12, 0x14, 0x10, 0x10, 0x10, 0x80, 0x80,\n         0x80, 0xFE, 0x02, 0x04, 0x20, 0x20, 0x28, 0x24, 0x24, 0x22, 0x22, 0x20, 0xA0, 0x40],  # 你\n    0xe5a5bd:\n        [0x10, 0x10, 0x10, 0x10, 0xFC, 0x24, 0x24, 0x25, 0x24, 0x48, 0x28, 0x10, 0x28, 0x44, 0x84, 0x00, 0x00, 0xFC,\n         0x04, 0x08, 0x10, 0x20, 0x20, 0xFE, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0xA0, 0x40]  # 好\n}\n\nfont24 = {\n    0xe4bda0:\n        [0x00, 0x01, 0x01, 0x03, 0x03, 0x02, 0x04, 0x04, 0x0E, 0x1C, 0x14, 0x24, 0x44, 0x04, 0x04, 0x04, 0x04, 0x04,\n         0x04, 0x05, 0x04, 0x06, 0x04, 0x00,\n         0x00, 0x00, 0x8C, 0x0C, 0x08, 0x18, 0x1F, 0x30, 0x21, 0x41, 0x41, 0x91, 0x19, 0x11, 0x31, 0x21, 0x41, 0x41,\n         0x81, 0x01, 0x11, 0x0F, 0x02, 0x00,\n         0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFC, 0x0C, 0x10, 0x00, 0x00, 0x00, 0x20, 0x10, 0x18, 0x0C, 0x0C, 0x06,\n         0x04, 0x00, 0x00, 0x00, 0x00, 0x00],  # 你\n    0xe5a5bd:\n        [0x00, 0x00, 0x06, 0x06, 0x06, 0x04, 0x04, 0x7F, 0x0C, 0x0C, 0x08, 0x08, 0x08, 0x18, 0x10, 0x11, 0x0D, 0x03,\n         0x02, 0x04, 0x18, 0x20, 0x40, 0x00,\n         0x00, 0x00, 0x00, 0x00, 0x1F, 0x00, 0x00, 0xC0, 0x40, 0x40, 0xC0, 0x80, 0xBF, 0x80, 0x80, 0x00, 0x00, 0x80,\n         0xC0, 0x60, 0x00, 0x07, 0x01, 0x00,\n         0x00, 0x00, 0x00, 0x00, 0xF8, 0x18, 0x20, 0x40, 0x80, 0x80, 0x80, 0x84, 0xFE, 0x80, 0x80, 0x80, 0x80, 0x80,\n         0x80, 0x80, 0x80, 0x80, 0x00, 0x00]  # 好\n}\n\nfont32 = {\n    0xe4bda0:\n        [0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x01, 0x03, 0x03, 0x07, 0x0D, 0x09, 0x11, 0x11, 0x21,\n         0x01, 0x01, 0x01, 0x01, 0x01, 0x01,\n         0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x00, 0x00, 0x00, 0x40, 0x70, 0x60, 0xE0, 0xC0, 0xC1, 0x81, 0x03,\n         0x03, 0x86, 0x84, 0x8C, 0x88, 0x90,\n         0x81, 0x83, 0x83, 0x83, 0x86, 0x86, 0x8C, 0x88, 0x90, 0x90, 0xA0, 0x80, 0x80, 0x80, 0x00, 0x00, 0x00, 0x00,\n         0x00, 0x60, 0xE0, 0xC0, 0xC0, 0x80,\n         0x80, 0xFF, 0x00, 0x10, 0x0C, 0x08, 0x08, 0x08, 0x88, 0x88, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08,\n         0x08, 0x08, 0xF8, 0x38, 0x10, 0x00,\n         0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x18, 0xFC, 0x18, 0x30, 0x20, 0x40, 0x00, 0x00, 0x00, 0x80,\n         0x40, 0x20, 0x30, 0x18, 0x1C, 0x0C,\n         0x0C, 0x0C, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00],  # 你\n    0xe5a5bd:\n        [0x00, 0x00, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x03, 0x3F, 0x03, 0x03, 0x02, 0x06, 0x06, 0x04, 0x04, 0x0C,\n         0x0C, 0x08, 0x08, 0x0E, 0x01, 0x00,\n         0x00, 0x01, 0x03, 0x04, 0x08, 0x30, 0x00, 0x00, 0x00, 0x00, 0x00, 0xC0, 0x80, 0x81, 0x80, 0x00, 0x08, 0xFC,\n         0x08, 0x08, 0x18, 0x18, 0x18, 0x18,\n         0x17, 0x30, 0x30, 0x30, 0x60, 0x60, 0xC0, 0xF0, 0xBC, 0x8C, 0x04, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,\n         0x00, 0x00, 0x00, 0xFF, 0x00, 0x00,\n         0x00, 0x01, 0x06, 0x06, 0x06, 0x06, 0x06, 0x06, 0xFF, 0x06, 0x06, 0x06, 0x06, 0x06, 0x06, 0x06, 0x06, 0x06,\n         0x06, 0x06, 0xFC, 0x1C, 0x08, 0x00,\n         0x00, 0x00, 0x00, 0x00, 0x20, 0xF0, 0x70, 0xC0, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x18, 0xFC, 0x00,\n         0x00, 0x00, 0x00, 0x00, 0x00, 0x00,\n         0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00]  # 好\n}\n\nlcd.init_i2c(22, 21, 128, 64)\nlcd.set_font(font16, 16)\nlcd.set_font(font24, 24)\nlcd.set_font(font32, 32)\nlcd.text_cn('你好', 0, 0, 16)\nlcd.text_cn('你好', 40, 00, 24)\nlcd.text_cn('你好', 0, 30, 32)\nlcd.show()\n```\n\n![在这里插入图片描述](https://img-blog.csdnimg.cn/20210407154608815.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2pkaDk5,size_16,color_FFFFFF,t_70)\n\n\n## 参考链接\n- [MicroPython: OLED Display with ESP32 and ESP8266](https://randomnerdtutorials.com/micropython-oled-display-esp32-esp8266/)\n- [micropython esp8266+ssd1306(OLED) 显示中文(示例)](https://www.jianshu.com/p/30b432c69271?spm=a2c4e.11153940.blogcont658191.9.5a9277d4H89q0M)",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/jdhxyy/ssd1306py-micropython",
    "keywords": "",
    "license": "",
    "maintainer": "",
    "maintainer_email": "",
    "name": "micropython-ssd1306py",
    "package_url": "https://pypi.org/project/micropython-ssd1306py/",
    "platform": "",
    "project_url": "https://pypi.org/project/micropython-ssd1306py/",
    "project_urls": {
      "Homepage": "https://github.com/jdhxyy/ssd1306py-micropython"
    },
    "release_url": "https://pypi.org/project/micropython-ssd1306py/3.1/",
    "requires_dist": null,
    "requires_python": "",
    "summary": "ssd1306 driver",
    "version": "3.1",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 10006351,
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "4a2a14018bd10325ca9e94278efede407d6ee9734542eed5977acac9d0d61066",
        "md5": "5a380c69a37f372e8b7463c687020d91",
        "sha256": "1e62557f17c6f0424ac4381d351e0be14683330604b7fa2156302824f1c155db"
      },
      "downloads": -1,
      "filename": "micropython-ssd1306py-3.1.tar.gz",
      "has_sig": false,
      "md5_digest": "5a380c69a37f372e8b7463c687020d91",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": null,
      "size": 16185,
      "upload_time": "2021-04-08T08:22:25",
      "upload_time_iso_8601": "2021-04-08T08:22:25.876963Z",
      "url": "https://files.pythonhosted.org/packages/4a/2a/14018bd10325ca9e94278efede407d6ee9734542eed5977acac9d0d61066/micropython-ssd1306py-3.1.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}