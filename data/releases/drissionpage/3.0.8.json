{
  "info": {
    "author": "g1879",
    "author_email": "g1879@qq.com",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 4 - Beta",
      "License :: OSI Approved :: BSD License",
      "Programming Language :: Python :: 3.6",
      "Topic :: Utilities"
    ],
    "description": "# âœ¨ï¸ç®€æ´ï¼æ˜“ç”¨ ï¼æ–¹ä¾¿ï¼âœ¨ï¸\r\n\r\nDrissionPageï¼Œå³ driver å’Œ session ç»„åˆè€Œæˆçš„ pageã€‚  \r\næ˜¯ä¸ªåŸºäºŽ python çš„ Web è‡ªåŠ¨åŒ–æ“ä½œé›†æˆå·¥å…·ã€‚  \r\nå®ƒç”¨ POM æ¨¡å¼å°è£…äº†é¡µé¢å’Œå…ƒç´ å¸¸ç”¨çš„æ–¹æ³•ï¼Œ  \r\nè‡ªå¸¦ä¸€å¥—ç®€æ´ç›´è§‚ä¼˜é›…çš„å…ƒç´ å®šä½è¯­æ³•ï¼Œ  \r\nå®žçŽ°äº†æµè§ˆå™¨å’Œ requests ä¹‹é—´çš„æ— ç¼åˆ‡æ¢ï¼Œ  \r\nå¯å…¼é¡¾æµè§ˆå™¨è‡ªåŠ¨åŒ–çš„ä¾¿åˆ©æ€§å’Œ requests çš„é«˜æ•ˆçŽ‡ï¼Œ  \r\næ›´æ£’çš„æ˜¯ï¼Œå®ƒçš„ä½¿ç”¨æ–¹å¼éžå¸¸ç®€æ´å’Œäººæ€§åŒ–ï¼Œä»£ç é‡å°‘ï¼Œå¯¹æ–°æ‰‹å‹å¥½ã€‚\r\n\r\n**ä½¿ç”¨æ–‡æ¡£ï¼š** ðŸ“’[ç‚¹å‡»æ‰“å¼€](http://g1879.gitee.io/drissionpage)\r\n\r\n**QQç¾¤ï¼š**  897838127\r\n\r\n**è”ç³»é‚®ç®±ï¼š**  g1879@qq.com\r\n\r\n## ðŸ“• èƒŒæ™¯\r\n\r\nç”¨ requests åšæ•°æ®é‡‡é›†é¢å¯¹è¦ç™»å½•çš„ç½‘ç«™æ—¶ï¼Œè¦åˆ†æžæ•°æ®åŒ…ã€JS æºç ï¼Œæž„é€ å¤æ‚çš„è¯·æ±‚ï¼Œå¾€å¾€è¿˜è¦åº”ä»˜éªŒè¯ç ã€JS æ··æ·†ã€ç­¾åå‚æ•°ç­‰åçˆ¬æ‰‹æ®µï¼Œé—¨æ§›è¾ƒé«˜ã€‚è‹¥æ•°æ®æ˜¯ç”± JS è®¡ç®—ç”Ÿæˆçš„ï¼Œè¿˜é¡»é‡çŽ°è®¡ç®—è¿‡ç¨‹ï¼Œä½“éªŒä¸å¥½ï¼Œå¼€å‘æ•ˆçŽ‡ä¸é«˜ã€‚  \r\nä½¿ç”¨æµè§ˆå™¨ï¼Œå¯ä»¥å¾ˆå¤§ç¨‹åº¦ä¸Šç»•è¿‡è¿™äº›å‘ï¼Œä½†æµè§ˆå™¨è¿è¡Œæ•ˆçŽ‡ä¸é«˜ã€‚å› æ­¤ï¼Œè¿™ä¸ªåº“å°†å®ƒä»¬åˆè€Œä¸ºä¸€ï¼Œä¸åŒé¡»è¦æ—¶åˆ‡æ¢ç›¸åº”æ¨¡å¼ï¼Œå¹¶æä¾›ä¸€ç§äººæ€§åŒ–çš„ä½¿ç”¨æ–¹æ³•ï¼Œæé«˜å¼€å‘å’Œè¿è¡Œæ•ˆçŽ‡ã€‚  \r\né™¤äº†åˆå¹¶ä¸¤è€…ï¼Œæœ¬åº“è¿˜ä»¥ç½‘é¡µä¸ºå•ä½å°è£…äº†å¸¸ç”¨åŠŸèƒ½ï¼Œæä¾›éžå¸¸ç®€ä¾¿çš„æ“ä½œå’Œè¯­å¥ï¼Œåœ¨ç”¨äºŽç½‘é¡µè‡ªåŠ¨åŒ–æ“ä½œæ—¶ï¼Œå‡å°‘è€ƒè™‘ç»†èŠ‚ï¼Œä¸“æ³¨åŠŸèƒ½å®žçŽ°ï¼Œä½¿ç”¨æ›´æ–¹ä¾¿ã€‚  \r\nä¸€åˆ‡ä»Žç®€ï¼Œå°½é‡æä¾›ç®€å•ç›´æŽ¥çš„ä½¿ç”¨æ–¹æ³•ï¼Œå¯¹æ–°æ‰‹æ›´å‹å¥½ã€‚\r\n\r\n# ðŸ”† 3.0 ç‰ˆéš†é‡æŽ¨å‡ºï¼ˆæµ‹è¯•ä¸­ï¼‰\r\n\r\nä»¥å‰çš„ç‰ˆæœ¬æ˜¯å¯¹ selenium è¿›è¡Œé‡æ–°å°è£…å®žçŽ°çš„ã€‚ä»Ž 3.0 å¼€å§‹ï¼Œä½œè€…å¦èµ·ç‚‰ç¶ï¼Œå¯¹åº•å±‚è¿›è¡Œäº†é‡æ–°å¼€å‘ï¼Œæ‘†è„±å¯¹ selenium çš„ä¾èµ–ï¼Œå¢žå¼ºäº†åŠŸèƒ½ï¼Œæå‡äº†è¿è¡Œæ•ˆçŽ‡ã€‚  \r\n3.0 å…¨æ–°å¼€å‘çš„é¡µé¢å¯¹è±¡æ˜¯`WebPage`ï¼Œæ”¯æŒ chromium å†…æ ¸çš„æµè§ˆå™¨ï¼ˆå¦‚ chrome å’Œ edgeï¼‰ã€‚é™¤äº†ä¿æŒä¹‹å‰çš„åŠŸèƒ½ï¼Œæ¯”ä¾èµ– selenium çš„`MixPage`æœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼š\r\n\r\n- æ—  webdriver ç‰¹å¾ï¼Œä¸ä¼šè¢«ç½‘ç«™è¯†åˆ«\r\n\r\n- æ— éœ€ä¸ºä¸åŒç‰ˆæœ¬çš„æµè§ˆå™¨ä¸‹è½½ä¸åŒçš„é©±åŠ¨\r\n\r\n- è¿è¡Œé€Ÿåº¦æ›´å¿«\r\n\r\n- å¯ä»¥è·¨ iframe æŸ¥æ‰¾å…ƒç´ ï¼Œæ— éœ€åˆ‡å…¥åˆ‡å‡º\r\n\r\n- æŠŠ iframe çœ‹ä½œæ™®é€šå…ƒç´ ï¼ŒèŽ·å–åŽå¯ç›´æŽ¥åœ¨å…¶ä¸­æŸ¥æ‰¾å…ƒç´ ï¼Œé€»è¾‘æ›´æ¸…æ™°\r\n\r\n- å¯ä»¥åŒæ—¶æ“ä½œæµè§ˆå™¨ä¸­çš„å¤šä¸ªæ ‡ç­¾é¡µï¼Œå³ä½¿æ ‡ç­¾é¡µä¸ºéžæ¿€æ´»çŠ¶æ€\r\n\r\n- å¯ä»¥ç›´æŽ¥è¯»å–æµè§ˆå™¨ç¼“å­˜æ¥ä¿æŒå›¾ç‰‡ï¼Œæ— éœ€ç”¨ GUI ç‚¹å‡»ä¿å­˜\r\n\r\n- å¯ä»¥å¯¹æ•´ä¸ªç½‘é¡µæˆªå›¾ï¼ŒåŒ…æ‹¬è§†å£å¤–çš„éƒ¨åˆ†ï¼ˆ90ä»¥ä¸Šç‰ˆæœ¬æµè§ˆå™¨æ”¯æŒï¼‰\r\n\r\n- å¯¹ Linux æä¾›è‰¯å¥½æ”¯æŒ\r\n\r\næ–°ç‰ˆæ˜¯è‡ªå·±å®žçŽ°çš„åŠŸèƒ½ï¼Œå¼€å‘ä¸ä¼šå—å¤ªå¤šé™åˆ¶ï¼Œä»¥åŽå°†ä¸»è¦å¯¹`WebPage`è¿›è¡Œæ›´æ–°ã€‚\r\n\r\n3.0 ç‰ˆå·²ç»å‘å¸ƒï¼Œç›®å‰æ­£åœ¨æµ‹è¯•ï¼Œæ¬¢è¿Žè¯•ç”¨å¹¶æå‡ºæ„è§ï¼Œè®©æˆ‘åšå¾—æ›´å¥½ã€‚\r\n\r\n# ðŸ’¡ ç‰¹æ€§å’Œäº®ç‚¹\r\n\r\nä½œè€…è¸©è¿‡æ— æ•°å‘ï¼Œæ€»ç»“å‡ºçš„ç»éªŒå…¨å†™åˆ°è¿™ä¸ªåº“é‡Œäº†ã€‚å†…ç½®äº† N å¤šå®žç”¨åŠŸèƒ½ï¼Œå¯¹å¸¸ç”¨åŠŸèƒ½ä½œäº†æ•´åˆå’Œä¼˜åŒ–ã€‚\r\n\r\n## ðŸŽ‰ ç‰¹æ€§\r\n\r\n- ä»£ç é«˜åº¦é›†æˆï¼Œä»¥ç®€æ´çš„ä»£ç ä¸ºç¬¬ä¸€è¿½æ±‚ã€‚\r\n- é¡µé¢å¯¹è±¡å¯åœ¨æµè§ˆå™¨å’Œ requests é—´ä»»æ„åˆ‡æ¢ï¼Œä¿ç•™ç™»å½•çŠ¶æ€ã€‚\r\n- æžç®€å•ä½†å¼ºå¤§çš„å…ƒç´ å®šä½è¯­æ³•ï¼Œæ”¯æŒé“¾å¼æ“ä½œï¼Œä»£ç æžå…¶ç®€æ´ã€‚\r\n- ä¸¤ç§æ¨¡å¼æä¾›ä¸€è‡´çš„ APIï¼Œä½¿ç”¨ä½“éªŒä¸€è‡´ã€‚\r\n- äººæ€§åŒ–è®¾è®¡ï¼Œé›†æˆä¼—å¤šå®žç”¨åŠŸèƒ½ï¼Œå¤§å¤§é™ä½Žå¼€å‘å·¥ä½œé‡ã€‚\r\n\r\n## ðŸŽ‡ äº®ç‚¹åŠŸèƒ½\r\n\r\n- æ¯æ¬¡è¿è¡Œç¨‹åºå¯ä»¥åå¤ä½¿ç”¨å·²ç»æ‰“å¼€çš„æµè§ˆå™¨ã€‚å¦‚æ‰‹åŠ¨è®¾ç½®ç½‘é¡µåˆ°æŸä¸ªçŠ¶æ€ï¼Œå†ç”¨ç¨‹åºæŽ¥ç®¡ï¼Œæˆ–æ‰‹åŠ¨å¤„ç†ç™»å½•ï¼Œå†ç”¨ç¨‹åºçˆ¬å†…å®¹ã€‚æ— é¡»æ¯æ¬¡è¿è¡Œä»Žå¤´å¯åŠ¨æµè§ˆå™¨ï¼Œè¶…çº§æ–¹ä¾¿ã€‚\r\n- ä½¿ç”¨ ini æ–‡ä»¶ä¿å­˜å¸¸ç”¨é…ç½®ï¼Œè‡ªåŠ¨è°ƒç”¨ï¼Œä¹Ÿæä¾›ä¾¿æ·çš„è®¾ç½® APIï¼Œè¿œç¦»ç¹æ‚çš„é…ç½®é¡¹ã€‚\r\n- æžè‡´ç®€æ˜Žçš„å®šä½è¯­æ³•ï¼Œæ”¯æŒç›´æŽ¥æŒ‰æ–‡æœ¬å®šä½å…ƒç´ ï¼Œæ”¯æŒç›´æŽ¥èŽ·å–å‰åŽå…„å¼Ÿå…ƒç´ å’Œçˆ¶å…ƒç´ ç­‰ã€‚\r\n- å¼ºå¤§çš„ä¸‹è½½å·¥å…·ï¼Œæ“ä½œæµè§ˆå™¨æ—¶ä¹Ÿèƒ½äº«å—å¿«æ·å¯é çš„ä¸‹è½½åŠŸèƒ½ã€‚\r\n- ä¸‹è½½å·¥å…·æ”¯æŒå¤šç§æ–¹å¼å¤„ç†æ–‡ä»¶åå†²çªã€è‡ªåŠ¨åˆ›å»ºç›®æ ‡è·¯å¾„ã€æ–­é“¾é‡è¯•ç­‰ã€‚\r\n- è®¿é—®ç½‘å€å¸¦è‡ªåŠ¨é‡è¯•åŠŸèƒ½ï¼Œå¯è®¾ç½®é—´éš”å’Œè¶…æ—¶æ—¶é—´ã€‚\r\n- è®¿é—®ç½‘é¡µèƒ½è‡ªåŠ¨è¯†åˆ«ç¼–ç ï¼Œæ— é¡»æ‰‹åŠ¨è®¾ç½®ã€‚\r\n- é“¾æŽ¥å‚æ•°é»˜è®¤è‡ªåŠ¨ç”Ÿæˆ`Host`å’Œ`Referer`å±žæ€§ã€‚\r\n- å¯éšæ—¶ç›´æŽ¥éšè—æˆ–æ˜¾ç¤ºæµè§ˆå™¨è¿›ç¨‹çª—å£ï¼Œéž headless æˆ–æœ€å°åŒ–ã€‚\r\n- å¯è‡ªåŠ¨ä¸‹è½½åˆé€‚ç‰ˆæœ¬çš„ chromedriverï¼Œå…åŽ»éº»çƒ¦çš„é…ç½®ã€‚\r\n- d æ¨¡å¼æŸ¥æ‰¾å…ƒç´ å†…ç½®ç­‰å¾…ï¼Œå¯ä»»æ„è®¾ç½®å…¨å±€ç­‰å¾…æ—¶é—´æˆ–å•æ¬¡æŸ¥æ‰¾ç­‰å¾…æ—¶é—´ã€‚\r\n- ç‚¹å‡»å…ƒç´ é›†æˆ js ç‚¹å‡»æ–¹å¼ï¼Œä¸€ä¸ªå‚æ•°å³å¯åˆ‡æ¢ç‚¹å‡»æ–¹å¼ã€‚\r\n- ç‚¹å‡»æ”¯æŒå¤±è´¥é‡è¯•ï¼Œå¯ç”¨äºŽä¿è¯ç‚¹å‡»æˆåŠŸã€åˆ¤è¯»ç½‘é¡µé®ç½©å±‚æ˜¯å¦æ¶ˆå¤±ç­‰ã€‚\r\n- è¾“å…¥æ–‡æœ¬èƒ½è‡ªåŠ¨åˆ¤æ–­æ˜¯å¦æˆåŠŸå¹¶é‡è¯•ï¼Œé¿å…æŸäº›æƒ…å†µä¸‹è¾“å…¥æˆ–æ¸…ç©ºå¤±æ•ˆçš„æƒ…å†µã€‚\r\n- d æ¨¡å¼ä¸‹æ”¯æŒå…¨åŠŸèƒ½çš„ xpathï¼Œå¯ç›´æŽ¥èŽ·å–å…ƒç´ çš„æŸä¸ªå±žæ€§ï¼Œselenium åŽŸç”Ÿæ— æ­¤åŠŸèƒ½ã€‚\r\n- æ”¯æŒç›´æŽ¥èŽ·å–`shadow-root`ï¼Œå’Œæ™®é€šå…ƒç´ ä¸€æ ·æ“ä½œå…¶ä¸‹çš„å…ƒç´ ã€‚\r\n- æ”¯æŒç›´æŽ¥èŽ·å–`after`å’Œ`before`ä¼ªå…ƒç´ çš„å†…å®¹ã€‚\r\n- å¯ä»¥åœ¨å…ƒç´ ä¸‹ç›´æŽ¥ä½¿ç”¨ > ä»¥ css selector æ–¹å¼èŽ·å–å½“å‰å…ƒç´ ç›´æŽ¥å­å…ƒç´ ã€‚åŽŸç”Ÿä¸æ”¯æŒè¿™ç§å†™æ³•ã€‚\r\n- å¯ç®€å•åœ°ä½¿ç”¨ lxml æ¥è§£æž d æ¨¡å¼çš„é¡µé¢æˆ–å…ƒç´ ï¼Œçˆ¬å–å¤æ‚é¡µé¢æ•°æ®æ—¶é€Ÿåº¦å¤§å¹…æé«˜ã€‚\r\n- è¾“å‡ºçš„æ•°æ®å‡å·²è½¬ç åŠå¤„ç†åŸºæœ¬æŽ’ç‰ˆï¼Œå‡å°‘é‡å¤åŠ³åŠ¨ã€‚\r\n- å¯æ–¹ä¾¿åœ°ä¸Ž selenium æˆ– requests åŽŸç”Ÿä»£ç å¯¹æŽ¥ï¼Œä¾¿äºŽé¡¹ç›®è¿ç§»ã€‚\r\n- ä½¿ç”¨ POM æ¨¡å¼å°è£…ï¼Œå¯ç›´æŽ¥ç”¨äºŽæµ‹è¯•ï¼Œä¾¿äºŽæ‰©å±•ã€‚\r\n- d æ¨¡å¼é…ç½®å¯åŒæ—¶å…¼å®¹`debugger_address`å’Œå…¶å®ƒå‚æ•°ï¼ŒåŽŸç”Ÿä¸èƒ½å…¼å®¹ã€‚\r\n- è¿˜æœ‰å¾ˆå¤šè¿™é‡Œä¸ä¸€ä¸€åˆ—ä¸¾â€¦â€¦â€¦â€¦\r\n\r\n# ðŸ€ ç®€å•æ¼”ç¤º\r\n\r\nâ˜˜ï¸ **ä¸Ž selenium ä»£ç å¯¹æ¯”**\r\n\r\nä»¥ä¸‹ä»£ç å®žçŽ°ä¸€æ¨¡ä¸€æ ·çš„åŠŸèƒ½ï¼Œå¯¹æ¯”ä¸¤è€…çš„ä»£ç é‡ï¼š\r\n\r\nðŸŒ¿ ç”¨æ˜¾æ€§ç­‰å¾…æ–¹å¼å®šä½ç¬¬ä¸€ä¸ªæ–‡æœ¬åŒ…å«`some text`çš„å…ƒç´ \r\n\r\n```python\r\n# ä½¿ç”¨ seleniumï¼š\r\nelement = WebDriverWait(driver).until(ec.presence_of_element_located((By.XPATH, '//*[contains(text(), \"some text\")]')))\r\n\r\n# ä½¿ç”¨ DrissionPageï¼š\r\nelement = page('some text')\r\n```\r\n\r\nðŸŒ¿ è·³è½¬åˆ°ç¬¬ä¸€ä¸ªæ ‡ç­¾é¡µ\r\n\r\n```python\r\n# ä½¿ç”¨ seleniumï¼š\r\ndriver.switch_to.window(driver.window_handles[0])\r\n\r\n# ä½¿ç”¨ DrissionPageï¼š\r\npage.to_tab(0)\r\n```\r\n\r\nðŸŒ¿ æŒ‰æ–‡æœ¬é€‰æ‹©ä¸‹æ‹‰åˆ—è¡¨\r\n\r\n```python\r\n# ä½¿ç”¨ seleniumï¼š\r\nfrom selenium.webdriver.support.select import Select\r\n\r\nselect_element = Select(element)\r\nselect_element.select_by_visible_text('text')\r\n\r\n# ä½¿ç”¨ DrissionPageï¼š\r\nelement.select('text')\r\n```\r\n\r\nðŸŒ¿ æ‹–æ‹½ä¸€ä¸ªå…ƒç´ \r\n\r\n```python\r\n# ä½¿ç”¨ seleniumï¼š\r\nActionChains(driver).drag_and_drop(ele1, ele2).perform()\r\n\r\n# ä½¿ç”¨ DrissionPageï¼š\r\nele1.drag_to(ele2)\r\n```\r\n\r\nðŸŒ¿ æ»šåŠ¨çª—å£åˆ°åº•éƒ¨ï¼ˆä¿æŒæ°´å¹³æ»šåŠ¨æ¡ä¸å˜ï¼‰\r\n\r\n```python\r\n# ä½¿ç”¨ seleniumï¼š\r\ndriver.execute_script(\"window.scrollTo(document.documentElement.scrollLeft, document.body.scrollHeight);\")\r\n\r\n# ä½¿ç”¨ DrissionPageï¼š\r\npage.scroll.to_bottom()\r\n```\r\n\r\nðŸŒ¿ è®¾ç½® headless æ¨¡å¼\r\n\r\n```python\r\n# ä½¿ç”¨ seleniumï¼š\r\noptions = webdriver.ChromeOptions()\r\noptions.add_argument(\"--headless\")\r\n\r\n# ä½¿ç”¨ DrissionPageï¼š\r\nset_headless()\r\n```\r\n\r\nðŸŒ¿ èŽ·å–ä¼ªå…ƒç´ å†…å®¹\r\n\r\n```python\r\n# ä½¿ç”¨ seleniumï¼š\r\ntext = webdriver.execute_script('return window.getComputedStyle(arguments[0], \"::after\").getPropertyValue(\"content\");',\r\n                                element)\r\n\r\n# ä½¿ç”¨ DrissionPageï¼š\r\ntext = element.pseudo_after\r\n```\r\n\r\nðŸŒ¿ shadow-root æ“ä½œ\r\n\r\nselenium æ–°å¢žäº†`ShadowRoot`ï¼Œä½†åŠŸèƒ½å®žåœ¨æ˜¯å¤ªå°‘ã€‚\r\n\r\n```python\r\n# ä½¿ç”¨ seleniumï¼š\r\nshadow_element = webdriver.execute_script('return arguments[0].shadowRoot', element)\r\n\r\n# ä½¿ç”¨ DrissionPageï¼š\r\nshadow_element = element.sr\r\n\r\n# åœ¨ shadow_root ä¸‹å¯ç»§ç»­æ‰§è¡ŒæŸ¥æ‰¾ï¼ŒèŽ·å–æ™®é€šå…ƒç´ \r\nele = shadow_element.ele('tag:div')\r\nele.click()\r\n```\r\n\r\nðŸŒ¿ ç”¨ xpath ç›´æŽ¥èŽ·å–å±žæ€§æˆ–æ–‡æœ¬èŠ‚ç‚¹ï¼ˆè¿”å›žæ–‡æœ¬ï¼‰\r\n\r\n```python\r\n# ä½¿ç”¨ selenium æ— æ­¤åŠŸèƒ½\r\n\r\n# ä½¿ç”¨ DrissionPageï¼š\r\nclass_name = element('xpath://div[@id=\"div_id\"]/@class')\r\ntext = element('xpath://div[@id=\"div_id\"]/text()[2]')\r\n```\r\n\r\nðŸŒ¿ éšæ—¶è®©æµè§ˆå™¨çª—å£æ¶ˆå¤±å’Œæ˜¾ç¤º\r\n\r\n```python\r\n# selenium æ— æ­¤åŠŸèƒ½\r\n\r\n# ä½¿ç”¨ DrissionPage\r\npage.hide_browser()  # è®©æµè§ˆå™¨çª—å£æ¶ˆå¤±\r\npage.show_browser()  # é‡æ–°æ˜¾ç¤ºæµè§ˆå™¨çª—å£\r\n```\r\n\r\næ³¨ï¼šæœ¬åŠŸèƒ½åªæ”¯æŒ Windowsã€‚\r\n\r\nâ˜˜ï¸ **ä¸Ž requests ä»£ç å¯¹æ¯”**\r\n\r\nä»¥ä¸‹ä»£ç å®žçŽ°ä¸€æ¨¡ä¸€æ ·çš„åŠŸèƒ½ï¼Œå¯¹æ¯”ä¸¤è€…çš„ä»£ç é‡ï¼š\r\n\r\nðŸŒ¿ èŽ·å–å…ƒç´ å†…å®¹\r\n\r\n```python\r\nurl = 'https://baike.baidu.com/item/python'\r\n\r\n# ä½¿ç”¨ requestsï¼š\r\nfrom lxml import etree\r\n\r\nheaders = {\r\n    'User-Agent': 'Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2272.118 Safari/537.36'}\r\nresponse = requests.get(url, headers=headers)\r\nhtml = etree.HTML(response.text)\r\nelement = html.xpath('//h1')[0]\r\ntitle = element.text\r\n\r\n# ä½¿ç”¨ DrissionPageï¼š\r\npage = MixPage('s')\r\npage.get(url)\r\ntitle = page('tag:h1').text\r\n```\r\n\r\nTips: DrissionPage è‡ªå¸¦é»˜è®¤`headers`\r\n\r\nðŸŒ¿ ä¸‹è½½æ–‡ä»¶\r\n\r\n```python\r\nurl = 'https://www.baidu.com/img/flexible/logo/pc/result.png'\r\nsave_path = r'C:\\download'\r\n\r\n# ä½¿ç”¨ requestsï¼š\r\nr = requests.get(url)\r\nwith open(f'{save_path}\\\\img.png', 'wb') as fd:\r\n   for chunk in r.iter_content():\r\n       fd.write(chunk)\r\n\r\n# ä½¿ç”¨ DrissionPageï¼š\r\npage.download(url, save_path, 'img')  # æ”¯æŒé‡å‘½åï¼Œå¤„ç†æ–‡ä»¶åå†²çªï¼Œè‡ªåŠ¨åˆ›å»ºç›®æ ‡æ–‡ä»¶å¤¹\r\n```\r\n\r\nâ˜˜ï¸ **æ¨¡å¼åˆ‡æ¢**\r\n\r\nç”¨ selenium ç™»å½•ç½‘ç«™ï¼Œç„¶åŽåˆ‡æ¢åˆ° requests è¯»å–ç½‘é¡µã€‚ä¸¤è€…ä¼šå…±äº«ç™»å½•ä¿¡æ¯ã€‚\r\n\r\n```python\r\npage = MixPage()  # åˆ›å»ºé¡µé¢å¯¹è±¡ï¼Œé»˜è®¤ driver æ¨¡å¼\r\npage.get('https://gitee.com/profile')  # è®¿é—®ä¸ªäººä¸­å¿ƒé¡µé¢ï¼ˆæœªç™»å½•ï¼Œé‡å®šå‘åˆ°ç™»å½•é¡µé¢ï¼‰\r\n\r\npage.ele('@id:user_login').input('your_user_name')  # ä½¿ç”¨ selenium è¾“å…¥è´¦å·å¯†ç ç™»å½•\r\npage.ele('@id:user_password').input('your_password\\n')\r\nsleep(1)\r\n\r\npage.change_mode()  # åˆ‡æ¢åˆ° session æ¨¡å¼\r\nprint('ç™»å½•åŽtitleï¼š', page.title, '\\n')  # ç™»å½•åŽ session æ¨¡å¼çš„è¾“å‡º\r\n```\r\n\r\nè¾“å‡ºï¼š\r\n\r\n```\r\nç™»å½•åŽtitleï¼š ä¸ªäººèµ„æ–™ - ç äº‘ Gitee.com\r\n```\r\n\r\n**èŽ·å–å¹¶æ˜¾ç¤ºå…ƒç´ å±žæ€§**\r\n\r\n```python\r\n# æŽ¥ä¸Šæ®µä»£ç \r\nfoot = page.ele('@id:footer-left')  # ç”¨ id æŸ¥æ‰¾å…ƒç´ \r\nfirst_col = foot.ele('css:>div')  # ä½¿ç”¨ css selector åœ¨å…ƒç´ çš„ä¸‹çº§ä¸­æŸ¥æ‰¾å…ƒç´ ï¼ˆç¬¬ä¸€ä¸ªï¼‰\r\nlnk = first_col.ele('text:å‘½ä»¤å­¦')  # ä½¿ç”¨æ–‡æœ¬å†…å®¹æŸ¥æ‰¾å…ƒç´ \r\ntext = lnk.text  # èŽ·å–å…ƒç´ æ–‡æœ¬\r\nhref = lnk.attr('href')  # èŽ·å–å…ƒç´ å±žæ€§å€¼\r\n\r\nprint(text, href, '\\n')\r\n\r\n# ç®€æ´æ¨¡å¼ä¸²è”æŸ¥æ‰¾\r\ntext = page('@id:footer-left')('css:>div')('text:å‘½ä»¤å­¦').text\r\nprint(text)\r\n```\r\n\r\nè¾“å‡ºï¼š\r\n\r\n```\r\nGit å‘½ä»¤å­¦ä¹  https://oschina.gitee.io/learn-git-branching/\r\n\r\nGit å‘½ä»¤å­¦ä¹ \r\n```\r\n\r\n# ðŸ›  ä½¿ç”¨æ–¹æ³•\r\n\r\n[ç‚¹å‡»è·³è½¬åˆ°ä½¿ç”¨æ–‡æ¡£](http://g1879.gitee.io/drissionpage)\r\n\r\n# ðŸŽ¯ï¸ ç‰ˆæœ¬åŽ†å²\r\n\r\n[ç‚¹å‡»æŸ¥çœ‹ç‰ˆæœ¬åŽ†å²](http://g1879.gitee.io/drissionpage/#/%E7%89%88%E6%9C%AC%E5%8E%86%E5%8F%B2)\r\n\r\n# ðŸ–ðŸ» å…è´£å£°æ˜Ž\r\n\r\nè¯·å‹¿å°† DrissionPage åº”ç”¨åˆ°ä»»ä½•å¯èƒ½ä¼šè¿åæ³•å¾‹è§„å®šå’Œé“å¾·çº¦æŸçš„å·¥ä½œä¸­,è¯·å‹å–„ä½¿ç”¨ DrissionPageï¼Œéµå®ˆèœ˜è››åè®®ï¼Œä¸è¦å°† DrissionPage ç”¨äºŽä»»ä½•éžæ³•ç”¨é€”ã€‚å¦‚æ‚¨é€‰æ‹©ä½¿ç”¨ DrissionPage\r\nå³ä»£è¡¨æ‚¨éµå®ˆæ­¤åè®®ï¼Œä½œè€…ä¸æ‰¿æ‹…ä»»ä½•ç”±äºŽæ‚¨è¿åæ­¤åè®®å¸¦æ¥ä»»ä½•çš„æ³•å¾‹é£Žé™©å’ŒæŸå¤±ï¼Œä¸€åˆ‡åŽæžœç”±æ‚¨æ‰¿æ‹…ã€‚\r\n\r\n# â˜• è¯·æˆ‘å–å’–å•¡\r\n\r\nå¦‚æžœæœ¬é¡¹ç›®å¯¹æ‚¨æœ‰æ‰€å¸®åŠ©ï¼Œä¸å¦¨è¯·ä½œè€…æˆ‘å–æ¯å’–å•¡ ï¼šï¼‰\r\n\r\n![](https://gitee.com/g1879/DrissionPage-demos/raw/master/pics/code.jpg)\r\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://gitee.com/g1879/DrissionPage",
    "keywords": "DrissionPage",
    "license": "BSD",
    "maintainer": "",
    "maintainer_email": "",
    "name": "DrissionPage",
    "package_url": "https://pypi.org/project/DrissionPage/",
    "platform": null,
    "project_url": "https://pypi.org/project/DrissionPage/",
    "project_urls": {
      "Homepage": "https://gitee.com/g1879/DrissionPage"
    },
    "release_url": "https://pypi.org/project/DrissionPage/3.0.8/",
    "requires_dist": [
      "selenium",
      "lxml",
      "tldextract",
      "requests",
      "DownloadKit",
      "FlowViewer",
      "pychrome"
    ],
    "requires_python": ">=3.6",
    "summary": "A module that integrates selenium and requests session, encapsulates common page operations.",
    "version": "3.0.8",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 17552282,
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "bf5d9dc9a103673508af5dbef1fd7b330c9f7c6686136784e5d3c50ff4439674",
        "md5": "eaadbd2d7f29c822e1561eb2e3f8979f",
        "sha256": "05d78ec10fe5c24965f4cabe856f4b25516b3f848a05b84479e4b72578f166d7"
      },
      "downloads": -1,
      "filename": "DrissionPage-3.0.8-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "eaadbd2d7f29c822e1561eb2e3f8979f",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": ">=3.6",
      "size": 104978,
      "upload_time": "2022-11-22T14:32:07",
      "upload_time_iso_8601": "2022-11-22T14:32:07.716684Z",
      "url": "https://files.pythonhosted.org/packages/bf/5d/9dc9a103673508af5dbef1fd7b330c9f7c6686136784e5d3c50ff4439674/DrissionPage-3.0.8-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "f38225aaf7d0c8d0f254b8c918d89dbbb9088bb37d8a1ca01ffe38f088fdda7c",
        "md5": "67775ec9cd84321eebe3dcb5f0207f49",
        "sha256": "b2777a6ef4fd06d3d42e5d7cc63ca846adac21b0484733e6e937c9542e5e2ee0"
      },
      "downloads": -1,
      "filename": "DrissionPage-3.0.8.tar.gz",
      "has_sig": false,
      "md5_digest": "67775ec9cd84321eebe3dcb5f0207f49",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": ">=3.6",
      "size": 92082,
      "upload_time": "2022-11-22T14:32:12",
      "upload_time_iso_8601": "2022-11-22T14:32:12.364799Z",
      "url": "https://files.pythonhosted.org/packages/f3/82/25aaf7d0c8d0f254b8c918d89dbbb9088bb37d8a1ca01ffe38f088fdda7c/DrissionPage-3.0.8.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}