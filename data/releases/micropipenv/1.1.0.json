{
  "info": {
    "author": "Fridolin Pokorny",
    "author_email": "fridex.devel@gmail.com",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 5 - Production/Stable",
      "Intended Audience :: Developers",
      "License :: OSI Approved :: GNU Lesser General Public License v3 or later (LGPLv3+)",
      "Programming Language :: Python",
      "Programming Language :: Python :: 3.6",
      "Programming Language :: Python :: 3.7",
      "Programming Language :: Python :: 3.8",
      "Programming Language :: Python :: 3.9",
      "Programming Language :: Python :: Implementation :: CPython"
    ],
    "description": "µPipenv\n-------\n\n.. image:: https://img.shields.io/github/v/tag/thoth-station/micropipenv?style=plastic\n  :target: https://github.com/thoth-station/micropipenv/releases\n  :alt: GitHub tag (latest by date)\n\n.. image:: https://travis-ci.com/thoth-station/micropipenv.svg?branch=master\n  :target: https://travis-ci.com/thoth-station/micropipenv\n\n.. image:: https://img.shields.io/pypi/pyversions/micropipenv?style=plastic\n  :target: https://pypi.org/project/micropipenv\n  :alt: PyPI - Python Version\n\n.. image:: https://img.shields.io/pypi/l/micropipenv?style=plastic\n  :target: https://pypi.org/project/micropipenv\n  :alt: PyPI - License\n\n.. image:: https://img.shields.io/pypi/dm/micropipenv?style=plastic\n  :target: https://pypi.org/project/micropipenv\n  :alt: PyPI - Downloads\n\nA lightweight wrapper for pip to support requirements.txt, Pipenv and Poetry\nlock files or converting them to `pip-tools\n<https://pypi.org/project/pip-tools/>`_ compatible output. Designed for\ncontainerized Python applications but not limited to them.\n\nFor a brief video preview, `check this demo\n<https://www.youtube.com/watch?v=I-QC83BcLuo&t=8m58s>`_ (the micropipenv\npart starts at 9:00).\n\nSee also `micropipenv: Installing Python dependencies in containerized\napplications\n<https://developers.redhat.com/articles/2021/05/19/micropipenv-installing-python-dependencies-containerized-applications>`__\nfor more info about this tool and a `blog post published about it\n<https://dev.to/fridex/micropipenv-the-one-installation-tool-that-covers-pipenv-poetry-and-pip-tools-3ee7>`__.\n\nWhat's the difference in comparision to pip when using requirements.txt?\n=========================================================================\n\n* if ``requirements.txt`` state all the packages in a pinned version with\n  hashes (e.g. `pip-tools <https://pypi.org/project/pip-tools/>`_), micropipenv\n  installs packages with a possible fallback if the installation order is\n  relevant\n\n  * you don't need to care about the installation and maintain correct order or\n    requirements in ``requirements.txt``\n\n  * best effort installation - try until there is a possibility to succeed\n\n* if ``requirements.txt`` do not state all the packages in a pinned form\n\n  * pip's resolver algorithm is used and it's left on pip to resolve\n    requirements\n\n  * the same behavior as micropipenv would not be used\n\n\nWhat's the difference in comparision to Poetry?\n===============================================\n\n* a lightweight addition to Poetry, not a Poetry replacement\n\n  * micropipenv does not substitute Poetry it rather complements it for\n    containerized deployments where the size of the container image and\n    software shipped with it matters\n\n* no release management to Python package indexes\n\n* micropipenv does not implement resolver, it uses already resolved stack that\n  application is shipped with based on ``poetry.lock`` and ``pyproject.toml``\n\n* no virtual environment management\n\n  * virtual environment management is left on user, if needed\n\nWhat's the difference in comparision to Pipenv?\n===============================================\n\n* a lightweight addition to Pipenv, not a Pipenv replacement\n\n  * micropipenv does not substitute Pipenv it rather complements it for\n    containerized deployments where the size of the container image and\n    software shipped with it matters\n\n* it does not `vendor all the dependencies as Pipenv\n  <https://github.com/pypa/pipenv/tree/master/pipenv/vendor>`_\n\n* micropipenv does not implement resolver, it uses already resolved stack that\n  application is shipped with ``Pipfile.lock``\n\n* no virtual environment management\n\n  * virtual environment management is left on user, if needed\n\nmicropipenv use cases\n=====================\n\nWhy should I use ``micropipenv`` instead of `Pipenv <https://github.com/pypa/pipenv>`_\nor `Poetry <https://pypi.org/project/poetry>`_?\n\n* I would like to have a tool that \"rules them all\" - one lightweight tool to\n  support all Python dependency lock file managers (pip-tools, Poetry, Pipenv)\n  and lets users decide what they want to use when deploying Python applications\n  in containerized environments (e.g. Kubernetes, OpenShift, ...).\n\n* I would like to have a fast and minimalistic tool to install software\n  packages in CI.\n\n* I would like to have containerized Python applications as small as possible\n  with minimum software shipped and required to build and run the Python\n  application in production.\n\n* I would like to convert files produced by Pipenv/Poetry to a pip-tools\n  compatible output.\n\n* I don't want to install Pipenv/Poetry, but I would like to run a project that\n  uses Pipenv/Poetry for dependency management (e.g. restricted environments).\n\n* My Pipenv installation is broken and `Pipenv upstream did not issue any new\n  Pipenv release <https://github.com/pypa/pipenv/issues/4058>`_.\n\n* I would like to deploy my application into a production environment and my\n  application dependencies are managed by Pipenv/Poetry (dependencies are\n  already resolved), but I don't want to run Pipenv/Poetry in production (e.g.\n  OpenShift's s2i build process).\n\n\n``micropipenv install``\n=======================\n\nThe tool supports installing dependencies of the following formats:\n\n* ``Pipenv`` style lock format - files ``Pipfile`` and ``Pipfile.lock``\n* ``Poetry`` style lock format - files ``pyproject.toml`` and ``poetry.lock``\n* ``pip-tools`` style lock format - file ``requirements.txt``\n* raw ``requirements.txt`` as used by ``pip`` (not a lock file)\n\nIn case of Pipenv, Poetry and pip-tools style format, the tool performs\nautomatic recovery if the installation order of dependencies is relevant (one\ndependency fails to install as it depends on an another one).\n\nTo enforce the installation method used, specify ``--method`` option to the\n``install`` subcommand. By default, ``micropipenv`` traverses the filesystem up\nfrom the current working directory and looks for the relevant files in the\nfollowing order:\n\n1. ``Pipfile.lock`` and optionally ``Pipfile`` (if ``--deploy`` set)\n2. ``poetry.lock`` and ``pyproject.toml``\n3. ``requirements.txt`` for ``pip-tools`` and raw ``pip`` requirements\n\nTo install dependencies issue the following command:\n\n.. code-block:: console\n\n  micropipenv install --dev  # --dev is optional\n\nYou can supply additional positional arguments that will be passed to ``pip``.\nUse double dashes to distinguish ``pip`` options from ``micropipenv`` options.\n\n.. code-block::\n\n  # issue `pip install --user'\n  micropipenv install -- --user\n\n``micropipenv`` does not create any virtual environment as in case of\nPipenv/Poetry.  It rather directly talks to ``pip``, if necessary, and\nconstructs arguments out of the lock file used.\n\nTo create a virtual environment to be used by ``micropipenv``:\n\n.. code-block:: console\n\n  python3 -m venv venv/ && . venv/bin/activate\n\n\n``micropipenv install --deploy``\n================================\n\nIf you wish to mimic ``pipenv --deploy`` functionality, you can do so:\n\n.. code-block:: console\n\n  micropipenv install --deploy\n\nNote however, there is a need to parse ``Pipfile`` and verify its content\ncorresponds to Pipefile.lock used (digest computed on ``Pipfile`` content).\n``micropipenv`` requires toml extras for this functionality, so you will need\nto install ``micropipenv[toml]`` (see installation instructions bellow).\n\nThe ``--deploy`` option takes no effect for Poetry and requirements\ninstallation methods.\n\n\n``micropipenv install --dev``\n================================\n\nInstallation of \"development\" dependnecies can be acomplished using the\n``--dev`` flag. This flag has no effect when ``requirements.txt`` file is used.\n\n\n``micropipenv requirements`` / ``micropipenv req``\n==================================================\n\nTo generate output compatible with `pip-tools\n<https://pypi.org/project/pip-tools/>`_, you can issue the following command:\n\n.. code-block:: console\n\n  micropipenv requirements\n\nThis applies to conversion from Poetry and Pipenv specific lock files.\n\nAdditional configuration options can limit what is present in the output (e.g.\n``--no-dev`` to remove development dependencies).\n\nA special option ``--only-direct`` makes ``micropipenv`` work on ``Pipfile``\ninstead of ``Pipfile.lock``. This requires toml extras, so install\n``micropipenv[toml]`` for this functionality (see installation instructions\nbellow). To get direct dependencies of an application and store them in\nrequirements.txt file:\n\n.. code-block:: console\n\n  micropipenv requirements --only-direct > requirements.txt\n\n\nFor a setup that follows ``pip-tools`` convention with ``requirements.in`` and\n``requirements.txt``\n\n.. code-block:: console\n\n  micropipenv requirements --no-dev > requirements.txt\n  micropipenv requirements --no-dev --only-direct > requirements.in\n  micropipenv requirements --no-default > dev-requirements.txt\n  micropipenv requirements --no-default --only-direct > dev-requirements.in\n\n\nSee ``micropipenv requirements --help`` for more info.\n\n\n``micropipenv`` as a library\n============================\n\n``micropipenv`` exposes some core functionality on top of\n``Pipfile``/``Pipfile.lock``.  You can import its functions and use\n``micropipenv`` as a lightweight library for ``Pipfile``/``Pipfile.lock`` and\n``pyproject.toml``/``poetry.lock`` manipulation.\n\n\nAdjusting options using environment variables\n=============================================\n\nAll options can be triggered using environment variables - the name of an\nenvironment variable is always prefixed with ``MICROPIPENV_`` and consists of\nthe name of the option converted to uppercase, dashes are replaced with\nunderscores (example ``--no-dev`` is mapped to ``MICROPIPENV_NO_DEV``). All\nenvironment variables corresponding to flags are parsed as integers and\nsubsequently casted to a boolean. For example, to turn ``--no-dev`` flag on,\nset ``MICROPIPENV_NO_DEV=1`` (0 disables the flag). Parameters supplied to CLI\ntake precedence over environment variables.\n\nA special environment variable ``MICROPIPENV_PIP_BIN`` can point to an\nalternate ``pip`` binary.\n\nTo run this tool in a verbose mode, you can set the ``MICROPIPENV_DEBUG=1`` (the\nsame behavior can be achieved with multiple ``--verbose`` supplied).\n\nThe tool prints software stack information to the standard error output. This was\ndesigned for Thoth to capture information about installed dependencies as a\nuseful source of information for Thoth's build analyzers. This behaviour can be\nsuppressed by setting ``MICROPIPENV_NO_LOCKFILE_PRINT=1`` environment variable.\n\nBesides printing, the tool also writes the content of Pipfile.lock (if a locked\nsoftware stack is used) to the directory where lock files are present (for Pipenv\nfiles, the Pipfile.lock is kept untouched). This behaviour can be suppressed by\nproviding ``MICROPIPENV_NO_LOCKFILE_WRITE=1`` environment variable.\n\nExample usage\n=============\n\nInstall dependencies managed by Poetry as ``pip install --user`` would do\n(option ``--method`` is optional, auto-discovery is performed if omitted):\n\n.. code-block:: console\n\n  $ ls\n  poetry.lock pyproject.toml project.py\n  $ micropipenv install --method poetry -- --user\n\nInstall dependencies (both main and develop) managed by Poetry into a virtual\nenvironment:\n\n.. code-block:: console\n\n  $ ls\n  poetry.lock pyproject.toml project.py\n  $ python3 -m venv venv/\n  $ . venv/bin/activate\n  (venv) $ micropipenv install --dev\n\nInstall dependencies managed by Pipenv (both main and develop) into a virtual\nenvironment  (option ``--method`` is optional, auto-discovery is performed if\nomitted):\n\n.. code-block:: console\n\n  $ ls\n  Pipfile Pipfile.lock src/\n  $ python3 -m venv venv/\n  $ . venv/bin/activate\n  (venv) $ micropipenv install --dev\n\n\nPerform deployment of an application as Pipenv would do with Python interpreter\nversion check and Pipfile file hash check (you can create virtual environment\nonly if necessary):\n\n.. code-block:: console\n\n  $ ls\n  Pipfile Pipfile.lock src/\n  $ python3 -m venv venv/\n  $ . venv/bin/activate\n  (venv) $ micropipenv --deploy\n\nGenerate `pip-tools <https://pypi.org/project/pip-tools/>`_ compliant\n``requirements.in``, ``dev-requirements.in``, ``requirements.txt`` and\n``dev-requirements.txt`` out of ``Pipfile`` and ``Pipfile.lock`` - project\ndependencies managed by Pipenv:\n\n.. code-block:: console\n\n  $ ls\n  Pipfile Pipfile.lock src/\n  $ micropipenv requirements --no-dev > requirements.txt\n  $ micropipenv requirements --no-dev --only-direct > requirements.in\n  $ micropipenv requirements --no-default > dev-requirements.txt\n  $ micropipenv requirements --no-default --only-direct > dev-requirements.in\n\nGenerate `pip-tools <https://pypi.org/project/pip-tools/>`_ complaint\n``requirements.in``, ``dev-requirements.in``, ``requirements.txt`` and\n``dev-requirements.txt`` out of ``pyproject.toml`` and ``poetry.lock`` - project\ndependencies managed by Poetry:\n\n.. code-block:: console\n\n  $ ls\n  poetry.lock pyproject.toml src/\n  $ micropipenv requirements --no-dev > requirements.txt\n  $ micropipenv requirements --no-dev --only-direct > requirements.in\n  $ micropipenv requirements --no-default > dev-requirements.txt\n  $ micropipenv requirements --no-default --only-direct > dev-requirements.in\n\nFor OpenShift's s2i integration,\n`check this repo with a demo <https://github.com/fridex/s2i-example-micropipenv>`_.\n\nInstallation\n============\n\nThe project is `hosted on PyPI <https://pypi.org/project/micropipenv>`_ so\ninstalling it using ``pip`` works as expected:\n\n.. code-block:: console\n\n  pip install micropipenv\n\nThe default installation does not bring any dependencies so its just\n``micropipenv`` that gets installed. However, the default installation supports\nonly ``Pipfile.lock`` management. If you would like to manipulate also with\n``Pipfile`` or Poetry specific lock files, you will need to install\n``micropipenv`` with TOML support (TOML is not in the standard Python library):\n\n.. code-block:: console\n\n  pip install micropipenv[toml]\n\nOnce the project gets installed, you can browse the help message by invoking\nthe ``micropipenv`` CLI:\n\n.. code-block:: console\n\n  micropipenv --help\n\nIf you wish to install ``micropipenv`` on your Fedora system:\n\n.. code-block:: console\n\n  dnf install -y micropipenv\n\nSee available `RPM packages <https://src.fedoraproject.org/rpms/micropipenv>`_.\n\nNo installation\n===============\n\nYou can run ``micropipenv`` without actually installing it - simply download\nthe file and execute it. If you do not wish to save ``micropipenv.py`` file to\ndisk, you can issue:\n\n.. code-block:: console\n\n  curl https://raw.githubusercontent.com/thoth-station/micropipenv/master/micropipenv.py | python3 - --help\n\nAnything after ``python3 -`` will be passed as an argument to\n``micropipenv.py`` so installing packages can be simply performed using:\n\n.. code-block:: console\n\n  curl https://raw.githubusercontent.com/thoth-station/micropipenv/master/micropipenv.py | python3 - install -- --user\n\nAll arguments after -- will be passed to ``pip`` as options.\n\nOpenShift s2i (Source-To-Image)\n===============================\n\nmicropipenv is available in UBI, Fedora and RHEL based container images. To\nenable micropipenv and benefit from its features, you need to export\n``ENABLE_MICROPIPENV=1`` environment variable in more recent Python 3 container\nimages. See `sclorg/s2i-python-container\n<https://github.com/sclorg/s2i-python-container/tree/master/3.8>`__ repo for\nmore information.\n\nLicense and copying\n===================\n\nThis project is licensed under the terms of the GNU Lesser General Public\nLicense v3 or later. See ``LICENSE-LGPL`` and ``LICENSE-GPL`` files for the\nlicense terms.\n\nCopyright (C) 2020-2021 AICoE `Project Thoth <http://thoth-station.ninja/>`__; Red Hat Inc.\n\nAuthors and maintainers:\n * Fridolín 'fridex' Pokorný <fridolin@redhat.com>\n * Lumír 'Frenzy' Balhar <lbalhar@redhat.com>",
    "description_content_type": "text/x-rst",
    "docs_url": null,
    "download_url": "https://pypi.org/project/micropipenv",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/thoth-station/micropipenv",
    "keywords": "packaging,pipenv,poetry,pip,dependencies,dependency-management,utilities",
    "license": "LGPLv3+",
    "maintainer": "Fridolin Pokorny",
    "maintainer_email": "fridex.devel@gmail.com",
    "name": "micropipenv",
    "package_url": "https://pypi.org/project/micropipenv/",
    "platform": "",
    "project_url": "https://pypi.org/project/micropipenv/",
    "project_urls": {
      "Download": "https://pypi.org/project/micropipenv",
      "Homepage": "https://github.com/thoth-station/micropipenv"
    },
    "release_url": "https://pypi.org/project/micropipenv/1.1.0/",
    "requires_dist": null,
    "requires_python": "",
    "summary": "A simple wrapper around pip to support requirements.txt, Pipenv and Poetry files for containerized applications",
    "version": "1.1.0",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 17141549,
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "9d47517b34421108fe73176f34d008e727106ab2502264b7c23e1acd49e56929",
        "md5": "b571136a0a35e29815ecd3dd1625f608",
        "sha256": "5bc62353f51ed9fa60c99541a6913e653574c760cb398f6a3fc4036b70ca18b4"
      },
      "downloads": -1,
      "filename": "micropipenv-1.1.0-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "b571136a0a35e29815ecd3dd1625f608",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": null,
      "size": 18112,
      "upload_time": "2021-06-21T08:00:12",
      "upload_time_iso_8601": "2021-06-21T08:00:12.548633Z",
      "url": "https://files.pythonhosted.org/packages/9d/47/517b34421108fe73176f34d008e727106ab2502264b7c23e1acd49e56929/micropipenv-1.1.0-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "fb3f79941a0e0d3911ee99518a3f48734a1f5dc1fa066e8befd0c243d47bc434",
        "md5": "9b5747532f7b9f17c18748181b0985b7",
        "sha256": "281484132046abb22515f53e22935e92aff6c988a21c12e4b02f5352d9e35e56"
      },
      "downloads": -1,
      "filename": "micropipenv-1.1.0.tar.gz",
      "has_sig": false,
      "md5_digest": "9b5747532f7b9f17c18748181b0985b7",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": null,
      "size": 36372,
      "upload_time": "2021-06-21T08:00:04",
      "upload_time_iso_8601": "2021-06-21T08:00:04.800977Z",
      "url": "https://files.pythonhosted.org/packages/fb/3f/79941a0e0d3911ee99518a3f48734a1f5dc1fa066e8befd0c243d47bc434/micropipenv-1.1.0.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}