{
  "info": {
    "author": "8go",
    "author_email": "",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 5 - Production/Stable",
      "Intended Audience :: Developers",
      "License :: OSI Approved :: GNU Lesser General Public License v3 or later (LGPLv3+)",
      "Natural Language :: English",
      "Operating System :: OS Independent",
      "Programming Language :: Python :: 3",
      "Topic :: Communications :: Chat"
    ],
    "description": "# PRE-INSTALLATION\n\nBefore you install `matrix-commander` with `pip install matrix-commander`\nyou *must* have `libolm` installed. `pip` installation will fail otherwise!\n\nFor e2ee support, python-olm is needed which requires the\n[libolm](https://gitlab.matrix.org/matrix-org/olm) C library (version 3.x).\n\n- On Debian, Ubuntu and Debian or Ubuntu derivate distributions do `sudo apt install libolm-dev` to install the `libolm` package.\n- On Fedora or Fedora derivate distributions do `sudo dnf install libolm-devel` to install the `libolm` package.\n- On MacOS one can use [brew](https://brew.sh/) to install package `libolm`.\n\nMake sure that version 3 is installed. Version 2 will not work.\n\n[![Built with matrix-nio](\nhttps://img.shields.io/badge/built%20with-matrix--nio-brightgreen)](\nhttps://github.com/poljar/matrix-nio)\n\n![MC> logo](logos/matrix-commander-logo.svg)\n\n# :loudspeaker: :new: :boom: Latest News! :fire: :mega: :tada:\n\n- `matrix-commander` now available on\n  [Docker Hub](https://hub.docker.com/r/matrixcommander/matrix-commander)\n  and hence easy to install as docker image (:clap: to @pataquets for his PR).\n  Install via `docker pull matrixcommander/matrix-commander`.\n- `matrix-commander` now available on\n  [PyPi](https://pypi.org/project/matrix-commander/)\n  and hence easy to install via `pip install matrix-commander`\n- Slight incompatibility: From now on instead of using `matrix-commander.py`\n  please call `matrix-commander`. `matrix-commander` is from now on the\n  preferred way to execute the program.\n- `matrix-commander` is now callable from a Python program as well.\n  See [tests/test-send.py](\n  https://github.com/8go/matrix-commander/blob/master/tests/test-send.py)\n  for an example on how to do that.\n- new option `--joined-rooms` to list rooms you are a member of\n- new option `--joined-members` to list members of the specified rooms\n- new feature \"DM\" or \"direct message\" which allows you to send to\n  (or listen from) a room whose members are only you (the sender) and the\n  recipient by specifying the recipients name.\n- Minor incompatibility: From now `-u` is assigned to `--user` and no\n  longer to `--download-media`\n- new option `--whoami`\n- Minor incompatibility: `--rename-device` has been renamed to\n  `--set-device-name` and `-x` is no longer supported as shortcut.\n- new option `--get_displayname` for itself, or one or multiple users\n- new options `--set-presence` and `--get-presence` to set/get presence\n  of itself, or one or multiple users\n- new options `--upload` and `--download` to interact with the Matrix\n  content repository\n- new option `--separator` to customize the column separator in outputs\n- new option `--mxc-to-http`\n- new option `--devices` to list devices of current user\n- new option `--discovery-info` to print discovery info of homeserver\n- new option `--login-info` to get the available login methods from the server\n- new option `--delete-mxc` to delete objects from content repository\n- new option `--delete-mxc-before` to delete old objects from content repo\n- new option `--rest` to invoke the full Matrix REST API\n- new otions `--set-avatar` and `--get-avatar`\n\n# Summary, TLDR\n\nThis simple Matrix client written in Python allows you to send and\nreceive messages and files, verify other devices, and interact with\nyour Matrix account or other Matrix users in many ways.\nYou use it from the terminal (CLI) or integrate it into other simple\nPython programs. Enjoy and please :star: star on Github.\n\n# matrix-commander\n\nSimple but convenient CLI-based Matrix client app for sending, receiving,\ncreating rooms, inviting, verifying, and so much more.\n\n- `matrix-commander` is a simple command-line [Matrix](https://matrix.org/)\n  client.\n- It is a simple but convenient app to\n    - send Matrix text messages as well as text, image, audio, video or\n      other arbitrary files\n    - listen to and receive Matrix messages, images, audio, video, etc.\n    - download media files like images or audio\n    - perform Matrix emoji verification\n    - performs actions of rooms (create rooms, invite to rooms, etc.)\n    - list rooms and room members\n    - and much more\n- It exclusively offers a command-line interface (CLI).\n- Hence the word-play: matrix-command(lin)er\n- There is no GUI and there are no windows (except for pop-up windows in\n  OS notification)\n- It uses the [matrix-nio](https://github.com/poljar/matrix-nio/) SDK\n- Both `matrix-nio` and `matrix-commander` are written in Python 3\n- Convenient to install via `pip`.\n\n# What for? Why? For whom? Use cases?\n\nUse cases for this program could be\n- a bot or part of a bot,\n- to send alerts,\n- combine it with `cron` to publish periodic data,\n- send yourself daily/weekly reminders via a cron job\n- send yourself a daily song from your music collection\n- a trivial way to fire off some instant messages from the command line\n- a trivial way to read messages in the terminal\n- to automate sending via programs and scripts\n- a \"blogger\" who frequently sends messages and images to the same\n  room(s) could use it\n- a person could write a diary or run a gratitude journal by\n  sending messages to her/his own room\n- as educational material that showcases the use of the `matrix-nio` SDK\n\n# Give it a Star\n\nIf you like it, use it, fork it, make a Pull Request or contribute.\nPlease give it a :star: on Github right now so others find it more easily.\n:heart:\n\n\n# Features\n\n- CLI, Command Line Interface\n- Python 3\n- Simplicity\n- Small footprint, small application (only around 250K)\n- Uses `nio-template`\n- End-to-end encryption\n- Storage for End-to-end encryption\n- Storage of credentials\n- Supports access token instead of password\n- Supports SSO (Single Sign-On)\n- Sending messages\n- Sending notices\n- Sending formatted messages\n- Sending MarkDown messages\n- Message splitting before sending\n- Sending Code-formatted messages\n- Sending to one room\n- Sending to multiple rooms\n- Sending image files (photos, etc.)\n- Sending of media files (music, videos, etc.)\n- Sending of arbitrary files (PDF, xls, doc, txt, etc.)\n- Sending events such as emoji reactions, or replies as threads\n- Using events to edit sent messages\n- Supports DM (direct messaging), sending DMs, listening for DMs\n- Listing of joined rooms\n- Listing of members of given room(s)\n- Receiving messages forever\n- Receiving messages once\n- Receiving last messages\n- Receiving or skipping its own messages\n- Receiving and downloading media files\n  - including automatic decryption\n- Creating new rooms\n- Joining rooms\n- Leaving rooms\n- Forgetting rooms\n- Inviting other users to rooms\n- Banning from rooms\n- Unbanning from rooms\n- Kicking from rooms\n- Supports renaming of device\n- Supports getting and setting display name\n- Supports getting and setting presence\n- Uploading, downloading, and deleting to/from resource depository\n- Listing your devices\n- Listing discovery info\n- Listing available login methods supported by server\n- Supports skipping SSL verification to use HTTP instead of HTTPS\n- Supports providing local SSL certificate files\n- Supports notification via OS of received messages\n- Supports periodic execution via crontab\n- Supports room aliases\n- Provides PID files\n- Logging (at various levels)\n- In-source documentation\n- Can be run as a service\n- Smart tab completion for shells like bash (thanks to PR from @mizlan :clap:)\n- More than 200 stars :stars: on Github\n- Easy installation, available through `pip`, i.e. available in\n  [PyPi](https://pypi.org/project/matrix-commander/) store\n- Easy installation, available as docker image on\n  [Docker Hub](https://hub.docker.com/r/matrixcommander/matrix-commander)\n  (thanks to PR from @pataquets :clap:)\n- Callable from the terminal, from shells like `bash`, etc.\n- Callable from Python programs via the entry point (function) `main`.\n- Open source\n- Free, GPL3+ license\n\n# First Run, Set Up, Credentials File, End-to-end Encryption\n\nThis program on the first run creates a credentials.json file.\nThe credentials.json file stores: homeserver, user id,\naccess token, device id, and room id. On the first run\nit asks some questions, creates the token and device id\nand stores everything in the credentials.json file.\n\nSince the credentials file holds an access token it\nshould be protected and secured. One can use different\ncredential files for different users or different rooms.\n\nOn creation the credentials file will always be created in the local\ndirectory, so the users sees it right away. This is fine if you have\nonly one or a few credential files, but for better maintainability\nit is suggested to place your credentials files into directory\n$HOME/.config/matrix-commander/. When the program looks for\na credentials file it will first look in local directory and then\nas secondary choice it will look in directory\n$HOME/.config/matrix-commander/.\n\nIf you want to re-use an existing device id and an existing\naccess token, you can do so as well, just manually edit the\ncredentials file. However, for end-to-end encryption this will\nNOT work.\n\nEnd-to-end encryption (e2ee) is enabled by default. It cannot be turned off.\nWherever possible end-to-end encryption will be used. For e2ee to work\nefficiently a `store` directory is needed to store e2ee data persistently.\nThe default location for the store directory is a local directory named\n`store`. Alternatively, as a secondary choice the program looks for a store\ndirectory in $HOME/.local/shared/matrix-commander/store/. The user can always\nspecify a different location via the --store argument. If needed the `store`\ndirectory will be created on the first run.\n\nFrom the second time the program is run, and on all\nfuture runs it will use the homeserver, user id\nand access token found in the credentials file to log\ninto the Matrix account. Now this program can be used\nto easily send simple text messages, images, and so forth\nto the just configured room.\n\n# Sending\n\nMessages to send can be provided\n1) in the command line (-m or --message)\n2) as input from the keyboard (if there is no other input or command)\n3) through a pipe from stdin (|), i.e. piped in from another program.\n\nFor sending messages the program supports various text formats:\n1) text: default\n2) html:  HTML formatted text\n3) markdown: MarkDown formatted text\n4) code: used a block of fixed-sized font, ideal for ASCII art or\n   tables, bash outputs, etc.\n5) notification\n6) split: splits messages into multiple units at given pattern\n\nPhotos and images that can be sent. That includes files like\n.jpg, .gif, .png or .svg.\n\nArbitrary files like .txt, .pdf, .doc, audio files like .mp3\nor video files like .mp4 can also be sent.\n\nMatrix events like sending an emoji reaction, replying as a thread,\nmessage edits can be sent.\n\n# Listening, Receiving\n\nOne can listen to one or multiple rooms. Received messages will be displayed\non the screen. If desired, optionally, you can be notified of incoming\nmessages through the operating system standard notification system, usually a\nsmall pop-up window.\n\nMessages can be received or listened to various ways:\n1) Forever: the program runs forever, listens forever, and prints all\n   messages as they arrive in real-time.\n2) Once: the program prints all the messages that are waiting in the queue,\n   i.e. all messages that have been sent in, and after printing them the\n   program terminates.\n3) Tail: prints the last N read or unread messages of one or multiple\n   specified rooms and after printing them the program terminates.\n\nWhen listening to messages you can also choose to download and decrypt\nmedia. Say, someone is sending a song. The mp3 file can be downloaded\nand automatically decrypted for you.\n\n# Verification\n\nThe program can accept verification request and verify other devices\nvia emojis. Do do so use the --verify option and the program will\nawait incoming verification request and act accordingly.\n\n# Room Operations, Actions on Rooms\n\nThe program can create rooms, join, leave and forget rooms.\nIt can also send invitations to join rooms to\nothers (given that user has the appropriate permissions) as\nwell as ban, unban and kick other users from rooms.\n\n# Dependencies and Installation\n\n- If you install via `pip`, then `pip` will take care of most of the\n  dependencies.\n  - See https://pypi.org/project/matrix-commander\n  - Usually `pip install matrix-commander` will do the trick.\n  - Note that even if you install via `pip` you must have a) Python 3.8+\n    and b) `libolm` installed. See `PyPi-Instructions.md`.\n\n- If you install a docker image: `matrix-commander` is available on\n  [Docker Hub](https://hub.docker.com/r/matrixcommander/matrix-commander)\n  and hence easy to install as docker image (:clap: to @pataquets for his PR).\n  Install via `docker pull matrixcommander/matrix-commander`.\n\n- If you install it via `git` or via file download then these are the\n  dependencies that you must take care of:\n\n    - Python 3.8 or higher installed (3.7 will NOT work)\n    - libolm-dev must be installed as it is required by matrix-nio\n      - libolm-dev on Debian/Ubuntu, libolm-devel on Fedora, libolm on MacOS\n    - matrix-nio must be installed, see https://github.com/poljar/matrix-nio\n      - pip3 install --user --upgrade matrix-nio[e2e]\n    - python3 package markdown must be installed to support MarkDown format\n      - pip3 install --user --upgrade markdown\n    - python3 package python_magic must be installed to support image sending\n      - pip3 install --user --upgrade python_magic\n    - if (and only if) you want OS notification support, then the python3\n      package notify2 and dbus-python should be installed\n      - pip3 install --user --upgrade dbus-python # optional\n      - pip3 install --user --upgrade notify2 # optional\n    - python3 package urllib must be installed to support media download\n      - pip3 install --user --upgrade urllib\n    - `matrix_commander/matrix_commander.py` file must be installed, and should\n      have execution permissions\n      - chmod 755 matrix_commander.py\n    - `matrix_commander/matrix-commander` file is recommended for the install,\n      and should have execution permissions\n      - chmod 755 matrix-commander\n    - for a full list or requirements look at the `requirements.txt` file\n      - run `pip install -r requirements.txt` to automatically install\n        all required Python packages\n      - if you e.g. run on a headless server and don't want dbus-python and\n        notify2, please remove the corresponding 2 lines from\n        the `requirements.txt` file\n\n# Examples of calling `matrix-commander`\n\n- Alternative 1: Usually `matrix-commander` is called from a terminal\n  inside a shell like `bash`, `sh`, `zsh`, your Windows CMD terminal\n  or similar. You will find plenty of examples how to use it within\n  a terminal just a few lines down.\n- Alternative 2: Sometimes, however, it might be more convenient to call\n  `matrix-commander` from within a Python program. This is also possible.\n  Import the Python module `matrix_commander` and use the provided\n  entry point `main`. An example of how this can be done can be found\n  in [tests/test-send.py](\n  https://github.com/8go/matrix-commander/blob/master/tests/test-send.py).\n\n```\n$ matrix-commander # first run; this will configure everything\n$ matrix-commander --no-sso # alternative first run without Single Sign-On;\n$   # this will configure everything on a headless server w/o a browser\n$ # this created a credentials.json file, and a store directory.\n$ # optionally, if you want you can move credentials to app config directory\n$ mkdir $HOME/.config/matrix-commander # optional\n$ mv -i credentials.json $HOME/.config/matrix-commander/\n$ # optionally, if you want you can move store to the app share directory\n$ mkdir $HOME/.local/share/matrix-commander # optional\n$ mv -i store $HOME/.local/share/matrix-commander/\n$ # Now you are ready to run program for a second time\n$ # Let us verify the device/room to where we want to send messages\n$ # The other device will issue a \"verify by emoji\" request\n$ matrix-commander --verify\n$ # Now program is both configured and verified, let us send the first message\n$ matrix-commander -m \"First message!\"\n$ matrix-commander --debug # turn debugging on\n$ matrix-commander --help # print help\n$ matrix-commander # this will ask user for message to send\n$ matrix-commander --message \"Hello World!\" # sends provided message\n$ echo \"Hello World\" | matrix-commander # pipe input msg into program\n$ matrix-commander -m msg1 -m msg2 # sends 2 messages\n$ matrix-commander -m msg1 msg2 msg3 # sends 3 messages\n$ df -h | matrix-commander --code # formatting for code/tables\n$ matrix-commander -m \"<b>BOLD</b> and <i>ITALIC</i>\" --html\n$ matrix-commander -m \"- bullet1\" --markdown\n$ # take input from an RSS feed and split large RSS entries into multiple\n$ # Matrix messages wherever the pattern \"\\n\\n\\n\" is found\n$ rssfeed | matrix-commander --split \"\\n\\n\\n\"\n$ matrix-commander --credentials usr1room2.json # select credentials file\n$ matrix-commander --store /var/storage/ # select store directory\n$ # Send to a specific room\n$ matrix-commander -m \"hi\" --room '!YourRoomId:example.org'\n$ # some shells require the ! of the room id to be escaped with \\\n$ matrix-commander -m \"hi\" --room \"\\!YourRoomId:example.org\"\n$ # Send to multiple rooms\n$ matrix-commander -m \"hi\" -r '!r1:example.org' '!r2:example.org'\n$ # Send to multiple rooms, another way\n$ matrix-commander -m \"hi\" -r '!r1:example.org' -r '!r2:example.org'\n$ # Send to a specific user, DM, direct messaging, using full user id\n$ matrix-commander -m \"hi\" --user '@MyFriend:example.org'\n$ # Send to a specific user, DM, direct messaging, using partial user id\n$ # It will be assumed that user @MyFriend is on same homeserver\n$ matrix-commander -m \"hi\" --user '@MyFriend'\n$ # Send to a specific user, DM, direct messaging, using display name\n$ # Careful! Display names might not be unique. Don't DM the wrong person!\n$ # To double-check the display names do a --joined-members \"*\"\n$ matrix-commander -m \"hi\" -u 'Joe'\n$ # Send to multiple users\n$ matrix-commander -m \"hi\" -u '@Joe:example.org' '@Jane:example.org'\n$ # Send to multiple users, another way\n$ matrix-commander -m \"hi\" -u '@Joe:example.org' -u '@Jane:example.org'\n$ # send 2 images and 1 text, text will be sent last\n$ matrix-commander -i photo1.jpg photo2.img -m \"Do you like my 2 photos?\"\n$ # send 1 image and no text\n$ matrix-commander -i photo1.jpg\n$ # pipe 1 image and no text\n$ cat image1.jpg | matrix-commander -i -\n$ # send 1 audio and 1 text to 2 rooms\n$ matrix-commander -a song.mp3 -m \"Do you like this song?\" \\\n    -r '!someroom1:example.com' '!someroom2:example.com'\n$ # send 2 audios, 1 via stdin pipe\n$ audio-generator | matrix-commander -a intro.mp3 -\n$ # send a .pdf file and a video with a text\n$ matrix-commander -f example.pdf video.mp4 -m \"Here are the promised files\"\n$ # send a .pdf file via stdin pipe\n$ pdf-generator | matrix-commander -f -\n$ # listen forever, get msgs in real-time and notify me via OS\n$ matrix-commander --listen forever --os-notify\n$ # listen forever, and show me also my own messages\n$ matrix-commander --listen forever --listen-self\n$ # listen once, get any new messages and quit\n$ matrix-commander --listen once --listen-self\n$ matrix-commander --listen once --listen-self | process-in-other-app\n$ # listen to tail, get the last N messages and quit\n$ matrix-commander --listen tail --tail 10 --listen-self\n$ # listen to tail, another way of specifying it\n$ matrix-commander --tail 10 --listen-self | process-in-other-app\n$ # get the very last message\n$ matrix-commander --tail 1 --listen-self\n$ # listen to (get) all messages, old and new, and process them in another app\n$ matrix-commander --listen all | process-in-other-app\n$ # listen to (get) all messages, including own\n$ matrix-commander --listen all --listen-self\n$ # set, rename device-name, sometimes also called device display-name\n$ matrix-commander --set-device-name \"my new device name\"\n$ # set, rename display name for authenticated user\n$ matrix-commander --set-display-name \"Alex\"\n$ # get display name for authenticated user, for itself\n$ matrix-commander --get-display-name\n$ # get display name for other users\n$ matrix-commander --get-display-name  \\\n    --user '@user1:example.com' '@user2:example.com'\n$ # list all the rooms that I am a member of, all joined rooms\n$ matrix-commander --joined-rooms\n$ # list all the members of 2 specific rooms\n$ matrix-commander --joined-members '!someroomId1:example.com' \\\n    '!someroomId2:example.com'\n$ # list all the members of all rooms  that I am member of\n$ matrix-commander --joined-members '*'\n$ # set presence\n$ matrix-commander --set-presence \"unavailable\"\n$ # get presence of matrix-commander itself\n$ matrix-commander --get-presence\n$ # get presence of other users\n$ matrix-commander --get-presence \\\n    --user '@user1:example.com' '@user2:example.com'\n$ # upload file to resource repository\n$ matrix-commander --upload \"avatar.png\"\n$ # download file from resource repository via URI (MXC)\n$ matrix-commander --download \"mxc://example.com/SomeStrangeUriKey\"\n$ matrix-commander --delete-mxc mxc://... # delete image from database\n$ matrix-commander --delete-mxc-before '20.01.2022 19:38:42' 1024000\n$ # for more examples of --upload, --download, --delete-mxc,\n$ # --delete-mxc-before, --mxc-to-http, see file tests/test-upload.sh\n$ matrix-commander  --rest GET \"\" '__homeserver__/_matrix/client/versions'\n$ # for more examples of --rest see file tests/test-rest.sh\n$ matrix-commander --get-avatar # get its own avatar MXC URI\n$ # get avatar MXC URIs of other users\n$ matrix-commander --get-avatar '@user1:example.com' '@user2:example.com'\n$ matrix-commander --set-avatar mxc://... # set its own avatar MXC URI\n$ # for more examples of --set_avatar see tests/test-setget.sh\n$ # print its own user id\n$ matrix-commander --whoami\n$ # skip SSL certificate verification for a homeserver without SSL\n$ matrix-commander --no-ssl -m \"also working without Let's Encrypt SSL\"\n$ # use your own SSL certificate for a homeserver with SSL and local certs\n$ matrix-commander --ssl-certificate mycert.crt -m \"using my own cert\"\n$ # download and decrypt media files like images, audio, PDF, etc.\n$ # and store downloaded files in directory \"mymedia\"\n$ matrix-commander --listen forever --listen-self --download-media mymedia\n$ # create rooms without name and topic, just with alias, use a simple alias\n$ matrix-commander --room-create roomAlias1\n$ # don't use a well formed alias like '#roomAlias1:example.com' as it will\n$ # confuse the server!\n$ # BAD: matrix-commander --room-create roomAlias1 '#roomAlias1:example.com'\n$ matrix-commander --room-create roomAlias2\n$ # create rooms with name and topic\n$ matrix-commander --room-create roomAlias3 --name 'Fancy Room' \\\n    --topic 'All about Matrix'\n$ matrix-commander --room-create roomAlias4 roomAlias5 \\\n    --name 'Fancy Room 4' -name 'Cute Room 5' \\\n    --topic 'All about Matrix 4' 'All about Nio 5'\n$ # join rooms\n$ matrix-commander --room-join '!someroomId1:example.com' \\\n    '!someroomId2:example.com' '#roomAlias1:example.com'\n$ # leave rooms\n$ matrix-commander --room-leave '#roomAlias1:example.com' \\\n    '!someroomId2:example.com'\n$ # forget rooms, you have to first leave a room before you forget it\n$ matrix-commander --room-forget '#roomAlias1:example.com'\n$ # invite users to rooms\n$ matrix-commander --room-invite '#roomAlias1:example.com' \\\n    --user '@user1:example.com' '@user2:example.com'\n$ # ban users from rooms\n$ matrix-commander --room-ban '!someroom1:example.com' \\\n    '!someroom2:example.com' \\\n    --user '@user1:example.com' '@user2:example.com'\n$ # unban users from rooms, remember after unbanning you have to invite again\n$ matrix-commander --room-unban '!someroom1:example.com' \\\n    '!someroom2:example.com' \\\n    --user '@user1:example.com' '@user2:example.com'\n$ # kick users from rooms\n$ matrix-commander --room-kick '!someroom1:example.com' \\\n    '#roomAlias2:example.com' \\\n    --user '@user1:example.com' '@user2:example.com'\n$ # set log levels, INFO for matrix-commander and ERROR for modules below\n$ matrix-commander -m \"test\" --log-level INFO ERROR\n$ # example of how to quote text correctly, e.g. JSON text\n$ matrix-commander -m '{title: \"hello\", message: \"here it is\"}'\n$ matrix-commander -m \"{title: \\\"hello\\\", message: \\\"here it is\\\"}\"\n$ matrix-commander -m \"{title: \\\"${TITLE}\\\", message: \\\"${MSG}\\\"}\"\n$ matrix-commander -m \"Don't do this\"\n$ matrix-commander -m 'He said \"No\" to me.'\n$ matrix-commander --separator \" || \" # customize column separator in outputs\n$ matrix-commander --mxc-to-http mxc://example.com/abc... # get HTTP\n$ matrix-commander --devices # to list devices of matrix-commander\n$ matrix-commander --discovery-info # print discovery info of homeserver\n$ matrix-commander --login-info # list login methods\n$ # example of how to use stdin, how to pipe data into the program\n$ echo \"Some text\" | matrix-commander # send a text msg via pipe\n$ echo \"Some text\" | matrix-commander -m - # long form to send text via pipe\n$ matrix-commander -m \"\\-\" # send the literal minus sign as a text msg\n$ cat image1.png | matrix-commander -i - # send an image via pipe\n$ matrix-commander -i - < image1.png # send an image via pipe\n$ cat image1.png | matrix-commander -i - -m \"text\" # send image and text\n$ # send 3 images out of which the second will be read from stdin via pipe\n$ cat im2.png | matrix-commander -i im1.jpg - im3.jpg # send 3 images\n$ echo \"text\" | matrix-commander -i im1.png # first image, then piped text\n$ echo \"text\" | matrix-commander -i im1.png -m - # same, long version\n$ pdf-generator | matrix-commander -f - -m \"Here is my PDF file.\"\n$ audio-generator | matrix-commander -a - -m \"Like this song?\"\n$ echo \"junk\" | matrix-commander -i - -m - # this will fail, not allowed\n$ # remember, pipe or stdin, i.e. the \"-\" can be used at most once\n$ cat im.png | matrix-commander -i im1.png - im3.png - im5.png # will fail\n$ # sending an event: e.g. reacting with an emoji\n$ JSON_REACT_MSC2677='{ \"type\": \"m.reaction\",\n    \"content\": { \"m.relates_to\": { \"rel_type\": \"m.annotation\",\n    \"event_id\": \"%s\", \"key\": \"%s\" } } }'\n$ TARGET_EVENT=\"\\$...a.valid.event.id\" # event to which to react\n$ REACT_EMOJI=\"ðŸ˜€\" # how to react\n$ printf \"$JSON_REACT_MSC2677\" \"$TARGET_EVENT\" \"$REACT_EMOJI\" |\n    matrix-commander --event -\n$ # for more examples of \"matrix-commander --event\" see tests/test-event.sh\n```\n\n# Usage\n```\nusage: matrix_commander.py [-h] [-d] [--log-level LOG_LEVEL [LOG_LEVEL ...]]\n                           [-c CREDENTIALS] [-r ROOM [ROOM ...]]\n                           [--room-create ROOM_CREATE [ROOM_CREATE ...]]\n                           [--room-join ROOM_JOIN [ROOM_JOIN ...]]\n                           [--room-leave ROOM_LEAVE [ROOM_LEAVE ...]]\n                           [--room-forget ROOM_FORGET [ROOM_FORGET ...]]\n                           [--room-invite ROOM_INVITE [ROOM_INVITE ...]]\n                           [--room-ban ROOM_BAN [ROOM_BAN ...]]\n                           [--room-unban ROOM_UNBAN [ROOM_UNBAN ...]]\n                           [--room-kick ROOM_KICK [ROOM_KICK ...]]\n                           [-u USER [USER ...]] [--name NAME [NAME ...]]\n                           [--topic TOPIC [TOPIC ...]]\n                           [-m MESSAGE [MESSAGE ...]] [-i IMAGE [IMAGE ...]]\n                           [-a AUDIO [AUDIO ...]] [-f FILE [FILE ...]]\n                           [-e EVENT [EVENT ...]] [-w] [-z] [-k] [-p SPLIT]\n                           [--config CONFIG] [--proxy PROXY] [-n]\n                           [--encrypted] [-s STORE] [-l [LISTEN]] [-t [TAIL]]\n                           [-y] [--print-event-id]\n                           [--download-media [DOWNLOAD_MEDIA]] [-o]\n                           [-v [VERIFY]] [--set-device-name SET_DEVICE_NAME]\n                           [--set-display-name SET_DISPLAY_NAME]\n                           [--get-display-name] [--set-presence SET_PRESENCE]\n                           [--get-presence] [--upload UPLOAD [UPLOAD ...]]\n                           [--download DOWNLOAD [DOWNLOAD ...]]\n                           [--delete-mxc DELETE_MXC [DELETE_MXC ...]]\n                           [--delete-mxc-before DELETE_MXC_BEFORE [DELETE_MXC_BEFORE ...]]\n                           [--joined-rooms]\n                           [--joined-members JOINED_MEMBERS [JOINED_MEMBERS ...]]\n                           [--mxc-to-http MXC_TO_HTTP [MXC_TO_HTTP ...]]\n                           [--devices] [--discovery-info] [--login-info]\n                           [--rest REST [REST ...]] [--set-avatar SET_AVATAR]\n                           [--get-avatar [GET_AVATAR ...]] [--whoami]\n                           [--no-ssl] [--ssl-certificate SSL_CERTIFICATE]\n                           [--no-sso] [--file-name FILE_NAME [FILE_NAME ...]]\n                           [--key-dict KEY_DICT [KEY_DICT ...]] [--plain]\n                           [--separator SEPARATOR]\n                           [--access-token ACCESS_TOKEN] [--version]\n\nWelcome to matrix-commander, a Matrix CLI client. â”€â”€â”€ On first run this\nprogram will configure itself. On further runs this program implements a\nsimple Matrix CLI client that can send messages, listen to messages, verify\ndevices, etc. It can send one or multiple message to one or multiple Matrix\nrooms and/or users. The text messages can be of various formats such as\n\"text\", \"html\", \"markdown\" or \"code\". Images, audio, arbitrary files, or\nevents can be sent as well. For receiving there are three main options: listen\nforever, listen once and quit, and get the last N messages and quit. Emoji\nverification is built-in which can be used to verify devices. End-to-end\nencryption is enabled by default and cannot be turned off. â”€â”€â”€ Bundling\nseveral actions together into a single call to {PROG_WITHOUT_EXT} is faster\nthan calling {PROG_WITHOUT_EXT} multiple times with only one action. If there\nare both 'set' and 'get' actions present in the arguments, then the 'set'\nactions will be performed before the 'get' actions. â”€â”€â”€ For even more\nexplications and examples also read the documentation provided in the on-line\nGithub README.md file or the README.md in your local installation.\n\noptions:\n  -h, --help            show this help message and exit\n  -d, --debug           Print debug information. If used once, only the log\n                        level of matrix-commander is set to DEBUG. If used\n                        twice (\"-d -d\" or \"-dd\") then log levels of both\n                        matrix-commander and underlying modules are set to\n                        DEBUG. \"-d\" is a shortcut for \"--log-level DEBUG\". See\n                        also --log-level. \"-d\" takes precedence over \"--log-\n                        level\".\n  --log-level LOG_LEVEL [LOG_LEVEL ...]\n                        Set the log level(s). Possible values are \"DEBUG\",\n                        \"INFO\", \"WARNING\", \"ERROR\", and \"CRITICAL\". If\n                        --log_level is used with one level argument, only the\n                        log level of matrix-commander is set to the specified\n                        value. If --log_level is used with two level argument\n                        (e.g. \"--log-level WARNING ERROR\") then log levels of\n                        both matrix-commander and underlying modules are set\n                        to the specified values. See also --debug.\n  -c CREDENTIALS, --credentials CREDENTIALS\n                        On first run, information about homeserver, user, room\n                        id, etc. will be written to a credentials file. By\n                        default, this file is \"credentials.json\". On further\n                        runs the credentials file is read to permit logging\n                        into the correct Matrix account and sending messages\n                        to the preconfigured room. If this option is provided,\n                        the provided file name will be used as credentials\n                        file instead of the default one.\n  -r ROOM [ROOM ...], --room ROOM [ROOM ...]\n                        Send to or receive from this room or these rooms.\n                        None, one or multiple rooms can be specified. The\n                        default room is provided in credentials file. If a\n                        room (or multiple ones) is (or are) provided in the\n                        arguments, then it (or they) will be used instead of\n                        the one from the credentials file. The user must have\n                        access to the specified room in order to send messages\n                        there or listen on the room. Messages cannot be sent\n                        to arbitrary rooms. When specifying the room id some\n                        shells require the exclamation mark to be escaped with\n                        a backslash. As an alternative to specifying a room as\n                        destination, one can specify a user as a destination\n                        with the '--user' argument. See '--user' and the term\n                        'DM (direct messaging)' for details. Specifying a room\n                        is always faster and more efficient than specifying a\n                        user. Not all listen operations allow setting a room.\n                        Read more under the --listen options and similar.\n  --room-create ROOM_CREATE [ROOM_CREATE ...]\n                        Create this room or these rooms. One or multiple room\n                        aliases can be specified. The room (or multiple ones)\n                        provided in the arguments will be created. The user\n                        must be permitted to create rooms. Combine --room-\n                        create with --name and --topic to add names and topics\n                        to the room(s) to be created.\n  --room-join ROOM_JOIN [ROOM_JOIN ...]\n                        Join this room or these rooms. One or multiple room\n                        aliases can be specified. The room (or multiple ones)\n                        provided in the arguments will be joined. The user\n                        must have permissions to join these rooms.\n  --room-leave ROOM_LEAVE [ROOM_LEAVE ...]\n                        Leave this room or these rooms. One or multiple room\n                        aliases can be specified. The room (or multiple ones)\n                        provided in the arguments will be left.\n  --room-forget ROOM_FORGET [ROOM_FORGET ...]\n                        After leaving a room you should (most likely) forget\n                        the room. Forgetting a room removes the users' room\n                        history. One or multiple room aliases can be\n                        specified. The room (or multiple ones) provided in the\n                        arguments will be forgotten. If all users forget a\n                        room, the room can eventually be deleted on the\n                        server.\n  --room-invite ROOM_INVITE [ROOM_INVITE ...]\n                        Invite one ore more users to join one or more rooms.\n                        Specify the user(s) as arguments to --user. Specify\n                        the rooms as arguments to this option, i.e. as\n                        arguments to --room-invite. The user must have\n                        permissions to invite users.\n  --room-ban ROOM_BAN [ROOM_BAN ...]\n                        Ban one ore more users from one or more rooms. Specify\n                        the user(s) as arguments to --user. Specify the rooms\n                        as arguments to this option, i.e. as arguments to\n                        --room-ban. The user must have permissions to ban\n                        users.\n  --room-unban ROOM_UNBAN [ROOM_UNBAN ...]\n                        Unban one ore more users from one or more rooms.\n                        Specify the user(s) as arguments to --user. Specify\n                        the rooms as arguments to this option, i.e. as\n                        arguments to --room-unban. The user must have\n                        permissions to unban users.\n  --room-kick ROOM_KICK [ROOM_KICK ...]\n                        Kick one ore more users from one or more rooms.\n                        Specify the user(s) as arguments to --user. Specify\n                        the rooms as arguments to this option, i.e. as\n                        arguments to --room-kick. The user must have\n                        permissions to kick users.\n  -u USER [USER ...], --user USER [USER ...]\n                        Specify one or multiple users. This option is\n                        meaningful in combination with a) room actions like\n                        --room-invite, --room-ban, --room-unban, etc. and b)\n                        send actions like -m, -i, -f, etc. as well as c) some\n                        listen actions --listen. In case of a) this option\n                        --user specifies the users to be used with room\n                        commands (like invite, ban, etc.). In case of b) the\n                        option --user can be used as an alternative to\n                        specifying a room as destination for text (-m), images\n                        (-i), etc. For send actions '--user' is providing the\n                        functionality of 'DM (direct messaging)'. For c) this\n                        option allows an alternative to specifying a room as\n                        destination for some --listen actions. What is a DM?\n                        matrix-commander tries to find a room that contains\n                        only the sender and the receiver, hence DM. These\n                        rooms have nothing special other the fact that they\n                        only have 2 members and them being the sender and\n                        recipient respectively. If such a room is found, the\n                        first one found will be used as destination. If no\n                        such room is found, the send fails and the user should\n                        do a --room-create and --room-invite first. If\n                        multiple such rooms exist, one of them will be used\n                        (arbitrarily). For sending and listening, specifying a\n                        room directly is always faster and more efficient than\n                        specifying a user. So, if you know the room, it is\n                        preferred to use --room instead of --user. For b) and\n                        c) --user can be specified in 3 ways: 1) full user id\n                        as in '@user:example.org', 2) partial user id as in\n                        '@user' when the user is on the same homeserver\n                        (example.org will be automatically appended), or 3) a\n                        display name. Be careful, when using display names as\n                        they might not be unique, and you could be sending to\n                        the wrong person. To see possible display names use\n                        the --joined-members '*' option which will show you\n                        the display names in the middle column.\n  --name NAME [NAME ...]\n                        Specify one or multiple names. This option is only\n                        meaningful in combination with option --room-create.\n                        This option --name specifies the names to be used with\n                        the command --room-create.\n  --topic TOPIC [TOPIC ...]\n                        Specify one or multiple topics. This option is only\n                        meaningful in combination with option --room-create.\n                        This option --topic specifies the topics to be used\n                        with the command --room-create.\n  -m MESSAGE [MESSAGE ...], --message MESSAGE [MESSAGE ...]\n                        Send this message. Message data must not be binary\n                        data, it must be text. If no '-m' is used and no other\n                        conflicting arguments are provided, and information is\n                        piped into the program, then the piped data will be\n                        used as message. Finally, if there are no operations\n                        at all in the arguments, then a message will be read\n                        from stdin, i.e. from the keyboard. This option can be\n                        used multiple times to send multiple messages. If\n                        there is data piped into this program, then first data\n                        from the pipe is published, then messages from this\n                        option are published. Messages will be sent last, i.e.\n                        after objects like images, audio, files, events, etc.\n                        Input piped via stdin can additionally be specified\n                        with the special character '-'. If you want to feed a\n                        text message into matrix-commander via a pipe, via\n                        stdin, then specify the special character '-'. If '-'\n                        is specified as message, then the program will read\n                        the message from stdin. If your message is literally\n                        '-' then use '\\-' as message in the argument. '-' may\n                        appear in any position, i.e. '-m \"start\" - \"end\"' will\n                        send 3 messages out of which the second one is read\n                        from stdin. '-' may appear only once overall in all\n                        arguments.\n  -i IMAGE [IMAGE ...], --image IMAGE [IMAGE ...]\n                        Send this image. This option can be used multiple\n                        times to send multiple images. First images are sent,\n                        then text messages are sent. If you want to feed an\n                        image into matrix-commander via a pipe, via stdin,\n                        then specify the special character '-'. If '-' is\n                        specified as image file name, then the program will\n                        read the image data from stdin. If your image file is\n                        literally named '-' then use '\\-' as file name in the\n                        argument. '-' may appear in any position, i.e. '-i\n                        image1.jpg - image3.png' will send 3 images out of\n                        which the second one is read from stdin. '-' may\n                        appear only once overall in all arguments. If the file\n                        exists already, it is more efficient to specify the\n                        file name than to pipe the file through stdin.\n  -a AUDIO [AUDIO ...], --audio AUDIO [AUDIO ...]\n                        Send this audio file. This option can be used multiple\n                        times to send multiple audio files. First audios are\n                        sent, then text messages are sent. If you want to feed\n                        an audio into matrix-commander via a pipe, via stdin,\n                        then specify the special character '-'. See\n                        description of '-i' to see how '-' is handled.\n  -f FILE [FILE ...], --file FILE [FILE ...]\n                        Send this file (e.g. PDF, DOC, MP4). This option can\n                        be used multiple times to send multiple files. First\n                        files are sent, then text messages are sent. If you\n                        want to feed a file into matrix-commander via a pipe,\n                        via stdin, then specify the special character '-'. See\n                        description of '-i' to see how '-' is handled.\n  -e EVENT [EVENT ...], --event EVENT [EVENT ...]\n                        Send an event that is formatted as a JSON object as\n                        specified by the Matrix protocol. This allows the\n                        advanced user to send additional types of events such\n                        as reactions, send replies to previous events, or edit\n                        previous messages. Specifications for events can be\n                        found at https://spec.matrix.org/unstable/proposals/.\n                        This option can be used multiple times to send\n                        multiple events. First events are sent, then text\n                        messages are sent. If you want to feed an event into\n                        matrix-commander via a pipe, via stdin, then specify\n                        the special character '-'. See description of '-i' to\n                        see how '-' is handled. See tests/test-event.sh for\n                        examples.\n  -w, --html            Send message as format \"HTML\". If not specified,\n                        message will be sent as format \"TEXT\". E.g. that\n                        allows some text to be bold, etc. Only a subset of\n                        HTML tags are accepted by Matrix.\n  -z, --markdown        Send message as format \"MARKDOWN\". If not specified,\n                        message will be sent as format \"TEXT\". E.g. that\n                        allows sending of text formatted in MarkDown language.\n  -k, --code            Send message as format \"CODE\". If not specified,\n                        message will be sent as format \"TEXT\". If both --html\n                        and --code are specified then --code takes priority.\n                        This is useful for sending ASCII-art or tabbed output\n                        like tables as a fixed-sized font will be used for\n                        display.\n  -p SPLIT, --split SPLIT\n                        If set, split the message(s) into multiple messages\n                        wherever the string specified with --split occurs.\n                        E.g. One pipes a stream of RSS articles into the\n                        program and the articles are separated by three\n                        newlines. Then with --split set to \"\\n\\n\\n\" each\n                        article will be printed in a separate message. By\n                        default, i.e. if not set, no messages will be split.\n  --config CONFIG       Location of a config file. By default, no config file\n                        is used. If this option is provided, the provided file\n                        name will be used to read configuration from. Not\n                        implemented.\n  --proxy PROXY         Optionally specify a proxy for connectivity. By\n                        default, i.e. if this option is not set, no proxy is\n                        used. If this option is used a proxy URL must be\n                        provided. The provided proxy URL will be used for the\n                        HTTP connection to the server. The proxy supports\n                        SOCKS4(a), SOCKS5, and HTTP (tunneling). Examples of\n                        valid URLs are \"http://10.10.10.10:8118\" or\n                        \"socks5://user:password@127.0.0.1:1080\". URLs with\n                        \"https\" or \"socks4a\" are not valid. Only \"http\",\n                        \"socks4\" and \"socks5\" are valid.\n  -n, --notice          Send message as notice. If not specified, message will\n                        be sent as text.\n  --encrypted           Send message end-to-end encrypted. Encryption is\n                        always turned on and will always be used where\n                        possible. It cannot be turned off. This flag does\n                        nothing as encryption is turned on with or without\n                        this argument.\n  -s STORE, --store STORE\n                        Path to directory to be used as \"store\" for encrypted\n                        messaging. By default, this directory is \"./store/\".\n                        Since encryption is always enabled, a store is always\n                        needed. If this option is provided, the provided\n                        directory name will be used as persistent storage\n                        directory instead of the default one. Preferably, for\n                        multiple executions of this program use the same store\n                        for the same device. The store directory can be shared\n                        between multiple different devices and users.\n  -l [LISTEN], --listen [LISTEN]\n                        The --listen option takes one argument. There are\n                        several choices: \"never\", \"once\", \"forever\", \"tail\",\n                        and \"all\". By default, --listen is set to \"never\". So,\n                        by default no listening will be done. Set it to\n                        \"forever\" to listen for and print incoming messages to\n                        stdout. \"--listen forever\" will listen to all messages\n                        on all rooms forever. To stop listening \"forever\", use\n                        Control-C on the keyboard or send a signal to the\n                        process or service. The PID for signaling can be found\n                        in a PID file in directory \"/home/user/.run\". \"--\n                        listen once\" will get all the messages from all rooms\n                        that are currently queued up. So, with \"once\" the\n                        program will start, print waiting messages (if any)\n                        and then stop. The timeout for \"once\" is set to 10\n                        seconds. So, be patient, it might take up to that\n                        amount of time. \"tail\" reads and prints the last N\n                        messages from the specified rooms, then quits. The\n                        number N can be set with the --tail option. With\n                        \"tail\" some messages read might be old, i.e. already\n                        read before, some might be new, i.e. never read\n                        before. It prints the messages and then the program\n                        stops. Messages are sorted, last-first. Look at --tail\n                        as that option is related to --listen tail. The option\n                        \"all\" gets all messages available, old and new. Unlike\n                        \"once\" and \"forever\" that listen in ALL rooms, \"tail\"\n                        and \"all\" listen only to the room specified in the\n                        credentials file or the --room options. Furthermore,\n                        when listening to messages, no messages will be sent.\n                        Hence, when listening, --message must not be used and\n                        piped input will be ignored.\n  -t [TAIL], --tail [TAIL]\n                        The --tail option reads and prints up to the last N\n                        messages from the specified rooms, then quits. It\n                        takes one argument, an integer, which we call N here.\n                        If there are fewer than N messages in a room, it reads\n                        and prints up to N messages. It gets the last N\n                        messages in reverse order. It print the newest message\n                        first, and the oldest message last. If --listen-self\n                        is not set it will print less than N messages in many\n                        cases because N messages are obtained, but some of\n                        them are discarded by default if they are from the\n                        user itself. Look at --listen as this option is\n                        related to --tail.Furthermore, when tailing messages,\n                        no messages will be sent. Hence, when tailing or\n                        listening, --message must not be used and piped input\n                        will be ignored.\n  -y, --listen-self     If set and listening, then program will listen to and\n                        print also the messages sent by its own user. By\n                        default messages from oneself are not printed.\n  --print-event-id      If set and listening, then the program will print also\n                        the event id for each message or other event.\n  --download-media [DOWNLOAD_MEDIA]\n                        If set and listening, then program will download\n                        received media files (e.g. image, audio, video, text,\n                        PDF files). media will be downloaded to local\n                        directory. By default, media will be downloaded to is\n                        \"./media/\". You can overwrite default with your\n                        preferred directory. If media is encrypted it will be\n                        decrypted and stored decrypted. By default media files\n                        will not be downloaded.\n  -o, --os-notify       If set and listening, then program will attempt to\n                        visually notify of arriving messages through the\n                        operating system. By default there is no notification\n                        via OS.\n  -v [VERIFY], --verify [VERIFY]\n                        Perform verification. By default, no verification is\n                        performed. Possible values are: \"emoji\". If\n                        verification is desired, run this program in the\n                        foreground (not as a service) and without a pipe.\n                        Verification questions will be printed on stdout and\n                        the user has to respond via the keyboard to accept or\n                        reject verification. Once verification is complete,\n                        stop the program and run it as a service again. Don't\n                        send messages or files when you verify.\n  --set-device-name SET_DEVICE_NAME\n                        Set or rename the current device to the device name\n                        provided. Send, listen and verify operations are\n                        allowed when renaming the device.\n  --set-display-name SET_DISPLAY_NAME\n                        Set or rename the display name for the current user to\n                        the display name provided. Send, listen and verify\n                        operations are allowed when setting the display name.\n  --get-display-name    Get the display name of matrix-commander (itself), or\n                        of one or multiple users. Specify user(s) with the\n                        --user option. If no user is specified get the display\n                        name of itself. Send, listen and verify operations are\n                        allowed when getting display name(s).\n  --set-presence SET_PRESENCE\n                        Set presence of {PROG_WITHOUT_EXT} to the given value.\n                        Must be one of these values: â€œonlineâ€, â€œofflineâ€,\n                        â€œunavailableâ€. Otherwise an error will be produced.\n  --get-presence        Get presence of {PROG_WITHOUT_EXT} (itself), or of one\n                        or multiple users. Specify user(s) with the --user\n                        option. If no user is specified get the presence of\n                        itself. Send, listen and verify operations are allowed\n                        when getting presence(s).\n  --upload UPLOAD [UPLOAD ...]\n                        Upload one or multiple files to the content\n                        repository. The files will be given a Matrix URI and\n                        stored on the server. --upload allows the optional\n                        argument --plain to skip encryption for upload. See\n                        tests/test-upload.sh for an example.\n  --download DOWNLOAD [DOWNLOAD ...]\n                        Download one or multiple files from the content\n                        repository. You must provide one or multiple Matrix\n                        URIs (MXCs) which are strings like this\n                        'mxc://example.com/SomeStrangeUriKey'. If found they\n                        will be downloaded, decrypted, and stored in local\n                        files. If file names are specified with --file-name\n                        the downloads will be saved with these file names. If\n                        --file-name is not specified the original file name\n                        from the upload will be used. If neither specified nor\n                        available on server, then the file name of last resort\n                        'mxc-<mxc-id>' will be used. If a file name in --file-\n                        name contains the placeholder __mxc_id__, it will be\n                        replaced with the mxc-id. If a file name is specified\n                        as empty string in --file-name, then also the name\n                        'mxc-<mxc-id>' will be used. By default, the upload\n                        was encrypted so a decryption dictionary must be\n                        provided to decrypt the data. Specify one or multiple\n                        decryption keys with --key-dict. If --key-dict is not\n                        set, not decryption is attempted; and the data might\n                        be stored in encrypted fashion, or might be plain-text\n                        if the --upload skipped encryption with --plain. See\n                        tests/test-upload.sh for an example.\n  --delete-mxc DELETE_MXC [DELETE_MXC ...]\n                        Delete one or multiple objects (e.g. files) from the\n                        content repository. You must provide one or multiple\n                        Matrix URIs (MXC) which are strings like this\n                        'mxc://example.com/SomeStrangeUriKey'. Alternatively,\n                        you can just provide the MXC id, i.e. the part after\n                        the last slash. If found they will be deleted from the\n                        server database. In order to delete objects one must\n                        have server admin permissions. Having only room admin\n                        permissions is not sufficient and it will fail. Read\n                        https://matrix-org.github.io/synapse/latest/usage/admi\n                        nistration/admin_api/ for learning how to set server\n                        admin permissions on the server. Alternatively, and\n                        optionally, one can specify an access token which has\n                        server admin permissions with the --access-token\n                        argument. See tests/test-upload.sh for an example.\n  --delete-mxc-before DELETE_MXC_BEFORE [DELETE_MXC_BEFORE ...]\n                        Delete objects (e.g. files) from the content\n                        repository that are older than a given timestamp. It\n                        is the timestamp of last access, not the timestamp\n                        when the file was created. Additionally you can\n                        specify a size in bytes to indicate that only files\n                        older than timestamp and larger than size will be\n                        deleted. You must provide a timestamp of the following\n                        format: 'DD.MM.YYYY HH:MM:SS' like '20.01.2022\n                        19:38:42' for January 20, 2022, 7pm 38min 42sec. Files\n                        that are still used in image data (e.g user profile,\n                        room avatar) will not be deleted from the server\n                        database. In order to delete objects one must have\n                        server admin permissions. Having only room admin\n                        permissions is not sufficient and it will fail. Read\n                        https://matrix-org.github.io/synapse/latest/usage/admi\n                        nistration/admin_api/ for learning how to set server\n                        admin permissions on the server. Alternatively, and\n                        optionally, one can specify an access token which has\n                        server admin permissions with the --access-token\n                        argument. See tests/test-upload.sh for an example.\n  --joined-rooms        Print the list of joined rooms. All rooms that you are\n                        a member of will be printed, one room per line.\n  --joined-members JOINED_MEMBERS [JOINED_MEMBERS ...]\n                        Print the list of joined members for one or multiple\n                        rooms. If you want to print the joined members of all\n                        rooms that you are member of, then use the special\n                        character '*'.\n  --mxc-to-http MXC_TO_HTTP [MXC_TO_HTTP ...]\n                        Convert one or more matrix content URIs to the\n                        corresponding HTTP URLs. The MXC URIs to provide look\n                        something like this\n                        'mxc://example.com/SomeStrangeUriKey'. See tests/test-\n                        upload.sh for an example.\n  --devices             Print the list of devices. All device of this account\n                        will be printed, one device per line.\n  --discovery-info      Print discovery information about current homeserver.\n                        Note that not all homeservers support discovery and an\n                        error might be reported.\n  --login-info          Print login methods supported by the homeserver. It\n                        prints one login method per line.\n  --rest REST [REST ...]\n                        Use the Matrix Client REST API. Matrix has several\n                        extensive REST APIs. With the --rest argument you can\n                        invoke a Matrix REST API call. This allows the user to\n                        do pretty much anything, at the price of not being\n                        very convenient. The APIs are described in\n                        https://matrix.org/docs/api/,\n                        https://spec.matrix.org/latest/client-server-api/,\n                        https://matrix-org.github.io/synapse/latest/usage/admi\n                        nistration/admin_api/, etc. Each REST call requires\n                        exactly 3 arguments. So, the total number of arguments\n                        used with --rest must be a multiple of 3. The argument\n                        triples are: (a) the method, a string of GET, POST,\n                        PUT, DELETE, or OPTIONS. (b) a string containing the\n                        data (if any) in JSON format. (c) a string containing\n                        the URL. All strings must be UTF-8. There are a few\n                        placeholders. They are: __homeserver__ (like\n                        https://matrix.example.org), __hostname__ (like\n                        matrix.example.org), __access_token__, __user_id__\n                        (like @mc:matrix.example.com), __device_id__, and\n                        __room_id__. If a placeholder is found it is replaced\n                        with the value from the local credentials file. An\n                        example would be: --rest 'GET' ''\n                        '__homeserver__/_matrix/client/versions'. If there is\n                        no data, i.e. data (b) is empty, then use '' for it.\n                        Optionally, --access-token can be used to overwrite\n                        the access token from credentials (if needed). See\n                        tests/test-rest.sh for an example.\n  --set-avatar SET_AVATAR\n                        Set the avatar MXC resource used by matrix-commander.\n                        Provide one MXC URI that looks like this\n                        'mxc://example.com/SomeStrangeUriKey'..\n  --get-avatar [GET_AVATAR ...]\n                        Get the avatar MXC resource used by matrix-commander,\n                        or one or multiple other users. Specify zero or more\n                        user ids. If no user id is specified, the avatar of\n                        {PROG_WITHOUT_EXT} will be fetched. If one or more\n                        user ids are given, the avatars of these users will be\n                        fetched. As response both MXC URI as well as URL will\n                        be printed.\n  --whoami              Print the user id used by matrix-commander (itself).\n                        One can get this information also by looking at the\n                        credentials file.\n  --no-ssl              Skip SSL verification. By default (if this option is\n                        not used) the SSL certificate is validated for the\n                        connection. But, if this option is used, then the SSL\n                        certificate validation will be skipped. This is useful\n                        for home-servers that have no SSL certificate. If used\n                        together with the \"--ssl-certificate\" parameter, this\n                        option is meaningless and an error will be raised.\n  --ssl-certificate SSL_CERTIFICATE\n                        Use this option to use your own local SSL certificate\n                        file. This is an optional parameter. This is useful\n                        for home servers that have their own SSL certificate.\n                        This allows you to use HTTPS/TLS for the connection\n                        while using your own local SSL certificate. Specify\n                        the path and file to your SSL certificate. If used\n                        together with the \"--no-ssl\" parameter, this option is\n                        meaningless and an error will be raised.\n  --no-sso              This argument is optional. If it is not used, the\n                        default login method will be used. This default login\n                        method is: SSO (Single Sign-On). SSO starts a web\n                        browser and connects the user to a web page on the\n                        server for login. SSO will only work if the server\n                        supports it and if there is access to a browser. If\n                        this argument is used, then SSO will be avoided. This\n                        is useful on headless homeservers where there is no\n                        browser installed or accessible. It is also useful if\n                        the user prefers to login via a password. So, if SSO\n                        should be avoided and a password login is preferred\n                        then set this option. This option is only meaningful\n                        on the first run that initializes matrix-commander.\n                        Once credentials are established this option is\n                        irrelevant and it will simply be ignored.\n  --file-name FILE_NAME [FILE_NAME ...]\n                        Specify one or multiple file names for some actions.\n                        This is an optional argument. Use this option in\n                        combination with options like --download to specify\n                        one or multiple file names. Ignored if used by itself\n                        without an appropriate corresponding action.\n  --key-dict KEY_DICT [KEY_DICT ...]\n                        Specify one or multiple key dictionaries for\n                        decryption. One or multiple decryption dictionaries\n                        are provided by the --upload action as a result. A\n                        decryption dictionary is a string like this: \"{'v':\n                        'v2', 'key': {'kty': 'oct', 'alg': 'A256CTR', 'ext':\n                        True, 'k': 'somekey', 'key_ops': ['encrypt',\n                        'decrypt']}, 'iv': 'someiv', 'hashes': {'sha256':\n                        'someSHA'}}\". If you have a list of key dictionaries\n                        and want to skip one, use the empty string.\n  --plain               Disable encryption for a specific action. By default,\n                        everything is always encrypted. Actions that support\n                        this option are: --upload.\n  --separator SEPARATOR\n                        Set a custom separator used for certain print outs. By\n                        default, i.e. if --separator is not used, 4 spaces are\n                        used as separator between columns in print statements.\n                        You could set it to '\\t' if you prefer a tab, but tabs\n                        are usually replaced with spaces by the terminal. So,\n                        that might not give you what you want. Maybe ' || ' is\n                        an alternative choice.\n  --access-token ACCESS_TOKEN\n                        Set a custom access token for use by certain actions.\n                        It is an optional argument. By default --access-token\n                        is ignored and not used. It is used only by the\n                        --delete-mxc, --delete-mxc-before and --rest actions.\n  --version             Print version information. After printing version\n                        information program will continue to run. This is\n                        useful for having version number in the log files.\n\nYou are running version 2.32.0 2022-06-07. Enjoy, star on Github and\ncontribute by submitting a Pull Request.\n```\n\n# Autocompletion\n\nTab completion is provided for shells (e.g. bash), courtesy of @mizlan).\n\nHere is a sample snapshot of tab completion in action:\n\n![tab completion screenshot](screenshots/tab_complete.png)\n\n# Performance and Speed\n\n- `matrix-commander` is written in Python and hence rather on the slow side\n- It is not thread-safe. One cannot just simply run multiple instances\n  at the same time. However, with very careful set-up one can run\n  multiple instances, but that is not the target use case.\n- Where possible bundle several actions together into a single call.\n  For example if one wants to send 8 images, then it is significantly faster\n  to call `matrix-commander` once with `-i` specifying 8 images, than\n  to call `matrix-commander` 8 times with one image each call. One needs\n  to send 5 messages, 10 images, 5 audios, 3 PDF files and 7 events to\n  the same user? Call `matrix-commander` once, not 30 times.\n\n# For Developers\n\n- Don't change tabbing, spacing, or formatting as file is automatically\n  sorted, linted and formatted.\n- `pylama:format=pep8:linters=pep8`\n- first `isort` import sorter\n- then `flake8` linter/formater\n- then `black` linter/formater\n- line length: 79\n  - isort matrix_commander.py\n  - flake8 matrix_commander.py\n  - python3 -m black --line-length 79 matrix_commander.py\n- There is a script called `lintmc.sh` in `scripts` directory for that.\n\n# License\n\nThis program is free software: you can redistribute it and/or modify it\nunder the terms of the GNU General Public License as published by the\nFree Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nWhen preparing to package `matrix-commander` for NIX the question\ncame up if `matrix-commander` is GPL3Only or GPL3Plus. GPL3PLus was\ndeemed to be better. As such the license was changed from GPL3Only\nto GPL3Plus on May 25, 2021. Versions before this date are licensed\nunder GPL3. Versions on or after this date are GPL3Plus, i.e.\nGPL3 or later.\n\nSee [GPL3 at FSF](https://www.fsf.org/licensing/).\n\n# Things to do, Things missing\n\n- see [Issues](https://github.com/8go/matrix-commander/issues) on Github\n\n# Final Remarks\n\n- Thanks to all of you who already have contributed! So appreciated!\n  - :heart: and :thumbsup: to @fyfe, @berlincount, @ezwen, @Scriptkiddi,\n    @pelzvieh, @mizlan, @edwinsage, @jschwartzentruber, @nirgal, @benneti,\n    @opk12, @pataquets, etc.\n- Enjoy!\n- Give it a :star: star on GitHub! Pull requests are welcome  :heart:\n\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/8go/matrix-commander",
    "keywords": "Matrix,chat,messaging",
    "license": "",
    "maintainer": "",
    "maintainer_email": "",
    "name": "matrix-commander",
    "package_url": "https://pypi.org/project/matrix-commander/",
    "platform": null,
    "project_url": "https://pypi.org/project/matrix-commander/",
    "project_urls": {
      "Bug Tracker": "https://github.com/8go/matrix-commander/issues",
      "Homepage": "https://github.com/8go/matrix-commander",
      "repository": "https://github.com/8go/matrix-commander"
    },
    "release_url": "https://pypi.org/project/matrix-commander/2.32.0/",
    "requires_dist": [
      "aiohttp",
      "aiofiles (>=0.6.0)",
      "argparse",
      "asyncio",
      "datetime",
      "dbus-python",
      "markdown",
      "matrix-nio[e2e] (>=0.14.1)",
      "notify2",
      "Pillow",
      "python-magic",
      "uuid"
    ],
    "requires_python": ">=3.8",
    "summary": "A simple command-line Matrix client",
    "version": "2.32.0",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 16121233,
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "845f2fd6e6a8eb85d25615e6676f163e8eded524cbb9dbb53882ae5782e7a302",
        "md5": "198921994fa3d10bc095edeea20f13a8",
        "sha256": "eb40e5cf6ef8233a82b0fd893628b11df6c21bd80cf95e07459a01a8008f1be1"
      },
      "downloads": -1,
      "filename": "matrix_commander-2.32.0-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "198921994fa3d10bc095edeea20f13a8",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": ">=3.8",
      "size": 99173,
      "upload_time": "2022-06-07T16:10:10",
      "upload_time_iso_8601": "2022-06-07T16:10:10.496155Z",
      "url": "https://files.pythonhosted.org/packages/84/5f/2fd6e6a8eb85d25615e6676f163e8eded524cbb9dbb53882ae5782e7a302/matrix_commander-2.32.0-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "1f8df5a935203088372886ceda98905a9ce38997b9caaa46a3f89736cd02f4b6",
        "md5": "a105e868ed0dff7f5c4a4ed2ba601b9a",
        "sha256": "2c0b8668a915bdc15030cf83519df9fade4cfa3e14f34448d3f49df0e851bfc3"
      },
      "downloads": -1,
      "filename": "matrix-commander-2.32.0.tar.gz",
      "has_sig": false,
      "md5_digest": "a105e868ed0dff7f5c4a4ed2ba601b9a",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": ">=3.8",
      "size": 136039,
      "upload_time": "2022-06-07T16:10:12",
      "upload_time_iso_8601": "2022-06-07T16:10:12.165104Z",
      "url": "https://files.pythonhosted.org/packages/1f/8d/f5a935203088372886ceda98905a9ce38997b9caaa46a3f89736cd02f4b6/matrix-commander-2.32.0.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}