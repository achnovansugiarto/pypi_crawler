{
  "info": {
    "author": "MrBin99",
    "author_email": "",
    "bugtrack_url": null,
    "classifiers": [],
    "description": "# Django Vite\n\nIntegration of [ViteJS](https://vitejs.dev/) in a Django project.\n\n## Installation\n\n### Django\n\n```\npip install django-vite\n```\n\nAdd `django_vite` to your `INSTALLED_APPS` in your `settings.py`\n(before your apps that are using it).\n\n```python\nINSTALLED_APPS = [\n    ...\n    'django_vite',\n    ...\n]\n```\n\n### ViteJS\n\nFollow instructions on [https://vitejs.dev/guide/](https://vitejs.dev/guide/).\nAnd mostly the SSR part.\n\nThen in your ViteJS config file :\n\n- Set the `root` options the same as your `STATIC_URL` Django setting.\n- Set the `build.outDir` path to where you want the assets to compiled.\n- Set the `build.manifest` options to `true`.\n- As you are in SSR and not in SPA, you don't have an `index.html` that\n  ViteJS can use to determine which files to compile. You need to tell it\n  directly. In your ViteJS config file add the following :\n\n```javascript\nexport default defineConfig({\n  build {\n    ...\n    rollupOptions: {\n      input: {\n        <unique key>: '<path to your asset>'\n      }\n    }\n  }\n}\n```\n\n## Usage\n\n### Configuration\n\n- Define a setting variable in your `settings.py` named `DJANGO_VITE_ASSETS_PATH`\n  containing the absolute path to where your assets are built.\n\n  - This must correspond to your `build.outDir` in your ViteJS configuration.\n  - The `DJANGO_VITE_ASSETS_PATH` must be included in your `STATICFILES_DIRS`\n    Django setting.\n\n- Define a setting variable in your `settings.py` named `DJANGO_VITE_DEV_MODE`\n  containing a boolean defining if you want to include assets in development\n  mode or production mode.\n\n  - In development mode, assets are included as modules using the ViteJS\n    webserver. This will enable HMR for your assets.\n  - In production mode, assets are included as standard assets\n    (no ViteJS webserver and HMR) like default Django static files.\n    This means that your assets must be compiled with ViteJS before.\n  - This setting may be set as the same value as your `DEBUG` setting in\n    Django. But you can do what is good for yout needs.\n\n### Template tags\n\nInclude this in your base HTML template file.\n\n```\n{% load django_vite %}\n```\n\nThen in your `<head>` element add this :\n\n```\n{% vite_hmr_client %}\n```\n\n- This will add a `<script>` tag to include the ViteJS HMR client.\n- This tag will include this script only if `DJANGO_VITE_DEV_MODE` is true,\n  otherwise this will do nothing.\n\nThen add this tag to load your scripts :\n\n```\n{% vite_asset '<path to your asset>' %}\n```\n\nThis will add a `<script>` tag including your JS/TS script :\n\n- In development mode, all scripts are included as modules.\n- In development mode, all scripts are marked as `async` and `defer`.\n- You can pass a second argument to this tag to overrides attributes\n  passed to the script tag.\n- This tag only accept JS/TS, for other type of assets, they must be\n  included in the script itself using `import` statements.\n- In production mode, the library will read the `manifest.json` file\n  generated by ViteJS and import all CSS files dependent of this script\n  (before importing the script).\n- You can add as many of this tag as you want, for each input you specify\n  in your ViteJS configuration file.\n- The path must be relative to your `root` key inside your ViteJS config file.\n- The path must be a key inside your manifest file `manifest.json` file\n  generated by ViteJS.\n- In general, this path does not require a `/` at the beginning\n  (follow your `manifest.json` file).\n\n```\n{% vite_asset_url '<path to your asset>' %}\n```\n\nThis will generate only the URL to an asset with no tag surrounding it.\n**Warning, this does not generate URLs for dependant assets of this one\nlike the previous tag.**\n\n## Miscellaneous configuration\n\nYou can redefine those variables in your `settings.py` :\n\n- `DJANGO_VITE_DEV_SERVER_PROTOCOL` : ViteJS webserver protocol\n  (default : `http`).\n- `DJANGO_VITE_DEV_SERVER_HOST` : ViteJS webserver hostname\n  (default : `localhost`).\n- `DJANGO_VITE_DEV_SERVER_PORT` : ViteJS webserver port\n  (default : `3000`)\n- `DJANGO_VITE_WS_CLIENT_URL` : ViteJS webserver path to the HMR client used\n  in the `vite_hmr_client` tag (default : `@vite/client`).\n- `DJANGO_VITE_MANIFEST_PATH` : Absolute path (including filename)\n  to your ViteJS manifest file. This file is generated in your\n  `DJANGO_VITE_ASSETS_PATH`. But if you are in production (`DEBUG` is true)\n  then it is in your `STATIC_ROOT` after you collected your\n  [static files](https://docs.djangoproject.com/en/3.1/howto/static-files/).\n\n## Notes\n\n- In production mode, all generated path are prefixed with the `STATIC_URL`\n  setting of Django.\n\n## Thanks\n\nThanks to [Evan You](https://github.com/yyx990803) for the ViteJS library.\n\n\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/MrBin99/django-vite",
    "keywords": "",
    "license": "",
    "maintainer": "",
    "maintainer_email": "",
    "name": "django-vite",
    "package_url": "https://pypi.org/project/django-vite/",
    "platform": "",
    "project_url": "https://pypi.org/project/django-vite/",
    "project_urls": {
      "Homepage": "https://github.com/MrBin99/django-vite"
    },
    "release_url": "https://pypi.org/project/django-vite/1.0.2/",
    "requires_dist": [
      "Django (>=1.11)"
    ],
    "requires_python": "",
    "summary": "Integration of ViteJS in a Django project.",
    "version": "1.0.2",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 13186149,
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "5d82ea22d95b80068b694d1724d9a903167908519900bd8f3edcf0e873ab1d9c",
        "md5": "af0ec22ed49b86fecfc9137fe0a95740",
        "sha256": "7d8c522cb93f8fa1b79b4809f83eead2a7d55c72d442ee4aa1d9f6220ae0f614"
      },
      "downloads": -1,
      "filename": "django_vite-1.0.2-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "af0ec22ed49b86fecfc9137fe0a95740",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": null,
      "size": 18163,
      "upload_time": "2021-04-06T09:07:36",
      "upload_time_iso_8601": "2021-04-06T09:07:36.873147Z",
      "url": "https://files.pythonhosted.org/packages/5d/82/ea22d95b80068b694d1724d9a903167908519900bd8f3edcf0e873ab1d9c/django_vite-1.0.2-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "fb6f1adbcfbc45e89cfe16099cef8f6191dff983426de89144750fa6d5ead61e",
        "md5": "c8b8079a729bdfdfb1667a3090ffdf0f",
        "sha256": "6d37afd981f83f04cd12b1c5ff80a28cb91bd8dd505ac2c39e90bcde922eec71"
      },
      "downloads": -1,
      "filename": "django-vite-1.0.2.tar.gz",
      "has_sig": false,
      "md5_digest": "c8b8079a729bdfdfb1667a3090ffdf0f",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": null,
      "size": 18664,
      "upload_time": "2021-04-06T09:07:38",
      "upload_time_iso_8601": "2021-04-06T09:07:38.794784Z",
      "url": "https://files.pythonhosted.org/packages/fb/6f/1adbcfbc45e89cfe16099cef8f6191dff983426de89144750fa6d5ead61e/django-vite-1.0.2.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}