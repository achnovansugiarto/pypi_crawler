{
  "info": {
    "author": "Takeyuki UEDA",
    "author_email": "gde00107@nifty.com",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 5 - Production/Stable",
      "Programming Language :: Python",
      "Topic :: Terminals"
    ],
    "description": "# mh-z19\nRead CO2 concentration from mh-z19 sensor\n\n![MH-Z19](https://camo.githubusercontent.com/8456a67ab97a13866d928d3a14dff59a57cdeccb/68747470733a2f2f63616d6f2e716969746175736572636f6e74656e742e636f6d2f613237306466313136326564356333626639393638623234303634623931656564306466636331312f3638373437343730373333613266326637313639363937343631326436393664363136373635326437333734366637323635326537333333326536313664363137613666366536313737373332653633366636643266333032663334333633353334333432663331333533373339363633393634363232643330363633343330326433373336363533383264333033353636333332643339333933333631333233343633333433373634333133383265373036653637)\n\n## install\n```\npip install mh_z19\n```\n## installs\n[![Downloads](https://pepy.tech/badge/mh-z19)](https://pepy.tech/project/mh-z19)\n[![Downloads](https://pepy.tech/badge/mh-z19/month)](https://pepy.tech/project/mh-z19)\n[![Downloads](https://pepy.tech/badge/mh-z19/week)](https://pepy.tech/project/mh-z19)\n\n## how to use\nUse as python script.\n```\npi@raspberrypi:~/mh-z19/pypi $ sudo python -m mh_z19\n{'co2': 500}\n```\n\nImport module and call read()\n```\npi@raspberrypi:~/mh-z19/pypi $ sudo python\nPython 2.7.13 (default, Nov 24 2017, 17:33:09) \n[GCC 6.3.0 20170516] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> import mh_z19\n>>> mh_z19.read()\n{'co2': 477}\n>>> \n```\n\nThe ***sudo*** might be necessary because mh_z19 module use Serial.\n\nThe differences of the interface between each Raspberry Pi model are resolved inside this module. For example, serial device name is difference between Raspberry Pi 3 and older model, but mh-z19 module automatically detect the model and read from appropriate serial device.\n\nTo use mh-z19, once you need to set up enabling serial port device on the Raspberry Pi.\nFollowing [Wiki](https://github.com/UedaTakeyuki/mh-z19/wiki/How-to-Enable-Serial-Port-hardware-on-the-Raspberry-Pi) page might be informative.\n\n## cabling\nConnect RPi & mh-z19 as:\n\n- 5V on RPi and Vin on mh-z19\n- GND(0v) on RPi and GND on mh-z19\n- TxD and RxD are connected to cross between RPi and mh-z18 \n\nFollowings are example of cabling, but you can free to use other 5v and 0v Pin on the RPi. \n\n![Cabling](https://camo.githubusercontent.com/3cd4c1b482ea902b7e66dca13d4260193c831a63/68747470733a2f2f63616d6f2e716969746175736572636f6e74656e742e636f6d2f313132616435666534316338326131363637316432383832303730333834313039633838363063632f36383734373437303733336132663266373136393639373436313264363936643631363736353264373337343666373236353265373333333265363136643631376136663665363137373733326536333666366432663330326633343336333533343334326633303338333233383333333033313334326433363338363433323264363333333634363532643331333633343334326433373633333836343339363233373632333633323636363432653661373036353637)\n\n```\npi@raspberrypi:~/mh-z19 $ gpio readall\n +-----+-----+---------+------+---+---Pi B+--+---+------+---------+-----+-----+\n | BCM | wPi |   Name  | Mode | V | Physical | V | Mode | Name    | wPi | BCM |\n +-----+-----+---------+------+---+----++----+---+------+---------+-----+-----+\n |     |     |    3.3v |      |   |  1 || 2  |   |      | 5v      |     |     |\n |   2 |   8 |   SDA.1 |   IN | 1 |  3 || 4  |   |      | 5v      |     |     |  <---- Vin\n |   3 |   9 |   SCL.1 |   IN | 1 |  5 || 6  |   |      | 0v      |     |     |  <---- Gnd\n |   4 |   7 | GPIO. 7 |   IN | 1 |  7 || 8  | 1 | ALT0 | TxD     | 15  | 14  |  <---- RxD\n |     |     |      0v |      |   |  9 || 10 | 1 | ALT0 | RxD     | 16  | 15  |  <---- TxD\n |  17 |   0 | GPIO. 0 |   IN | 0 | 11 || 12 | 0 | IN   | GPIO. 1 | 1   | 18  |\n |  27 |   2 | GPIO. 2 |   IN | 0 | 13 || 14 |   |      | 0v      |     |     |\n |  22 |   3 | GPIO. 3 |   IN | 0 | 15 || 16 | 0 | IN   | GPIO. 4 | 4   | 23  |\n |     |     |    3.3v |      |   | 17 || 18 | 0 | IN   | GPIO. 5 | 5   | 24  |\n |  10 |  12 |    MOSI |   IN | 0 | 19 || 20 |   |      | 0v      |     |     |\n |   9 |  13 |    MISO |   IN | 0 | 21 || 22 | 0 | IN   | GPIO. 6 | 6   | 25  |\n |  11 |  14 |    SCLK |   IN | 0 | 23 || 24 | 1 | IN   | CE0     | 10  | 8   |\n |     |     |      0v |      |   | 25 || 26 | 1 | IN   | CE1     | 11  | 7   |\n |   0 |  30 |   SDA.0 |   IN | 1 | 27 || 28 | 1 | IN   | SCL.0   | 31  | 1   |\n |   5 |  21 | GPIO.21 |   IN | 1 | 29 || 30 |   |      | 0v      |     |     |\n |   6 |  22 | GPIO.22 |   IN | 1 | 31 || 32 | 0 | IN   | GPIO.26 | 26  | 12  |\n |  13 |  23 | GPIO.23 |   IN | 0 | 33 || 34 |   |      | 0v      |     |     |\n |  19 |  24 | GPIO.24 |   IN | 0 | 35 || 36 | 0 | IN   | GPIO.27 | 27  | 16  |\n |  26 |  25 | GPIO.25 |   IN | 0 | 37 || 38 | 0 | IN   | GPIO.28 | 28  | 20  |\n |     |     |      0v |      |   | 39 || 40 | 0 | IN   | GPIO.29 | 29  | 21  |\n +-----+-----+---------+------+---+----++----+---+------+---------+-----+-----+\n | BCM | wPi |   Name  | Mode | V | Physical | V | Mode | Name    | wPi | BCM |\n +-----+-----+---------+------+---+---Pi B+--+---+------+---------+-----+-----+\n```\n\n## Watch CO2 concentration on your browser \n<img src=\"https://github.com/UedaTakeyuki/mh-z19/raw/master/pic/2018-11-20.11.23.19.png\" width=\"24%\">\n\n[MONITOR™](https://monitor3.uedasoft.com) is a free Remote Monitoring Service to show latest data on the web. You can see the current CO2 concentration value measured by your MH-Z19 device on your smartphone. For detail, please refer this [blog](https://monitorserviceatelierueda.blogspot.com/2018/11/how-to-measure-room-co2-concentration.html). \n\n\n## Calibration, Detection range settings, and ABC(Automatic Baseline Correction) logic on/off.\nFeatures about calibration (both MH-Z19 & MH-Z19B), detection range change (MH-Z19B) and ABC logic on/off(MH-Z19B) are implemented at version 0.2.1 or later.\n\nI'm afraid I've just only implemented these without test due to lack necessary devices and apparatus for the test, fx: standard concentration CO2 gas, also MH-Z19B module.\nIf you have these devices or apparatus and try to use these functions generously, I'm really appreciate your [issue report](https://github.com/UedaTakeyuki/mh-z19/issues) regardless result were positive or negative.\n\nFor detail please refer this [wiki](https://github.com/UedaTakeyuki/mh-z19/wiki/CALIBRATION-&-detection-range).\n\n## Undocumented response values of 0x86 command.\nThe [Revspace/MHZ19](https://revspace.nl/MHZ19#Command_0x86_.28read_concentration.29) shows values undocumented on the official datasheets([MH-Z19](https://www.winsen-sensor.com/d/files/PDF/Infrared%20Gas%20Sensor/NDIR%20CO2%20SENSOR/MH-Z19%20CO2%20Ver1.0.pdf), [MH-Z19B](https://www.winsen-sensor.com/d/files/MH-Z19B.pdf)). In accordance with this, **--all** option add these values in the return json value as follows:\n\n```bash:\nsudo python -m mh_z19 --all\n{\"SS\": 232, \"UhUl\": 10752, \"TT\": 61, \"co2\": 818, \"temperature\": 21}\n\nsudo python3 -m mh_z19 --all\n{\"TT\": 61, \"co2\": 807, \"SS\": 232, \"temperature\": 21, \"UhUl\": 10752}\n```\n\nor call **read_all()** function as follows:\n\n```\n>>> import mh_z19\n>>> mh_z19.read_all()\n{'SS': 232, 'UhUl': 10738, 'TT': 61, 'co2': 734, 'temperature': 21}\n>>> \n```\n\n## Use specific serial device.\nIn case you should use specific serial device insted of Raspberry Pi default serial device which this library automatically select, for example in case to need to use /dev/ttyUSB0 for **FT232 usb-serial converter** as [issue#12](https://github.com/UedaTakeyuki/mh-z19/issues/12), you can specify serial device by **--serial_device** option as follows:\n\n```\nsudo python -m mh_z19 --serial_device /dev/ttyUSB0\n```\n\n## How to use without root permission.\nSee this [wiki](https://github.com/UedaTakeyuki/mh-z19/wiki/How-to-use-without-root-permission.).\n\n## How to use in your program.\nSee this [wiki](https://github.com/UedaTakeyuki/mh-z19/wiki/How-to-use-in-your-program.).\n\n## PWM support.\nSee this [wiki](https://github.com/UedaTakeyuki/mh-z19/wiki/PWM-support.).\n\n## In case you can't get the value.\nEven if cabling seems no problem and uart seems to be prepateted well but you can't get sensor value. As [nincube8](https://github.com/nincube8) suggested that the [pull up](https://github.com/UedaTakeyuki/mh-z19/issues/22#issuecomment-683393350) by [1-5kΩ register](https://github.com/UedaTakeyuki/mh-z19/issues/26#issuecomment-744039360) can be working solution. Thank you [nincube8](https://github.com/nincube8)!\n\n## Q&A\nThe forum is avai at [here](https://groups.google.com/g/mh_z19-users). Any questions, suggestions, reports are welcome!\n\n## Blog\n- [How to Measure ROOM CO2 concentration with 20$ sensor \"MH-Z19\" and Raspberry Pi.](https://monitorserviceatelierueda.blogspot.com/2018/11/how-to-measure-room-co2-concentration.html)\n- [Monitoring all over the world with 3G Network for not more than 10$ monthly payment.](https://monitorserviceatelierueda.blogspot.com/2018/10/continuous-monitoring-all-over-world.html)\n- [How to make shareable SD card by Raspberry Pi & PC.](https://monitorserviceatelierueda.blogspot.com/2018/09/how-to-make-shareable-sd-card-by.html)\n\n## References\n\n- [MH-H19B DataSheet version 1.5](https://www.winsen-sensor.com/d/files/MH-Z19B.pdf)\n- [MH-H19 DataSheet version 1.0](https://www.winsen-sensor.com/d/files/PDF/Infrared%20Gas%20Sensor/NDIR%20CO2%20SENSOR/MH-Z19%20CO2%20Ver1.0.pdf)\n- [MH-H19B DataSheet version 1.0](https://www.winsen-sensor.com/d/files/infrared-gas-sensor/mh-z19b-co2-ver1_0.pdf)\n- [RevSpace](https://revspace.nl/MHZ19#Setting_the_measurement_range)\n\n## history\n- 0.1.1  2018.11.05  first version self-forked from [slider](https://github.com/UedaTakeyuki/slider).\n- 0.1.3  2018.11.06  fix Readme.\n- 0.1.4  2018.11.15  revise Readme.\n- 0.1.6  2018.11.29  revise Readme.\n- 0.2.1  2019.01.18  add followings without test (sorry)\n                       abc_on(), abc_off(), span_point_calibration(),\n\t\t\t\t\t\t\t\t\t\t\t xero_point_calibration(), detection_range_5000(),\n\t\t\t\t\t\t\t\t\t\t\t detection_range_2000(), checksum()\n- 0.3.5  2019.01.22  Both Python2 & Python3 support\n- 0.3.6  2019.01.22  Merge [Pull Request #3](https://github.com/UedaTakeyuki/mh-z19/pull/3) & [Pull Request #4](https://github.com/UedaTakeyuki/mh-z19/pull/4). Thanks [David](https://github.com/kostaldavid8)!\n- 0.3.7  2019.02.25  Add --all option which requested as [issue#5](https://github.com/UedaTakeyuki/mh-z19/issues/5), thanks [Rafał](https://github.com/rzarajczyk)!\n- 0.3.8  2019.04.16  Merge [Pull Request #7](https://github.com/UedaTakeyuki/mh-z19/pull/7). Thanks [Alexander](https://github.com/belibak)!\n- 0.3.8.5  2019.04.21  Merge [Pull Request #9](https://github.com/UedaTakeyuki/mh-z19/pull/9). Thanks [WO15](https://github.com/WO15)!\n- 0.3.9  2019.05.06  Revise the serial port selection logic. Support using **PL011** uart on Raspberry Pi **Model 3 and Zero W** which is selected by setting dtoverlay=**pi3-miniuart-bt** or dtoverlay=**pi3-disable-bt**. Thanks **片岡さん** for your kindly [report](https://qiita.com/yukataoka/items/a3b4065e8210b8f372ff) including this issue!\n- 0.4.1 2019.08.11 Add --serial_device option as solution of [issue#12](https://github.com/UedaTakeyuki/mh-z19/issues/12). Thanks [Actpohomoc](https://github.com/Actpohomoc) and [TBR-BRD](https://github.com/TBR-BRD)!\n- 0.5.1 2020.05.16 Add **--serial_console_untouched** option to support **execution without sudo** asked as [issue#17](https://github.com/UedaTakeyuki/mh-z19/issues/17). Thanks [ralphbe91](https://github.com/ralphbe91)!\n- 0.5.2 2020.06.30 Update the link for datasheet of MH-Z19B from version 1.0 to version 1.5 based be pointed it out as [issue#18](https://github.com/UedaTakeyuki/mh-z19/issues/18). Thanks [WO15](https://github.com/WO15)!\n- 0.6.1 2020.07.07 Add **--detection_range_10000** option to support **Set 0~10000ppm detection range** asked as [issue#19](https://github.com/UedaTakeyuki/mh-z19/issues/19). Thanks [WO15](https://github.com/WO15)!\n- 0.6.3 2020.08.27 Fix [issue#21](https://github.com/UedaTakeyuki/mh-z19/issues/21). Thanks [idegre](https://github.com/idegre)!\n- 3.0.0 2021.02.05 [PWM support](https://github.com/UedaTakeyuki/mh-z19/wiki/PWM-support.).\n- 3.0.1 2021.02.17 Fix a degradation of not running with python3. Thank you **Masahiko OHKUBO** san for your report.\n- 3.0.2 2021.03.25 Fix to support RPi4 correctly as [issue#29](https://github.com/UedaTakeyuki/mh-z19/issues/29). Thanks [iperniaf](https://github.com/iperniaf)!\n- 3.0.3 2021.11.08 Fix [issue#35](https://github.com/UedaTakeyuki/mh-z19/issues/35). Thanks [false](https://github.com/false-git)!\n- 3.0.4 2011.11.11 Fix [issue#36](https://github.com/UedaTakeyuki/mh-z19/issues/36). Thanks [David Bock](https://github.com/DavidBock)\n- 3.0.5 2022.01.01 Fix [issue#38](https://github.com/UedaTakeyuki/mh-z19/issues/38). Thanks [kzehnter](https://github.com/kzehnter)!\n- 3.1.0 2022.01.22 add ``--co2valueonly`` option by merging [issue#39](https://github.com/UedaTakeyuki/mh-z19/issues/39) and [issue#40](https://github.com/UedaTakeyuki/mh-z19/issues/40). Thanks [jonesthefox](https://github.com/jonesthefox)!\n- 3.1.1 2022.01.23 remove code clone.\n- 3.1.2 2022.01.31 Fix [issue#41](https://github.com/UedaTakeyuki/mh-z19/issues/41). Thanks [Christopher M. Pierce](https://github.com/electronsandstuff)!",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/UedaTakeyuki/mh-z19",
    "keywords": "sensor,IoT,Raspberry Pi,mh-z19,CO2",
    "license": "MIT",
    "maintainer": "",
    "maintainer_email": "",
    "name": "mh-z19",
    "package_url": "https://pypi.org/project/mh-z19/",
    "platform": "",
    "project_url": "https://pypi.org/project/mh-z19/",
    "project_urls": {
      "Homepage": "https://github.com/UedaTakeyuki/mh-z19"
    },
    "release_url": "https://pypi.org/project/mh-z19/3.1.2/",
    "requires_dist": null,
    "requires_python": "",
    "summary": "mh-z19 CO2 concentration sensor library for All models of Raspberry Pi",
    "version": "3.1.2",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 13005398,
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "7ffd39ff6e76794bfd0d631d7ff8ee89f00c97b0930bf2d0ea86c9e1313f48e3",
        "md5": "2660d0985864bbd1d39a8ad2a91e05d5",
        "sha256": "fbba6727ea6bcb78f64a1b67c3934ed34e1b81dc66b508b9480475b7798db4f8"
      },
      "downloads": -1,
      "filename": "mh_z19-3.1.2.tar.gz",
      "has_sig": false,
      "md5_digest": "2660d0985864bbd1d39a8ad2a91e05d5",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": null,
      "size": 13180,
      "upload_time": "2022-01-31T12:00:08",
      "upload_time_iso_8601": "2022-01-31T12:00:08.708390Z",
      "url": "https://files.pythonhosted.org/packages/7f/fd/39ff6e76794bfd0d631d7ff8ee89f00c97b0930bf2d0ea86c9e1313f48e3/mh_z19-3.1.2.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}