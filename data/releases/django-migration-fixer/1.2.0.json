{
  "info": {
    "author": "Tonye Jack",
    "author_email": "jtonye@ymail.com",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 5 - Production/Stable",
      "Framework :: Django :: 1.11",
      "Framework :: Django :: 2.0",
      "Framework :: Django :: 2.1",
      "Framework :: Django :: 2.2",
      "Framework :: Django :: 3.0",
      "Framework :: Django :: 3.1",
      "Framework :: Django :: 3.2",
      "Intended Audience :: Developers",
      "License :: OSI Approved :: MIT License",
      "Natural Language :: English",
      "Programming Language :: Python :: 3.10",
      "Programming Language :: Python :: 3.6",
      "Programming Language :: Python :: 3.7",
      "Programming Language :: Python :: 3.8",
      "Programming Language :: Python :: 3.9",
      "Programming Language :: Python :: Implementation :: CPython",
      "Programming Language :: Python :: Implementation :: PyPy"
    ],
    "description": "![logo](https://user-images.githubusercontent.com/17484350/124649379-6821ad00-de66-11eb-9b0e-890913c65311.png)\n\n[![Codacy Badge](https://app.codacy.com/project/badge/Coverage/1e607eb508f64cefad18f50d6ff920cf)](https://www.codacy.com/gh/tj-django/django-migration-fixer/dashboard?utm_source=github.com\\&utm_medium=referral\\&utm_content=tj-django/django-migration-fixer\\&utm_campaign=Badge_Coverage) [![codecov](https://codecov.io/gh/tj-django/django-migration-fixer/branch/main/graph/badge.svg?token=peNs0PpfP6)](https://codecov.io/gh/tj-django/django-migration-fixer)\n[![Total alerts](https://img.shields.io/lgtm/alerts/g/tj-django/django-migration-fixer.svg?logo=lgtm\\&logoWidth=18)](https://lgtm.com/projects/g/tj-django/django-migration-fixer/alerts/) [![Language grade: Python](https://img.shields.io/lgtm/grade/python/g/tj-django/django-migration-fixer.svg?logo=lgtm\\&logoWidth=18)](https://lgtm.com/projects/g/tj-django/django-migration-fixer/context:python) [![Codacy Badge](https://app.codacy.com/project/badge/Grade/1e607eb508f64cefad18f50d6ff920cf)](https://www.codacy.com/gh/tj-django/django-migration-fixer/dashboard?utm_source=github.com\\&utm_medium=referral\\&utm_content=tj-django/django-migration-fixer\\&utm_campaign=Badge_Grade)\n\n[![Test](https://github.com/tj-django/django-migration-fixer/actions/workflows/test.yml/badge.svg)](https://github.com/tj-django/django-migration-fixer/actions/workflows/test.yml) [![Upload Python Package](https://github.com/tj-django/django-migration-fixer/actions/workflows/deploy.yml/badge.svg)](https://github.com/tj-django/django-migration-fixer/actions/workflows/deploy.yml) [![Run linters](https://github.com/tj-django/django-migration-fixer/actions/workflows/lint.yml/badge.svg)](https://github.com/tj-django/django-migration-fixer/actions/workflows/lint.yml) [![Updates](https://pyup.io/repos/github/tj-django/django-migration-fixer/shield.svg)](https://pyup.io/repos/github/tj-django/django-migration-fixer/) [![Code style: black](https://img.shields.io/badge/code%20style-black-000000.svg)](https://github.com/psf/black)\n\n[![PyPI](https://img.shields.io/pypi/v/django-migration-fixer)](https://pypi.python.org/pypi/django-migration-fixer)\n[![PyPI - Python Version](https://img.shields.io/pypi/pyversions/django-migration-fixer)](https://pypi.python.org/pypi/django-migration-fixer) [![PyPI - Django Version](https://img.shields.io/pypi/djversions/django-migration-fixer)](https://pypi.python.org/pypi/django-migration-fixer) [![Downloads](https://pepy.tech/badge/django-migration-fixer)](https://pepy.tech/project/django-migration-fixer) [![Public workflows that use this action.](https://img.shields.io/endpoint?url=https%3A%2F%2Fapi-tj-actions1.vercel.app%2Fapi%2Fgithub-actions%2Fused-by%3Faction%3Dtj-django%2Fdjango-migration-fixer%26badge%3Dtrue)](https://github.com/search?o=desc\\&q=tj-django+django-migration-fixer+language%3AYAML\\&s=\\&type=Code)\n\n# django-migration-fixer\n\nResolve django makemigrations `multiple leaf nodes in the migration graph` by ensuring that migration files and dependencies are always ordered regardless of remote changes, without having to run `python manage.py makemigrations --merge`\n\n## Features\n\n*   100% test coverage.\n*   Maintain a consistent migration history when conflicts occur as a result of changes made using different versions of the target branch.\n*   Resolve migration conflicts on Pull Request branches\n*   Resolve migration conflicts on the default branch **(NOT RECOMMENDED)**\n*   Supports default migration modules i.e (`0001_....py`)\n*   Re-number all migrations using the last migration on the target branch.\n\n## Example\n\n#### After merging the default branch\n\n![Screen Shot 2021-07-06 at 2 21 46 PM](https://user-images.githubusercontent.com/17484350/124648930-d7e36800-de65-11eb-99a3-bf806ecfd32b.png)\n\n#### After running django-migration-fixer\n\n![Screen Shot 2021-07-06 at 2 22 31 PM](https://user-images.githubusercontent.com/17484350/124649105-0feaab00-de66-11eb-80f3-7987d67b361d.png)\n\n### Assumptions\n\nThe final migration on the default branch would be used as the base for all subsequent migrations.\n\n## Installation\n\n```bash\n$ pip install django-migration-fixer\n```\n\n#### Add `migration_fixer` to your INSTALLED_APPS\n\n```python\n\nINSTALLED_APPS = [\n    ...,\n    \"migration_fixer\",\n    ...,\n]\n\n```\n\n## Usage\n\n```bash\n$ python manage.py makemigrations --fix\n```\n\nBy default this uses `main` as the default branch\n\n### Specifying a different default branch\n\nRun:\n\n```bash\n$ python manage.py makemigrations -b master --fix\n```\n\n### Setup using Github Actions\n\n> NOTE: :warning:\n>\n> *   To get this action to work you'll need to install [django-migration-fixer](#installation) and update your `INSTALLED_APPS` setting.\n\n## Inputs\n\n|   Input       |    type     |  required      |  default                      |  description               |\n|:-------------:|:-----------:|:--------------:|:-----------------------------:|:--------------------------:|\n| managepy-path |  `string`   |    `true`     | `./manage.py`                  | The location of manage.py. |\n| default-branch |  `string`  |    `false`     |  `${{ github.base_ref }}`      |  The default branch or <br> target branch of a Pull request.  |\n| force-update |  `string`  |    `false`     |        |  Force update the target branch <br> locally when git fetch fails.  |\n\n```yaml\nname: Fix django migrations\n\non:\n  pull_request:\n    branches:\n      - main\n\njobs:\n  fix-migrations:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v2\n        with:\n          fetch-depth: 0\n\n      - name: Set up Python\n        uses: actions/setup-python@v2\n        with:\n          python-version: '3.6.x'\n\n      - name: Upgrade pip\n        run: |\n          pip install -U pip\n\n      - name: Install project dependencies\n        run: |\n          make install\n\n      - name: Run django-migration-fixer\n        uses: tj-django/django-migration-fixer@v1.2.0\n        with:\n          managepy-path: /path/to/manage.py\n\n      - name: Verify Changed files\n        uses: tj-actions/verify-changed-files@v7.1\n        id: verify-changed-files\n        with:\n          files: |\n             /path/to/migrations\n\n      - name: Commit migration changes\n        if: steps.verify-changed-files.outputs.files_changed == 'true'\n        run: |\n          git config --local user.email \"github-actions[bot]@users.noreply.github.com\"\n          git config --local user.name \"github-actions[bot]\"\n          git add /path/to/migrations\n          git commit -m \"Update migrations\"\n\n      - name: Push migration changes\n        if: steps.verify-changed-files.outputs.files_changed == 'true'\n        uses: ad-m/github-push-action@master\n        with:\n          github_token: ${{ secrets.GITHUB_TOKEN }}\n          branch: ${{ github.ref }}\n```\n\nSee: https://github.com/tj-django/django-clone for a working example.\n\n## Test Platforms\n\n*   [`ubuntu-*`](https://docs.github.com/en/actions/reference/workflow-syntax-for-github-actions#jobsjob_idruns-on)\n*   [`macos-*`](https://docs.github.com/en/actions/reference/workflow-syntax-for-github-actions#jobsjob_idruns-on)\n*   [`windows-*`](https://docs.github.com/en/actions/reference/workflow-syntax-for-github-actions#jobsjob_idruns-on)\n\n## Found a Bug?\n\nTo file a bug or submit a patch, please head over to [django-migration-fixer on github](https://github.com/tj-django/django-migration-fixer/issues).\n\nIf you feel generous and want to show some extra appreciation:\n\nSupport me with a :star:\n\n[![Buy me a coffee][buymeacoffee-shield]][buymeacoffee]\n\n[buymeacoffee]: https://www.buymeacoffee.com/jackton1\n\n[buymeacoffee-shield]: https://www.buymeacoffee.com/assets/img/custom_images/orange_img.png\n\n\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/tj-django/django-migration-fixer",
    "keywords": "migration fixer,django migrations,django migrations fixer,migrations auto fix,migrations fix,migrations conflict resolver,django migrations,django migrations autofix",
    "license": "MIT license",
    "maintainer": "",
    "maintainer_email": "",
    "name": "django-migration-fixer",
    "package_url": "https://pypi.org/project/django-migration-fixer/",
    "platform": "",
    "project_url": "https://pypi.org/project/django-migration-fixer/",
    "project_urls": {
      "Documentation": "https://tj-django.github.io/django-migration-fixer",
      "Homepage": "https://github.com/tj-django/django-migration-fixer",
      "Source": "https://github.com/tj-django/django-migration-fixer"
    },
    "release_url": "https://pypi.org/project/django-migration-fixer/1.2.0/",
    "requires_dist": [
      "django",
      "GitPython",
      "typing-extensions (>=3.10.0.0)",
      "bump2version ; extra == 'deploy'",
      "readme-renderer[md] ; extra == 'deploy'",
      "django ; extra == 'development'",
      "GitPython ; extra == 'development'",
      "typing-extensions (>=3.10.0.0) ; extra == 'development'",
      "bump2version ; extra == 'development'",
      "readme-renderer[md] ; extra == 'development'",
      "pytest (>=3) ; extra == 'development'",
      "pytest-django ; extra == 'development'",
      "pytest-mock ; extra == 'development'",
      "pytest-git ; extra == 'development'",
      "tox ; extra == 'development'",
      "tox-gh-actions ; extra == 'development'",
      "coverage ; extra == 'development'",
      "flake8 ; extra == 'development'",
      "yamllint ; extra == 'development'",
      "isort ; extra == 'development'",
      "black ; extra == 'development'",
      "mypy ; extra == 'development'",
      "mkdocs (==1.2.2) ; extra == 'docs'",
      "mkautodoc ; extra == 'docs'",
      "portray (==1.7.0) ; extra == 'docs'",
      "flake8 ; extra == 'lint'",
      "yamllint ; extra == 'lint'",
      "isort ; extra == 'lint'",
      "black ; extra == 'lint'",
      "mypy ; extra == 'lint'",
      "pytest (>=3) ; extra == 'test'",
      "pytest-django ; extra == 'test'",
      "pytest-mock ; extra == 'test'",
      "pytest-git ; extra == 'test'",
      "tox ; extra == 'test'",
      "tox-gh-actions ; extra == 'test'",
      "coverage ; extra == 'test'"
    ],
    "requires_python": ">=3.6",
    "summary": "Resolve migration errors",
    "version": "1.2.0",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 15270415,
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "ad6381f26d9e719e18a2fd7df6047433f54527e7dc91fd940681fe4f03fe440c",
        "md5": "10892ae5663cb35fcc69550b73422afb",
        "sha256": "853e615640ea3c0ae750b9ab5abc4ee1e02e57f32f1622c4b886f221752871f5"
      },
      "downloads": -1,
      "filename": "django_migration_fixer-1.2.0-py2.py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "10892ae5663cb35fcc69550b73422afb",
      "packagetype": "bdist_wheel",
      "python_version": "py2.py3",
      "requires_python": ">=3.6",
      "size": 14677,
      "upload_time": "2021-08-08T11:41:15",
      "upload_time_iso_8601": "2021-08-08T11:41:15.960623Z",
      "url": "https://files.pythonhosted.org/packages/ad/63/81f26d9e719e18a2fd7df6047433f54527e7dc91fd940681fe4f03fe440c/django_migration_fixer-1.2.0-py2.py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "e2a690230cf0a4d934486a171aa21e3483a7f93add62eee44ddb32becf8f1e7c",
        "md5": "8488411c9dfd98def6cda80603efbad3",
        "sha256": "556506ea37775c22d5f757a0be0f9c93b4a6e425e6d667e472a02bd128e947eb"
      },
      "downloads": -1,
      "filename": "django-migration-fixer-1.2.0.tar.gz",
      "has_sig": false,
      "md5_digest": "8488411c9dfd98def6cda80603efbad3",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": ">=3.6",
      "size": 12451,
      "upload_time": "2021-08-08T11:41:18",
      "upload_time_iso_8601": "2021-08-08T11:41:18.019333Z",
      "url": "https://files.pythonhosted.org/packages/e2/a6/90230cf0a4d934486a171aa21e3483a7f93add62eee44ddb32becf8f1e7c/django-migration-fixer-1.2.0.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}