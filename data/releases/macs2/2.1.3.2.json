{
  "info": {
    "author": "Tao Liu",
    "author_email": "vladimir.liu@gmail.com",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 5 - Production/Stable",
      "Environment :: Console",
      "Intended Audience :: Developers",
      "Intended Audience :: Science/Research",
      "License :: OSI Approved :: BSD License",
      "Operating System :: MacOS :: MacOS X",
      "Operating System :: POSIX",
      "Programming Language :: Cython",
      "Programming Language :: Python :: 2 :: Only",
      "Topic :: Scientific/Engineering :: Bio-Informatics"
    ],
    "description": "# Recent Changes for MACS (2.1.3.2)\n\n### 2.1.3.2\n\t* Features added\n\n\t1) Support Docker auto-deploy. PR #309\n\n\t2) Support Travis CI auto-testing, update unit-testing\n\tscripts, and enable subcommand testing on small datasets.\n\n\t3) Update README documents. #297 PR #306\n\n\t4) `cmbreps` supports more than 2 replicates. Merged from PR #304\n\t@Maarten-vd-Sande and PR #307 (our own chi-sq test code)\n\n\t5) `--d-min` option is added in `callpeak` and `predictd`, to\n\texclude predictions of fragment size smaller than the given\n\tvalue. Merged from PR #267 @shouldsee.\n\n\t6) `--buffer-size` option is added in `predictd`, `filterdup`,\n\t`pileup` and `refinepeak` subcommands. Users can use this option\n\tto decrease memory usage while there are a large number of contigs\n\tin the data. Also, now `callpeak`, `predictd`, `filterdup`,\n\t`pileup` and `refinepeak` will suggest users to tweak\n\t`--buffer-size` while catching a MemoryError. #313 PR #314\n\n\t* Bugs fixed\n\n\t1) #265 Fixed a bug where the pseudocount hasn't been applied\n\twhile calculating p-value score in ScoreTrack object.\n\n\t2) Fixed bdgbroadcall so that it will report those broad peaks\n\twithout strong peak inside, a consistent behavior as `callpeak\n\t--broad`.\n\n\t3) Rename COPYING to LICENSE.\n\n\n### 2.1.2\n\n\t* New features\n\n\t1) Added missing BEDPE support. And enable the support for BAMPE\n\tand BEDPE formats in 'pileup', 'filterdup' and 'randsample'\n\tsubcommands. When format is BAMPE or BEDPE, The 'pileup' command\n\twill pile up the whole fragment defined by mapping locations of\n\tthe left end and right end of each read pair. Thank @purcaro\n\n\t2) Added options to callpeak command for tweaking max-gap and\n\tmin-len during peak calling. Thank @jsh58!\n\n\t3) The callpeak option \"--to-large\" option is replaced with\n\t\"--scale-to large\".\n\n\t4) The randsample option \"-t\" has been replaced with \"-i\".\n\n\t* Bug fixes\n\n\t1) Fixed memory issue related to #122 and #146\n\n\t2) Fixed a bug caused by a typo. Related to #249, Thank @shengqh\n\n\t3) Fixed a bug while setting commandline qvalue cutoff.\n\n\t4) Better describe the 5th column of narrowPeak. Thank @alexbarrera\n\n\t5) Fixed the calculation of average fragment length for paired-end\n\tdata. Thank @jsh58\n\n\t6) Fixed bugs caused by khash while computing p/q-value and log\n\tlikelihood ratios. Thank @jsh58\n\n    7) More spelling tweaks in source code. Thank @mr-c\n\n# README for MACS2 (2.1.3.2)\n\n## Introduction\n\nWith the improvement of sequencing techniques, chromatin\nimmunoprecipitation followed by high throughput sequencing (ChIP-Seq)\nis getting popular to study genome-wide protein-DNA interactions. To\naddress the lack of powerful ChIP-Seq analysis method, we presented a\nnovel algorithm, named Model-based Analysis of ChIP-Seq (MACS), for\nidentifying transcript factor binding sites. MACS captures the\ninfluence of genome complexity to evaluate the significance of\nenriched ChIP regions, and MACS improves the spatial resolution of\nbinding sites through combining the information of both sequencing tag\nposition and orientation. MACS can be easily used for ChIP-Seq data\nalone, or with control sample with the increase of specificity.\n\n## Install\n\nPlease check the file 'INSTALL' in the distribution.\n\n## Usage\n\n```\nmacs2 [-h] [--version]\n    {callpeak,bdgpeakcall,bdgbroadcall,bdgcmp,bdgopt,cmbreps,bdgdiff,filterdup,predictd,pileup,randsample,refinepeak}\n```\n\nExample for regular peak calling: `macs2 callpeak -t ChIP.bam -c Control.bam -f BAM -g hs -n test -B -q 0.01`\n\nExample for broad peak calling: `macs2 callpeak -t ChIP.bam -c Control.bam --broad -g hs --broad-cutoff 0.1`\n\nThere are twelve functions available in MAC2S serving as sub-commands.\n\nSubcommand | Description\n-----------|----------\n`callpeak` |  Main MACS2 Function to call peaksfrom alignment results.\n`bdgpeakcall` | Call peaks from bedGraph output. \n`bdgbroadcall` | Call broad peaks from bedGraph output.\n`bdgcmp` | Comparing two signal tracks in bedGraph format.\n`bdgopt` | Operate the score column of bedGraph file. \n`cmbreps` | Combine BEDGraphs of scores from replicates. \n`bdgdiff` | Differential peak detection based on paired four bedgraph files. \n`filterdup` | Remove duplicate reads, then save in BED/BEDPE format.\n`predictd` | Predict d or fragment size from alignment results.\n`pileup` | Pileup aligned reads (single end) or fragments (paired-end)\n`randsample` | Randomly choose a number/percentage of total reads.\n`refinepeak` | Take raw reads alignment, refine peak summits.\n\nWe only cover `callpeak` module in this document. Please use `macs2\nCOMMAND -h` to see the detail description for each option of each\nmodule.\n\n### Call peaks\n\nThis is the main function in MACS2. It can be invoked by 'macs2\ncallpeak' command. If you type this command without parameters, you\nwill see a full description of commandline options. Here we only list\nthe essential options.\n\n#### Essential Options\n\n##### `-t/--treatment FILENAME`\n\nThis is the only REQUIRED parameter for MACS. File can be in any\nsupported format specified by --format option. Check --format for\ndetail. If you have more than one alignment files, you can specify\nthem as `-t A B C`. MACS will pool up all these files together.\n\n##### `-c/--control`\n\nThe control or mock data file. Please follow the same direction as for\n-t/--treatment.\n\n##### `-n/--name`\n\nThe name string of the experiment. MACS will use this string NAME to\ncreate output files like `NAME_peaks.xls`, `NAME_negative_peaks.xls`,\n`NAME_peaks.bed` , `NAME_summits.bed`, `NAME_model.r` and so on. So\nplease avoid any confliction between these filenames and your\nexisting files.\n\n##### `--outdir`\n\nMACS2 will save all output files into speficied folder for this\noption.\n\n##### `-f/--format FORMAT`\n\nFormat of tag file, can be `ELAND`, `BED`, `ELANDMULTI`,\n`ELANDEXPORT`, `ELANDMULTIPET` (for pair-end tags), `SAM`, `BAM`,\n`BOWTIE`, `BAMPE` or `BEDPE`. Default is `AUTO` which will allow MACS\nto decide the format automatically. `AUTO` is also usefule when you\ncombine different formats of files. Note that MACS can't detect\n`BAMPE` or `BEDPE` format with `AUTO`, and you have to implicitly\nspecify the format for `BAMPE` and `BEDPE`.\n\nNowadays, the most common formats are BED or BAM/SAM. \n\n###### BED\nThe BED format can be found at [UCSC genome browser website](http://genome.ucsc.edu/FAQ/FAQformat#format1).\n\nThe essential columns in BED format input are the 1st column\n`chromosome name`, the 2nd `start position`, the 3rd `end position`,\nand the 6th, `strand`.\n\nNote that, for BED format, the 6th column of strand information is\nrequired by MACS. And please pay attention that the coordinates in BED\nformat is zero-based and half-open\n(http://genome.ucsc.edu/FAQ/FAQtracks#tracks1).\n\n###### BAM/SAM\n\nIf the format is BAM/SAM, please check the definition in\n(http://samtools.sourceforge.net/samtools.shtml).  If the BAM file is\ngenerated for paired-end data, MACS will only keep the left mate(5'\nend) tag. However, when format BAMPE is specified, MACS will use the\nreal fragments inferred from alignment results for reads pileup.\n\n###### BEDPE or BAMPE\n\nA special mode will be triggered while format is specified as\n'BAMPE' or 'BEDPE'. In this way, MACS2 will process the BAM or BED\nfiles as paired-end data. Instead of building bimodal distribution of\nplus and minus strand reads to predict fragment size, MACS2  will\nuse actual insert sizes of pairs of reads to build fragment\npileup.\n\nThe BAMPE format is just BAM format containing paired-end alignment\ninformation, such as those from BWA or BOWTIE. \n\nThe BEDPE format is a simplified and more flexible BED format, which\nonly contains the first three columns defining the chromosome name,\nleft and right position of the fragment from Paired-end\nsequencing. Please note, this is NOT the same format used by BEDTOOLS,\nand BEDTOOLS version of BEDPE is actually not in a standard BED\nformat. You can use MACS2 subcommand `randsample` to convert a BAM\nfile containing paired-end information to a BEDPE format file:\n\n```\nmacs2 randsample -i the_BAMPE_file.bam -f BAMPE -p 100 -o the_BEDPE_file.bed\n```\n\n##### `-g/--gsize`\n\nPLEASE assign this parameter to fit your needs!\n\nIt's the mappable genome size or effective genome size which is\ndefined as the genome size which can be sequenced. Because of the\nrepetitive features on the chromsomes, the actual mappable genome size\nwill be smaller than the original size, about 90% or 70% of the genome\nsize. The default hs -- 2.7e9 is recommended for UCSC human hg18\nassembly. Here are all precompiled parameters for effective genome\nsize:\n\n * hs: 2.7e9\n * mm: 1.87e9\n * ce: 9e7\n * dm: 1.2e8\n\nUsers may want to use k-mer tools to simulate mapping of Xbps long\nreads to target genome, and to find the ideal effective genome\nsize. However, usually by taking away the simple repeats and Ns from\nthe total genome, one can get an approximate number of effective\ngenome size. Slight difference of the number won't cause big\ndifference of peak calls, because this number is used to estimate a\ngenome-wide noise level which is usually the least signficant one\ncompared with the *local biases* modeled by MACS.\n\n##### `-s/--tsize`\n\nThe size of sequencing tags. If you don't specify it, MACS will try to\nuse the first 10 sequences from your input treatment file to determine\nthe tag size. Specifying it will override the automatically determined\ntag size.\n\n##### `-q/--qvalue`\n\nThe qvalue (minimum FDR) cutoff to call significant regions. Default\nis 0.05. For broad marks, you can try 0.05 as cutoff. Q-values are\ncalculated from p-values using Benjamini-Hochberg procedure.\n\n##### `-p/--pvalue`\n\nThe pvalue cutoff. If -p is specified, MACS2 will use pvalue instead\nof qvalue.\n\n##### `--min-length`, `--max-gap`\n\nThese two options can be used to fine-tune the peak calling behavior by specifying the minimum length of a called peak and the maximum allowed gap between two nearby regions to be merged. In another word, a called peak has to be longer than *min-length*, and if the distance between two nearby peaks is smaller than *max-gap* then they will be merged as one. If they are not set, MACS2 will set the DEFAULT value for *min-length* as the predicted fragment size d, and the DEFAULT value for *max-gap* as the detected read length. Note, if you set a *min-length* value smaller than the fragment size, it may have NO effect on the result. For BROAD peak calling, try to set a\nlarge value such as 500bps. You can also use '--cutoff-analysis' option with default setting, and check the column 'avelpeak' under different cutoff values to decide a reasonable *min-length* value.\n\n##### `--nolambda`\n\nWith this flag on, MACS will use the background lambda as local\nlambda. This means MACS will not consider the local bias at peak\ncandidate regions.\n\n##### `--slocal`, `--llocal`\n\nThese two parameters control which two levels of regions will be\nchecked around the peak regions to calculate the maximum lambda as\nlocal lambda. By default, MACS considers 1000bp for small local\nregion(`--slocal`), and 10000bps for large local region(`--llocal`)\nwhich captures the bias from a long range effect like an open\nchromatin domain. You can tweak these according to your\nproject. Remember that if the region is set too small, a sharp spike\nin the input data may kill the significant peak.\n\n##### `--nomodel`\n\nWhile on, MACS will bypass building the shifting model.\n\n##### `--extsize`\n\nWhile `--nomodel` is set, MACS uses this parameter to extend reads in\n5'->3' direction to fix-sized fragments. For example, if the size of\nbinding region for your transcription factor is 200 bp, and you want\nto bypass the model building by MACS, this parameter can be set\nas 200. This option is only valid when `--nomodel` is set or when MACS\nfails to build model and `--fix-bimodal` is on.\n\n##### `--shift`\n\nNote, this is NOT the legacy `--shiftsize` option which is replaced by\n`--extsize`! You can set an arbitrary shift in bp here. Please Use\ndiscretion while setting it other than default value (0). When\n`--nomodel` is set, MACS will use this value to move cutting ends (5')\nthen apply `--extsize` from 5' to 3' direction to extend them to\nfragments. When this value is negative, ends will be moved toward\n3'->5' direction, otherwise 5'->3' direction. Recommended to keep it\nas default 0 for ChIP-Seq datasets, or -1 * half of EXTSIZE together\nwith --extsize option for detecting enriched cutting loci such as\ncertain DNAseI-Seq datasets. Note, you can't set values other than 0\nif format is BAMPE or BEDPE for paired-end data. Default is 0.\n\nHere are some examples for combining `--shift` and `--extsize`:\n\n1. To find enriched cutting sites such as some DNAse-Seq datasets. In\nthis case, all 5' ends of sequenced reads should be extended in both\ndirection to smooth the pileup signals. If the wanted smoothing window\nis 200bps, then use `--nomodel --shift -100 --extsize 200`.\n\n2. For certain nucleosome-seq data, we need to pileup the centers of\nnucleosomes using a half-nucleosome size for wavelet analysis\n(e.g. NPS algorithm). Since the DNA wrapped on nucleosome is about\n147bps, this option can be used: `--nomodel --shift 37 --extsize 73`.\n\n##### `--keep-dup`\n\nIt controls the MACS behavior towards duplicate tags at the exact same\nlocation -- the same coordination and the same strand. The default\n'auto' option makes MACS calculate the maximum tags at the exact same\nlocation based on binomal distribution using 1e-5 as pvalue cutoff;\nand the 'all' option keeps every tags.  If an integer is given, at\nmost this number of tags will be kept at the same location. The\ndefault is to keep one tag at the same location. Default: 1\n\n##### `--broad`\n\nWhen this flag is on, MACS will try to composite broad regions in\nBED12 ( a gene-model-like format ) by putting nearby highly enriched\nregions into a broad region with loose cutoff. The broad region is\ncontrolled by another cutoff through `--broad-cutoff`. The maximum\nlength of broad region length is 4 times of d from MACS. DEFAULT:\nFalse\n\n##### `--broad-cutoff`\n\nCutoff for broad region. This option is not available unless --broad\nis set. If -p is set, this is a pvalue cutoff, otherwise, it's a\nqvalue cutoff.  DEFAULT: 0.1\n\n##### `--scale-to <large|small>`\n\nWhen set to \"large\", linearly scale the smaller dataset to the same\ndepth as larger dataset. By default or being set as \"small\", the\nlarger dataset will be scaled towards the smaller dataset. Beware, to\nscale up small data would cause more false positives.\n\n##### `-B/--bdg`\n\nIf this flag is on, MACS will store the fragment pileup, control\nlambda in bedGraph files. The bedGraph files will be stored in current\ndirectory named `NAME_treat_pileup.bdg` for treatment data,\n`NAME_control_lambda.bdg` for local lambda values from control.\n\n##### `--call-summits`\n\nMACS will now reanalyze the shape of signal profile (p or q-score\ndepending on cutoff setting) to deconvolve subpeaks within each peak\ncalled from general procedure. It's highly recommended to detect\nadjacent binding events. While used, the output subpeaks of a big\npeak region will have the same peak boundaries, and different scores\nand peak summit positions.\n\n##### `--buffer-size`\n\nMACS uses a buffer size for incrementally increasing internal array\nsize to store reads alignment information for each chromosome or\ncontig. To increase the buffer size, MACS can run faster but will\nwaste more memory if certain chromosome/contig only has very few\nreads. In most cases, the default value 100000 works fine. However, if\nthere are large number of chromosomes/contigs in your alignment and\nreads per chromosome/contigs are few, it's recommended to specify a\nsmaller buffer size in order to decrease memory usage (but it will\ntake longer time to read alignment files). Minimum memory requested\nfor reading an alignment file is about # of CHROMOSOME * BUFFER_SIZE *\n8 Bytes. DEFAULT: 100000\n\n#### Output files\n\n1. `NAME_peaks.xls` is a tabular file which contains information about\n   called peaks. You can open it in excel and sort/filter using excel\n   functions. Information include:\n   \n    - chromosome name\n    - start position of peak\n    - end position of peak\n    - length of peak region\n    - absolute peak summit position\n    - pileup height at peak summit\n    - -log10(pvalue) for the peak summit (e.g. pvalue =1e-10, then this value should be 10)\n    - fold enrichment for this peak summit against random Poisson distribution with local lambda, \n    - -log10(qvalue) at peak summit\n   \n   Coordinates in XLS is 1-based which is different with BED format. When `--broad` is enabled for broad peak calling, the pileup, pvalue, qvalue, and fold change in the XLS file will be the mean value across the entire peak region, since peak summit won't be called in broad peak calling mode. \n\n2. `NAME_peaks.narrowPeak` is BED6+4 format file which contains the\n   peak locations together with peak summit, pvalue and qvalue. You\n   can load it to UCSC genome browser. Definition of some specific\n   columns are: \n   \n   - 5th: integer score for display. It's calculated as `int(-10*log10pvalue)` or `int(-10*log10qvalue)` depending on whether `-p` (pvalue) or `-q` (qvalue) is used as score cutoff. Please note that currently this value might be out of the [0-1000] range defined in [UCSC Encode narrowPeak format](https://genome.ucsc.edu/FAQ/FAQformat.html#format12). You can let the value saturated at 1000 (i.e. p/q-value = 10^-100) by using the following 1-liner awk: `awk -v OFS=\"\\t\" '{$5=$5>1000?1000:$5} {print}' NAME_peaks.narrowPeak`\n   - 7th: fold-change at peak summit\n   - 8th: -log10pvalue at peak summit\n   - 9th: -log10qvalue at peak summit\n   - 10th: relative summit position to peak start\n   \n   The file can be loaded directly to UCSC genome browser. Remove the beginning track line if you want to\n   analyze it by other tools.\n\n3. `NAME_summits.bed` is in BED format, which contains the peak\n   summits locations for every peaks. The 5th column in this file is\n   the same as NAME_peaks.narrowPeak. If you want to find the motifs\n   at the binding sites, this file is recommended. The file can be\n   loaded directly to UCSC genome browser. Remove the beginning track\n   line if you want to analyze it by other tools.\n\n4. `NAME_peaks.broadPeak` is in BED6+3 format which is similar to\n   narrowPeak file, except for missing the 10th column for annotating\n   peak summits. This file and the `gappedPeak` file will only be \n   available when `--broad` is enabled. Since in the broad peak calling\n   mode, the peak summit won't be called, the values in the 5th, and \n   7-9th columns are the mean value over all positions in the peak region. \n\n5. `NAME_peaks.gappedPeak` is in BED12+3 format which contains both the\n   broad region and narrow peaks. The 5th column is 10*-log10qvalue,\n   to be more compatible to show grey levels on UCSC browser. Tht 7th\n   is the start of the first narrow peak in the region, and the 8th\n   column is the end. The 9th column should be RGB color key, however,\n   we keep 0 here to use the default color, so change it if you\n   want. The 10th column tells how many blocks including the starting\n   1bp and ending 1bp of broad regions. The 11th column shows the\n   length of each blocks, and 12th for the starts of each blocks. 13th:\n   fold-change, 14th: -log10pvalue, 15th: -log10qvalue. The file can be\n   loaded directly to UCSC genome browser. \n\n6. `NAME_model.r` is an R script which you can use to produce a PDF\n   image about the model based on your data. Load it to R by:\n\n   `$ Rscript NAME_model.r`\n\n   Then a pdf file `NAME_model.pdf` will be generated in your current\n   directory. Note, R is required to draw this figure.\n\n7. The `NAME_treat_pileup.bdg` and `NAME_control_lambda.bdg` files are\n   in bedGraph format which can be imported to UCSC genome browser or\n   be converted into even smaller bigWig files. The\n   `NAME_treat_pielup.bdg` contains the pileup signals (normalized\n   according to `--scale-to` option) from ChIP/treatment sample. The\n   `NAME_control_lambda.bdg` contains local biases estimated for each\n   genomic locations from control sample, or from treatment sample\n   when control sample is absent. The subcommand `bdgcmp` can be used\n   to compare these two files and make bedGraph file of scores such as\n   p-value, q-value, log likelihood, and log fold changes.\n\n## Other useful links\n\n * [Cistrome](http://cistrome.org/ap/)\n * [bedTools](http://code.google.com/p/bedtools/)\n * [UCSC toolkits](http://hgdownload.cse.ucsc.edu/admin/exe/)\n\n## Tips of fine-tuning peak calling\n\nThere are several subcommands within MACSv2 package to fine-tune or customize your analysis:\n\n1. `bdgcmp` can be used on `*_treat_pileup.bdg` and\n   `*_control_lambda.bdg` or bedGraph files from other resources\n   to calculate score track.\n\n2. `bdgpeakcall` can be used on `*_treat_pvalue.bdg` or the file\n   generated from bdgcmp or bedGraph file from other resources to\n   call peaks with given cutoff, maximum-gap between nearby mergable\n   peaks and minimum length of peak. bdgbroadcall works similarly to\n   bdgpeakcall, however it will output `_broad_peaks.bed` in BED12\n   format.\n\n3. Differential calling tool -- `bdgdiff`, can be used on 4 bedgraph\n   files which are scores between treatment 1 and control 1,\n   treatment 2 and control 2, treatment 1 and treatment 2, treatment\n   2 and treatment 1. It will output the consistent and unique sites\n   according to parameter settings for minimum length, maximum gap\n   and cutoff.\n\n4. You can combine subcommands to do a step-by-step peak\n   calling. Read detail at [MACS2 wikipage](https://github.com/taoliu/MACS/wiki/Advanced%3A-Call-peaks-using-MACS2-subcommands)",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "http://github.com/taoliu/MACS/",
    "keywords": "",
    "license": "",
    "maintainer": "",
    "maintainer_email": "",
    "name": "MACS2",
    "package_url": "https://pypi.org/project/MACS2/",
    "platform": "",
    "project_url": "https://pypi.org/project/MACS2/",
    "project_urls": {
      "Homepage": "http://github.com/taoliu/MACS/"
    },
    "release_url": "https://pypi.org/project/MACS2/2.1.3.2/",
    "requires_dist": null,
    "requires_python": "",
    "summary": "Model Based Analysis for ChIP-Seq data",
    "version": "2.1.3.2",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 7002241,
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "3523a86785997b32c5d309555eb1ca2c4ef20c823c64f4318eb96a2ed56eae2d",
        "md5": "9b8712eebc326909c86fddb23b4f6fd0",
        "sha256": "4efd298e9ed7b689c07cef57e0dfc55b3e95359dee28903ce5f183926baab875"
      },
      "downloads": -1,
      "filename": "MACS2-2.1.3.2.tar.gz",
      "has_sig": false,
      "md5_digest": "9b8712eebc326909c86fddb23b4f6fd0",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": null,
      "size": 1843828,
      "upload_time": "2019-09-20T18:18:34",
      "upload_time_iso_8601": "2019-09-20T18:18:34.329739Z",
      "url": "https://files.pythonhosted.org/packages/35/23/a86785997b32c5d309555eb1ca2c4ef20c823c64f4318eb96a2ed56eae2d/MACS2-2.1.3.2.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}