{
  "info": {
    "author": "Ming Chen",
    "author_email": "mockey.chen@gmail.com",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 5 - Production/Stable",
      "Environment :: Web Environment",
      "Framework :: Django",
      "Intended Audience :: Developers",
      "License :: OSI Approved :: MIT License",
      "Natural Language :: English",
      "Operating System :: OS Independent",
      "Topic :: Internet :: WWW/HTTP"
    ],
    "description": "Django CAS NG\n=============\n\n.. image:: https://travis-ci.org/mingchen/django-cas-ng.svg?branch=master\n    :target: https://travis-ci.org/mingchen/django-cas-ng\n\n\n``django-cas-ng`` is Central Authentication Service (CAS) client implementation.\nThis project inherits from `django-cas`_ (which has not been updated since\nApril 2013). The NG stands for \"next generation\". Our fork will include\nbugfixes and new features contributed by the community.\n\n\nFeatures\n--------\n\n- Supports CAS_ versions 1.0, 2.0 and 3.0.\n- `Support Single Sign Out`_\n- Can fetch Proxy Granting Ticket\n- Supports Django 1.5, 1.6, 1.7 with `User custom model`_\n- Most probably it will work with Django 1.8 too (some of our developers use it\n  with this version), but we don't run automated tests to confirm that (yet).\n- Supports Python 2.7, 3.x\n\n\nInstallation\n------------\n\nInstall with `pip`_::\n\n    pip install django-cas-ng\n\n\nInstall the latest code::\n\n    pip install https://github.com/mingchen/django-cas-ng/archive/master.zip\n\n\nInstall from source code::\n\n    python setup.py install\n\n\nSettings\n--------\n\nNow add it to the middleware, authentication backends and installed apps in your settings.\nMake sure you also have the authentication middleware installed.\nHere's an example::\n\n    INSTALLED_APPS = (\n        'django.contrib.admin',\n        'django.contrib.auth',\n        'django.contrib.contenttypes',\n        'django.contrib.sessions',\n        'django.contrib.messages',\n        'django.contrib.staticfiles',\n        'django_cas_ng',\n        ...\n    )\n\n    MIDDLEWARE_CLASSES = (\n        'django.middleware.common.CommonMiddleware',\n        'django.contrib.sessions.middleware.SessionMiddleware',\n        'django.contrib.auth.middleware.AuthenticationMiddleware',\n        ...\n    )\n\n    AUTHENTICATION_BACKENDS = (\n        'django.contrib.auth.backends.ModelBackend',\n        'django_cas_ng.backends.CASBackend',\n    )\n\nSet the following required setting in ``settings.py``:\n\n* ``CAS_SERVER_URL``: This is the only setting you must explicitly define.\n   Set it to the base URL of your CAS source (e.g. https://account.example.com/cas/).\n\nOptional settings include:\n\n* ``CAS_ADMIN_PREFIX``: The URL prefix of the Django administration site.\n  If undefined, the CAS middleware will check the view being rendered to\n  see if it lives in ``django.contrib.admin.views``.\n* ``CAS_CREATE_USER``: Create a user when the CAS authentication is successful.\n  The default is ``True``.\n* ``CAS_LOGIN_MSG``: Welcome message send via the messages framework upon\n  successful authentication. Take the user login as formatting argument.\n  The default is ``\"Login succeeded. Welcome, %s.\"`` or some translation of it\n  if you have enabled django internationalization (``USE_I18N = True``)\n  You cas disable it by setting this parametter to ``None``\n* ``CAS_LOGGED_MSG``: Welcome message send via the messages framework upon\n  authentication attempt if the user is already authenticated.\n  Take the user login as formatting argument.\n  The default is ``\"You are logged in as %s.\"`` or some translation of it\n  if you have enabled django internationalization (``USE_I18N = True``)\n  You cas disable it by setting this parametter to ``None``\n* ``CAS_EXTRA_LOGIN_PARAMS``: Extra URL parameters to add to the login URL\n  when redirecting the user. Example::\n\n    CAS_EXTRA_LOGIN_PARAMS = {'renew': true}\n\n  If you need these parameters to be dynamic, then we recommend to implement\n  a wrapper for our default login view (the same can be done in case of the\n  logout view). See an example in the section below.\n\n* ``CAS_RENEW``: whether pass ``renew`` parameter on login and verification\n  of ticket to enforce that the login is made with a fresh username and password\n  verification in the CAS server. Default is ``False``.\n* ``CAS_IGNORE_REFERER``: If ``True``, logging out of the application will\n  always send the user to the URL specified by ``CAS_REDIRECT_URL``.\n* ``CAS_LOGOUT_COMPLETELY``: If ``False``, logging out of the application\n  won't log the user out of CAS as well.\n* ``CAS_REDIRECT_URL``: Where to send a user after logging in or out if\n  there is no referrer and no next page set. Default is ``/``.\n* ``CAS_RETRY_LOGIN``: If ``True`` and an unknown or invalid ticket is\n  received, the user is redirected back to the login page.\n* ``CAS_VERSION``: The CAS protocol version to use. ``'1'`` and ``'2'`` are\n  supported, with ``'2'`` being the default.\n* ``CAS_USERNAME_ATTRIBUTE``: The CAS user name attribute from response. The default is ``uid``.\n* ``CAS_PROXY_CALLBACK``: The full url to the callback view if you want to\n  retrive a Proxy Granting Ticket\n\nMake sure your project knows how to log users in and out by adding these to\nyour URL mappings::\n\n    (r'^accounts/login$', 'django_cas_ng.views.login'),\n    (r'^accounts/logout$', 'django_cas_ng.views.logout'),\n\nYou should also add an URL mapping for the ``CAS_PROXY_CALLBACK`` settings::\n\n    (r'^accounts/callback$', 'django_cas_ng.views.callback'),\n\n\nRun ``./manage.py syncdb`` to create Single Sign On and Proxy Granting Ticket tables.\nOn update you can just delete the ``django_cas_ng_sessionticket`` table and the\n``django_cas_ng_proxygrantingticket`` before calling ``./manage.py syncdb``.\n\nConsider running the command ``./manage.py django_cas_ng_clean_sessions`` on a regular basis\nright after the command ``./manage.py clearsessions`` cf `clearsessions`_.\nIt could be a good idea to put it in the crontab.\n\nUsers should now be able to log into your site using CAS.\n\nView-wrappers example\n---------------------\n\nThe ``settings.CAS_EXTRA_LOGIN_PARAMS`` allows you to define a static\ndictionary of extra parameters to be passed on to the CAS login page. But what\nif you want this dictionary to be dynamic (e.g. based on user session)?\n\nOur current advice is to implement simple wrappers for our default views, like\nthese ones:\n\n..  code-block:: python\n\n    from django_cas_ng import views as baseviews\n\n    @csrf_exempt\n    def login(request, **kwargs):\n        return _add_locale(request, baseviews.login(request, **kwargs))\n\n\n    def logout(request, **kwargs):\n        return _add_locale(request, baseviews.logout(request, **kwargs))\n\n\n    def _add_locale(request, response):\n        \"\"\"If the given HttpResponse is a redirect to CAS, then add the proper\n        `locale` parameter to it (and return the modified response). If not, simply\n        return the original response.\"\"\"\n\n        if (\n            isinstance(response, HttpResponseRedirect)\n            and response['Location'].startswith(settings.CAS_SERVER_URL)\n        ):\n            from ourapp.some_module import get_currently_used_language\n            url = response['Location']\n            url += '&' if '?' in url else '&'\n            url += \"locale=%s\" % get_currently_used_language(request)\n            response['Location'] = url\n        return response\n\n\nSignals\n-------\n\n``django_cas_ng.signals.cas_user_authenticated``\n\nSent on successful authentication, the ``CASBackend`` will fire the ``cas_user_authenticated`` signal.\n\n**Arguments sent with this signal**\n\n**sender**\n  The authentication backend instance that authenticated the user.\n\n**user**\n  The user instance that was just authenticated.\n\n**created**\n  Boolean as to whether the user was just created.\n\n**attributes**\n  Attributes returned during by the CAS during authentication.\n\n**ticket**\n  The ticket used to authenticate the user with the CAS.\n\n**service**\n  The service used to authenticate the user with the CAS.\n\n\nProxy Granting Ticket\n---------------------\n\nIf you want your application to be able to issue Proxy Ticket to authenticate against some other CAS application,\nsetup the CAS_PROXY_CALLBACK parameter.\nAllow on the CAS config django_cas_ng to act as a Proxy application.\nThen after a user has logged in using the CAS, you can retrieve a Proxy Ticket as follow:\n\n    from django_cas_ng.models import ProxyGrantingTicket\n\n    def my_pretty_view(request, ...):\n        proxy_ticket = ProxyGrantingTicket.retrieve_pt(request, service)\n\nwhere ``service`` is the service url for which you want a proxy ticket.\n\n\nInternationalization\n--------------------\n\nYou can contribute to the translation of welcome messages by running ``django-admin makemessages -l lang_code``\ninside of the django_cas_ng directory. Where ``lang_code`` is the language code for which you want to submit a\ntranslation. Then open the file ``django_cas_ng/locale/lang_code/LC_MESSAGES/django.po`` with a gettex translations\neditor (for example https://poedit.net/). Translate and save the file.\nThink to add ``django_cas_ng/locale/lang_code/LC_MESSAGES/django.po`` and ``django_cas_ng/locale/lang_code/LC_MESSAGES/django.mo``\nto your commit.\n\nTesting\n-------\n\nEvery code commit triggers a **travis-ci** build. checkout current build status at https://travis-ci.org/mingchen/django-cas-ng\n\nTesting is managed by ``pytest`` and ``tox``.\nBefore run install, you need install required packages for testing::\n\n    pip install -r requirements-dev.txt\n\n\nTo run testing on locally::\n\n    py.test\n\n\nTo run all testing on all enviroments locally::\n\n    tox\n\n\nContribution\n------------\n\nContributions are welcome!\n\nIf you would like to contribute this project.\nPlease feel free to fork and send pull request.\nPlease make sure tests are passed.\nAlso welcome to add your name to **Credits** section of this document.\n\nNew code should follow both `PEP8`_ and the `Django coding style`_.\n\n\nCredits\n-------\n\n* `django-cas`_\n* `Stefan Horomnea`_\n* `Piotr Buliński`_\n* `Piper Merriam`_\n* `Nathan Brown`_\n* `Jason Brownbridge`_\n* `Bryce Groff`_\n* `Jeffrey P Gill`_\n* `timkung1`_\n* `Domingo Yeray Rodríguez Martín`_\n* `Rayco Abad-Martín`_\n* `Édouard Lopez`_\n* `Guillaume Vincent`_\n* `Wojciech Rygielski`_\n* `Valentin Samir`_\n* `Alexander Kavanaugh`_\n\nReferences\n----------\n\n* `django-cas`_\n* `CAS protocol`_\n* `Jasig CAS server`_\n\n.. _CAS: https://www.apereo.org/cas\n.. _CAS protocol: https://www.apereo.org/cas/protocol\n.. _Support Single Sign Out: https://wiki.jasig.org/display/casum/single+sign+out\n.. _django-cas: https://bitbucket.org/cpcc/django-cas\n.. _clearsessions: https://docs.djangoproject.com/en/1.8/topics/http/sessions/#clearing-the-session-store\n.. _pip: http://www.pip-installer.org/\n.. _PEP8: http://www.python.org/dev/peps/pep-0008\n.. _Django coding style: https://docs.djangoproject.com/en/dev/internals/contributing/writing-code/coding-style\n.. _User custom model: https://docs.djangoproject.com/en/1.5/topics/auth/customizing/\n.. _Jasig CAS server: http://jasig.github.io/cas\n.. _Piotr Buliński: https://github.com/piotrbulinski\n.. _Stefan Horomnea: https://github.com/choosy\n.. _Piper Merriam: https://github.com/pipermerriam\n.. _Nathan Brown: https://github.com/tsitra\n.. _Jason Brownbridge: https://github.com/jbrownbridge\n.. _Bryce Groff: https://github.com/bgroff\n.. _Jeffrey P Gill: https://github.com/jpg18\n.. _timkung1: https://github.com/timkung1\n.. _Domingo Yeray Rodríguez Martín: https://github.com/dyeray\n.. _Rayco Abad-Martín: https://github.com/Rayco\n.. _Édouard Lopez: https://github.com/edouard-lopez\n.. _Guillaume Vincent: https://github.com/guillaumevincent\n.. _Wojciech Rygielski: https://github.com/wrygiel\n.. _Valentin Samir: https://github.com/nitmir\n.. _Alexander Kavanaugh: https://github.com/kavdev",
    "description_content_type": null,
    "docs_url": null,
    "download_url": "https://github.com/mingchen/django-cas-ng/releases",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/mingchen/django-cas-ng",
    "keywords": "django,cas,cas2,cas3,client,sso,single sign-on,authentication,auth",
    "license": "BSD",
    "maintainer": null,
    "maintainer_email": null,
    "name": "django-cas-ng",
    "package_url": "https://pypi.org/project/django-cas-ng/",
    "platform": "UNKNOWN",
    "project_url": "https://pypi.org/project/django-cas-ng/",
    "project_urls": {
      "Download": "https://github.com/mingchen/django-cas-ng/releases",
      "Homepage": "https://github.com/mingchen/django-cas-ng"
    },
    "release_url": "https://pypi.org/project/django-cas-ng/3.5.0/",
    "requires_dist": null,
    "requires_python": null,
    "summary": "CAS 1.0/2.0 client authentication backend for Django (inherited from django-cas)",
    "version": "3.5.0",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 12516815,
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "7431df013e5a2b9399f3edcac963afc76838b6b26ddac035dad7660a11f7d7ca",
        "md5": "e9698eca3b11aa48e944e4e55db43c4c",
        "sha256": "2defd37b002233b2e09c5c7d29392f9c2c31e86e8d024dfe9b9460ecf8982e78"
      },
      "downloads": -1,
      "filename": "django-cas-ng-3.5.0.tar.gz",
      "has_sig": false,
      "md5_digest": "e9698eca3b11aa48e944e4e55db43c4c",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": null,
      "size": 13433,
      "upload_time": "2015-11-08T17:00:10",
      "upload_time_iso_8601": "2015-11-08T17:00:10.891973Z",
      "url": "https://files.pythonhosted.org/packages/74/31/df013e5a2b9399f3edcac963afc76838b6b26ddac035dad7660a11f7d7ca/django-cas-ng-3.5.0.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}