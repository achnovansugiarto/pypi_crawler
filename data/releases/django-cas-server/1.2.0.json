{
  "info": {
    "author": "Valentin Samir",
    "author_email": "valentin.samir@crans.org",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 5 - Production/Stable",
      "Environment :: Web Environment",
      "Framework :: Django",
      "Framework :: Django :: 1.11",
      "Framework :: Django :: 2.0",
      "Framework :: Django :: 2.1",
      "Framework :: Django :: 2.2",
      "Framework :: Django :: 3.0",
      "Intended Audience :: Developers",
      "Intended Audience :: System Administrators",
      "License :: OSI Approved :: GNU General Public License v3 (GPLv3)",
      "Operating System :: OS Independent",
      "Programming Language :: Python",
      "Programming Language :: Python :: 2",
      "Programming Language :: Python :: 2.7",
      "Programming Language :: Python :: 3",
      "Programming Language :: Python :: 3.5",
      "Programming Language :: Python :: 3.6",
      "Programming Language :: Python :: 3.7",
      "Programming Language :: Python :: 3.8",
      "Topic :: Internet :: WWW/HTTP",
      "Topic :: Internet :: WWW/HTTP :: Dynamic Content",
      "Topic :: Software Development :: Libraries :: Python Modules",
      "Topic :: System :: Systems Administration :: Authentication/Directory"
    ],
    "description": "CAS Server\n##########\n\n|travis| |coverage| |licence| |github_version| |pypi_version| |codacy| |doc|\n\nCAS Server is a Django application implementing the `CAS Protocol 3.0 Specification\n<https://apereo.github.io/cas/4.2.x/protocol/CAS-Protocol-Specification.html>`_.\n\nBy default, the authentication process uses django internal users but you can easily\nuse any source (see the `Authentication backend`_ section and auth classes in the auth.py file)\n\n.. contents:: Table of Contents\n\nFeatures\n========\n\n* Support CAS version 1.0, 2.0, 3.0\n* Support Single Sign Out\n* Configuration of services via the Django Admin application\n* Fine control on which user's attributes are passed to which service\n* Possibility to rename/rewrite attributes per service\n* Possibility to require some attribute values per service\n* Federated mode between multiple CAS\n* Supports Django 1.11, 2.2 and 3.0\n* Supports Python 2.7, 3.5+\n\nDependencies\n============\n\n``django-cas-server`` depends on the following python packages:\n\n* Django >= 1.11 < 3.1\n* requests >= 2.4\n* requests_futures >= 0.9.5\n* lxml >= 3.4\n* six >= 1.8\n\nMinimal version of package dependencies are just indicative and means that ``django-cas-server`` has\nbeen tested with it. Previous versions of dependencies may or may not work.\n\nAdditionally, depending on the `Authentication backend`_ you plan to use, you may need the following\npython packages:\n\n* ldap3\n* psycopg2\n* mysql-python\n\n\nHere is a table with the name of python packages and the corresponding packages providing\nthem on debian like systems and centos like systems.\nYou should try as much as possible to use system packages as they are automatically updated when\nyou update your system. You can then install Not Available (N/A)\npackages on your system using pip3 inside a virtualenv as described in the `Installation`_ section.\nFor use with python2, just replace python3(6) in the table by python.\n\n+------------------+--------------------------+---------------------+\n| python package   | debian like systems      | centos like systems |\n+==================+==========================+=====================+\n| Django           | python3-django           | python36-django     |\n+------------------+--------------------------+---------------------+\n| requests         | python3-requests         | python36-requests   |\n+------------------+--------------------------+---------------------+\n| requests_futures | python3-requests-futures | N/A                 |\n+------------------+--------------------------+---------------------+\n| lxml             | python3-lxml             | python36-lxml       |\n+------------------+--------------------------+---------------------+\n| six              | python3-six              | python36-six        |\n+------------------+--------------------------+---------------------+\n| ldap3            | python3-ldap3            | python36-ldap3      |\n+------------------+--------------------------+---------------------+\n| psycopg2         | python3-psycopg2         | python36-psycopg2   |\n+------------------+--------------------------+---------------------+\n| mysql-python     | python3-mysqldb          | python36-mysql      |\n+------------------+--------------------------+---------------------+\n\nInstallation\n============\n\nThe recommended installation mode is to use a virtualenv with ``--system-site-packages``\n\n1. Make sure that python virtualenv is installed\n\n2. Install python packages available via the system package manager:\n\n   On debian like systems::\n\n    $ sudo apt-get install python3-django python3-requests python3-six python3-lxml python3-requests-futures\n\n   On debian jessie, you can use the version of python-django available in the\n   `backports <https://backports.debian.org/Instructions/>`_.\n\n   On centos like systems with epel enabled::\n\n    $ sudo yum install python36-django python36-requests python36-six python36-lxml\n\n3. Create a virtualenv::\n\n    $ virtualenv -p python3 --system-site-packages cas_venv\n\n4. And `activate it <https://virtualenv.pypa.io/en/stable/userguide/#activate-script>`__::\n\n    $ cd cas_venv/; . bin/activate\n\n5. Create a django project::\n\n   $ django-admin startproject cas_project\n   $ cd cas_project\n\n6. Install `django-cas-server`. To use the last published release, run::\n\n    $ pip install django-cas-server\n\n   Alternatively if you want to use the version of the git repository, you can clone it::\n\n    $ git clone https://github.com/nitmir/django-cas-server\n    $ cd django-cas-server\n    $ pip install -r requirements.txt\n\n   Then, either run ``make install`` to create a python package using the sources of the repository\n   and install it with pip, or place the ``cas_server`` directory into your\n   `PYTHONPATH <https://docs.python.org/2/using/cmdline.html#envvar-PYTHONPATH>`_\n   (for instance by symlinking ``cas_server`` to the root of your django project).\n\n7. Open ``cas_project/settings.py`` in your favourite editor and follow the quick start section.\n\n\nQuick start\n===========\n\n1. Add \"cas_server\" to your INSTALLED_APPS setting like this::\n\n    INSTALLED_APPS = (\n        'django.contrib.admin',\n        ...\n        'cas_server',\n    )\n\n   For internationalization support, add \"django.middleware.locale.LocaleMiddleware\"\n   to your MIDDLEWARE_CLASSES setting like this::\n\n    MIDDLEWARE_CLASSES = (\n        ...\n        'django.middleware.locale.LocaleMiddleware',\n        ...\n    )\n\n2. Include the cas_server URLconf in your project urls.py like this::\n\n    from django.conf.urls import url, include\n\n    urlpatterns = [\n        url(r'^admin/', admin.site.urls),\n        ...\n        url(r'^cas/', include('cas_server.urls', namespace=\"cas_server\")),\n    ]\n\n3. Run ``python manage.py migrate`` to create the cas_server models.\n\n\n4. You should add some management commands to a crontab: ``clearsessions``,\n   ``cas_clean_tickets`` and ``cas_clean_sessions``.\n\n   * ``clearsessions``:  please see `Clearing the session store <https://docs.djangoproject.com/en/stable/topics/http/sessions/#clearing-the-session-store>`_.\n   * ``cas_clean_tickets``: old tickets and timed-out tickets do not get purged from\n     the database automatically. They are just marked as invalid. ``cas_clean_tickets``\n     is a clean-up management command for this purpose. It sends SingleLogOut requests\n     to services with timed out tickets and deletes them.\n   * ``cas_clean_sessions``: Logout and purge users (sending SLO requests) that are\n     inactive more than ``SESSION_COOKIE_AGE``. The default value is ``1209600``\n     seconds (2 weeks). You probably should reduce it to something like ``86400`` seconds (1 day).\n\n   You could, for example, do as below::\n\n     0   0  * * * cas-user /path/to/project/manage.py clearsessions\n     */5 *  * * * cas-user /path/to/project/manage.py cas_clean_tickets\n     5   0  * * * cas-user /path/to/project/manage.py cas_clean_sessions\n\n5. Run ``python manage.py createsuperuser`` to create an administrator user.\n\n6. Start the development server and visit http://127.0.0.1:8000/admin/\n   to add a first service allowed to authenticate user against the CAS\n   (you'll need the Admin app enabled). See the `Service Patterns`_ section below.\n\n7. Visit http://127.0.0.1:8000/cas/ to login with your django users.\n\n\n\n\nSettings\n========\n\nAll settings are optional. Add them to ``settings.py`` to customize ``django-cas-server``:\n\n\nTemplate settings\n-----------------\n\n* ``CAS_LOGO_URL``: URL to the logo shown in the upper left corner on the default\n  template. Set it to ``False`` to disable it.\n* ``CAS_FAVICON_URL``: URL to the favicon (shortcut icon) used by the default templates.\n  Default is a key icon. Set it to ``False`` to disable it.\n* ``CAS_SHOW_POWERED``: Set it to ``False`` to hide the powered by footer. The default is ``True``.\n* ``CAS_COMPONENT_URLS``: URLs to css and javascript external components. It is a dictionary\n  having the five following keys: ``\"bootstrap3_css\"``, ``\"bootstrap3_js\"``,\n  ``bootstrap4_css``, ``bootstrap4_js``, ``\"html5shiv\"``, ``\"respond\"``, ``\"jquery\"``.\n  The default is::\n\n        {\n            \"bootstrap3_css\": \"//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css\",\n            \"bootstrap3_js\": \"//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js\",\n            \"html5shiv\": \"//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js\",\n            \"respond\": \"//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js\",\n            \"bootstrap4_css\": \"//stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css\",\n            \"bootstrap4_js\": \"//stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js\",\n            \"jquery\": \"//code.jquery.com/jquery.min.js\",\n        }\n\n  if you omit some keys of the dictionary, the default value for these keys is used.\n* ``CAS_SHOW_SERVICE_MESSAGES``: Messages displayed about the state of the service on the login page.\n  The default is ``True``.\n* ``CAS_INFO_MESSAGES``: Messages displayed in info-boxes on the html pages of the default templates.\n  It is a dictionary mapping message name to a message dict. A message dict has 3 keys:\n\n  * ``message``: A unicode message to display, potentially wrapped around ugettex_lazy\n  * ``discardable``: A boolean, specify if the users can close the message info-box\n  * ``type``: One of info, success, warning, danger. The type of the info-box.\n\n  ``CAS_INFO_MESSAGES`` contains by default one message, ``cas_explained``, which explains\n  roughly the purpose of a CAS. The default is::\n\n    {\n        \"cas_explained\": {\n            \"message\":_(\n                u\"The Central Authentication Service grants you access to most of our websites by \"\n                u\"authenticating only once, so you don't need to type your credentials again unless \"\n                u\"your session expires or you logout.\"\n            ),\n            \"discardable\": True,\n            \"type\": \"info\",  # one of info, success, warning, danger\n        },\n    }\n\n* ``CAS_INFO_MESSAGES_ORDER``: A list of message names. Order in which info-box messages are\n  displayed. Use an empty list to disable messages display. The default is ``[]``.\n* ``CAS_LOGIN_TEMPLATE``: Path to the template shown on ``/login`` when the user\n  is not autenticated.  The default is ``\"cas_server/bs4/login.html\"``.\n* ``CAS_WARN_TEMPLATE``: Path to the template shown on ``/login?service=...`` when\n  the user is authenticated and has asked to be warned before being connected\n  to a service. The default is ``\"cas_server/bs4/warn.html\"``.\n* ``CAS_LOGGED_TEMPLATE``: Path to the template shown on ``/login`` when the user is\n  authenticated. The default is ``\"cas_server/bs4/logged.html\"``.\n* ``CAS_LOGOUT_TEMPLATE``: Path to the template shown on ``/logout`` when the user\n  is being disconnected. The default is ``\"cas_server/bs4/logout.html\"``\n* ``CAS_REDIRECT_TO_LOGIN_AFTER_LOGOUT``: Should we redirect users to ``/login`` after they\n  logged out instead of displaying ``CAS_LOGOUT_TEMPLATE``. The default is ``False``.\n\nNote that the old bootstrap3 template is available in ``cas_server/bs3/``\n\n\nAuthentication settings\n-----------------------\n\n* ``CAS_AUTH_CLASS``: A dotted path to a class or a class implementing\n  ``cas_server.auth.AuthUser``. The default is ``\"cas_server.auth.DjangoAuthUser\"``\n  Available classes bundled with ``django-cas-server`` are listed below in the\n  `Authentication backend`_ section.\n\n* ``SESSION_COOKIE_AGE``: This is a django setting. Here, it controls the delay in seconds after\n  which inactive users are logged out. The default is ``1209600`` (2 weeks). You probably should\n  reduce it to something like ``86400`` seconds (1 day).\n\n* ``CAS_TGT_VALIDITY``: Max time after which the user MUST reauthenticate. Set it to `None` for no\n  max time. This can be used to force refreshing cached information only available upon user\n  authentication like the user attributes in federation mode or with the ldap auth in bind mode.\n  The default is ``None``.\n\n* ``CAS_PROXY_CA_CERTIFICATE_PATH``: Path to certificate authorities file. Usually on linux\n  the local CAs are in ``/etc/ssl/certs/ca-certificates.crt``. The default is ``True`` which\n  tells requests to use its internal certificate authorities. Setting it to ``False`` should\n  disable all x509 certificate validation and MUST not be done in production.\n  x509 certificate validation is performed upon PGT issuance.\n\n* ``CAS_SLO_MAX_PARALLEL_REQUESTS``: Maximum number of parallel single log out requests sent.\n  If more requests need to be sent, they are queued. The default is ``10``.\n\n* ``CAS_SLO_TIMEOUT``: Timeout for a single SLO request in seconds. The default is ``5``.\n\n\nFederation settings\n-------------------\n\n* ``CAS_FEDERATE``: A boolean for activating the federated mode (see the `Federation mode`_\n  section below). The default is ``False``.\n* ``CAS_FEDERATE_REMEMBER_TIMEOUT``: Time after which the cookie used for \"remember my identity\n  provider\" expire. The default is ``604800``, one week. The cookie is called\n  ``_remember_provider``.\n\n\nNew version warnings settings\n-----------------------------\n\n* ``CAS_NEW_VERSION_HTML_WARNING``: A boolean for diplaying a warning on html pages that a new\n  version of the application is avaible. Once closed by a user, it is not displayed to this user\n  until the next new version. The default is ``True``.\n* ``CAS_NEW_VERSION_EMAIL_WARNING``: A boolean for sending a email to ``settings.ADMINS`` when a new\n  version is available. The default is ``True``.\n\n\nTickets validity settings\n-------------------------\n\n* ``CAS_TICKET_VALIDITY``: Number of seconds the service tickets and proxy tickets are valid.\n  This is the maximal time between ticket issuance by the CAS and ticket validation by an\n  application. The default is ``60``.\n* ``CAS_PGT_VALIDITY``: Number of seconds the proxy granting tickets are valid.\n  The default is ``3600`` (1 hour).\n* ``CAS_TICKET_TIMEOUT``: Number of seconds a ticket is kept in the database before sending\n  Single Log Out request and being cleared. The default is ``86400`` (24 hours).\n\nTickets miscellaneous settings\n------------------------------\n\n* ``CAS_TICKET_LEN``: Default ticket length. All CAS implementations MUST support ST and PT\n  up to 32 chars, PGT and PGTIOU up to 64 chars and it is RECOMMENDED that all tickets up\n  to 256 chars are supported. Here the default is ``64``.\n* ``CAS_LT_LEN``: Length of the login tickets. Login tickets are only processed by ``django-cas-server``\n  thus there are no length restrictions on it. The default is ``CAS_TICKET_LEN``.\n* ``CAS_ST_LEN``: Length of the service tickets. The default is ``CAS_TICKET_LEN``.\n  You may need to lower it to ``32`` if you use some old clients.\n* ``CAS_PT_LEN``: Length of the proxy tickets. The default is ``CAS_TICKET_LEN``.\n  This length should be the same as ``CAS_ST_LEN``. You may need to lower it to ``32``\n  if you use some old clients.\n* ``CAS_PGT_LEN``: Length of the proxy granting tickets. The default is ``CAS_TICKET_LEN``.\n* ``CAS_PGTIOU_LEN``: Length of the proxy granting tickets IOU. The default is ``CAS_TICKET_LEN``.\n\n* ``CAS_LOGIN_TICKET_PREFIX``: Prefix of login tickets. The default is ``\"LT\"``.\n* ``CAS_SERVICE_TICKET_PREFIX``: Prefix of service tickets. The default is ``\"ST\"``.\n  The CAS specification mandates that service tickets MUST begin with the characters ST\n  so you should not change this.\n* ``CAS_PROXY_TICKET_PREFIX``: Prefix of proxy ticket. The default is ``\"PT\"``.\n* ``CAS_PROXY_GRANTING_TICKET_PREFIX``: Prefix of proxy granting ticket. The default is ``\"PGT\"``.\n* ``CAS_PROXY_GRANTING_TICKET_IOU_PREFIX``: Prefix of proxy granting ticket IOU. The default is ``\"PGTIOU\"``.\n\n\nMysql backend settings\n----------------------\nDeprecated, see the `Sql backend settings`_.\nOnly useful if you are using the mysql authentication backend:\n\n* ``CAS_SQL_HOST``: Host for the SQL server. The default is ``\"localhost\"``.\n* ``CAS_SQL_USERNAME``: Username for connecting to the SQL server.\n* ``CAS_SQL_PASSWORD``: Password for connecting to the SQL server.\n* ``CAS_SQL_DBNAME``: Database name.\n* ``CAS_SQL_DBCHARSET``: Database charset. The default is ``\"utf8\"``\n* ``CAS_SQL_USER_QUERY``: The query performed upon user authentication.\n  The username must be in field ``username``, the password in ``password``,\n  additional fields are used as the user attributes.\n  The default is ``\"SELECT user AS username, pass AS password, users.* FROM users WHERE user = %s\"``\n* ``CAS_SQL_PASSWORD_CHECK``: The method used to check the user password. Must be one of the following:\n\n  * ``\"crypt\"`` (see <https://en.wikipedia.org/wiki/Crypt_(C)>), the password in the database\n    should begin with $\n  * ``\"ldap\"`` (see https://tools.ietf.org/id/draft-stroeder-hashed-userpassword-values-01.html)\n    the password in the database must begin with one of {MD5}, {SMD5}, {SHA}, {SSHA}, {SHA256},\n    {SSHA256}, {SHA384}, {SSHA384}, {SHA512}, {SSHA512}, {CRYPT}.\n  * ``\"hex_HASH_NAME\"`` with ``HASH_NAME`` in md5, sha1, sha224, sha256, sha384, sha512.\n    The hashed password in the database is compared to the hexadecimal digest of the clear\n    password hashed with the corresponding algorithm.\n  * ``\"plain\"``, the password in the database must be in clear.\n\n  The default is ``\"crypt\"``.\n\n\nSql backend settings\n--------------------\nOnly useful if you are using the sql authentication backend. You must add a ``\"cas_server\"``\ndatabase to `settings.DATABASES <https://docs.djangoproject.com/en/stable/ref/settings/#std:setting-DATABASES>`__\nas defined in the django documentation. It is then the database\nused by the sql backend.\n\n* ``CAS_SQL_USER_QUERY``: The query performed upon user authentication.\n  The username must be in field ``username``, the password in ``password``,\n  additional fields are used as the user attributes.\n  The default is ``\"SELECT user AS username, pass AS password, users.* FROM users WHERE user = %s\"``\n* ``CAS_SQL_PASSWORD_CHECK``: The method used to check the user password. Must be one of the following:\n\n  * ``\"crypt\"`` (see <https://en.wikipedia.org/wiki/Crypt_(C)>), the password in the database\n    should begin with $\n  * ``\"ldap\"`` (see https://tools.ietf.org/id/draft-stroeder-hashed-userpassword-values-01.html)\n    the password in the database must begin with one of {MD5}, {SMD5}, {SHA}, {SSHA}, {SHA256},\n    {SSHA256}, {SHA384}, {SSHA384}, {SHA512}, {SSHA512}, {CRYPT}.\n  * ``\"hex_HASH_NAME\"`` with ``HASH_NAME`` in md5, sha1, sha224, sha256, sha384, sha512.\n    The hashed password in the database is compared to the hexadecimal digest of the clear\n    password hashed with the corresponding algorithm.\n  * ``\"plain\"``, the password in the database must be in clear.\n\n  The default is ``\"crypt\"``.\n* ``CAS_SQL_PASSWORD_CHARSET``: Charset the SQL users passwords was hash with. This is needed to\n  encode the user submitted password before hashing it for comparison. The default is ``\"utf-8\"``.\n\n\nLdap backend settings\n---------------------\nOnly useful if you are using the ldap authentication backend:\n\n* ``CAS_LDAP_SERVER``: Address of the LDAP server. The default is ``\"localhost\"``.\n* ``CAS_LDAP_USER``: User bind address, for example ``\"cn=admin,dc=crans,dc=org\"`` for\n  connecting to the LDAP server.\n* ``CAS_LDAP_PASSWORD``: Password for connecting to the LDAP server.\n* ``CAS_LDAP_BASE_DN``: LDAP search base DN, for example ``\"ou=data,dc=crans,dc=org\"``.\n* ``CAS_LDAP_USER_QUERY``: Search filter for searching user by username. User entered usernames are\n  escaped using ``ldap3.utils.conv.escape_bytes``. The default is ``\"(uid=%s)\"``\n* ``CAS_LDAP_USERNAME_ATTR``: Attribute used for user's usernames. The default is ``\"uid\"``\n* ``CAS_LDAP_PASSWORD_ATTR``: Attribute used for user's passwords. The default is ``\"userPassword\"``\n* ``CAS_LDAP_PASSWORD_CHECK``: The method used to check the user password. Must be one of the following:\n\n  * ``\"crypt\"`` (see <https://en.wikipedia.org/wiki/Crypt_(C)>), the password in the database\n    should begin with $\n  * ``\"ldap\"`` (see https://tools.ietf.org/id/draft-stroeder-hashed-userpassword-values-01.html)\n    the password in the database must begin with one of {MD5}, {SMD5}, {SHA}, {SSHA}, {SHA256},\n    {SSHA256}, {SHA384}, {SSHA384}, {SHA512}, {SSHA512}, {CRYPT}.\n  * ``\"hex_HASH_NAME\"`` with ``HASH_NAME`` in md5, sha1, sha224, sha256, sha384, sha512.\n    The hashed password in the database is compared to the hexadecimal digest of the clear\n    password hashed with the corresponding algorithm.\n  * ``\"plain\"``, the password in the database must be in clear.\n  * ``\"bind``, the user credentials are used to bind to the ldap database and retreive the user\n    attribute. In this mode, the settings ``CAS_LDAP_PASSWORD_ATTR`` and ``CAS_LDAP_PASSWORD_CHARSET``\n    are ignored, and it is the ldap server that performs the password check. The counterpart is that\n    the user attributes are only available upon user password check and so are cached for later\n    use. All the other modes directly fetch the user attributes from the database whenever they\n    are needed. This mean that is you use this mode, there can be some differences between the\n    attributes in database and the cached ones if changes happen in the database after the user\n    authentiates. See the parameter ``CAS_TGT_VALIDITY`` to force user to reauthenticate periodically.\n\n  The default is ``\"ldap\"``.\n* ``CAS_LDAP_PASSWORD_CHARSET``: Charset the LDAP users passwords was hashed with. This is needed to\n  encode the user submitted password before hashing it for comparison. The default is ``\"utf-8\"``.\n\n\nTest backend settings\n---------------------\nOnly useful if you are using the test authentication backend:\n\n* ``CAS_TEST_USER``: Username of the test user. The default is ``\"test\"``.\n* ``CAS_TEST_PASSWORD``: Password of the test user. The default is ``\"test\"``.\n* ``CAS_TEST_ATTRIBUTES``: Attributes of the test user. The default is\n  ``{'nom': 'Nymous', 'prenom': 'Ano', 'email': 'anonymous@example.net',\n  'alias': ['demo1', 'demo2']}``.\n\n\nAuthentication backend\n======================\n\n``django-cas-server`` comes with some authentication backends:\n\n* dummy backend ``cas_server.auth.DummyAuthUser``: all authentication attempts fail.\n* test backend ``cas_server.auth.TestAuthUser``: username, password and returned attributes\n  for the user are defined by the ``CAS_TEST_*`` settings.\n* django backend ``cas_server.auth.DjangoAuthUser``: Users are authenticated against django users system.\n  This is the default backend. The returned attributes are the fields available on the user model.\n* mysql backend ``cas_server.auth.MysqlAuthUser``: Deprecated, use the sql backend instead.\n  see the `Mysql backend settings`_ section. The returned attributes are those returned by sql query\n  ``CAS_SQL_USER_QUERY``.\n* sql backend ``cas_server.auth.SqlAuthUser``: see the `Sql backend settings`_ section.\n  The returned attributes are those returned by sql query ``CAS_SQL_USER_QUERY``.\n* ldap backend ``cas_server.auth.LdapAuthUser``: see the `Ldap backend settings`_ section.\n  The returned attributes are those of the ldap node returned by the query filter ``CAS_LDAP_USER_QUERY``.\n* federated backend ``cas_server.auth.CASFederateAuth``: It is automatically used when ``CAS_FEDERATE`` is ``True``.\n  You should not set it manually without setting ``CAS_FEDERATE`` to ``True``.\n\n\nLogs\n====\n\n``django-cas-server`` logs most of its actions. To enable login, you must set the ``LOGGING``\n(https://docs.djangoproject.com/en/stable/topics/logging) variable in ``settings.py``.\n\nUsers successful actions (login, logout) are logged with the level ``INFO``, failures are logged\nwith the level ``WARNING`` and user attributes transmitted to a service are logged with the level ``DEBUG``.\n\nFor example to log to syslog you can use :\n\n.. code-block:: python\n\n    LOGGING = {\n        'version': 1,\n        'disable_existing_loggers': False,\n        'formatters': {\n            'cas_syslog': {\n                'format': 'cas: %(levelname)s %(message)s'\n            },\n        },\n        'handlers': {\n            'cas_syslog': {\n                'level': 'INFO',\n                'class': 'logging.handlers.SysLogHandler',\n                'address': '/dev/log',\n                'formatter': 'cas_syslog',\n            },\n        },\n        'loggers': {\n            'cas_server': {\n                'handlers': ['cas_syslog'],\n                'level': 'INFO',\n                'propagate': True,\n            },\n        },\n    }\n\n\nOr to log to a file:\n\n.. code-block:: python\n\n    LOGGING = {\n        'version': 1,\n        'disable_existing_loggers': False,\n        'formatters': {\n            'cas_file': {\n                'format': '%(asctime)s %(levelname)s %(message)s'\n            },\n        },\n        'handlers': {\n            'cas_file': {\n                'level': 'INFO',\n                'class': 'logging.FileHandler',\n                'filename': '/tmp/cas_server.log',\n                'formatter': 'cas_file',\n            },\n        },\n        'loggers': {\n            'cas_server': {\n                'handlers': ['cas_file'],\n                'level': 'INFO',\n                'propagate': True,\n            },\n        },\n    }\n\nService Patterns\n================\n\nIn a CAS context, ``Service`` refers to the application the client is trying to access.\nBy extension we use ``service`` for the URL of such an application.\n\nBy default, ``django-cas-server`` does not allow any service to use the CAS to authenticate users.\nIn order to allow services, you need to connect to the django admin interface using a django\nsuperuser, and add a first service pattern.\n\nA service pattern comes with 9 fields:\n\n* ``Position``: an integer used to change the order in which services are matched against\n  service patterns.\n* ``Name``: the name of the service pattern. It will be displayed to the users asking for a ticket\n  for a service matching this service pattern on the login page.\n* ``Pattern``: a regular expression used to match services.\n* ``User field``: the user attribute to use as username for services matching this service pattern.\n  Leave it empty to use the login name.\n* ``Restrict username``: if checked, only login names defined below are allowed to get tickets\n  for services matching this service pattern.\n* ``Proxy``: if checked, allow the creation of Proxy Ticket for services matching this\n  service pattern. Otherwise, only Service Ticket will be created.\n* ``Proxy callback``: if checked, services matching this service pattern are allowed to retrieve Proxy\n  Granting Ticket. A service with a Proxy Granting Ticket can get Proxy Ticket for other services.\n  Hence you must only check this for trusted services that need it. (For instance, a webmail needs\n  Proxy Ticket to authenticate himself as the user to the imap server).\n* ``Single log out``: Check it to send Single Log Out requests to authenticated services matching\n  this service pattern. SLO requests are sent to all services the user is authenticated to when\n  the user disconnects.\n* ``Single log out callback``: The http(s) URL to POST the SLO requests. If empty, the service URL\n  is used. This field is useful to allow non http services (imap, smtp, ftp) to handle SLO requests.\n\nA service pattern has 4 associated models:\n\n* ``Usernames``: a list of username associated with the ``Restrict username`` field\n* ``Replace attribute names``: a list of user attributes to send to the service. Choose the name\n  used for sending the attribute by setting ``Replacement`` or leave it empty to leave it unchanged.\n* ``Replace attribute values``: a list of sent user attributes for which value needs to be tweaked.\n  Replace the attribute value by the string obtained by replacing the leftmost non-overlapping\n  occurrences of ``pattern`` in string by ``replace``. In ``replace`` backslash escapes are processed.\n  Matched groups are captured by \\1, \\2, etc.\n* ``Filter attribute values``: a list of user attributes for which value needs to match a regular\n  expression. For instance, service A may need an email address, and you only want user with\n  an email address to connect to it. To do so, put ``email`` in ``Attribute`` and ``.*`` in ``pattern``.\n\nWhen a user asks for a ticket for a service, the service URL is compared against each service pattern\nsorted by ``position``. The first service pattern that matches the service URL is chosen.\nHence, you should give low ``position`` to very specific patterns like\n``^https://www\\.example\\.com(/.*)?$`` and higher ``position`` to generic patterns like ``^https://.*``.\nSo the service URL ``https://www.examle.com`` will use the service pattern for\n``^https://www\\.example\\.com(/.*)?$`` and not the one for ``^https://.*``.\n\n\nFederation mode\n===============\n\n``django-cas-server`` comes with a federation mode. When ``CAS_FEDERATE`` is ``True``,\nusers are invited to choose an identity provider on the login page, then, they are redirected\nto the provider CAS to authenticate. This provider transmits to ``django-cas-server`` the user\nusername and attributes. The user is now logged in on ``django-cas-server`` and can use\nservices using ``django-cas-server`` as CAS.\n\nIn federation mode, the user attributes are cached upon user authentication. See the settings\n``CAS_TGT_VALIDITY`` to force users to reauthenticate periodically and allow ``django-cas-server``\nto refresh cached attributes.\n\nThe list of allowed identity providers is defined using the django admin application.\nWith the development server started, visit http://127.0.0.1:8000/admin/ to add identity providers.\n\nAn identity provider comes with 5 fields:\n\n* ``Position``: an integer used to tweak the order in which identity providers are displayed on\n  the login page. Identity providers are sorted using position first, then, on equal position,\n  using ``verbose name`` and then, on equal ``verbose name``, using ``suffix``.\n* ``Suffix``: the suffix that will be append to the username returned by the identity provider.\n  It must be unique.\n* ``Server url``: the URL to the identity provider CAS. For instance, if you are using\n  ``https://cas.example.org/login`` to authenticate on the CAS, the ``server url`` is\n  ``https://cas.example.org``\n* ``CAS protocol version``: the version of the CAS protocol to use to contact the identity provider.\n  The default is version 3.\n* ``Verbose name``: the name used on the login page to display the identity provider.\n* ``Display``: a boolean controlling the display of the identity provider on the login page.\n  Beware that this do not disable the identity provider, it just hide it on the login page.\n  User will always be able to log in using this provider by fetching ``/federate/provider_suffix``.\n\n\nIn federation mode, ``django-cas-server`` build user's username as follow:\n``provider_returned_username@provider_suffix``.\nChoose the provider returned username for ``django-cas-server`` and the provider suffix\nin order to make sense, as this built username is likely to be displayed to end users in\napplications.\n\n\nThen using federate mode, you should add one command to a daily crontab: ``cas_clean_federate``.\nThis command clean the local cache of federated user from old unused users.\n\n\nYou could for example do as below::\n\n  10   0  * * * cas-user /path/to/project/manage.py cas_clean_federate\n\n\n\n.. |travis| image:: https://badges.genua.fr/travis/nitmir/django-cas-server/master.svg\n    :target: https://travis-ci.org/nitmir/django-cas-server\n\n.. |pypi_version| image:: https://badges.genua.fr/pypi/v/django-cas-server.svg\n    :target: https://pypi.org/project/django-cas-server/\n\n.. |github_version| image:: https://badges.genua.fr/github/tag/nitmir/django-cas-server.svg?label=github\n    :target: https://github.com/nitmir/django-cas-server/releases/latest\n\n.. |licence| image:: https://badges.genua.fr/pypi/l/django-cas-server.svg\n    :target: https://www.gnu.org/licenses/gpl-3.0.html\n\n.. |codacy| image:: https://badges.genua.fr/codacy/grade/255c21623d6946ef8802fa7995b61366/master.svg\n    :target: https://www.codacy.com/app/valentin-samir/django-cas-server\n\n.. |coverage| image:: https://intranet.genua.fr/coverage/badge/django-cas-server/master.svg\n    :target: https://badges.genua.fr/coverage/django-cas-server/master\n\n.. |doc| image:: https://badges.genua.fr/local/readthedocs/?version=latest\n    :target: http://django-cas-server.readthedocs.io\n\n\n",
    "description_content_type": "",
    "docs_url": "https://pythonhosted.org/django-cas-server/",
    "download_url": "https://github.com/nitmir/django-cas-server/releases/latest",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/nitmir/django-cas-server",
    "keywords": "django,cas,cas3,server,sso,single sign-on,authentication,auth",
    "license": "GPLv3",
    "maintainer": "",
    "maintainer_email": "",
    "name": "django-cas-server",
    "package_url": "https://pypi.org/project/django-cas-server/",
    "platform": "",
    "project_url": "https://pypi.org/project/django-cas-server/",
    "project_urls": {
      "Download": "https://github.com/nitmir/django-cas-server/releases/latest",
      "Homepage": "https://github.com/nitmir/django-cas-server"
    },
    "release_url": "https://pypi.org/project/django-cas-server/1.2.0/",
    "requires_dist": [
      "Django (<3.1,>=1.11)",
      "lxml (>=3.4)",
      "requests (>=2.4)",
      "requests-futures (>=0.9.5)",
      "six (>=1)"
    ],
    "requires_python": "",
    "summary": "A Django Central Authentication Service server implementing the CAS Protocol 3.0 Specification",
    "version": "1.2.0",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 15440071,
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "3e2a03ba00cb4bfac7e7a9945780776c551a65bb6ef03431de2ea79f0dd7b536",
        "md5": "96ab2ef1daa37ec1735f9427a8632289",
        "sha256": "989ff87b943396faf0b8335a8e1a23f9ee225bbdb8f431db2e57cad8a51933a8"
      },
      "downloads": -1,
      "filename": "django_cas_server-1.2.0-py2.py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "96ab2ef1daa37ec1735f9427a8632289",
      "packagetype": "bdist_wheel",
      "python_version": "py2.py3",
      "requires_python": null,
      "size": 177451,
      "upload_time": "2020-07-05T14:22:35",
      "upload_time_iso_8601": "2020-07-05T14:22:35.502687Z",
      "url": "https://files.pythonhosted.org/packages/3e/2a/03ba00cb4bfac7e7a9945780776c551a65bb6ef03431de2ea79f0dd7b536/django_cas_server-1.2.0-py2.py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "bdba6f421d835f97380e1fc71edaa1cc7a4833db860fa325e779a9cdc1b31f06",
        "md5": "217fcb6c3dd591412eba1d041cf95f35",
        "sha256": "86c99a6cae7bd77013c0f19e8376ba5798f6b66662a7c48580cd9c4a39978744"
      },
      "downloads": -1,
      "filename": "django-cas-server-1.2.0.tar.gz",
      "has_sig": true,
      "md5_digest": "217fcb6c3dd591412eba1d041cf95f35",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": null,
      "size": 177230,
      "upload_time": "2020-07-05T14:22:37",
      "upload_time_iso_8601": "2020-07-05T14:22:37.969062Z",
      "url": "https://files.pythonhosted.org/packages/bd/ba/6f421d835f97380e1fc71edaa1cc7a4833db860fa325e779a9cdc1b31f06/django-cas-server-1.2.0.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}