{
  "info": {
    "author": "Jessy Williams",
    "author_email": "jessy@jessywilliams.com",
    "bugtrack_url": null,
    "classifiers": [],
    "description": "|licence| |pypi| |travis_ci| |api|\n\n\nmapi\n====\n\nmapi (**M**\\ etadata **API**) is a python library which provides a high-level interface for media database providers, allowing users to efficiently search for television and movie metadata using a simple interface.\n\n\nInstallation\n============\n\n`$ pip install mapi`\n\n\nExamples\n========\n\nSearching for a television show by series using TVDb\n----------------------------------------------------\n\nHere is a fairly straight forward example, say we just want to get a listing of episodes from\nRick and Morty season 2:\n\n>>> from mapi.providers import TVDb\n>>> client = TVDb()  # API Key taken from environment variables\n>>> results = client.search(series='Rick and Morty', season=2)\n>>> for result in results:\n>>>     print(result)\nRick and Morty - 02x01 - A Rickle in Time\nRick and Morty - 02x02 - Mortynight Run\nRick and Morty - 02x03 - Auto Erotic Assimilation\nRick and Morty - 02x04 - Total Rickall\nRick and Morty - 02x05 - Get Schwifty\nRick and Morty - 02x06 - The Ricks Must Be Crazy\nRick and Morty - 02x07 - Big Trouble in Little Sanchez\nRick and Morty - 02x08 - Interdimensional Cable 2: Tempting Fate\nRick and Morty - 02x09 - Look Who's Purging Now\nRick and Morty - 02x10 - The Wedding Squanchers\n\nMapi searches yield Metadata objects, which themselves are just MutableMappings which can be treated like regular old Python dictionaries. That being said, they overwrite `__str__` so that they get prettily printed as seen above. This can easily be overridden, however. Say we would rather use a SxxExx format:\n\n>>> from mapi.providers import TVDb\n>>> client = TVDb()  # API Key taken from environment variables\n>>> result = client.search(series='Adventure Time', season=5, episode=3)\n>>> print(next(result).format('<$series - >< - S$season><E$episode - >< - $title>'))\nAdventure Time - S05E03 - Five More Short Graybles\n\n\nYou can read more about the `format` method in the source documentation.\n\n\nSearching for a movie by title and year using IMDb\n--------------------------------------------------\n\nOkay, so no we want to look up some movies. We can search for using a specific year, by an upper range using '-year', by a lower range using 'year-', or between a range of years using 'year-year'. Lets use the latter to get a listing of Star Trek movies from the 90s. As it turns out, there's a lot.\n\n>>> from mapi.providers import IMDb\n>>> client = IMDb()\n>>> results = client.search(title='Star Trek', year='1990-1999')\n>>> for i, result in enumerate(results, 1):\n>>>     print('%d) %s' % (i, result))\n>>>     if i > 9: break\n1) Star Trek: Voyager (1995)\n2) Star Trek: First Contact (1996)\n3) Star Trek VI: The Undiscovered Country (1991)\n4) Star Trek: Generations (1994)\n5) Star Trek: Insurrection (1998)\n6) Star Trek: The Experience - The Klingon Encounter (1998)\n7) Journey's End: The Saga of Star Trek - The Next Generation (1994)\n8) Star Trek: 30 Years and Beyond (1996)\n9) Ultimate Trek: Star Trek's Greatest Moments (1999)\n10) Star Trek: A Captain's Log (1994)\n\nSearches return a generator, so by breaking on 10, we only ask for what we need, reducing the bandwidth and time required for the request.\n\n\nLooking up by ID\n----------------\n\nIf you just want to lookup metadata using an API Provider's ID code, you can do that too:\n\n>>> from pprint import pprint\n>>> from mapi.providers import TMDb\n>>> client = TMDb()\n>>> results = client.search(id_tmdb=9340)  # Using TMDb ID\n>>> pprint(dict(next(results)))\n{'date': '1985-06-06',\n 'id_tmdb': '9340',\n 'media': 'movie',\n 'synopsis': 'A young teenager named Mikey Walsh finds an old treasure map in '\n             \"his father's attic. Hoping to save their homes from demolition, \"\n             'Mikey and his friends Data Wang, Chunk Cohen, and Mouth '\n             'Devereaux run off on a big quest to find the secret stash of '\n             'Pirate One-Eyed Willie.',\n 'title': 'The Goonies'}\n\nSome APIs, like TMDb, allow you to search by an IMDb 'tt-const' as well:\n\n>>> results = client.search(id_imdb='tt0089218')  # Using IMDb ID\n>>> pprint(dict(next(results)))\n{'date': '1985-06-06',\n 'id_tmdb': 9340,\n 'media': 'movie',\n 'synopsis': 'A young teenager named Mikey Walsh finds an old treasure map in '\n             \"his father's attic. Hoping to save their homes from demolition, \"\n             'Mikey and his friends Data Wang, Chunk Cohen, and Mouth '\n             'Devereaux run off on a big quest to find the secret stash of '\n             'Pirate One-Eyed Willie.',\n 'title': 'The Goonies'}\n\n\nHandling a search gone awry\n---------------------------\n\nNot all searches yield results; maybe you had a typo, maybe the data just isn't there, either way \ntheres no need to fret, this can be handled gracefully using exception handling:\n\n>>> from mapi.providers import TMDb\n>>> client = TMDb()\n>>> try:\n>>>     print(next(client.search(id_imdb='invalid_id')))\n>>> except MapiNotFoundException:\n>>>     print('Nothing found :(')\nNone found :(\n\n\nUsage Details\n=============\n\nProvider Configuration\n----------------------\n\n- TVDb and TMDb require an API key to successfully be initialized\n- These can be provided using environment variables; API_KEY_TMDB and API_KEY_TVDB, respectively\n- These can also be provided as `api_key`, a parameter to the provider classes.\n\n\nSearching\n---------\n\nThe following table describes the permissible fields which may be used for a\ngiven search query. Extra fields are simply ignored.\n\n+----------+---------------------+-----------+------------------------+----------------------------+\n| Field    | API                 | Type      | Description            | Notes                      |\n+==========+=====================+===========+========================+============================+\n| id_imdb  | IMDb, TMDb, TVDb    | str       | IMDb movie id key      | [1]_ [2]_                  |\n+----------+---------------------+-----------+------------------------+----------------------------+\n| id_tmdb  | TMDb                | str / int | TMDb movie id key      | [2]_ [3]_                  |\n+----------+---------------------+-----------+------------------------+----------------------------+\n| id_tvdb  | TVDb series id key  | str / int | TVDb season id key     | [2]_ [3]_                  |\n+----------+---------------------+-----------+------------------------+----------------------------+\n| title    | IMDb, TMDb          | str       | Feature's title        |                            |\n+----------+---------------------+-----------+------------------------+----------------------------+\n| year     | IMDb, TMDb          | str / int | Feature's release year |                            |\n+----------+---------------------+-----------+------------------------+----------------------------+\n| series   | TVDb                | str       | Series' name           |                            |\n+----------+---------------------+-----------+------------------------+----------------------------+\n| season   | TVDb                | str / int | Series' airing season  |                            |\n+----------+---------------------+-----------+------------------------+----------------------------+\n| episode  | TVDb                | str / int | Series' airing episode | [3]_                       |\n+----------+---------------------+-----------+------------------------+----------------------------+\n\n\nResults\n-------\n\nEach provider is guaranteed to return the following fields for a successful\nsearch as strings. Notice that they are largely the fields as the search\nparameters-- in fact, you can even next search calls within each other if you\nso desire.\n\n+----------+------------+--------------------------------------------------------------------------+\n| Field    | API        | Description                                                              |\n+==========+============+==========================================================================+\n| id_imdb  | IMDb       | IMDb movie id key                                                        |\n+----------+------------+--------------------------------------------------------------------------+\n| id_tmdb  | TMDb       | TMDb movie id key                                                        |\n+----------+------------+--------------------------------------------------------------------------+\n| id_tvdb  | TVDb       | TVDb season id key                                                       |\n+----------+------------+--------------------------------------------------------------------------+\n| title    | IMDb, TMDb | Feature's title                                                          |\n+----------+------------+--------------------------------------------------------------------------+\n| date     | ALL        | Media's release date (YYYY-MM-DD)                                        |\n+----------+------------+--------------------------------------------------------------------------+\n| synopsis | ALL        | Media synopsis                                                           |\n+----------+------------+--------------------------------------------------------------------------+\n| media    | ALL        | Media type; either 'movie' or 'television'                               |\n+----------+------------+--------------------------------------------------------------------------+\n| series   | TVDb       | Series' name                                                             |\n+----------+------------+--------------------------------------------------------------------------+\n| season   | TVDb       | Series' airing season                                                    |\n+----------+------------+--------------------------------------------------------------------------+\n| episode  | TVDb       | Series' airing episode                                                   |\n+----------+------------+--------------------------------------------------------------------------+\n\n\nLicense\n=======\n\nMIT. See license.txt for details.\n\n\nNotes\n=====\n.. [1] id_imdb must be prefixed with 'tt'.\n.. [2] Although ID, title, and series are each optional, movie queries must have\n       either an ID or title to yield any results, and television queries must\n       have either and ID or series to yield any results.\n.. [3] If this field is passed as a string it must be numeric.\n\n.. |licence| image:: https://img.shields.io/github/license/jkwill87/mapi.svg\n   :target: https://en.wikipedia.org/wiki/MIT_License\n.. |travis_ci| image:: https://img.shields.io/travis/jkwill87/mapi/develop.svg\n   :target: https://travis-ci.org/jkwill87/mapi\n.. |pypi| image:: https://img.shields.io/pypi/v/mapi.svg\n   :target: https://pypi.python.org/pypi/mapi\n.. |api| image:: https://img.shields.io/badge/api-IMDb/TMDb/TVDb-D8D200.svg",
    "description_content_type": null,
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/jkwill87/mapi",
    "keywords": "",
    "license": "MIT",
    "maintainer": "",
    "maintainer_email": "",
    "name": "mapi",
    "package_url": "https://pypi.org/project/mapi/",
    "platform": "",
    "project_url": "https://pypi.org/project/mapi/",
    "project_urls": {
      "Homepage": "https://github.com/jkwill87/mapi"
    },
    "release_url": "https://pypi.org/project/mapi/2.0.3/",
    "requires_dist": null,
    "requires_python": "",
    "summary": "An API for media database APIs which allows you to search for metadatausing a simple, common interface",
    "version": "2.0.3",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 6001867,
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "3dce64a8208c84aed222d5b541c7670d1b21cbd04050be80f91349e9e42f5c11",
        "md5": "0aa9d2415f82072538348b25673c0c1b",
        "sha256": "e58ae2341035c4be527271d311d4f8292d3f908498d868c8434dda95abe41319"
      },
      "downloads": -1,
      "filename": "mapi-2.0.3.tar.gz",
      "has_sig": false,
      "md5_digest": "0aa9d2415f82072538348b25673c0c1b",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": null,
      "size": 16878,
      "upload_time": "2017-10-07T23:47:18",
      "upload_time_iso_8601": "2017-10-07T23:47:18.528920Z",
      "url": "https://files.pythonhosted.org/packages/3d/ce/64a8208c84aed222d5b541c7670d1b21cbd04050be80f91349e9e42f5c11/mapi-2.0.3.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}