{
  "info": {
    "author": "MindsDB Inc",
    "author_email": "jorge@mindsdb.com",
    "bugtrack_url": null,
    "classifiers": [
      "Operating System :: OS Independent",
      "Programming Language :: Python :: 3"
    ],
    "description": "<h1 align=\"center\">\n\t<img width=\"300\" src=\"https://github.com/mindsdb/mindsdb_native/blob/stable/assets/MindsDBColorPurp@3x.png?raw=true\" alt=\"MindsDB\">\n\t<br>\n\n</h1>\n<div align=\"center\">\n\t<a href=\"https://github.com/mindsdb/mindsdb/actions\"><img src=\"https://github.com/mindsdb/mindsdb/workflows/MindsDB%20workflow/badge.svg\" alt=\"MindsDB workflow\"></a>\n\n  <a href=\"https://www.python.org/downloads/\" target=\"_blank\"><img src=\"https://img.shields.io/badge/python-3.7.x%20|%203.8.x|%203.9.x-brightgreen.svg\" alt=\"Python supported\"></a>\n   <a href=\"https://pypi.org/project/MindsDB/\" target=\"_blank\"><img src=\"https://badge.fury.io/py/MindsDB.svg\" alt=\"PyPi Version\"></a>\n<img alt=\"PyPI - Downloads\" src=\"https://img.shields.io/pypi/dm/Mindsdb\">  <a href=\"https://hub.docker.com/u/mindsdb\" target=\"_blank\"><img src=\"https://img.shields.io/docker/pulls/mindsdb/mindsdb\" alt=\"Docker pulls\"></a>\n  <a href=\"https://www.mindsdb.com/\"><img src=\"https://img.shields.io/website?url=https%3A%2F%2Fwww.mindsdb.com%2F\" alt=\"MindsDB Website\"></a>\t\n    <a href=\"https://join.slack.com/t/mindsdbcommunity/shared_invite/zt-o8mrmx3l-5ai~5H66s6wlxFfBMVI6wQ\" target=\"_blank\"><img src=\"https://img.shields.io/badge/slack-@mindsdbcommunity-brightgreen.svg?logo=slack \" alt=\"MindsDB Community\"></a>\n\t</br>\n\t<a href=\"https://deepnote.com/project/Machine-Learning-With-SQL-8GDF7bc7SzKlhBLorqoIcw/%2Fmindsdb_demo.ipynb\" target=\"_blank\"><img src=\"https://deepnote.com/buttons/launch-in-deepnote-white.svg\" alt=\"Launch in Deepnote\"></a>\n\t</br>\n\t\n  <h3 align=\"center\">\n    <a href=\"https://www.mindsdb.com?utm_medium=community&utm_source=github&utm_campaign=mindsdb%20repo\">Website</a>\n    <span> | </span>\n    <a href=\"https://docs.mindsdb.com?utm_medium=community&utm_source=github&utm_campaign=mindsdb%20repo\">Docs</a>\n    <span> | </span>\n    <a href=\"https://join.slack.com/t/mindsdbcommunity/shared_invite/zt-o8mrmx3l-5ai~5H66s6wlxFfBMVI6wQ\">Community Slack</a>\n    <span> | </span>\n    <a href=\"https://github.com/mindsdb/mindsdb/projects\">Contribute</a>\n    <span> | </span>\n    <a href=\"https://cloud.mindsdb.com\">Demo</a>\n    <span> | </span>\n    <a href=\"https://mindsdb.com/in-database-nlp-tutorials-contest?utm_medium=community&utm_source=github&utm_campaign=22q4-huggingface-preview\">NLP Contest</a>\n  </h3>\n  \n</div>\n\n----------------------------------------\n\n[MindsDB](https://mindsdb.com?utm_medium=community&utm_source=github&utm_campaign=mindsdb%20repo)  ML-SQL Server enables machine learning workflows for the most powerful databases and data warehouses using SQL.  [![Tweet](https://img.shields.io/twitter/url/http/shields.io.svg?style=social)](https://twitter.com/intent/tweet?text=Machine%20Learning%20inside%20Databases%20&url=https://www.mindsdb.com&via=mindsdb&hashtags=ai,ml,machine_learning,neural_networks,databases,sql)\n* Developers can quickly add AI capabilities to your applications.\n* Data Scientists can streamline MLOps by deploying ML models as AI Tables.\n* Data Analysts can easily make forecasts on complex data (like multivariate time-series with high cardinality) and visualize them in BI tools like Tableau.\n\n**NEW!** Check-out the [rewards and community programs.](https://mindsdb.com/community?utm_medium=community&utm_source=github&utm_campaign=mindsdb%20repo)\n\n----------------------------------------\n\n[Installation](https://github.com/mindsdb/mindsdb#installation) - [Overview](https://github.com/mindsdb/mindsdb#overview) - [Features](https://github.com/mindsdb/mindsdb#features) - [Database Integrations](https://github.com/mindsdb/mindsdb#database-integrations) - [Quickstart](https://github.com/mindsdb/mindsdb#quickstart) - [Documentation](https://github.com/mindsdb/mindsdb#documentation) - [Support](https://github.com/mindsdb/mindsdb#support) - [Contributing](https://github.com/mindsdb/mindsdb#contributing) - [Mailing lists](https://github.com/mindsdb/mindsdb#mailing-lists) - [License](https://github.com/mindsdb/mindsdb#license)\n\n----------------------------\n\n<h2 align=\"center\">\n   Machine Learning using SQL \n   <br/>\n   <br/>\n  <img width=\"800\" src=\"./docs/assets/mdb_image.png\" alt=\"MindsDB\">\t\n\n</h2>\n\n<img width=\"1222\" alt=\"image\" src=\"https://user-images.githubusercontent.com/5898506/172740218-61db5eec-1bcf-4832-99d9-308709a426a7.png\">\n\n## Demo\n\nYou can try the Mindsdb ML SQL server here [(demo)](https://cloud.mindsdb.com).\n\n## Installation\n\nTo install the latest version of MindsDB please pull the following Docker image:\n\n```\ndocker pull mindsdb/mindsdb\n```\n\nOr, use PyPI:\n\n```\npip install mindsdb\n```\n\n## Overview\n\nMindsDB automates and abstracts machine learning models through virtual AI Tables:\n\nApart from abstracting ML models as AI Tables inside databases, MindsDB has a set of unique capabilities:\n\n* Easily make predictions over very complex multivariate time-series data with high cardinality\n\n* An open JSON-AI syntax to tune ML models and optimize ML pipelines in a declarative way\n\n\n#### How it works:\n\n1. Let MindsDB connect to your database.\n\n2. Train a Predictor using a single SQL statement (make MindsDB learn from historical data automatically) or import your ML model to a Predictor via JSON-AI. \n\n3. Make predictions with SQL statements (Predictor is exposed as virtual AI Tables). There’s no need to deploy models since they are already part of the data layer.\n\nCheck our [docs](https://docs.mindsdb.com/?utm_medium=community&utm_source=github&utm_campaign=mindsdb%20repo) and [blog](https://mindsdb.com/blog/?utm_medium=community&utm_source=github&utm_campaign=mindsdb%20repo) for tutorials and use case examples.\n\n\n## Features\n\n* Automatic data pre-processing, feature engineering, and encoding\n* Classification, regression, time-series tasks\n* Bring models to production without “traditional deployment” as AI Tables\n* Get models’ accuracy scoring and confidence intervals for each prediction\n* Join ML models with existing data\n* Anomaly detection\n* Model explainability analysis \n* GPU support for models’ training\n* Open JSON-AI syntax to build models and bring your ML blocks in a declarative way \n\n\n## Database Integrations\n\nMindsDB works with most of the SQL and NoSQL databases and data Streams for real-time ML.\n\n| Connect your Data | Connect your Data | Connect your Data\n|-|-|-|\n| <a href=\"https://docs.mindsdb.com/\"><img src=\"https://img.shields.io/badge/Apache Kafka-808080?style=for-the-badge&logo=apache-kafka&logoColor=white\" alt=\"Connect Apache Kafka\"></a> | <a href=\"https://docs.mindsdb.com/\"><img src=\"https://img.shields.io/badge/Microsoft%20Access-A4373A?logo=microsoftaccess&logoColor=fff&style=for-the-badge\" alt=\"Connect Microsoft Access\"></a> | <a href=\"https://docs.mindsdb.com/\"><img src=\"https://img.shields.io/badge/Oracle-F80000?logo=oracle&logoColor=fff&style=for-the-badge\" alt=\"Oracle Badge\"></a> |\n| <a href=\"https://docs.mindsdb.com/\"><img src=\"https://img.shields.io/badge/Amazon%20Redshift-0466C8?style=for-the-badge&logo=amazon-aws&logoColor=white\" alt=\"Connect Amazon Redshift\"></a> | <a href=\"https://docs.mindsdb.com/\"><img src=\"https://img.shields.io/badge/Airtable-18BFFF?logo=airtable&logoColor=fff&style=for-the-badge\" alt=\"Airtable Badge\"></a> | <a href=\"https://docs.mindsdb.com/\"><img src=\"https://img.shields.io/badge/Pinot-000?logo=pinot&logoColor=fff&style=for-the-badge\" alt=\"Pinot Badge\"></a> |\n| <a href=\"https://docs.mindsdb.com/\"><img src=\"https://img.shields.io/badge/Cassandra-1287B1?style=for-the-badge&logo=apache%20cassandra&logoColor=white\" alt=\"Connect Cassandra\"></a> | <a href=\"https://docs.mindsdb.com/\"><img src=\"https://img.shields.io/badge/DataStax-3A3A42?logo=datastax&logoColor=fff&style=for-the-badge\" alt=\"DataStax Badge\"></a> | <a href=\"https://docs.mindsdb.com/\"><img src=\"https://img.shields.io/badge/Amazon%20S3-569A31?logo=amazons3&logoColor=fff&style=for-the-badge\" alt=\"Amazon S3 Badge\"></a> |\n| <a href=\"https://docs.mindsdb.com/\"><img src=\"https://img.shields.io/badge/Clickhouse-e6e600?style=for-the-badge&logo=clickhouse&logoColor=white\" alt=\"Connect Clickhouse\"></a> | <a href=\"https://docs.mindsdb.com/\"><img src=\"https://img.shields.io/badge/Google Big Query-0466C8?logo=Big Query&logoColor=fff&style=for-the-badge\" alt=\"Google Big Query Badge\"></a> | <a href=\"https://docs.mindsdb.com/\"><img src=\"https://img.shields.io/badge/SQLite-003B57?logo=sqlite&logoColor=fff&style=for-the-badge\" alt=\"SQLite Badge\"></a> |\n| <a href=\"https://docs.mindsdb.com/\"><img src=\"https://img.shields.io/badge/CockroachDB-426EDF?style=for-the-badge&logo=cockroach-labs&logoColor=white\" alt=\"Connect CockroachDB\"></a> | <a href=\"https://docs.mindsdb.com/\"><img src=\"https://img.shields.io/badge/ckan-7D929E?logo=ckan&logoColor=fff&style=for-the-badge\" alt=\"ckan Badge\"></a> | <a href=\"https://docs.mindsdb.com/\"><img src=\"https://img.shields.io/badge/Supabase-3ECF8E?logo=supabase&logoColor=fff&style=for-the-badge\" alt=\"Supabase Badge\"></a> |\n| <a href=\"https://docs.mindsdb.com/\"><img src=\"https://img.shields.io/badge/MariaDB-003545?style=for-the-badge&logo=mariadb&logoColor=white\" alt=\"Connect MariaDB\"></a> | <a href=\"https://docs.mindsdb.com/\"><img src=\"https://img.shields.io/badge/Couchbase-EA2328?logo=couchbase&logoColor=fff&style=for-the-badge\" alt=\"Couchbase Badge\"></a> | <a href=\"https://docs.mindsdb.com/\"><img src=\"https://img.shields.io/badge/TiDB-DD0031?logo=tidb&logoColor=fff&style=for-the-badge\" alt=\"TiDB Badge\"></a> |\n| <a href=\"https://docs.mindsdb.com/\"><img src=\"https://img.shields.io/badge/Microsoft%20SQL%20Sever-CC2927?style=for-the-badge&logo=microsoft%20sql%20server&logoColor=white\" alt=\"Connect SQL Server\"></a> | <a href=\"https://docs.mindsdb.com/\"><img src=\"https://img.shields.io/badge/CrateDB-009DC7?logo=cratedb&logoColor=fff&style=for-the-badge\" alt=\"CrateDB Badge\"></a> | <a href=\"https://docs.mindsdb.com/\"><img src=\"https://img.shields.io/badge/Timescale-FDB515?logo=timescale&logoColor=fff&style=for-the-badge\" alt=\"Timescale Badge\"></a> |\n| <a href=\"https://docs.mindsdb.com/\"><img src=\"https://img.shields.io/badge/MongoDB-4EA94B?style=for-the-badge&logo=mongodb&logoColor=white\" alt=\"Connect MongoDB\"></a> | <a href=\"https://docs.mindsdb.com/\"><img src=\"https://img.shields.io/badge/DoIt-00B388?logo=DoIt&logoColor=fff&style=for-the-badge\" alt=\"DoIt Badge\"></a> | <a href=\"https://docs.mindsdb.com/\"><img src=\"https://img.shields.io/badge/Amazon%20DynamoDB-4053D6?logo=amazondynamodb&logoColor=fff&style=for-the-badge\" alt=\"Amazon DynamoDB Badge\"></a> | \n| <a href=\"https://docs.mindsdb.com/\"><img src=\"https://img.shields.io/badge/MySQL-00758F?style=for-the-badge&logo=mysql&logoColor=white\" alt=\"Connect MySQL\"></a> | <a href=\"https://docs.mindsdb.com/\"><img src=\"https://img.shields.io/badge/Databricks-FF3621?logo=databricks&logoColor=fff&style=for-the-badge\" alt=\"Databricks Badge\"></a> | <a href=\"https://docs.mindsdb.com/\"><img src=\"https://img.shields.io/badge/YugabyteDB-02458D?logo=yugabytedb&logoColor=fff&style=for-the-badge\" alt=\"YugabyteDB Badge\"></a> \n| <a href=\"https://docs.mindsdb.com/\"><img src=\"https://img.shields.io/badge/PostgreSQL-316192?style=for-the-badge&logo=postgresql&logoColor=white\" alt=\"Connect PostgreSQL\"></a> | <a href=\"https://docs.mindsdb.com/\"><img src=\"https://img.shields.io/badge/IBMDB2-008000?logo=IBMDB2&logoColor=fff&style=for-the-badge\" alt=\"IBMDB2 Badge\"></a> | <a href=\"https://docs.mindsdb.com/\"><img src=\"https://img.shields.io/badge/openGauss-02458D?logo=opengauss&logoColor=fff&style=for-the-badge\" alt=\"openGauss Badge\"></a> | <a href=\"https://docs.mindsdb.com/\"><img src=\"https://img.shields.io/badge/QuestDB-d14671?style=for-the-badge&logo=questdb&logoColor=white\" alt=\"Connect QuestDB\"></a> | <a href=\"https://docs.mindsdb.com/\"><img src=\"https://img.shields.io/badge/Apache%20Druid-29F1FB?logo=apachedruid&logoColor=000&style=for-the-badge\" alt=\"Apache Druid Badge\"></a> |\n| <a href=\"https://docs.mindsdb.com/\"><img src=\"https://img.shields.io/badge/redis-%23DD0031.svg?&style=for-the-badge&logo=redis&logoColor=white\" alt=\"Connect Redis\"></a> | <a href=\"https://docs.mindsdb.com/\"><img src=\"https://img.shields.io/badge/Vertica-000?logo=vertica&logoColor=fff&style=for-the-badge\" alt=\"Vertica Badge\"></a> |\n| <a href=\"https://docs.mindsdb.com/\"><img src=\"https://img.shields.io/badge/SAP%20HANA-1661BE?style=for-the-badge&logo=sap&logoColor=white\" alt=\"Connect SAP HANA\"></a> | <a href=\"https://docs.mindsdb.com/\"><img src=\"https://img.shields.io/badge/Elastic-005571?logo=elastic&logoColor=fff&style=for-the-badge\" alt=\"Elastic Badge\"></a> |\n| <a href=\"https://docs.mindsdb.com/\"><img src=\"https://img.shields.io/badge/ScyllaDB-53CADD?style=for-the-badge&logo=scylladbb&logoColor=white\" alt=\"Connect ScyllaDB\"></a> | <a href=\"https://docs.mindsdb.com/\"><img src=\"https://img.shields.io/badge/Firebird-F40D12?logo=Firebird&logoColor=fff&style=for-the-badge\" alt=\"Firebird Badge\"></a> |\n| <a href=\"https://docs.mindsdb.com/\"><img src=\"https://img.shields.io/badge/Singlestore-5f07b4?style=for-the-badge&logo=singlestore&logoColor=white\" alt=\"Connect Singlestore\"></a> | <a href=\"https://docs.mindsdb.com/\"><img src=\"https://img.shields.io/badge/Apache%20Hive-FDEE21?logo=apachehive&logoColor=000&style=for-the-badge\" alt=\"Apache Hive Badge\"></a> |\n| <a href=\"https://docs.mindsdb.com/\"><img src=\"https://img.shields.io/badge/Snowflake-35aedd?style=for-the-badge&logo=snowflake&logoColor=blue\" alt=\"Connect Snowflake\"></a> | <a href=\"https://docs.mindsdb.com/\"><img src=\"https://img.shields.io/badge/Informix-191A1B?logo=informix&logoColor=fff&style=for-the-badge\" alt=\"Informix Badge\"></a> |\n| <a href=\"https://docs.mindsdb.com/\"><img src=\"https://img.shields.io/badge/Teradata-e36c42?style=for-the-badge&logo=teradata&logoColor=white\" alt=\"Connect Teradata\"></a> | <a href=\"https://docs.mindsdb.com/\"><img src=\"https://img.shields.io/badge/Matrixone-02458D?logo=Matrixone&logoColor=fff&style=for-the-badge\" alt=\"Matrixone Badge\"></a> |\n| <a href=\"https://docs.mindsdb.com/\"><img src=\"https://img.shields.io/badge/Trino-dd00a1?style=for-the-badge&logo=trino&logoColor=white\" alt=\"Connect Trino\"></a> | <a href=\"https://docs.mindsdb.com/\"><img src=\"https://img.shields.io/badge/Monetdb-0099E5?logo=Monetdb&logoColor=fff&style=for-the-badge\" alt=\"Monetdb Badge\"></a> |\n\n[:question: :wave: Missing integration?](https://github.com/mindsdb/mindsdb/issues/new?assignees=&labels=&template=feature-mindsdb-request.yaml)\n\n## Quickstart\n\nTo get your hands on MindsDB, we recommend using the [Docker image](https://docs.mindsdb.com/setup/self-hosted/docker/?utm_medium=community&utm_source=github&utm_campaign=mindsdb%20repo) or simply sign up for a [free cloud account](https://cloud.mindsdb.com/signup?utm_medium=community&utm_source=github&utm_campaign=mindsdb%20repo).\nFeel free to browse [documentation](https://docs.mindsdb.com?utm_medium=community&utm_source=github&utm_campaign=mindsdb%20repo) for other installation methods and tutorials.\n\n## Documentation\n\nYou can find the complete documentation of MindsDB at [docs.mindsdb.com](https://docs.mindsdb.com?utm_medium=community&utm_source=github&utm_campaign=mindsdb%20repo).\n\n## Support\n\nIf you found a bug, please submit an [issue on GitHub](https://github.com/mindsdb/mindsdb/issues/new/choose).\n\nTo get community support, you can:\n* Post at MindsDB [Slack community](https://join.slack.com/t/mindsdbcommunity/shared_invite/zt-o8mrmx3l-5ai~5H66s6wlxFfBMVI6wQ).\n* Ask for help at our [GitHub Discussions](https://github.com/mindsdb/mindsdb/discussions).\n* Ask a question at [Stackoverflow](https://stackoverflow.com/questions/tagged/mindsdb) with a MindsDB tag.\n\nIf you need commercial support, please [contact](https://mindsdb.com/contact/?utm_medium=community&utm_source=github&utm_campaign=mindsdb%20repo) MindsDB team.\n\n## Contributing\n\nA great place to start contributing to MindsDB will be our GitHub projects for checkered_flag:\n* Community writers [dashboard tasks](https://github.com/mindsdb/mindsdb/projects/7).\n* Community code contributors [dashboard tasks](https://github.com/mindsdb/mindsdb/projects/8).\n\nAlso, we are always open to suggestions so feel free to open new issues with your ideas and we can guide you!\n\nBeing part of the core team is accessible to anyone who is motivated and wants to be part of that journey!\nIf you'd like to contribute to the project, refer to the [contributing documentation](https://docs.mindsdb.com/contribute/?utm_medium=community&utm_source=github&utm_campaign=mindsdb%20repo).\n\nPlease note that this project is released with a [Contributor Code of Conduct](https://github.com/mindsdb/mindsdb/blob/stable/CODE_OF_CONDUCT.md). By participating in this project, you agree to abide by its terms.\n\n### Current contributors\n\n<a href=\"https://github.com/mindsdb/mindsdb/graphs/contributors\">\n  <img src=\"https://contributors-img.web.app/image?repo=mindsdb/mindsdb\" />\n</a>\n\nMade with [contributors-img](https://contributors-img.web.app).\n\n## Mailing lists\n\nSubscribe to MindsDB Monthly [Community Newsletter](https://mindsdb.com/newsletter/?utm_medium=community&utm_source=github&utm_campaign=mindsdb%20repo) to get general announcements, release notes, information about MindsDB events, and the latest blog posts.\nYou may also join our [beta-users](https://mindsdb.com/beta-tester/?utm_medium=community&utm_source=github&utm_campaign=mindsdb%20repo) group, and get access to new beta features.\n\n\n## License\n\nMindsDB is licensed under [GNU General Public License v3.0](https://github.com/mindsdb/mindsdb/blob/master/LICENSE)",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "https://pypi.org/project/mindsdb/",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/mindsdb/mindsdb",
    "keywords": "",
    "license": "GPL-3.0",
    "maintainer": "",
    "maintainer_email": "",
    "name": "MindsDB",
    "package_url": "https://pypi.org/project/MindsDB/",
    "platform": null,
    "project_url": "https://pypi.org/project/MindsDB/",
    "project_urls": {
      "Download": "https://pypi.org/project/mindsdb/",
      "Homepage": "https://github.com/mindsdb/mindsdb"
    },
    "release_url": "https://pypi.org/project/MindsDB/23.1.3.1/",
    "requires_dist": null,
    "requires_python": ">=3.7",
    "summary": "MindsDB server, provides server capabilities to mindsdb native python library",
    "version": "23.1.3.1",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 17478317,
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "348a04648d970a2a1a7ac2fc5837e3fcb06887ae47c12e101d3af8d5a02e9dc4",
        "md5": "7786890829c5dd4cc3d5ea4a73aa207b",
        "sha256": "89797589919ecf24046e96f11fc85486b9126c9f77d002efa608714b3972fe30"
      },
      "downloads": -1,
      "filename": "MindsDB-23.1.3.1.tar.gz",
      "has_sig": false,
      "md5_digest": "7786890829c5dd4cc3d5ea4a73aa207b",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": ">=3.7",
      "size": 1646906,
      "upload_time": "2023-01-18T15:56:57",
      "upload_time_iso_8601": "2023-01-18T15:56:57.232963Z",
      "url": "https://files.pythonhosted.org/packages/34/8a/04648d970a2a1a7ac2fc5837e3fcb06887ae47c12e101d3af8d5a02e9dc4/MindsDB-23.1.3.1.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": [
    {
      "aliases": [],
      "details": "### Summary\n\nAn unsafe extraction is being performed using `tarfile.extractall()` from a remotely retrieved tarball. Which may lead to the writing of the extracted files to an unintended location. Sometimes, the vulnerability is called a TarSlip or a ZipSlip variant.\n\n### Details\n\nI commented the following snippet of code as a vulnerability details. The code is from [file.py#L26..L134](https://github.com/mindsdb/mindsdb/blob/afedd37c16e579b6dc075b0814e42d0505ccdc07/mindsdb/api/http/namespaces/file.py#L26..L134)\n\n```python\n@ns_conf.route('/<name>')\n@ns_conf.param('name', \"MindsDB's name for file\")\nclass File(Resource):\n    @ns_conf.doc('put_file')\n    def put(self, name: str):\n        ''' add new file\n            params in FormData:\n                - file\n                - original_file_name [optional]\n        '''\n\n        data = {}\n\n        ... omitted for brevity\n\n            url = data['source']\n            data['file'] = data['name']\n\n            ... omitted for brevity \n\n            with requests.get(url, stream=True) as r:                   # Source: retrieve the URL which point to a remotely located tarball \n                if r.status_code != 200:\n                    return http_error(\n                        400,\n                        \"Error getting file\",\n                        f\"Got status code: {r.status_code}\"\n                    )\n                file_path = os.path.join(temp_dir_path, data['file'])\n                with open(file_path, 'wb') as f:\n                    for chunk in r.iter_content(chunk_size=8192):   # write with chunks the remote retrieved file into file_path location \n                        f.write(chunk)\n\n        original_file_name = data.get('original_file_name')\n\n        file_path = os.path.join(temp_dir_path, data['file'])      \n        lp = file_path.lower()\n        if lp.endswith(('.zip', '.tar.gz')):\n            if lp.endswith('.zip'):\n                with zipfile.ZipFile(file_path) as f:\n                    f.extractall(temp_dir_path)\n            elif lp.endswith('.tar.gz'):\n                with tarfile.open(file_path) as f:  # Just after \n                    f.extractall(temp_dir_path)  # Sink: the tarball located by file_path is supposed to be extracted to temp_dir_path. \n```\n\nSo, a remotely available tarball is being retrieved and written to the server filesystem in chunks, and then, if the extension ends with `.tar.gz` of a compressed tarball, the mindsdb app applies `tarfile.extractall()` directly with no checks for the destination. \n\nHowever, according to the following [warning](https://docs.python.org/3/library/tarfile.html#tarfile.TarFile.extractall) from the official documentation;\n\n> Warning: Never extract archives from untrusted sources without prior inspection. It is possible that files are created outside of path, e.g. members that have absolute filenames starting with \"/\" or filenames with two dots \"..\". \n\n\n### PoC\n\nThe following PoC is provided for illustration purposes only. It showcases the risk of extracting a non-harmless text file `sim4n6.txt` to one of the parent locations rather than the intended current folder.\n\n```bash\n> tar --list -v -f archive.tar.gz\ntar: Removing leading \"../../../\" from member names\n../../../sim4n6.txt\n\n> python3 \nPython 3.10.6 (main, Nov  2 2022, 18:53:38) [GCC 11.3.0] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> import tarfile\n>>> with tarfile.open(\"archive.tar.gz\") as tf:\n>>>         tf.extractall()\n>>> exit()\n\n> test -f ../../../sim4n6.txt && echo \"sim4n6.txt exists\"\nsim4n6.txt exists\n```\n\n### Attack Scenario\n\nAn attacker could craft a malicious tarball with a filename path, such as ../../../../../../../../etc/passwd, and then serve the archive remotely, proceed to the PUT request of the tarball through mindsdb and overwrite the system files of the hosting server for instance.\n\n### Mitigation \n\nPotential mitigation could be to:\n - Use a safer module, like `zipfile`.\n - Use an alternative of `tarfile`, such as `tarsafe`. \n  - Validate the location or the absolute path of the extracted files and discard those with malicious paths such as relative path `../../..` or absolute path such as `/etc/password`. A simple wrapper could be written to raise an exception when a path traversal may be identified.\n\nThis is similar to the other report [GHSA-7x45-phmr-9wqp](https://github.com/mindsdb/mindsdb/security/advisories/GHSA-7x45-phmr-9wqp).",
      "fixed_in": [],
      "id": "GHSA-2g5w-29q9-w6hx",
      "link": "https://osv.dev/vulnerability/GHSA-2g5w-29q9-w6hx",
      "source": "osv",
      "summary": null,
      "withdrawn": null
    }
  ]
}