{
  "info": {
    "author": "Federico Capoano",
    "author_email": "",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 4 - Beta"
    ],
    "description": "=============================\r\ndjango-hstore (schemaless DB)\r\n=============================\r\n\r\n.. image:: https://travis-ci.org/djangonauts/django-hstore.png\r\n   :target: https://travis-ci.org/djangonauts/django-hstore\r\n\r\n.. image:: https://coveralls.io/repos/djangonauts/django-hstore/badge.png\r\n  :target: https://coveralls.io/r/djangonauts/django-hstore\r\n\r\n.. image:: https://landscape.io/github/djangonauts/django-hstore/master/landscape.png\r\n   :target: https://landscape.io/github/djangonauts/django-hstore/master\r\n   :alt: Code Health\r\n\r\n.. image:: https://badge.fury.io/py/django-hstore.png\r\n    :target: http://badge.fury.io/py/django-hstore\r\n\r\n.. image:: https://requires.io/github/djangonauts/django-hstore/requirements.png?branch=master\r\n   :target: https://requires.io/github/djangonauts/django-hstore/requirements/?branch=master\r\n   :alt: Requirements Status\r\n\r\nDjango-hstore is a niche library which integrates the `hstore`_ extension of\r\nPostgreSQL into Django.\r\n \r\nHStore brings the power of schemaless databases into PostgreSQL, giving us the `advantage of flexibility and performance`_ without renouncing to the robustness of SQL databases.\r\n\r\nMailing List: https://groups.google.com/forum/#!forum/django-hstore\r\n\r\nDependencies:\r\n\r\n* **Python 2.6, 2.7 or 3.3**\r\n* **Django 1.4, 1.5 and 1.6**\r\n* **PostgreSQL 9.0+**\r\n* **Psycopg 2.3+**.\r\n\r\nExtras:\r\n\r\n* **Postgis compatibility**\r\n* **Python3** support\r\n* usable **admin widget**\r\n* nice admin widget for **django-grappelli**\r\n\r\nadmin widget screenshot:\r\n\r\n.. figure:: https://raw.github.com/djangonauts/django-hstore/master/docs/deafult-admin-widget.png\r\n\r\ngrappelli admin widget screenshot:\r\n\r\n.. figure:: https://raw.github.com/djangonauts/django-hstore/master/docs/hstore-widget.png\r\n\r\n===========\r\nLimitations\r\n===========\r\n\r\n* PostgreSQL's implementation of hstore has no concept of type; it stores a\r\n  mapping of string keys to string values. Values are stored as strings in the\r\n  database regarding of their original type.\r\n* Hstore extension is not automatically installed on use this package. You must install it manually.\r\n* To run tests, hstore extension must be installed on template1 database.\r\n\r\n**Important Note:** the future version of HStore will bring types, nested structures and more advanced features, for more info read `On the state of HStore`_ by Engine Yard.\r\n\r\n================\r\nInstall (stable)\r\n================\r\n\r\nInstall the stable version using pip by running:\r\n\r\n.. code-block:: bash\r\n\r\n    pip install django-hstore\r\n\r\n=============\r\nInstall (dev)\r\n=============\r\n\r\nInstall the development version with pip (you need git) by running:\r\n\r\n.. code-block:: bash\r\n\r\n    pip install -e git+git://github.com/djangonauts/django-hstore#egg=django-hstore\r\n\r\n=====\r\nSetup\r\n=====\r\n\r\nFirst, add **django_hstore** to your `settings.INSTALLED_APPS`:\r\n\r\n.. code-block:: python\r\n\r\n    INSTALLED_APPS = (\r\n        ...\r\n        'django_hstore',\r\n        ..\r\n    )\r\n\r\nSecond, collect static files (needed for the admin widget) with:\r\n\r\n.. code-block:: bash\r\n\r\n    python manage.py collectstatic\r\n\r\n===========================\r\nUpgrade from older versions\r\n===========================\r\n\r\nIn **version 1.2.x** some internals have been changed in order to simplify usage and prevent errors.\r\n\r\nValues are automatically converted to strings, fields costantly validate input and so on.\r\n\r\nIf you are upgrading from an older version ensure your application code works as expected. If it doesn't you will either have to update your code or tie your application's requirement to the older version of django-hstore (1.1.1).\r\n\r\n===================\r\nNote to South users\r\n===================\r\n\r\nIf you keep getting errors like `There is no South\r\ndatabase module 'south.db.None' for your database.`, add the following to\r\n`settings.py`:\r\n\r\n.. code-block:: python\r\n\r\n    SOUTH_DATABASE_ADAPTERS = {'default': 'south.db.postgresql_psycopg2'}\r\n\r\n============\r\nAdmin widget\r\n============\r\n\r\ndjango-hstore ships a nice admin widget that makes the field more user-friendly.\r\n\r\n.. figure:: https://raw.github.com/djangonauts/django-hstore/master/docs/deafult-admin-widget.png\r\n\r\nEach time a key or a value is modified the underlying textarea is updated:\r\n\r\n.. figure:: https://raw.github.com/djangonauts/django-hstore/master/docs/deafult-admin-widget-raw.png\r\n\r\n======================\r\nGrappelli Admin widget\r\n======================\r\n\r\nIf you use the awsome `django-grappelli`_ there's an even nicer looking widget for you too!\r\n\r\n.. figure:: https://raw.github.com/djangonauts/django-hstore/master/docs/hstore-widget.png\r\n\r\nEach time a key or a value is modified the underlying textarea is updated:\r\n\r\n.. figure:: https://raw.github.com/djangonauts/django-hstore/master/docs/hstore-widget-raw.png\r\n\r\n=====\r\nUsage\r\n=====\r\n\r\nThe library provides three principal classes:\r\n\r\n``django_hstore.hstore.DictionaryField``\r\n    An ORM field which stores a mapping of string key/value pairs in an hstore\r\n    column.\r\n``django_hstore.hstore.ReferencesField``\r\n    An ORM field which builds on DictionaryField to store a mapping of string\r\n    keys to django object references, much like ForeignKey.\r\n``django_hstore.hstore.HStoreManager``\r\n    An ORM manager which provides much of the query functionality of the\r\n    library.\r\n``django_hstore.hstore.HStoreGeoManager``\r\n    An additional ORM manager to provide Geodjango functionality as well.\r\n\r\n------------\r\nModel fields\r\n------------\r\n\r\nModel definition is straightforward:\r\n\r\n.. code-block:: python\r\n\r\n    from django.db import models\r\n    from django_hstore import hstore\r\n\r\n    class Something(models.Model):\r\n        name = models.CharField(max_length=32)\r\n        data = hstore.DictionaryField()  # can pass attributes like null, blank, ecc.\r\n\r\n        objects = hstore.HStoreManager()\r\n        # IF YOU ARE USING POSTGIS:\r\n        # objects = hstore.HStoreGeoManager()\r\n\r\nReferenceField model field is also straightforward:\r\n\r\n.. code-block:: python\r\n\r\n    class ReferenceContainer(models.Model):\r\n        name = models.CharField(max_length=32)\r\n        refs = hstore.ReferencesField()\r\n\r\n        objects = hstore.HStoreManager()\r\n\r\n----------\r\nPython API\r\n----------\r\n\r\nYou then treat the ``data`` field as simply a dictionary of string pairs:\r\n\r\n.. code-block:: python\r\n\r\n    instance = Something.objects.create(name='something', data={'a': '1', 'b': '2'})\r\n    assert instance.data['a'] == '1'\r\n\r\n    empty = Something.objects.create(name='empty')\r\n    assert empty.data == {}\r\n\r\n    empty.data['a'] = '3'\r\n    empty.save()\r\n    assert Something.objects.get(name='empty').data['a'] == '3'\r\n\r\nBooleans, integers, floats, lists and dictionaries will be converted to strings.\r\nLists, dictionaries and booleans are converted into JSON formatted strings, so\r\ncan be decoded if needed:\r\n\r\n.. code-block:: python\r\n\r\n    instance = Something.objects.create(name='something', data={'int': 1, 'bool': True})\r\n\r\n    instance.data['int'] == '1'\r\n    instance.data['bool'] == 'true'\r\n\r\n    import json\r\n    instance.data['dict'] = { 'list': ['a', False, 1] }\r\n    instance.data['dict'] == '{\"list\": [\"a\", false, 1]}'\r\n    json.loads(instance.data['dict']) == { 'list': ['a', False, 1] }\r\n    >>> True\r\n\r\nYou can issue indexed queries against hstore fields:\r\n\r\n.. code-block:: python\r\n\r\n    # equivalence\r\n    Something.objects.filter(data={'a': '1', 'b': '2'})\r\n\r\n    # comparison (greater than, less than or equal to, ecc)\r\n    Something.objects.filter(data__gt={'a': '1'})\r\n    Something.objects.filter(data__gte={'a': '1'})\r\n    Something.objects.filter(data__lt={'a': '2'})\r\n    Something.objects.filter(data__lte={'a': '2'})\r\n\r\n    # subset by key/value mapping\r\n    Something.objects.filter(data__contains={'a': '1'})\r\n\r\n    # subset by list of some key values\r\n    Something.objects.filter(data__contains={'a': ['1', '2']})\r\n\r\n    # subset by list of keys\r\n    Something.objects.filter(data__contains=['a', 'b'])\r\n\r\n    # subset by single key\r\n    Something.objects.filter(data__contains=['a'])\r\n\r\nYou can still do classic django \"contains\" lookups as you would normally do for normal text\r\nfields if you were looking for a particular string. In this case, the HSTORE field\r\nwill be converted to text and the lookup will be performed on all the keys and all the values:\r\n\r\n.. code-block:: python\r\n\r\n    Something.objects.create(data={ 'some_key': 'some crazy Value' })\r\n\r\n    # classic text lookup (look up for occurence of string in all the keys)\r\n    Something.objects.filter(data__contains='crazy')\r\n    Something.objects.filter(data__contains='some_key')\r\n    # classic case insensitive text looup\r\n    Something.objects.filter(data__icontains='value')\r\n    Something.objects.filter(data__icontains='SOME_KEY')\r\n\r\n--------------\r\nHSTORE manager\r\n--------------\r\n\r\nYou can also take advantage of some db-side functionality by using the manager:\r\n\r\n.. code-block:: python\r\n\r\n    # identify the keys present in an hstore field\r\n    >>> Something.objects.hkeys(id=instance.id, attr='data')\r\n    ['a', 'b']\r\n\r\n    # peek at a a named value within an hstore field\r\n    >>> Something.objects.hpeek(id=instance.id, attr='data', key='a')\r\n    '1'\r\n\r\n    # do the same, after filter\r\n    >>> Something.objects.filter(id=instance.id).hpeek(attr='data', key='a')\r\n    '1'\r\n\r\n    # remove a key/value pair from an hstore field\r\n    >>> Something.objects.filter(name='something').hremove('data', 'b')\r\n\r\nThe hstore methods on manager pass all keyword arguments aside from ``attr`` and\r\n``key`` to ``.filter()``.\r\n\r\n--------------------\r\nReferenceField Usage\r\n--------------------\r\n\r\n**ReferenceField** is a field that allows to reference other database objects\r\nwithout using a classic ManyToMany relationship.\r\n\r\nHere's an example with the `ReferenceContainer` model defined in the **Model fields** section:\r\n\r\n.. code-block:: python\r\n\r\n    r = ReferenceContainer(name='test')\r\n    r.refs['another_object'] = AnotherModel.objects.get(slug='another-object')\r\n    r.refs['some_object'] = AnotherModel.objects.get(slug='some-object')\r\n    r.save()\r\n\r\n    r = ReferenceContainer.objects.get(name='test')\r\n    r.refs['another_object']\r\n    '<AnotherModel: AnotherModel object>'\r\n    r.refs['some_object']\r\n    '<AnotherModel: AnotherModel some_object>'\r\n\r\nThe database is queried only when references are accessed directly.\r\nOnce references have been retrieved they will be stored for any eventual subsequent access:\r\n\r\n.. code-block:: python\r\n\r\n    r = ReferenceContainer.objects.get(name='test')\r\n    # this won't query the database\r\n    r.refs\r\n    { u'another_object': u'myapp.models.AnotherModel:1', u'some_object': u'myapp.models.AnotherModel:2' }\r\n\r\n    # this will query the database\r\n    r.refs['another_object']\r\n    '<AnotherModel: AnotherModel object>'\r\n\r\n    # retrieved reference is now visible also when calling the HStoreDict object:\r\n    r.refs\r\n    { u'another_object': <AnotherModel: AnotherModel object>, u'some_object': u'myapp.models.AnotherModel:2' }\r\n\r\n=================\r\nRunning the tests\r\n=================\r\n\r\nAssuming one has the dependencies installed, and a **PostgreSQL 9.0+** server up and\r\nrunning:\r\n\r\n.. code-block:: bash\r\n\r\n    python setup.py test\r\n\r\nYou might need to tweak the DB settings according to your DB configuration.\r\nYou can copy the file settings.py and create **local_settings.py**, which will\r\nbe used instead of the default settings.py.\r\n\r\nIf after running this command you get an **error** saying::\r\n\r\n    type \"hstore\" does not exist\r\n\r\nTry this:\r\n\r\n.. code-block:: bash\r\n\r\n    psql template1 -c 'create extension hstore;'\r\n\r\nMore details here: `PostgreSQL error type hstore does not exist`_\r\n\r\n.. _hstore: http://www.postgresql.org/docs/9.1/interactive/hstore.html\r\n.. _PostgreSQL error type hstore does not exist: http://clarkdave.net/2012/09/postgresql-error-type-hstore-does-not-exist/\r\n.. _django-grappelli: http://grappelliproject.com/\r\n.. _advantage of flexibility and performance: http://www.craigkerstiens.com/2013/07/03/hstore-vs-json/\r\n.. _On the state of HStore: https://blog.engineyard.com/2013/on-the-state-of-hstore\r\n\r\n=================\r\nHow to contribute\r\n=================\r\n\r\n1. Join the mailing List: `django-hstore mailing list`_ and announce your intentions\r\n2. Follow `PEP8, Style Guide for Python Code`_\r\n3. Fork this repo\r\n4. Write code\r\n5. Write tests for your code\r\n6. Ensure all tests pass\r\n7. Ensure test coverage is not under 90%\r\n8. Document your changes\r\n9. Send pull request\r\n\r\n.. _PEP8, Style Guide for Python Code: http://www.python.org/dev/peps/pep-0008/\r\n.. _django-hstore mailing list: https://groups.google.com/forum/#!forum/django-hstore",
    "description_content_type": null,
    "docs_url": null,
    "download_url": "https://github.com/djangonauts/django-hstore/releases",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/djangonauts/django-hstore",
    "keywords": "django, hstore, schemaless",
    "license": "BSD",
    "maintainer": "Djangonauts Organization",
    "maintainer_email": "django-hstore@googlegroups.com",
    "name": "django-hstore",
    "package_url": "https://pypi.org/project/django-hstore/",
    "platform": "Platform-indipendent",
    "project_url": "https://pypi.org/project/django-hstore/",
    "project_urls": {
      "Download": "https://github.com/djangonauts/django-hstore/releases",
      "Homepage": "https://github.com/djangonauts/django-hstore"
    },
    "release_url": "https://pypi.org/project/django-hstore/1.2.1/",
    "requires_dist": null,
    "requires_python": null,
    "summary": "Bring schemaless PostgreSQL (HStore) in Django",
    "version": "1.2.1",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 10426113,
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "dd84265cd182459cf556589788fc14a841d812ef79870585ef8840afa1fb139e",
        "md5": "0e5ae92596675dcd1f4132dc377b4224",
        "sha256": "60310ffd6e39b9f5d1828394dcd7f67c3efa652a0c5456d95ec9d96728c98763"
      },
      "downloads": -1,
      "filename": "django-hstore-1.2.1.tar.gz",
      "has_sig": true,
      "md5_digest": "0e5ae92596675dcd1f4132dc377b4224",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": null,
      "size": 24618,
      "upload_time": "2014-01-23T11:20:43",
      "upload_time_iso_8601": "2014-01-23T11:20:43.732595Z",
      "url": "https://files.pythonhosted.org/packages/dd/84/265cd182459cf556589788fc14a841d812ef79870585ef8840afa1fb139e/django-hstore-1.2.1.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}