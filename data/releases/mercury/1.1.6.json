{
  "info": {
    "author": "",
    "author_email": "",
    "bugtrack_url": null,
    "classifiers": [
      "Operating System :: OS Independent",
      "Programming Language :: Python :: 3"
    ],
    "description": "\n\n<p align=\"center\">\n  <img \n    alt=\"Mercury convert notebook to web app\"\n    src=\"https://raw.githubusercontent.com/mljar/visual-identity/main/mercury/turn-notebook-to-web-app.png\" width=\"100%\" />  \n</p>\n\n[![Tests](https://github.com/mljar/mercury/actions/workflows/run-tests.yml/badge.svg)](https://github.com/mljar/mercury/actions/workflows/run-tests.yml)\n[![PyPI version](https://badge.fury.io/py/mljar-mercury.svg)](https://badge.fury.io/py/mljar-mercury)\n[![Anaconda-Server Badge](https://anaconda.org/conda-forge/mljar-mercury/badges/installer/conda.svg)](https://conda.anaconda.org/conda-forge)\n[![PyPI pyversions](https://img.shields.io/pypi/pyversions/mljar-mercury.svg)](https://pypi.python.org/pypi/mljar-mercury/)\n[![Anaconda-Server Badge](https://anaconda.org/conda-forge/mljar-mercury/badges/platforms.svg)](https://anaconda.org/conda-forge/mljar-mercury)\n[![Anaconda-Server Badge](https://anaconda.org/conda-forge/mljar-mercury/badges/license.svg)](https://anaconda.org/conda-forge/mljar-mercury)\n\n# Share your Python notebook as web application\n\nMercury is a perfect tool to convert Python notebook to interactive web application and share with non-programmers. \n\n- You define interactive widgets for your notebook with the YAML header. \n- Your users can change the widgets values, execute the notebook and save result (as PDF or html file).\n- You can hide your code to not scare your (non-coding) collaborators.\n- Easily deploy to any server.\n\nMercury is dual-licensed. Looking for dedicated support, a commercial-friendly license, and more features? The Mercury Pro is for you. Please see the details at our [website](https://mljar.com/pricing).\n\n## Documentation\n\nüìö [Mercury documentation](https://mercury-docs.readthedocs.io) :books:\n\n## Installation\n\n*Compatible with Python 3.7 and higher.*\n\nInstall with `pip`:\n\n```\npip install mljar-mercury\n```\n\nOr with `conda`:\n\n```\nconda install -c conda-forge mljar-mercury\n```\n\n## Getting started\n\n#### Demo notebook\n\nTo start with demo notebook please run:\n\n```\nmercury run demo\n```\n\nIt will create for you `demo.ipynb` notebook and run it with Mercury. Please open [127.0.0.1:8000](http://127.0.0.1:8000) to check the app running.\n\n\n#### Your notebook\n\nTo run Mercury with your notebook please execute:\n\n```\nmercury watch my_notebook.ipynb\n```\n\nThe `watch` command will monitor your notebook for changes and will automatically reload them in the Mercury web app.\n\n## YAML Example\n\n#### Notebook with YAML config\n\nThe YAML config is added as the first raw cell in the notebook.\n\n<p align=\"center\">\n  <img \n    alt=\"notebook with YAML config\"\n    src=\"https://raw.githubusercontent.com/mljar/visual-identity/main/mercury/mercury_greetings_3.png\" width=\"600px\" />  \n</p>\n\n#### Web Application from Notebook\n\nThe web app is generated from the notebook. Code is hidden (optional). User can change parameters, execute notebook with the `Run` button, and save results with the `Download` button.\n\n<p align=\"center\">\n  <img \n    alt=\"Web App from Notebook\"\n    src=\"https://raw.githubusercontent.com/mljar/visual-identity/main/mercury/mercury_app_greetings_2.png\" width=\"600px\" />  \n</p>\n\n\n## üíª Demo\n\nThe demos with several example notebooks are running at: \n- [![Open in Mercury](https://raw.githubusercontent.com/mljar/mercury/main/docs/media/open_in_mercury.svg)](http://mercury.mljar.com) [http://mercury.mljar.com](http://mercury.mljar.com) (running on AWS EC2 t3a.small instance) \n- [![Open in Mercury](https://raw.githubusercontent.com/mljar/mercury/main/docs/media/open_in_mercury.svg)](http://mercury-demo-1.herokuapp.com) [http://mercury-demo-1.herokuapp.com](http://mercury-demo-1.herokuapp.com) (running on Heroku, if dyno is sleeping and notebooks are not loaded, please refresh it and wait a little) \n- [![Open in Mercury](https://raw.githubusercontent.com/mljar/mercury/main/docs/media/open_in_mercury.svg)](https://sketch-app-mercury.herokuapp.com/) [https://sketch-app-mercury.herokuapp.com/](https://sketch-app-mercury.herokuapp.com/) - sketch app for converting photos to sketches with [code](https://github.com/pplonski/artistic-sketches-jupyter-mercury) \n\n![](https://github.com/pplonski/artistic-sketches-jupyter-mercury/blob/main/media/mercury_demo.gif)\n\n## Interactive slides\n\nYou can easily do interactive slides from the notebook and serve them with Mercury. Please check the [docs](https://mercury-docs.readthedocs.io/en/latest/interactive-slides/). Below is example demo:\n\n![Interactive Slides](https://mercury-docs.readthedocs.io/en/latest/media/interactive-slides-mercury-demo.gif)\n\n\n## üõ†Ô∏è Convert Notebook to web app with YAML\n\nYou need to add YAML at the beginning of the notebook to be able to run it as a web application in the Mercury. The YAML configuration should be added as a **Raw** cell in the notebook. It should start and end with a line containing \"---\". Below examples of how it should look like in the Jupyter Notebook and Jupyter Lab:\n\n<p align=\"center\" >\n  <img \n    alt=\"Mercury Raw Cell in Jupyter Notebook\"\n    src=\"https://raw.githubusercontent.com/mljar/visual-identity/main/mercury/mercury_raw_cell_jupyter_notebook.png\" width=\"45%\" />\n  <img \n    alt=\"Mercury Raw Cell in Jupyter Lab\"\n    src=\"https://raw.githubusercontent.com/mljar/visual-identity/main/mercury/mercury_raw_cell_jupyter_lab.png\" width=\"45%\" />\n    \n</p>\n\n### YAML configuration\n\nAllowed parameters in YAML config:\n\n- `title` - string with a title of the notebook. It is used in the app sidebar and the gallery view.\n- `author` - string with a author name (optional).\n- `description` - string describing the content of the notebook. It is used in the gallery view.\n- `show-code` - can be `True` or `False`. Default is set to `True`. It decides if the notebook's code will be displayed or not.\n- `show-prompt` - can be `True` or `False`. Default is set to `True`. If set to `True` prompt information will be displayed for each cell in the notebook.\n- `share` - the comma separated list of users that can see the notebook. Default is set to `public` which means that all users can see the notebook. It can be set to `private` which means that only authenticated users can see the notebook. It can be set to the list of users, for example `username1, username2, username3`, which means that only users with username on the list can see the notebook. The last option is list the groups of users that can see the notebook, for example `group1, group2` - all users in the `group1` and `group2` will be able to see the notebook. You can mix group names and user names in the `share` parameter. The users and groups should be created in the Admin Panel. The sharing feature is only available to commercial users. \n- `output` - the type of the resulting notebook. It can be `app` or `slides`. The default is set to `app`.\n- `params` - the parameters that will be used in the notebook. They will be displayed as interactive widgets in the sidebar. Each parameter should have an unique name that corresponds to the variable name used in the code. Read more about available widgets in `params` in the [documentation](https://mercury-docs.readthedocs.io/en/latest/widgets/).\n\n## Define widget with YAML\n\n#### Available widgets\n\nWidgets in Mercury are `text`, `slider`, `range`, `select`, `checkbox`, `numeric`, `file`. \n\n![Mercury widgets](https://raw.githubusercontent.com/mljar/visual-identity/main/mercury/mercury-widgets-v1.png)\n\n#### Widget name is a variable name\n\nDefinition of the widget (in `params`) starts with the widget name. It will correspond to the variable in the code. The name should be a valid Python variable. \n\n#### Widget input type\n\nTo define the widget you need to select the input type. It can be: `text`, `slider`, `range`, `select`, `checkbox`, `numeric`, `file`. \n\n#### Widget label\n\nFor each input we need to define a `label`. It will be a text displayed above (or near) the widget.\n\n#### Widgets documentation üß∞ \n\nYou can read more about widgets in our [documentation](https://mercury-docs.readthedocs.io/en/latest/widgets/).\n\n## Output files\n\nYou can easily create files in your notebook and allow your users to download them. \n\nThe example notebook:\n\n1. The first RAW cell.\n```yaml\ntitle: My app\ndescription: App with file download\nparams:\n    output_dir:\n        output: dir\n```\n\n2. The next cell should have a variable containing the directory name. The variable should be exactly the same as in YAML. This variable will have assigned a new directory name that will be created for your user during notebook execution. Please remember to define all variables that are interactive in Mercury in one cell, just after the YAML header (that's the only requirement to make it work, but is very important).\n\n```py\noutput_dir = \"example_output_directory\"\n```\n\n3. In the next cells, just produce files to the `output_dir`:\n\n```py\nimport os\nwith open(os.path.join(output_dir, \"my_file.txt\"), \"w\") as fout:\n    fout.write(\"This is a test\")\n```\n\nIn the Mercury application, there will be additional menu in the top with `Output files` button. Please click there to see your files. Each file in the directory can be downloaded.\n\n![Output files in Mercury](https://user-images.githubusercontent.com/6959032/153185874-f24cd6fe-9c64-4fa5-8b41-3814856d330a.png)\n\n## Welcome message\n\nThere is an option to set a custom welcome message. Like in the example screenshot below.\n\n<p align=\"left\" >\n  <img \n    alt=\"Mercury Custom Welcome Message\"\n    src=\"https://raw.githubusercontent.com/mljar/visual-identity/main/mercury/custom_welcome_message.png\" width=\"90%\" />\n</p>\n\nThe custom welcome message can be set as Markdown text (with GitHub flavour). To set custom message please create a `welcome.md` file and include your Markdown text there. When deploying please set the `WELCOME` environment variable pointing to your file. For example, in Heroku it will be `WELCOME=welcome.md`. The example repository with welcome message is [here](https://github.com/pplonski/data-science-portfolio). The example demo showing a Data Science Portfolio is [here](http://piotr-data-science-portfolio.herokuapp.com/).\n\nIf you don't set the welcome message a simple `Welcome!` will be displayed. We belive that setting welcome message will give you a great opportunity for customization.\n\n\n## Running locally\n\n### Serve all notebooks (first option)\n\nTo run Mercury with all notebooks in the current directory please just run:\n\n```\nmercury run\n```\n\nIt will serve Mercury website at [http://127.0.0.1:8000](http://127.0.0.1:8000) with all notebooks.\n\nYou can change the default `8000` PORT when running the `mercury`:\n\n```\nmercury run 127.0.0.1:<your-port-here>\n```\n\n### Manually add notebooks (second option)\n\nTo run Mercury locally just run:\n\n```\nmercury runserver --runworker\n```\n\nThe above command will run server and worker (without any notebooks). It will serve Mercury website at [http://127.0.0.1:8000](http://127.0.0.1:8000). It won't display any notebooks because we didn't add any. Please stop the Mercury server (and worker) for a moment with (Ctrl+C).\n\nExecute the following command to add a notebook to the Mercury database:\n\n```\nmercury add <path_to_notebook>\n```\n\nPlease start the Mercury server to see your apps (created from notebooks).\n\n```\nmercury runserver --runworker\n```\n\n\n## Notebook development with automatic refresh\n\nThe Mercury `watch` command is perfect when you create a new notebook and want to see what it will look like as a web app with live changes.\n\nPlease run the following command:\n\n```\nmercury watch <path_to_your_notebook>\n```\n\nYou can now open the web browser at `http://127.0.0.1:8000` and find your notebook. When you change something in the notebook code, markdown, or YAML configuration and save the notebook, then it will be automatically refreshed in the web browser. You can track your changes without manual refreshing of the web app.\n\n## Mercury commands\n\n### Add\n\nPlease use `add` command to add a notebook to the Mercury. It needs a notebook paath as an argument. \n\nExample:\n\n```\nmercury add notebook.ipynb\n```\n\n### Delete\n\nPlease use `delete` command to remove notebook from the Mercury. It needs a notebook path as an argument.\n\nExample:\n\n```\nmercury delete notebook.ipynb\n```\n\n### List\n\nPlease use `list` command to display all notebooks in the Mercury.\n\nExample:\n\n```\nmercury list\n```\n\n## Running in production\n\nRunning in production is easy. There are two ways it can be done:\n\n- deploy with `mercury run` command,\n- deploy with `docker-compose`\n\nPlease check our [documentation](https://mercury-docs.readthedocs.io/en/latest/deploy/deployment/) for details.\n\n## Running with `docker-compose`\n\nThe `docker-compose` must be run from the Mercury main directory.\n\nPlease copy `.env.example` file and name it `.env` file. Please point the `NOTEBOOKS_PATH` to the directory with your notebooks. All notebooks from that path will be added to the Mercury before the server start. If the `requirements.txt` file is available in `NOTEBOOKS_PATH` all packages from there will be installed.\n\nPlease remember to change the `DJANGO_SUPERUSER_USERNAME` and `DJANGO_SUPERUSER_PASSWORD`.\n\nTo generate new `SECRET_KEY` (recommended), you can use:\n\n```\npython -c 'from django.core.management.utils import get_random_secret_key; \\\n            print(get_random_secret_key())'\n```\n\nPlease leave `SERVE_STATIC=False` because in the `docker-compose` configuration static files are served with nginx.\n\nThe `docker-compose` will automatically read environment variables from `.env` file. To start the Mercury, please run:\n\n```\ndocker-compose up --build\n```\n\nTo run in detached mode (you can close the terminal) please run:\n```\ndocker-compose up --build -d\n```\n\nTo stop the containers:\n\n```\ndocker-compose down\n```\n\n## Mercury development\n\nThe Mercury project consists of three elements:\n\n- Frontend is written in TypeScript with React+Redux\n- Server is written in Python with Django\n- Worker is written in Python with Celery\n\nEach element needs a separate terminal during development.\n\n### Frontend\n\nThe user interface code is in the `frontend` directory. Run all commands from there. Install dependencies:\n\n```\nyarn install\n```\n\nRun frontend:\n\n```\nyarn start\n```\n\nThe frontend is served at `http://localhost:3000`.\n\n### Server\n\nThe server code is in the `mercury` directory. Run all commands from there. Please set the virtual environment first:\n\n```\nvirtualenv menv\nsource menv/bin/activate\npip install -r requirements.txt\n```\n\nApply migrations:\n\n```\npython manage.py migrate\n```\n\nRun the server in development mode (`DEBUG=True`):\n\n```\npython manage.py runserver\n```\n\nThe server is running at `http://127.0.0.1:8000`.\n\n### Worker\n\nThe worker code is in the `mercury` directory (in the `apps/notebooks/tasks.py` and `apps/tasks/tasks.py` files). Please activate first the virtual environment (it is using the same virtual environment as a server):\n\n```\nsource menv/bin/activate\n```\n\nRun the worker:\n```\ncelery -A server worker --loglevel=info -P gevent --concurrency 1 -E\n```\n\n## Mercury Pro\n\nLooking for dedicated support, a commercial-friendly license, and more features? The Mercury Pro is for you. Please see the details at [our website](https://mljar.com/pricing).\n\n\n<p align=\"center\">\n  <img \n    alt=\"Mercury logo\"\n    src=\"https://raw.githubusercontent.com/mljar/visual-identity/main/mercury/mercury_logo_v1.png\" width=\"30%\" />\n</p>\n\n\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/mljar/mercury",
    "keywords": "",
    "license": "",
    "maintainer": "MLJAR Sp. z o.o.",
    "maintainer_email": "contact@mljar.com",
    "name": "mercury",
    "package_url": "https://pypi.org/project/mercury/",
    "platform": null,
    "project_url": "https://pypi.org/project/mercury/",
    "project_urls": {
      "Homepage": "https://github.com/mljar/mercury"
    },
    "release_url": "https://pypi.org/project/mercury/1.1.6/",
    "requires_dist": null,
    "requires_python": ">=3.7",
    "summary": "Convert Python Notebook to web app and share with non-technical users",
    "version": "1.1.6",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 17557067,
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "11b18ecfe4f9fbea00e16200df29c98c91efc4588d75699277709a14970384e1",
        "md5": "2a13cc68076a9b46f97d45e45177a8f1",
        "sha256": "c1944eea9c0191517a8ed7cede6369eb9ce464e3b0261a70edf20612200061af"
      },
      "downloads": -1,
      "filename": "mercury-1.1.6.tar.gz",
      "has_sig": false,
      "md5_digest": "2a13cc68076a9b46f97d45e45177a8f1",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": ">=3.7",
      "size": 4563578,
      "upload_time": "2022-12-15T17:27:08",
      "upload_time_iso_8601": "2022-12-15T17:27:08.204527Z",
      "url": "https://files.pythonhosted.org/packages/11/b1/8ecfe4f9fbea00e16200df29c98c91efc4588d75699277709a14970384e1/mercury-1.1.6.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}