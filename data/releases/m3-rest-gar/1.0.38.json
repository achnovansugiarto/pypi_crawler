{
  "info": {
    "author": "BARS Group",
    "author_email": "bars@bars.group",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 4 - Beta",
      "Environment :: Console",
      "Intended Audience :: Developers",
      "Natural Language :: English",
      "Natural Language :: Russian",
      "Programming Language :: Python :: 3.9",
      "Topic :: Software Development :: Libraries",
      "Topic :: Utilities"
    ],
    "description": "REST-сервис на django-rest-framework для доступа к базе ГАР\n------------------------------------------------------------\n\nЭтот сервис - результат объединения разработок:\n\n* django-rest-framework <http://www.django-rest-framework.org/>\n* m3-gar\n\nФормат сервиса\n--------------\n\nСписок адресных объектов\n========================\n\n::\n\n    GET /gar/v1/addrobj/\n\n:Параметры:\n\n:level:\n    Тип: число или список чисел через запятую.\n\n    Фильтрация по уровню адресного объекта.\n\n:parent:\n    Тип: `hierarchy:objectid`\n        `hierarchy` - Вид иерархии - `all`, `mun` или `adm`\n\n        `objectid` - `objectid` родительского объекта\n\n    Фильтрация по родительскому адресному объекту.\n:region_code:\n    Тип: число или список чисел через запятую.\n\n    Фильтрация по коду региона.\n:name:\n    Тип: строка символов.\n\n    Поиск адресного объекта по содержанию строки в наименовании.\n\n:page:\n    Тип: число.\n\n    Страница вывода результатов.\n\n----\n\n:Результат:\n    Тип: application/json.\n\n    Результаты выводятся по страницам согласно настройкам DRF.\n\n----\n\n:Примеры:\n\n::\n\n    GET /gar/v1/addrobj/?name=Шамбалыгский&level=8&parent=adm:210893\n\n    {\n      \"count\": 1,\n      \"next\": null,\n      \"previous\": null,\n      \"results\": [\n        {\n          \"id\": 250006,\n          \"params\": [\n            {\n              \"id\": 3197562,\n              \"typeid\": {\n                \"id\": 5,\n                \"name\": \"Почтовый индекс\",\n                \"code\": \"PostIndex\",\n                \"desc\": \"Информация о почтовом индексе\",\n                \"updatedate\": \"2018-06-15\",\n                \"startdate\": \"2011-11-01\",\n                \"enddate\": \"2079-06-06\",\n                \"isactive\": true\n              },\n              \"objectid\": 207679,\n              \"changeid\": 533863,\n              \"changeidend\": 0,\n              \"value\": \"667901\",\n              \"updatedate\": \"2017-11-16\",\n              \"startdate\": \"1900-01-01\",\n              \"enddate\": \"2079-06-06\"\n            }\n          ],\n          \"objectguid\": \"7effc9de-7888-440b-b2a0-cc5432bc09a5\",\n          \"changeid\": 533888,\n          \"name\": \"Шамбалыгский\",\n          \"typename\": \"пер\",\n          \"level\": \"8\",\n          \"previd\": 249989,\n          \"nextid\": 0,\n          \"updatedate\": \"2019-12-13\",\n          \"startdate\": \"1900-01-01\",\n          \"enddate\": \"2079-06-06\",\n          \"isactual\": true,\n          \"isactive\": true,\n          \"opertypeid\": 1,\n          \"objectid\": 207679\n        }\n      ]\n    }\n\n\nАдресный объект\n===============\n::\n\n    GET /gar/v1/addrobj/:objectid:/\n\n:Параметры:\n\n:objectid:\n    Тип: число.\n\n    Идентификатор адресного объекта\n\n\n----\n\n:Результат:\n    Тип: application/json.\n\n----\n\n:Примеры:\n\n::\n\n    GET /gar/v1/addrobj/207679/\n\n    {\n      \"id\": 250006,\n      \"params\": [\n        {\n          \"id\": 3197562,\n          \"typeid\": {\n            \"id\": 5,\n            \"name\": \"Почтовый индекс\",\n            \"code\": \"PostIndex\",\n            \"desc\": \"Информация о почтовом индексе\",\n            \"updatedate\": \"2018-06-15\",\n            \"startdate\": \"2011-11-01\",\n            \"enddate\": \"2079-06-06\",\n            \"isactive\": true\n          },\n          \"objectid\": 207679,\n          \"changeid\": 533863,\n          \"changeidend\": 0,\n          \"value\": \"667901\",\n          \"updatedate\": \"2017-11-16\",\n          \"startdate\": \"1900-01-01\",\n          \"enddate\": \"2079-06-06\"\n        }\n      ],\n      \"objectguid\": \"7effc9de-7888-440b-b2a0-cc5432bc09a5\",\n      \"changeid\": 533888,\n      \"name\": \"Шамбалыгский\",\n      \"typename\": \"пер\",\n      \"level\": \"8\",\n      \"previd\": 249989,\n      \"nextid\": 0,\n      \"updatedate\": \"2019-12-13\",\n      \"startdate\": \"1900-01-01\",\n      \"enddate\": \"2079-06-06\",\n      \"isactual\": true,\n      \"isactive\": true,\n      \"opertypeid\": 1,\n      \"objectid\": 207679\n    }\n\nСписок домов\n============\n\n::\n\n    GET /gar/v1/houses/\n\n\n:Параметры:\n\n:parent:\n    Тип: `hierarchy:objectid`\n        `hierarchy` - Вид иерархии - `all`, `mun` или `adm`\n\n        `objectid` - `objectid` родительского объекта\n\n    Фильтрация по родительскому адресному объекту.\n\n:housenum:\n    Тип: строка символов.\n\n    Поиск дома по содержанию строки в номере.\n\n:page:\n    Тип: число. Страница вывода результатов.\n\n----\n\n:Результат:\n    Тип: application/json.\n\n    Результаты выводятся по страницам согласно настройкам DRF.\n\n----\n\n:Примеры:\n\n::\n\n    GET /gar/v1/houses/?parent=adm:210826&name=5\n\n    {\n      \"count\": 65,\n      \"next\": \"http://127.0.0.1:8000/gar/v1/houses/?name=5&page=2&parent=adm%3A210826\",\n      \"previous\": null,\n      \"results\": [\n        {\n          \"id\": 52384730,\n          \"params\": [\n            {\n              \"id\": 197175620,\n              \"typeid\": {\n                \"id\": 3,\n                \"name\": \"ИНН ФЛ ТЕР УЧ\",\n                \"code\": \"territorialifnsflcode\",\n                \"desc\": \"Территориальный участок ИФНС ЮЛ\",\n                \"updatedate\": \"2018-06-15\",\n                \"startdate\": \"2011-11-01\",\n                \"enddate\": \"2079-06-06\",\n                \"isactive\": true\n              },\n              \"objectid\": 33665495,\n              \"changeid\": 51296115,\n              \"changeidend\": 158819227,\n              \"value\": \"1717\",\n              \"updatedate\": \"2020-11-21\",\n              \"startdate\": \"1900-01-01\",\n              \"enddate\": \"2020-11-21\"\n            },\n            {\n              \"id\": 197175630,\n              \"typeid\": {\n                \"id\": 6,\n                \"name\": \"ОКАТО\",\n                \"code\": \"OKATO\",\n                \"desc\": \"ОКАТО\",\n                \"updatedate\": \"2018-06-19\",\n                \"startdate\": \"2011-11-01\",\n                \"enddate\": \"2079-06-06\",\n                \"isactive\": true\n              },\n              \"objectid\": 33665495,\n              \"changeid\": 51296115,\n              \"changeidend\": 0,\n              \"value\": \"93243825001\",\n              \"updatedate\": \"2019-12-14\",\n              \"startdate\": \"1900-01-01\",\n              \"enddate\": \"2079-06-06\"\n            },\n            {\n              \"id\": 197175631,\n              \"typeid\": {\n                \"id\": 5,\n                \"name\": \"Почтовый индекс\",\n                \"code\": \"PostIndex\",\n                \"desc\": \"Информация о почтовом индексе\",\n                \"updatedate\": \"2018-06-15\",\n                \"startdate\": \"2011-11-01\",\n                \"enddate\": \"2079-06-06\",\n                \"isactive\": true\n              },\n              \"objectid\": 33665495,\n              \"changeid\": 51296115,\n              \"changeidend\": 0,\n              \"value\": \"667903\",\n              \"updatedate\": \"2019-12-14\",\n              \"startdate\": \"1900-01-01\",\n              \"enddate\": \"2079-06-06\"\n            },\n            {\n              \"id\": 197175643,\n              \"typeid\": {\n                \"id\": 14,\n                \"name\": \"Признак присвоения адреса\",\n                \"code\": \"DivisionType\",\n                \"desc\": \"Признак в каком делении присвоен адрес, муниципальном/административном\",\n                \"updatedate\": \"2018-12-14\",\n                \"startdate\": \"2011-11-01\",\n                \"enddate\": \"2079-06-06\",\n                \"isactive\": true\n              },\n              \"objectid\": 33665495,\n              \"changeid\": 51296115,\n              \"changeidend\": 0,\n              \"value\": \"0\",\n              \"updatedate\": \"2019-12-14\",\n              \"startdate\": \"1900-01-01\",\n              \"enddate\": \"2079-06-06\"\n            },\n            {\n              \"id\": 197175692,\n              \"typeid\": {\n                \"id\": 15,\n                \"name\": \"Порядковый номер\",\n                \"code\": \"Counter\",\n                \"desc\": \"Порядковый номер обьекта в рамках родителя\",\n                \"updatedate\": \"2018-12-14\",\n                \"startdate\": \"2011-11-01\",\n                \"enddate\": \"2079-06-06\",\n                \"isactive\": true\n              },\n              \"objectid\": 33665495,\n              \"changeid\": 51296115,\n              \"changeidend\": 0,\n              \"value\": \"18\",\n              \"updatedate\": \"2019-12-14\",\n              \"startdate\": \"1900-01-01\",\n              \"enddate\": \"2079-06-06\"\n            },\n            {\n              \"id\": 197175626,\n              \"typeid\": {\n                \"id\": 7,\n                \"name\": \"OKTMO\",\n                \"code\": \"OKTMO\",\n                \"desc\": \"OKTMO\",\n                \"updatedate\": \"2018-06-19\",\n                \"startdate\": \"2011-11-01\",\n                \"enddate\": \"2079-06-06\",\n                \"isactive\": true\n              },\n              \"objectid\": 33665495,\n              \"changeid\": 51296115,\n              \"changeidend\": 51296790,\n              \"value\": \"93643425\",\n              \"updatedate\": \"2019-12-14\",\n              \"startdate\": \"1900-01-01\",\n              \"enddate\": \"2019-12-13\"\n            },\n            {\n              \"id\": 197175728,\n              \"typeid\": {\n                \"id\": 7,\n                \"name\": \"OKTMO\",\n                \"code\": \"OKTMO\",\n                \"desc\": \"OKTMO\",\n                \"updatedate\": \"2018-06-19\",\n                \"startdate\": \"2011-11-01\",\n                \"enddate\": \"2079-06-06\",\n                \"isactive\": true\n              },\n              \"objectid\": 33665495,\n              \"changeid\": 51296790,\n              \"changeidend\": 0,\n              \"value\": \"93643425101\",\n              \"updatedate\": \"2019-12-14\",\n              \"startdate\": \"2019-12-13\",\n              \"enddate\": \"2079-06-06\"\n            },\n            {\n              \"id\": 197175636,\n              \"typeid\": {\n                \"id\": 13,\n                \"name\": \"Реестровый номер\",\n                \"code\": \"ReestrNum\",\n                \"desc\": \"Реестровый номер адресного объекта\",\n                \"updatedate\": \"2018-11-12\",\n                \"startdate\": \"2011-11-01\",\n                \"enddate\": \"2079-06-06\",\n                \"isactive\": true\n              },\n              \"objectid\": 33665495,\n              \"changeid\": 51296115,\n              \"changeidend\": 51296790,\n              \"value\": \"936434251010000000220018000000005\",\n              \"updatedate\": \"2019-12-14\",\n              \"startdate\": \"1900-01-01\",\n              \"enddate\": \"2019-12-13\"\n            },\n            {\n              \"id\": 197176157,\n              \"typeid\": {\n                \"id\": 13,\n                \"name\": \"Реестровый номер\",\n                \"code\": \"ReestrNum\",\n                \"desc\": \"Реестровый номер адресного объекта\",\n                \"updatedate\": \"2018-11-12\",\n                \"startdate\": \"2011-11-01\",\n                \"enddate\": \"2079-06-06\",\n                \"isactive\": true\n              },\n              \"objectid\": 33665495,\n              \"changeid\": 51296790,\n              \"changeidend\": 0,\n              \"value\": \"936434251010000000220018000000000\",\n              \"updatedate\": \"2019-12-14\",\n              \"startdate\": \"2019-12-13\",\n              \"enddate\": \"2079-06-06\"\n            },\n            {\n              \"id\": 197173900,\n              \"typeid\": {\n                \"id\": 1,\n                \"name\": \"ИФНС ФЛ\",\n                \"code\": \"IFNSFL\",\n                \"desc\": \"ИФНС ФЛ\",\n                \"updatedate\": \"2018-06-15\",\n                \"startdate\": \"2011-11-01\",\n                \"enddate\": \"2079-06-06\",\n                \"isactive\": true\n              },\n              \"objectid\": 33665495,\n              \"changeid\": 51296115,\n              \"changeidend\": 158819227,\n              \"value\": \"1720\",\n              \"updatedate\": \"2020-11-21\",\n              \"startdate\": \"1900-01-01\",\n              \"enddate\": \"2020-11-21\"\n            },\n            {\n              \"id\": 679599960,\n              \"typeid\": {\n                \"id\": 1,\n                \"name\": \"ИФНС ФЛ\",\n                \"code\": \"IFNSFL\",\n                \"desc\": \"ИФНС ФЛ\",\n                \"updatedate\": \"2018-06-15\",\n                \"startdate\": \"2011-11-01\",\n                \"enddate\": \"2079-06-06\",\n                \"isactive\": true\n              },\n              \"objectid\": 33665495,\n              \"changeid\": 158819227,\n              \"changeidend\": 0,\n              \"value\": \"1700\",\n              \"updatedate\": \"2020-11-21\",\n              \"startdate\": \"2020-11-21\",\n              \"enddate\": \"2079-06-06\"\n            },\n            {\n              \"id\": 679666370,\n              \"typeid\": {\n                \"id\": 2,\n                \"name\": \"ИФНС ЮЛ\",\n                \"code\": \"IFNSUL\",\n                \"desc\": \"ИФНС ЮЛ\",\n                \"updatedate\": \"2018-06-15\",\n                \"startdate\": \"2011-11-01\",\n                \"enddate\": \"2079-06-06\",\n                \"isactive\": true\n              },\n              \"objectid\": 33665495,\n              \"changeid\": 158819227,\n              \"changeidend\": 0,\n              \"value\": \"1700\",\n              \"updatedate\": \"2020-11-21\",\n              \"startdate\": \"2020-11-21\",\n              \"enddate\": \"2079-06-06\"\n            },\n            {\n              \"id\": 197175624,\n              \"typeid\": {\n                \"id\": 4,\n                \"name\": \"ИФНС ЮЛ ТЕР УЧ\",\n                \"code\": \"territorialifnsulcode\",\n                \"desc\": \"Территориальный участок ИФНС ФЛ\",\n                \"updatedate\": \"2018-06-15\",\n                \"startdate\": \"2011-11-01\",\n                \"enddate\": \"2079-06-06\",\n                \"isactive\": true\n              },\n              \"objectid\": 33665495,\n              \"changeid\": 51296115,\n              \"changeidend\": 158819227,\n              \"value\": \"1717\",\n              \"updatedate\": \"2020-11-21\",\n              \"startdate\": \"1900-01-01\",\n              \"enddate\": \"2020-11-21\"\n            },\n            {\n              \"id\": 197175616,\n              \"typeid\": {\n                \"id\": 2,\n                \"name\": \"ИФНС ЮЛ\",\n                \"code\": \"IFNSUL\",\n                \"desc\": \"ИФНС ЮЛ\",\n                \"updatedate\": \"2018-06-15\",\n                \"startdate\": \"2011-11-01\",\n                \"enddate\": \"2079-06-06\",\n                \"isactive\": true\n              },\n              \"objectid\": 33665495,\n              \"changeid\": 51296115,\n              \"changeidend\": 158819227,\n              \"value\": \"1720\",\n              \"updatedate\": \"2020-11-21\",\n              \"startdate\": \"1900-01-01\",\n              \"enddate\": \"2020-11-21\"\n            }\n          ],\n          \"housetype\": {\n            \"id\": 3,\n            \"name\": \"Домовладение\",\n            \"shortname\": \"двлд.\",\n            \"desc\": \"Домовладение\",\n            \"updatedate\": \"1900-01-01\",\n            \"startdate\": \"1900-01-01\",\n            \"enddate\": \"2015-11-05\",\n            \"isactive\": false\n          },\n          \"addtype1\": null,\n          \"addtype2\": null,\n          \"objectguid\": \"0e27bfa6-d3e2-4160-967a-5f14d43fbc98\",\n          \"changeid\": 51296790,\n          \"housenum\": \"18\",\n          \"addnum1\": null,\n          \"addnum2\": null,\n          \"previd\": 20010713,\n          \"nextid\": 0,\n          \"updatedate\": \"2019-12-14\",\n          \"startdate\": \"2019-12-13\",\n          \"enddate\": \"2079-06-06\",\n          \"isactual\": true,\n          \"isactive\": true,\n          \"opertypeid\": 20,\n          \"objectid\": 33665495\n        }\n      ]\n    }\n\n\nИнформация о доме\n=================\n::\n\n    GET /gar/v1/houses/:objectid:/\n\n:Параметры:\n\n:objectid:\n    Тип: число.\n\n    Идентификатор дома\n\n\n----\n\n:Результат:\n    Тип: application/json.\n\n----\n\n:Примеры:\n\n::\n\n    GET /gar/v1/houses/33663074/\n\n    {\n      \"id\": 60865585,\n      \"params\": [\n        {\n          \"id\": 197161766,\n          \"typeid\": {\n            \"id\": 1,\n            \"name\": \"ИФНС ФЛ\",\n            \"code\": \"IFNSFL\",\n            \"desc\": \"ИФНС ФЛ\",\n            \"updatedate\": \"2018-06-15\",\n            \"startdate\": \"2011-11-01\",\n            \"enddate\": \"2079-06-06\",\n            \"isactive\": true\n          },\n          \"objectid\": 33663074,\n          \"changeid\": 51292720,\n          \"changeidend\": 158819225,\n          \"value\": \"1720\",\n          \"updatedate\": \"2020-11-21\",\n          \"startdate\": \"1900-01-01\",\n          \"enddate\": \"2020-11-21\"\n        },\n        {\n          \"id\": 197163461,\n          \"typeid\": {\n            \"id\": 13,\n            \"name\": \"Реестровый номер\",\n            \"code\": \"ReestrNum\",\n            \"desc\": \"Реестровый номер адресного объекта\",\n            \"updatedate\": \"2018-11-12\",\n            \"startdate\": \"2011-11-01\",\n            \"enddate\": \"2079-06-06\",\n            \"isactive\": true\n          },\n          \"objectid\": 33663074,\n          \"changeid\": 51293350,\n          \"changeidend\": 0,\n          \"value\": \"936434251010000000220012000000000\",\n          \"updatedate\": \"2019-12-14\",\n          \"startdate\": \"2019-12-13\",\n          \"enddate\": \"2079-06-06\"\n        },\n        {\n          \"id\": 197163411,\n          \"typeid\": {\n            \"id\": 6,\n            \"name\": \"ОКАТО\",\n            \"code\": \"OKATO\",\n            \"desc\": \"ОКАТО\",\n            \"updatedate\": \"2018-06-19\",\n            \"startdate\": \"2011-11-01\",\n            \"enddate\": \"2079-06-06\",\n            \"isactive\": true\n          },\n          \"objectid\": 33663074,\n          \"changeid\": 51292720,\n          \"changeidend\": 0,\n          \"value\": \"93243825001\",\n          \"updatedate\": \"2019-12-14\",\n          \"startdate\": \"1900-01-01\",\n          \"enddate\": \"2079-06-06\"\n        },\n        {\n          \"id\": 197163416,\n          \"typeid\": {\n            \"id\": 5,\n            \"name\": \"Почтовый индекс\",\n            \"code\": \"PostIndex\",\n            \"desc\": \"Информация о почтовом индексе\",\n            \"updatedate\": \"2018-06-15\",\n            \"startdate\": \"2011-11-01\",\n            \"enddate\": \"2079-06-06\",\n            \"isactive\": true\n          },\n          \"objectid\": 33663074,\n          \"changeid\": 51292720,\n          \"changeidend\": 0,\n          \"value\": \"667903\",\n          \"updatedate\": \"2019-12-14\",\n          \"startdate\": \"1900-01-01\",\n          \"enddate\": \"2079-06-06\"\n        },\n        {\n          \"id\": 197163430,\n          \"typeid\": {\n            \"id\": 14,\n            \"name\": \"Признак присвоения адреса\",\n            \"code\": \"DivisionType\",\n            \"desc\": \"Признак в каком делении присвоен адрес, муниципальном/административном\",\n            \"updatedate\": \"2018-12-14\",\n            \"startdate\": \"2011-11-01\",\n            \"enddate\": \"2079-06-06\",\n            \"isactive\": true\n          },\n          \"objectid\": 33663074,\n          \"changeid\": 51292720,\n          \"changeidend\": 0,\n          \"value\": \"0\",\n          \"updatedate\": \"2019-12-14\",\n          \"startdate\": \"1900-01-01\",\n          \"enddate\": \"2079-06-06\"\n        },\n        {\n          \"id\": 197163432,\n          \"typeid\": {\n            \"id\": 15,\n            \"name\": \"Порядковый номер\",\n            \"code\": \"Counter\",\n            \"desc\": \"Порядковый номер обьекта в рамках родителя\",\n            \"updatedate\": \"2018-12-14\",\n            \"startdate\": \"2011-11-01\",\n            \"enddate\": \"2079-06-06\",\n            \"isactive\": true\n          },\n          \"objectid\": 33663074,\n          \"changeid\": 51292720,\n          \"changeidend\": 0,\n          \"value\": \"12\",\n          \"updatedate\": \"2019-12-14\",\n          \"startdate\": \"1900-01-01\",\n          \"enddate\": \"2079-06-06\"\n        },\n        {\n          \"id\": 197163408,\n          \"typeid\": {\n            \"id\": 7,\n            \"name\": \"OKTMO\",\n            \"code\": \"OKTMO\",\n            \"desc\": \"OKTMO\",\n            \"updatedate\": \"2018-06-19\",\n            \"startdate\": \"2011-11-01\",\n            \"enddate\": \"2079-06-06\",\n            \"isactive\": true\n          },\n          \"objectid\": 33663074,\n          \"changeid\": 51292720,\n          \"changeidend\": 51293350,\n          \"value\": \"93643425\",\n          \"updatedate\": \"2019-12-14\",\n          \"startdate\": \"1900-01-01\",\n          \"enddate\": \"2019-12-13\"\n        },\n        {\n          \"id\": 197163454,\n          \"typeid\": {\n            \"id\": 7,\n            \"name\": \"OKTMO\",\n            \"code\": \"OKTMO\",\n            \"desc\": \"OKTMO\",\n            \"updatedate\": \"2018-06-19\",\n            \"startdate\": \"2011-11-01\",\n            \"enddate\": \"2079-06-06\",\n            \"isactive\": true\n          },\n          \"objectid\": 33663074,\n          \"changeid\": 51293350,\n          \"changeidend\": 0,\n          \"value\": \"93643425101\",\n          \"updatedate\": \"2019-12-14\",\n          \"startdate\": \"2019-12-13\",\n          \"enddate\": \"2079-06-06\"\n        },\n        {\n          \"id\": 197163423,\n          \"typeid\": {\n            \"id\": 13,\n            \"name\": \"Реестровый номер\",\n            \"code\": \"ReestrNum\",\n            \"desc\": \"Реестровый номер адресного объекта\",\n            \"updatedate\": \"2018-11-12\",\n            \"startdate\": \"2011-11-01\",\n            \"enddate\": \"2079-06-06\",\n            \"isactive\": true\n          },\n          \"objectid\": 33663074,\n          \"changeid\": 51292720,\n          \"changeidend\": 51293350,\n          \"value\": \"936434251010000000220012000000005\",\n          \"updatedate\": \"2019-12-14\",\n          \"startdate\": \"1900-01-01\",\n          \"enddate\": \"2019-12-13\"\n        },\n        {\n          \"id\": 197163397,\n          \"typeid\": {\n            \"id\": 3,\n            \"name\": \"ИНН ФЛ ТЕР УЧ\",\n            \"code\": \"territorialifnsflcode\",\n            \"desc\": \"Территориальный участок ИФНС ЮЛ\",\n            \"updatedate\": \"2018-06-15\",\n            \"startdate\": \"2011-11-01\",\n            \"enddate\": \"2079-06-06\",\n            \"isactive\": true\n          },\n          \"objectid\": 33663074,\n          \"changeid\": 51292720,\n          \"changeidend\": 158819225,\n          \"value\": \"1717\",\n          \"updatedate\": \"2020-11-21\",\n          \"startdate\": \"1900-01-01\",\n          \"enddate\": \"2020-11-21\"\n        },\n        {\n          \"id\": 679599958,\n          \"typeid\": {\n            \"id\": 1,\n            \"name\": \"ИФНС ФЛ\",\n            \"code\": \"IFNSFL\",\n            \"desc\": \"ИФНС ФЛ\",\n            \"updatedate\": \"2018-06-15\",\n            \"startdate\": \"2011-11-01\",\n            \"enddate\": \"2079-06-06\",\n            \"isactive\": true\n          },\n          \"objectid\": 33663074,\n          \"changeid\": 158819225,\n          \"changeidend\": 0,\n          \"value\": \"1700\",\n          \"updatedate\": \"2020-11-21\",\n          \"startdate\": \"2020-11-21\",\n          \"enddate\": \"2079-06-06\"\n        },\n        {\n          \"id\": 197163402,\n          \"typeid\": {\n            \"id\": 4,\n            \"name\": \"ИФНС ЮЛ ТЕР УЧ\",\n            \"code\": \"territorialifnsulcode\",\n            \"desc\": \"Территориальный участок ИФНС ФЛ\",\n            \"updatedate\": \"2018-06-15\",\n            \"startdate\": \"2011-11-01\",\n            \"enddate\": \"2079-06-06\",\n            \"isactive\": true\n          },\n          \"objectid\": 33663074,\n          \"changeid\": 51292720,\n          \"changeidend\": 158819225,\n          \"value\": \"1717\",\n          \"updatedate\": \"2020-11-21\",\n          \"startdate\": \"1900-01-01\",\n          \"enddate\": \"2020-11-21\"\n        },\n        {\n          \"id\": 197161768,\n          \"typeid\": {\n            \"id\": 2,\n            \"name\": \"ИФНС ЮЛ\",\n            \"code\": \"IFNSUL\",\n            \"desc\": \"ИФНС ЮЛ\",\n            \"updatedate\": \"2018-06-15\",\n            \"startdate\": \"2011-11-01\",\n            \"enddate\": \"2079-06-06\",\n            \"isactive\": true\n          },\n          \"objectid\": 33663074,\n          \"changeid\": 51292720,\n          \"changeidend\": 158819225,\n          \"value\": \"1720\",\n          \"updatedate\": \"2020-11-21\",\n          \"startdate\": \"1900-01-01\",\n          \"enddate\": \"2020-11-21\"\n        },\n        {\n          \"id\": 679666368,\n          \"typeid\": {\n            \"id\": 2,\n            \"name\": \"ИФНС ЮЛ\",\n            \"code\": \"IFNSUL\",\n            \"desc\": \"ИФНС ЮЛ\",\n            \"updatedate\": \"2018-06-15\",\n            \"startdate\": \"2011-11-01\",\n            \"enddate\": \"2079-06-06\",\n            \"isactive\": true\n          },\n          \"objectid\": 33663074,\n          \"changeid\": 158819225,\n          \"changeidend\": 0,\n          \"value\": \"1700\",\n          \"updatedate\": \"2020-11-21\",\n          \"startdate\": \"2020-11-21\",\n          \"enddate\": \"2079-06-06\"\n        }\n      ],\n      \"housetype\": {\n        \"id\": 3,\n        \"name\": \"Домовладение\",\n        \"shortname\": \"двлд.\",\n        \"desc\": \"Домовладение\",\n        \"updatedate\": \"1900-01-01\",\n        \"startdate\": \"1900-01-01\",\n        \"enddate\": \"2015-11-05\",\n        \"isactive\": false\n      },\n      \"addtype1\": null,\n      \"addtype2\": null,\n      \"objectguid\": \"85e4ae37-bd1a-42ec-ad27-5c4343d53adf\",\n      \"changeid\": 51293350,\n      \"housenum\": \"12\",\n      \"addnum1\": null,\n      \"addnum2\": null,\n      \"previd\": 20009203,\n      \"nextid\": 0,\n      \"updatedate\": \"2019-12-14\",\n      \"startdate\": \"2019-12-13\",\n      \"enddate\": \"2079-06-06\",\n      \"isactual\": true,\n      \"isactive\": true,\n      \"opertypeid\": 20,\n      \"objectid\": 33663074\n    }\n\n\n\nУстановка\n---------\n\n1. Установите `m3-rest-gar`::\n\n    pip install m3-rest-gar\n\n2. Добавьте `rest_framework, `django_filters`, `m3_gar`, `m3_rest_gar`\nв `INSTALLED_APPS` и установите `DjangoFilterBackend`\n\n::\n\n    INSTALLED_APPS = [\n        ...,\n        'rest_framework',\n        'django_filters',\n        'm3_gar',\n        'm3_rest_gar',\n    ]\n\n    REST_FRAMEWORK = {\n        ...,\n        'DEFAULT_FILTER_BACKENDS': [\n            'django_filters.rest_framework.DjangoFilterBackend',\n        ],\n    }\n\n3. Настройте `m3_gar` и импортируйте данные\n\n4. Добавьте urlpatterns m3_rest_gar\n\n::\n\n    urlpatterns = [\n        ...,\n        path('gar/', include('m3_rest_gar.urls')),\n    ]\n\n\nНастройка аутентификации OAuth2\n-------------------------------\n\nУстановить пакет OAuth2\n\n::\n\n    pip install django-oauth-toolkit\n\n\nНастроить приложение (settings.py)\n\n::\n\n    INSTALLED_APPS = [\n        ...\n        'oauth2_provider',\n    ]\n\n    MIDDLEWARE = [\n        ...,\n        'oauth2_provider.middleware.OAuth2TokenMiddleware',\n    ]\n\n    AUTHENTICATION_BACKENDS = [\n        'oauth2_provider.backends.OAuth2Backend',\n        # Если нужен доступ в /admin:\n        # 'django.contrib.auth.backends.ModelBackend',\n    ]\n\n    REST_FRAMEWORK = {\n        ...,\n        'DEFAULT_AUTHENTICATION_CLASSES': [\n            'oauth2_provider.contrib.rest_framework.OAuth2Authentication',\n        ],\n        'DEFAULT_PERMISSION_CLASSES': [\n            'rest_framework.permissions.IsAuthenticated',\n        ],\n    }\n\nДобавить urlpatterns (urls.py)\n\n::\n\n    urlpatterns = patterns('',\n        ...\n        path('oauth2/', include('oauth2_provider.urls', namespace='oauth2_provider')),\n    )\n\n\nВыполнить миграцию базы\n\n::\n\n    python manage.py migrate\n\n\nРегистрация клиентского приложения\n==================================\n\nЗаходим в django-admin /admin\n\nВ разделе Users создаем пользователя от имени которого будут выполняться запросы.\n(Можно всех клиентов привязать к одному пользователю, они всё-равно будут отличаться номером клиента)\n\nВ разделе Applications создаем клиента,\n* выбираем пользователя\n* `Client type` указываем *Confidencial*\n* `Authorization grant type` указываем *Resource owner password-based*\n* сохраняем клиента\n\n\nОбращение к сервису из клиентского приложения\n=============================================\n\n1. Получение токена\n\nДля получения токена нужно выполнить POST-запрос:\n\n  POST /oauth2/token/\n\n:Параметры:\n\n:client_id:\n    Тип: строка символов. Идентификатор клиентского приложения\n\n:client_secret:\n    Тип: строка символов. Секретный ключ клиентского приложения\n\n:grant_type:\n    Тип: строка символов. Тип идентификации клиента. Доступные значения: *password*\n\n:username:\n    Тип: строка символов. Имя пользователя, которому выдается токен\n\n:password:\n    Тип: строка символов. Пароль пользователя\n\n----\n\n:Результат:\n    Тип: application/json.\n\n::\n\n    {\n        \"access_token\": токен для доступа к сервису,\n        \"token_type\": \"Bearer\",\n        \"expires_in\": время жизни токена в секундах,\n        \"refresh_token\": токен для обновления,\n        \"scope\": \"read\"\n    }\n\n\n2. Запрос данных\n\nПосле получения токена его нужно указать в заголовке запроса к сервису:\n\n::\n    Authorization: Bearer <токен>\n\n\nЛокальное развертывание сервиса с использованием PyCharm (для разработчиков)\n============================================================================\n\n1. Создать отдельный Django-проект с виртуальным окружением (по умолчанию PROJECT_DIR/venv). Здесь и далее PROJECT_DIR - директория PyCharm проекта.\n\n2. Установить пакеты в виртуальное окружение::\n\n    pip install --src PROJECT_DIR -e git+ssh://git@stash.bars-open.ru:7999/m3/m3-gar.git@master#egg=m3_gar\n    pip install --src PROJECT_DIR -e git+ssh://git@stash.bars-open.ru:7999/m3/m3-rest-gar.git@master#egg=m3_rest_gar\n\n3. Отметить следующие директории как директории с исходниками (Mark as Sources Root)::\n\n    PROJECT_DIR/m3-gar/m3_gar\n    PROJECT_DIR/m3-rest-gar/m3_rest_gar\n\n4. Создать в директории PROJECT_DIR/m3-rest-gar/test_project/test_project файл local_settings.py, скопировать в него содержимое dev_settings.py, подменить настройки, если потребуется.\n\n5. Актуализировать настройки PyCharm. File->Settings->Languages & Frameworks->Django::\n\n    Django project root: PROJECT_DIR/m3-rest-gar/test_project\n    Settings: PROJECT_DIR/m3-rest-gar/test_project/test_project/local_settings.py.\n\n6. Запустить Django сервер.\n\n7. В клиентском приложении, которое будет использовать локально развернутый m3-rest-gar, необходимо подменить URL сервиса ГАР на локальный.\n",
    "description_content_type": "",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "",
    "keywords": "django rest gar",
    "license": "MIT",
    "maintainer": "",
    "maintainer_email": "",
    "name": "m3-rest-gar",
    "package_url": "https://pypi.org/project/m3-rest-gar/",
    "platform": null,
    "project_url": "https://pypi.org/project/m3-rest-gar/",
    "project_urls": null,
    "release_url": "https://pypi.org/project/m3-rest-gar/1.0.38/",
    "requires_dist": [
      "m3-gar (==1.0.34)",
      "Django (==3.2.4)",
      "djangorestframework (==3.12.4)",
      "django-oauth-toolkit (==1.5.0)",
      "django-filter (==2.4.0)"
    ],
    "requires_python": "",
    "summary": "REST-service for GAR.",
    "version": "1.0.38",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 15938898,
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "27c3ac53c71a103e3eb393ea7be55a4c50de51d24b3c457e208cf3f7186d65a6",
        "md5": "6764db5714a673137071091766e81f1e",
        "sha256": "d615827a96002a31cac07986414e299fc81efa71f3fe73a40eedf9f544a039cc"
      },
      "downloads": -1,
      "filename": "m3_rest_gar-1.0.38-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "6764db5714a673137071091766e81f1e",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": null,
      "size": 13157,
      "upload_time": "2022-10-24T07:36:31",
      "upload_time_iso_8601": "2022-10-24T07:36:31.037877Z",
      "url": "https://files.pythonhosted.org/packages/27/c3/ac53c71a103e3eb393ea7be55a4c50de51d24b3c457e208cf3f7186d65a6/m3_rest_gar-1.0.38-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "e8c968ca5e333e1b2350d09a47c70034572b27546e8c145fdbcff76772a221bd",
        "md5": "d3331d6d89d689fd9e1d8704945fdf64",
        "sha256": "de5c70b03a1f58265e1521be23bc567037439e29a186f82fe7afe92ac3191bc2"
      },
      "downloads": -1,
      "filename": "m3-rest-gar-1.0.38.tar.gz",
      "has_sig": false,
      "md5_digest": "d3331d6d89d689fd9e1d8704945fdf64",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": null,
      "size": 19447,
      "upload_time": "2022-10-24T07:36:33",
      "upload_time_iso_8601": "2022-10-24T07:36:33.093733Z",
      "url": "https://files.pythonhosted.org/packages/e8/c9/68ca5e333e1b2350d09a47c70034572b27546e8c145fdbcff76772a221bd/m3-rest-gar-1.0.38.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}