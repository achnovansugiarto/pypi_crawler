{
  "info": {
    "author": "Luke Burden",
    "author_email": "lukeburden@gmail.com",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 5 - Production/Stable",
      "Environment :: Web Environment",
      "Framework :: Django",
      "Intended Audience :: Developers",
      "License :: OSI Approved :: MIT License",
      "Operating System :: OS Independent",
      "Programming Language :: Python",
      "Programming Language :: Python :: 3"
    ],
    "description": "# Integrate Zendesk Support into your Django app\n\n[![](https://img.shields.io/pypi/v/django-zengo.svg)](https://pypi.python.org/pypi/django-zengo/)\n[![](https://img.shields.io/badge/license-MIT-blue.svg)](https://pypi.python.org/pypi/django-zengo/)\n[![Code style: black](https://img.shields.io/badge/code%20style-black-000000.svg)](https://github.com/ambv/black)\n[![Codecov](https://codecov.io/gh/lukeburden/django-zengo/branch/master/graph/badge.svg)](https://codecov.io/gh/lukeburden/django-zengo)\n[![CircleCI](https://circleci.com/gh/lukeburden/django-zengo.svg?style=svg)](https://circleci.com/gh/lukeburden/django-zengo)\n\n\n## django-zengo\n\n`django-zengo` is a Django app that provides conveniences for integrating with Zendesk.\n\nIt facilitates receiving webhook updates from Zendesk, detecting new tickets and changes to existing tickets.\n\n### Installation ####\n\npip install django-zengo\n\n\n### Usage ###\n\n#### Configuring the webhook ####\n\nZengo comes with a view that processes messages sent by Zendesk and allows you to perform actions upon various Zendesk events.\n\n##### Expose `zengo.views.WebhookView` #####\n\nYou need to configure your application to receive the webhook. To do so simply include it in your URL conf:\n\n```python\nfrom django.contrib import admin\nfrom django.urls import path\n\nfrom zengo.views import WebhookView\n\nurlpatterns = [\n    path('admin/', admin.site.urls),\n    path('zengo/webhook/', WebhookView.as_view())\n]\n```\n\n\n##### Add required bits to `settings.py` #####\n\nYou need to tell Zengo how to authenticate with Zendesk:\n\n- `ZENDESK_EMAIL` is the email of the Zendesk account you will use to interact with the API.\n- `ZENDESK_TOKEN` generated for the user above in the Zendesk web interface.\n- `ZENDESK_SUBDOMAIN` must match the subdomain used in your Zendesk account.\n\nAs seen below, you need to specify\nAnd you need to set a shared secret so that the webhook view can trust incoming messages from Zendesk:\n\n- `ZENGO_WEBHOOK_SECRET` generated by your good self; make it long and random!\n\nSo, your settings should appear something along the lines of:\n\n```python\nZENDESK_EMAIL = \"iamanemail@example.com\"\nZENDESK_TOKEN = \"<token-from-zendesk-webui>\"\nZENDESK_SUBDOMAIN = \"example\"\n\nZENGO_WEBHOOK_SECRET = \"<replace-me-with-a-great-password>\"\n```\n\n###### Configure Zendesk to send events ######\n\nZendesk allows for many integrations, but for the purposes of Zengo we just need to be told when a ticket has been changed.\n\nLog in as an administrator in Zendesk, and visit `Settings > Extensions > Targets > add target > HTTP target`.\n\nAdd an HTTP target with a URL of your service, and choose the `POST` method. Ensure you've added a `secret` query parameter to the URL where your webhook is accessible, such that the webhook view can authorize Zendesk's webhook sends.\n\nNext, you must configure a trigger to use the target. Visit `Business Rules > Triggers > Add trigger`. Add a condition that suits your needs, such as, `Ticket is updated`, or `Ticket is created`, and select an action of `Notify target`, selecting the previously configured target. For JSON body, enter the following: \n\n```json\n{\n    \"id\": \"{{ ticket.id }}\"\n}\n```\n\nYou're done! Now whenever a ticket is created or updated in Zendesk, you should have an event being processed in your application.\n\nNote: for development, I recommend using the excellent [ngrok](https://ngrok.com/) to proxy requests through to your localhost.\n\n#### Performing actions upon receiving Zendesk events ####\n\nWhen Zengo receives a webhook from Zendesk, it will fetch the latest state of the ticket from Zendesk's APIs, compare how this differs to the state in the local database models, and fire a signal indicating what has happened. In your application, you attach receivers to the signal that is most relevant to your need.\n\n```python\nfrom django.dispatch import receiver\n\nfrom zengo.signals import ticket_created\n\n\n@receiver(ticket_created)\ndef handle_new_ticket(sender, ticket, context, **kwargs):\n    # perform your custom action here\n    pass\n```\n\n#### Signals ####\n\nYou can connect to the following signals.\n\n- `zengo.signals.ticket_created` - fires when a ticket is encountered for the first time.\n- `zengo.signals.ticket_updated` - fires when a ticket previously encountered is changed, or has a new comment added.\n\n\n## Contribute\n\n`django-zengo` supports a variety of Python and Django versions. It's best if you test each one of these before committing. Our [Circle CI Integration](https://circleci.com) will test these when you push but knowing before you commit prevents from having to do a lot of extra commits to get the build to pass.\n\n### Environment Setup\n\nIn order to easily test on all these Pythons and run the exact same thing that CI will execute you'll want to setup [pyenv](https://github.com/yyuu/pyenv) and install the Python versions outlined in [tox.ini](https://github.com/lukeburden/django-zengo/blob/master/tox.ini).\n\nIf you are on Mac OS X, it's recommended you use [brew](http://brew.sh/). After installing `brew` run:\n\n```\n$ brew install pyenv pyenv-virtualenv pyenv-virtualenvwrapper\n```\n\nThen:\n\n```\npyenv install -s 3.6.10\npyenv install -s 3.7.6\npyenv install -s 3.8.1\npyenv virtualenv zengo 3.8.1\npyenv shell zengo 3.6.10 3.7.6\npip install detox\n```\n\nTo run the test suite:\n\n```\n$ detox\n```\n\n\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/lukeburden/django-zengo",
    "keywords": "",
    "license": "MIT",
    "maintainer": "",
    "maintainer_email": "",
    "name": "django-zengo",
    "package_url": "https://pypi.org/project/django-zengo/",
    "platform": null,
    "project_url": "https://pypi.org/project/django-zengo/",
    "project_urls": {
      "Homepage": "https://github.com/lukeburden/django-zengo"
    },
    "release_url": "https://pypi.org/project/django-zengo/2.0.4/",
    "requires_dist": [
      "django (<4,>=2)",
      "zenpy (<3,>=2.0.11)",
      "django-konst (<3,>=2)"
    ],
    "requires_python": "",
    "summary": "Integrate Zendesk Support and your Django app",
    "version": "2.0.4",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 13678658,
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "3de9634f9e5aa1fa7d5900174be5e20383086ae7aa068c8f7245207b68b21654",
        "md5": "0975d3f050ba85303d656589fa11f40b",
        "sha256": "bddafe39d77c0cfba9ace64ec226adadb57f1fafc84b7eda0348402277d549d2"
      },
      "downloads": -1,
      "filename": "django_zengo-2.0.4-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "0975d3f050ba85303d656589fa11f40b",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": null,
      "size": 19248,
      "upload_time": "2022-05-01T06:56:11",
      "upload_time_iso_8601": "2022-05-01T06:56:11.237815Z",
      "url": "https://files.pythonhosted.org/packages/3d/e9/634f9e5aa1fa7d5900174be5e20383086ae7aa068c8f7245207b68b21654/django_zengo-2.0.4-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "643bc6e8d0e6da8ac1190365a3e67097e59e4d4a5304c700f2ec188824fc5c51",
        "md5": "b1d65e18c4ff55fbfb9dd6e7182f2a91",
        "sha256": "b4ed0fe5f03bd8d4eaa725c056db127f01eace3fb768319bc1e24db61f921581"
      },
      "downloads": -1,
      "filename": "django-zengo-2.0.4.tar.gz",
      "has_sig": false,
      "md5_digest": "b1d65e18c4ff55fbfb9dd6e7182f2a91",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": null,
      "size": 14866,
      "upload_time": "2022-05-01T06:56:13",
      "upload_time_iso_8601": "2022-05-01T06:56:13.782136Z",
      "url": "https://files.pythonhosted.org/packages/64/3b/c6e8d0e6da8ac1190365a3e67097e59e4d4a5304c700f2ec188824fc5c51/django-zengo-2.0.4.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}