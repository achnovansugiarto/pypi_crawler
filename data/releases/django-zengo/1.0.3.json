{
  "info": {
    "author": "Luke Burden",
    "author_email": "lukeburden@gmail.com",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 5 - Production/Stable",
      "Environment :: Web Environment",
      "Framework :: Django",
      "Intended Audience :: Developers",
      "License :: OSI Approved :: MIT License",
      "Operating System :: OS Independent",
      "Programming Language :: Python",
      "Programming Language :: Python :: 2",
      "Programming Language :: Python :: 3"
    ],
    "description": "# Ease integration of Zendesk into your Django app\n\n[![](https://img.shields.io/pypi/v/django-zengo.svg)](https://pypi.python.org/pypi/django-zengo/)\n[![](https://img.shields.io/badge/license-MIT-blue.svg)](https://pypi.python.org/pypi/django-zengo/)\n[![Code style: black](https://img.shields.io/badge/code%20style-black-000000.svg)](https://github.com/ambv/black)\n[![Codecov](https://codecov.io/gh/lukeburden/django-zengo/branch/master/graph/badge.svg)](https://codecov.io/gh/lukeburden/django-zengo)\n[![CircleCI](https://circleci.com/gh/lukeburden/django-zengo.svg?style=svg)](https://circleci.com/gh/lukeburden/django-zengo)\n\n\n## django-zengo\n\n`django-zengo` is a Django app that provides conveniences for integrating with Zendesk.\n\nIt facilitates receiving webhook updates from Zendesk, detecting new tickets and changes to existing tickets.\n\n### Installation ####\n\npip install django-zengo\n\n\n### Usage ###\n\n#### Configuring the webhook ####\n\nZengo comes with a view that processes messages sent by Zendesk and allows you to perform actions upon various Zendesk events.\n\n##### Expose `zengo.views.WebhookView` #####\n\nYou need to configure your application to receive the webhook. To do so simply include it in your URL conf:\n\n```python\nfrom django.contrib import admin\nfrom django.urls import path\n\nfrom zengo.views import WebhookView\n\nurlpatterns = [\n    path('admin/', admin.site.urls),\n    path('zengo/webhook/', WebhookView.as_view())\n]\n```\n\n\n##### Add required bits to `settings.py` #####\n\nYou need to tell Zengo how to authenticate with Zendesk:\n\n- `ZENDESK_EMAIL` is the email of the Zendesk account you will use to interact with the API.\n- `ZENDESK_TOKEN` generated for the user above in the Zendesk web interface.\n- `ZENDESK_SUBDOMAIN` must match the subdomain used in your Zendesk account.\n\nAs seen below, you need to specify\nAnd you need to set a shared secret so that the webhook view can trust incoming messages from Zendesk:\n\n- `ZENGO_WEBHOOK_SECRET` generated by your good self; make it long and random!\n\nSo, your settings should appear something along the lines of:\n\n```python\nZENDESK_EMAIL = \"iamanemail@example.com\"\nZENDESK_TOKEN = \"<token-from-zendesk-webui>\"\nZENDESK_SUBDOMAIN = \"example\"\n\nZENGO_WEBHOOK_SECRET = \"<replace-me-with-a-great-password>\"\n```\n\n###### Configure Zendesk to send events ######\n\nZendesk allows for many integrations, but for the purposes of Zengo we just need to be told when a ticket has been changed.\n\nLog in as an administrator in Zendesk, and visit `Settings > Extensions > Targets > add target > HTTP target`.\n\nAdd an HTTP target with a URL of your service, and choose the `POST` method. Ensure you've added a `secret` query parameter to the URL where your webhook is accessible, such that the webhook view can authorize Zendesk's webhook sends.\n\nNext, you must configure a trigger to use the target. Visit `Business Rules > Triggers > Add trigger`. Add a condition that suits your needs, such as, `Ticket is updated`, or `Ticket is created`, and select an action of `Notify target`, selecting the previously configured target. For JSON body, enter the following: \n\n```json\n{\n    \"id\": \"{{ ticket.id }}\"\n}\n```\n\nYou're done! Now whenever a ticket is created or updated in Zendesk, you should have an event being processed in your application.\n\nNote: for development, I recommend using the excellent [ngrok](https://ngrok.com/) to proxy requests through to your localhost.\n\n#### Performing actions upon receiving Zendesk events ####\n\nWhen Zengo receives a webhook from Zendesk, it will fetch the latest state of the ticket from Zendesk's APIs, compare how this differs to the state in the local database models, and fire a signal indicating what has happened. In your application, you attach receivers to the signal that is most relevant to your need.\n\n```python\nfrom django.dispatch import receiver\n\nfrom zengo.signals import ticket_created\n\n\n@receiver(ticket_created)\ndef handle_new_ticket(sender, ticket, context, **kwargs):\n    # perform your custom action here\n    pass\n```\n\n#### Signals ####\n\nYou can connect to the following signals.\n\n- `zengo.signals.ticket_created` - fires when a ticket is encountered for the first time.\n- `zengo.signals.ticket_updated` - fires when a ticket previously encountered is changed, or has a new comment added.\n\n\n## Contribute\n\n`django-zengo` supports a variety of Python and Django versions. It's best if you test each one of these before committing. Our [Circle CI Integration](https://circleci.com) will test these when you push but knowing before you commit prevents from having to do a lot of extra commits to get the build to pass.\n\n### Environment Setup\n\nIn order to easily test on all these Pythons and run the exact same thing that CI will execute you'll want to setup [pyenv](https://github.com/yyuu/pyenv) and install the Python versions outlined in [tox.ini](https://github.com/lukeburden/django-zengo/blob/master/tox.ini).\n\nIf you are on Mac OS X, it's recommended you use [brew](http://brew.sh/). After installing `brew` run:\n\n```\n$ brew install pyenv pyenv-virtualenv pyenv-virtualenvwrapper\n```\n\nThen:\n\n```\npyenv install -s 2.7.15\npyenv install -s 3.4.7\npyenv install -s 3.5.4\npyenv install -s 3.6.3\npyenv virtualenv 2.7.15\npyenv virtualenv 3.4.7\npyenv virtualenv 3.5.4\npyenv virtualenv 3.6.3\npyenv global 2.7.15 3.4.7 3.5.4 3.6.3\npip install detox\n```\n\nTo run the test suite:\n\nMake sure you are NOT inside a `virtualenv` and then:\n\n```\n$ detox\n```\n\n\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/lukeburden/django-zengo",
    "keywords": "",
    "license": "MIT",
    "maintainer": "",
    "maintainer_email": "",
    "name": "django-zengo",
    "package_url": "https://pypi.org/project/django-zengo/",
    "platform": "",
    "project_url": "https://pypi.org/project/django-zengo/",
    "project_urls": {
      "Homepage": "https://github.com/lukeburden/django-zengo"
    },
    "release_url": "https://pypi.org/project/django-zengo/1.0.3/",
    "requires_dist": [
      "django (<3,>=1.11)",
      "zenpy (<3,>=2)",
      "django-konst (<2,>=1)"
    ],
    "requires_python": "",
    "summary": "Integrate Zendesk and your Django app",
    "version": "1.0.3",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 13678658,
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "8e654af3b2152150e232534a579df851ec8afa9c30d115a5e77a71c377345297",
        "md5": "b647671a7ca140b780dddf114a9c7dd0",
        "sha256": "b27d66f6a803fe04f9054fced278a1bbd27834378e5f7217338dd81e2b034a44"
      },
      "downloads": -1,
      "filename": "django_zengo-1.0.3-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "b647671a7ca140b780dddf114a9c7dd0",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": null,
      "size": 12465,
      "upload_time": "2019-02-06T03:58:20",
      "upload_time_iso_8601": "2019-02-06T03:58:20.498136Z",
      "url": "https://files.pythonhosted.org/packages/8e/65/4af3b2152150e232534a579df851ec8afa9c30d115a5e77a71c377345297/django_zengo-1.0.3-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "e52f7a9aca7404f32c68a5b5debc1def27a625aa278977afadecec74f87b9a46",
        "md5": "da6981cffca65e8ed4abde73400272ba",
        "sha256": "ad00e50f6b32dc2a90f7160ae1a3072073b10b859174503899523faaa8c6f724"
      },
      "downloads": -1,
      "filename": "django-zengo-1.0.3.tar.gz",
      "has_sig": false,
      "md5_digest": "da6981cffca65e8ed4abde73400272ba",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": null,
      "size": 15083,
      "upload_time": "2019-02-06T03:58:22",
      "upload_time_iso_8601": "2019-02-06T03:58:22.512643Z",
      "url": "https://files.pythonhosted.org/packages/e5/2f/7a9aca7404f32c68a5b5debc1def27a625aa278977afadecec74f87b9a46/django-zengo-1.0.3.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}