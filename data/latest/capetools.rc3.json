{
  "info": {
    "author": "Thomas Capelle",
    "author_email": "tcapelle@protonmail.com",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 4 - Beta",
      "Intended Audience :: Developers",
      "License :: OSI Approved :: Apache Software License",
      "Natural Language :: English",
      "Programming Language :: Python :: 3.6",
      "Programming Language :: Python :: 3.7",
      "Programming Language :: Python :: 3.8"
    ],
    "description": "# capetools üï∂\n> A set of python üêç tools to process and model PV\n\n\nI put together a set of tools used to clean data and model bifacial systems using [pvfactors](http://github.com/SUNPOWER/pvfactors), [pvlib](https://github.com/pvlib/pvlib-python) and [bifacialvf](http://bifacialvf) üåû\n\n## Install\n\nAs of 02/2019: [bifacialvf](https://github.com/NREL/bifacialvf) has not yet merged this [PR](https://github.com/NREL/bifacialvf/pull/25), the simulate function cannot take arbitrary metereological data on the form of pandas DataFrames. So we are force to install a custom fork of bifacialvf from [here](https://github.com/tcapelle/bifacialvf/p). This is way, a formal release of capetools to PyPI is not possible rght now, so we have to install by cloning from github.\n\nThe recommended method is to install capetools on a conda envirnment. Ideally create a `conda env` with `python 3.6` and then clone and install using pip.\n\n`conda create --name=your_env_name python=3.7`\n\n`git clone https://github.com/tcapelle/capetools/`\n\ngo inside the cloned capetools repo and do:\n\n`pip install .`\n\nor on editable mode, git clone this repo, and from within the repo install using:\n\n`pip install -e .`\n\n## Getting started üí™\n\n```python\nfrom capetools.imports import *\nfrom capetools.utils.missing import *\nfrom capetools.utils.tmy import read_pvgis\nfrom capetools.modelling.mypvfactors import *\nfrom capetools.modelling.mybifacialvf import *\n```\n\n```python\nPATH = Path.cwd().parent/'data'\nfname = PATH/'pvgis_tmy_chambery.csv'\n```\n\nWe will ingest a PVGIS downloaded file for Chambery\n\n```python\ngps_data, months, tmy_data = read_pvgis(fname)\n```\n\n```python\ntmy_data.head()\n```\n\n\n\n\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>temp</th>\n      <th>humidity</th>\n      <th>ghi</th>\n      <th>dni</th>\n      <th>dhi</th>\n      <th>infra</th>\n      <th>ws</th>\n      <th>wd</th>\n      <th>pressure</th>\n    </tr>\n    <tr>\n      <th>time(UTC)</th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>2012-01-01 00:00:00</th>\n      <td>2.87</td>\n      <td>88.28</td>\n      <td>0.0</td>\n      <td>-0.0</td>\n      <td>0.0</td>\n      <td>259.63</td>\n      <td>1.33</td>\n      <td>170.0</td>\n      <td>99504.0</td>\n    </tr>\n    <tr>\n      <th>2012-01-01 01:00:00</th>\n      <td>3.59</td>\n      <td>90.07</td>\n      <td>0.0</td>\n      <td>-0.0</td>\n      <td>0.0</td>\n      <td>268.30</td>\n      <td>1.39</td>\n      <td>166.0</td>\n      <td>99508.0</td>\n    </tr>\n    <tr>\n      <th>2012-01-01 02:00:00</th>\n      <td>4.32</td>\n      <td>91.86</td>\n      <td>0.0</td>\n      <td>-0.0</td>\n      <td>0.0</td>\n      <td>276.97</td>\n      <td>1.45</td>\n      <td>162.0</td>\n      <td>99511.0</td>\n    </tr>\n    <tr>\n      <th>2012-01-01 03:00:00</th>\n      <td>5.04</td>\n      <td>93.64</td>\n      <td>0.0</td>\n      <td>-0.0</td>\n      <td>0.0</td>\n      <td>285.64</td>\n      <td>1.51</td>\n      <td>167.0</td>\n      <td>99517.0</td>\n    </tr>\n    <tr>\n      <th>2012-01-01 04:00:00</th>\n      <td>5.76</td>\n      <td>95.43</td>\n      <td>0.0</td>\n      <td>-0.0</td>\n      <td>0.0</td>\n      <td>294.32</td>\n      <td>1.57</td>\n      <td>171.0</td>\n      <td>99524.0</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n\n\n\nWe can quickly look at missing data:\n\n```python\nplot_missing(tmy_data)\n```\n\n\n![png](docs/images/output_17_0.png)\n\n\nas expected, no missing data !\n\n## Simulations\n\n### pvfactors\n\n```python\nparams = system_def(n_pvrows=3); params\n```\n\n\n\n\n    {'n_pvrows': 3,\n     'pvrow_height': 1.6218180900789148,\n     'pvrow_width': 2.02,\n     'tracking': False,\n     'axis_azimuth': 0,\n     'surface_tilt': 38,\n     'surface_azimuth': 180,\n     'albedo': 0.4,\n     'gcr': 0.5,\n     'rho_front_pvrow': 0.075,\n     'rho_back_pvrow': 0.075,\n     'cut': {0: {'front': 1, 'back': 7},\n      1: {'front': 1, 'back': 7},\n      2: {'front': 1, 'back': 7}}}\n\n\n\n```python\ndata = get_data(fname, params)\n```\n\n```python\npvarray = run_pvfactors_simulation(data, params)\n```\n\n    /home/tc256760/anaconda3/envs/fastai/lib/python3.7/site-packages/pvfactors/viewfactors/vfmethods.py:181: RuntimeWarning: invalid value encountered in true_divide\n      vf_pvrow_to_gnd_surf * pvrow_surf_length / gnd_surf_length, 0.)\n    /home/tc256760/anaconda3/envs/fastai/lib/python3.7/site-packages/pvfactors/viewfactors/vfmethods.py:181: RuntimeWarning: divide by zero encountered in true_divide\n      vf_pvrow_to_gnd_surf * pvrow_surf_length / gnd_surf_length, 0.)\n    /home/tc256760/anaconda3/envs/fastai/lib/python3.7/site-packages/pvfactors/viewfactors/vfmethods.py:531: RuntimeWarning: divide by zero encountered in true_divide\n      vf_1_to_2 = (d1 + d2 - l1 - l2) / (2. * width)\n    /home/tc256760/anaconda3/envs/fastai/lib/python3.7/site-packages/pvfactors/viewfactors/vfmethods.py:531: RuntimeWarning: invalid value encountered in true_divide\n      vf_1_to_2 = (d1 + d2 - l1 - l2) / (2. * width)\n    /home/tc256760/anaconda3/envs/fastai/lib/python3.7/site-packages/pvfactors/viewfactors/vfmethods.py:607: RuntimeWarning: invalid value encountered in true_divide\n      vf_1_to_2 = np.abs(sum_2 - sum_1) / (2. * width_1)\n    /home/tc256760/anaconda3/envs/fastai/lib/python3.7/site-packages/pvfactors/viewfactors/vfmethods.py:222: RuntimeWarning: invalid value encountered in true_divide\n      vf_i_to_j * length_i / length_j, 0.)\n\n\n```python\nax = plot_idx(pvarray)\nax.set_xlim(-2, 10)\n```\n\n\n\n\n    (-2, 10)\n\n\n\n\n![png](docs/images/output_24_1.png)\n\n\n```python\nres_pvfactors = individual_report(pvarray, index=data.index)\n```\n\n```python\nres_pvfactors.head()\n```\n\n\n\n\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>qinc_0</th>\n      <th>qinc_1</th>\n      <th>qinc_2</th>\n      <th>qinc_3</th>\n      <th>qinc_4</th>\n      <th>qinc_5</th>\n      <th>qinc_6</th>\n      <th>qinc_front</th>\n      <th>qinc_back</th>\n    </tr>\n    <tr>\n      <th>time(UTC)</th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>2019-01-01 00:00:00</th>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n    </tr>\n    <tr>\n      <th>2019-01-01 01:00:00</th>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n    </tr>\n    <tr>\n      <th>2019-01-01 02:00:00</th>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n    </tr>\n    <tr>\n      <th>2019-01-01 03:00:00</th>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n    </tr>\n    <tr>\n      <th>2019-01-01 04:00:00</th>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n\n\n\n```python\nres_pvfactors['21 June 2019'].plot();\n```\n\n\n![png](docs/images/output_27_0.png)\n\n\n### bifacialvf\n\n```python\nres_bifacialvf = run_bifacialvf_simulation(data)\n```\n\n      0%|          | 0/8760 [00:00<?, ?it/s]/home/tc256760/Apps/bifacialvf/bifacialvf/vf.py:300: RuntimeWarning: divide by zero encountered in double_scalars\n      projectedX2 = PcellX + np.float64(PcellY) / math.tan(startElvDown);      # Projection of ElvDown to ground in +x direction (X1 and X2 opposite nomenclature for front irradiance method)\n      0%|          | 40/8760 [00:00<00:22, 379.91it/s]\n\n\n    ********* \n    Running Simulation for TMY3:  Chambery\n    Location:   Chambery\n    Lat:  45.637001  Long:  5.881  Tz  -1.0\n    Parameters: beta:  0   Sazm:  180   Height:  0.5   rtr separation:  8.0   Row type:  interior   Albedo:  0.4\n    Saving into output.csv\n\n\n\n\n    100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 8760/8760 [00:27<00:00, 314.85it/s]\n\n    Finished\n\n\n\n\n\n```python\nres_bifacialvf['21 June 2019'].plot();\n```\n\n\n![png](docs/images/output_30_0.png)\n\n\n## Coontributing üëá\nRead [nbdev](http://github.com/fastai/nbdev) documentation please.\n\n\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/tcapelle/capetools",
    "keywords": "timeseries jupyter modelling photovoltacis",
    "license": "Apache Software License 2.0",
    "maintainer": "",
    "maintainer_email": "",
    "name": "capetools",
    "package_url": "https://pypi.org/project/capetools/",
    "platform": "",
    "project_url": "https://pypi.org/project/capetools/",
    "project_urls": {
      "Homepage": "https://github.com/tcapelle/capetools"
    },
    "release_url": "https://pypi.org/project/capetools/1.0.2/",
    "requires_dist": [
      "pvlib (>-=0.7)",
      "pandas (>=0.25)",
      "pvfactors (>=1.4)",
      "pyarrow",
      "fastcore",
      "numpy",
      "matplotlib",
      "jupyter",
      "sklearn",
      "fastprogress",
      "hdf5storage",
      "tables"
    ],
    "requires_python": ">=3.6",
    "summary": "Basic set of python tools",
    "version": "1.0.2",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 6617266,
  "releases": {
    "1.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "f8b38e2da19ab0201138cde64092e5f761eded7fc8049250c987f1149dc2e3cd",
          "md5": "6ff0c4559b8c86711dc1136a5b41b2b0",
          "sha256": "800957aba5d0332fd2988942acd2469808df7a70aca1d774877222e2162a758c"
        },
        "downloads": -1,
        "filename": "capetools-1.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "6ff0c4559b8c86711dc1136a5b41b2b0",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.6",
        "size": 20321,
        "upload_time": "2020-02-06T12:32:48",
        "upload_time_iso_8601": "2020-02-06T12:32:48.910909Z",
        "url": "https://files.pythonhosted.org/packages/f8/b3/8e2da19ab0201138cde64092e5f761eded7fc8049250c987f1149dc2e3cd/capetools-1.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "5fb878cd1d05f84878d0610d2c204f0d02b80a165cc729c7c4b14f64ff79e54f",
          "md5": "749db6fd51f30432d3feca589b2efefe",
          "sha256": "1325c01262d9fe11669ea7caae52b7057deb4be7f530d5716458669f002a1cb9"
        },
        "downloads": -1,
        "filename": "capetools-1.0.tar.gz",
        "has_sig": false,
        "md5_digest": "749db6fd51f30432d3feca589b2efefe",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6",
        "size": 21887,
        "upload_time": "2020-02-06T12:32:51",
        "upload_time_iso_8601": "2020-02-06T12:32:51.344962Z",
        "url": "https://files.pythonhosted.org/packages/5f/b8/78cd1d05f84878d0610d2c204f0d02b80a165cc729c7c4b14f64ff79e54f/capetools-1.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.0.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "1641ed810a8c73ca8079ae3b9c94060fb3feaa84f37f06ac00cd36a55f0c1501",
          "md5": "cf7e88ceaf485e519f208f7e32ee83b6",
          "sha256": "2eaf9abe9d9cf7ede328091d0e7eb834d54e07910ffdffb457093f4822a13983"
        },
        "downloads": -1,
        "filename": "capetools-1.0.1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "cf7e88ceaf485e519f208f7e32ee83b6",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.6",
        "size": 20831,
        "upload_time": "2020-02-06T13:03:33",
        "upload_time_iso_8601": "2020-02-06T13:03:33.153702Z",
        "url": "https://files.pythonhosted.org/packages/16/41/ed810a8c73ca8079ae3b9c94060fb3feaa84f37f06ac00cd36a55f0c1501/capetools-1.0.1-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "3548693e2c96a04e848af9f75158e445ef4ec77727cf340e9a3a898219c23bb5",
          "md5": "be613cfff824339f137ec73401e24474",
          "sha256": "61c1c4c3debccf9748c23a8ddaed2593d73ed5c889c0d137e560a7966f3c5447"
        },
        "downloads": -1,
        "filename": "capetools-1.0.1.tar.gz",
        "has_sig": false,
        "md5_digest": "be613cfff824339f137ec73401e24474",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6",
        "size": 22075,
        "upload_time": "2020-02-06T13:03:35",
        "upload_time_iso_8601": "2020-02-06T13:03:35.052577Z",
        "url": "https://files.pythonhosted.org/packages/35/48/693e2c96a04e848af9f75158e445ef4ec77727cf340e9a3a898219c23bb5/capetools-1.0.1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.0.2": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "dea9e5644f647c580daf61da0de053440994f47444bf8d88e6c943db49f2c7b5",
          "md5": "16bb73bdcf9162412a382a89387a1586",
          "sha256": "c3a3bbfa730f5b33b7d8f5a6ae94f6cbf13da9c418ea83e107f64a3f7869e859"
        },
        "downloads": -1,
        "filename": "capetools-1.0.2-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "16bb73bdcf9162412a382a89387a1586",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.6",
        "size": 20774,
        "upload_time": "2020-02-12T16:22:39",
        "upload_time_iso_8601": "2020-02-12T16:22:39.122670Z",
        "url": "https://files.pythonhosted.org/packages/de/a9/e5644f647c580daf61da0de053440994f47444bf8d88e6c943db49f2c7b5/capetools-1.0.2-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "1c864cad8c56b7fe8dcd37bd9b0b05ab15796044c65875f4f5e51a8f765c3306",
          "md5": "a89ea10638ab8929d180e9e1cc1531de",
          "sha256": "7ee8e4c595ccbb2201e007a4f13032a7d04e27acc54a6b2bce2134010460dbc1"
        },
        "downloads": -1,
        "filename": "capetools-1.0.2.tar.gz",
        "has_sig": false,
        "md5_digest": "a89ea10638ab8929d180e9e1cc1531de",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6",
        "size": 21758,
        "upload_time": "2020-02-12T16:22:40",
        "upload_time_iso_8601": "2020-02-12T16:22:40.761470Z",
        "url": "https://files.pythonhosted.org/packages/1c/86/4cad8c56b7fe8dcd37bd9b0b05ab15796044c65875f4f5e51a8f765c3306/capetools-1.0.2.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "dea9e5644f647c580daf61da0de053440994f47444bf8d88e6c943db49f2c7b5",
        "md5": "16bb73bdcf9162412a382a89387a1586",
        "sha256": "c3a3bbfa730f5b33b7d8f5a6ae94f6cbf13da9c418ea83e107f64a3f7869e859"
      },
      "downloads": -1,
      "filename": "capetools-1.0.2-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "16bb73bdcf9162412a382a89387a1586",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": ">=3.6",
      "size": 20774,
      "upload_time": "2020-02-12T16:22:39",
      "upload_time_iso_8601": "2020-02-12T16:22:39.122670Z",
      "url": "https://files.pythonhosted.org/packages/de/a9/e5644f647c580daf61da0de053440994f47444bf8d88e6c943db49f2c7b5/capetools-1.0.2-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "1c864cad8c56b7fe8dcd37bd9b0b05ab15796044c65875f4f5e51a8f765c3306",
        "md5": "a89ea10638ab8929d180e9e1cc1531de",
        "sha256": "7ee8e4c595ccbb2201e007a4f13032a7d04e27acc54a6b2bce2134010460dbc1"
      },
      "downloads": -1,
      "filename": "capetools-1.0.2.tar.gz",
      "has_sig": false,
      "md5_digest": "a89ea10638ab8929d180e9e1cc1531de",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": ">=3.6",
      "size": 21758,
      "upload_time": "2020-02-12T16:22:40",
      "upload_time_iso_8601": "2020-02-12T16:22:40.761470Z",
      "url": "https://files.pythonhosted.org/packages/1c/86/4cad8c56b7fe8dcd37bd9b0b05ab15796044c65875f4f5e51a8f765c3306/capetools-1.0.2.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}