{
  "info": {
    "author": "TNK Studio",
    "author_email": "741424975@qq.com",
    "bugtrack_url": null,
    "classifiers": [
      "License :: OSI Approved :: MIT License",
      "Operating System :: OS Independent",
      "Programming Language :: Python :: 3"
    ],
    "description": "# Rimuru\n[![Build Status](https://travis-ci.org/TNK-Studio/Rimuru.svg?branch=master)](https://travis-ci.org/TNK-Studio/Rimuru)\n[![codecov](https://codecov.io/gh/elfgzp/Rimuru/branch/master/graph/badge.svg)](https://codecov.io/gh/elfgzp/Rimuru)\n\n📖用单元测试自动生成接口文档\n\n## 已适配的客户端\n\n- [x] requests   \n- [x] django.test.client\n- [ ] flask.testing.FlaskClient\n\n## 使用方法\n\n### 用requests模块进行测试\n\n```python\nimport unittest\nimport requests as requests_module\nfrom rimuru.core import doc_client, APIDocument\n\nclass APITestCase(unittest.TestCase):\n    def setUp(self):\n        self.api_document = APIDocument()\n\t\tself.client = doc_client(self.api_document, requests_module)\n\n    def test_api(self):\n        url = 'http://127.0.0.1:5000/api/books'\n        method = 'GET'\n        name = '书列表接口'\n\n        self.api_document.set_api_name(method=method, url=url, name=name)\n        response = self.client.get(url)\n        \"\"\"\n        你的测试逻辑\n\t    self.assertEqual(response.status_code, 200)\n\t    \t...\n        \"\"\"\n        self.client.get(\n            url, params={'name': 'A'},\n            headers={'TEST_HEADER': 'test'},\n            requires={'name': False},\n            add_response=False\n        )\n\n        url = 'http://127.0.0.1:5000/api/books/<int:id>'\n        method = 'GET'\n        name = '书详情接口'\n        self.api_document.set_api_name(method=method, url=url, name=name)\n        self.client.get('http://127.0.0.1:5000/api/books/2')\n        response = self.client.get('http://127.0.0.1:5000/api/books/4')\n        self.assertEqual(response.status_code, 404)\n\n        self.api_document.save(file_path='tests/')\n```\n\n### 用django.test.client模块进行测试\n```python\nimport django.test import TestCase\n\nclass APITestCase(unittest.TestCase):\n    def setUp(self):\n        self.api_document = APIDocument()\n\t\tself.client = doc_client(self.api_document, self.client)\n\n    def test_api(self):\n        url = 'http://127.0.0.1:5000/api/books'\n        method = 'GET'\n        name = '书列表接口'\n\n        self.api_document.set_api_name(method=method, url=url, name=name)\n        response = self.client.get(url)\n        \"\"\"\n        你的测试逻辑\n\t    self.assertEqual(response.status_code, 200)\n\t    \t...\n        \"\"\"\n        self.client.get(\n            url, data={'name': 'A'},\n            requires={'name': False},\n            add_response=False,\n            **{'HTTP_TEST_HEADER': 'test'}\n        )\n\n        url = 'http://127.0.0.1:5000/api/books/<int:id>'\n        method = 'GET'\n        name = '书详情接口'\n        self.api_document.set_api_name(method=method, url=url, name=name)\n        self.client.get('http://127.0.0.1:5000/api/books/2')\n        response = self.client.get('http://127.0.0.1:5000/api/books/4')\n        self.assertEqual(response.status_code, 404)\n\n        self.api_document.save(file_path='tests/')\n```\n### 生成文档\n#### 书籍列表接口.md\n\n```markdown\n## 书列表接口\n\n### 请求地址\n\n`GET`  `http://127.0.0.1:5000/api/books`\n\n### 请求头\n\n| 参数名  | 必填 | 参考值                           |\n| ------- | ---- | -------------------------------- |\n|TEST_HEADER|True|test|\n\n### 请求参数\n\n| 参数名   | 类型   | 必填 | 描述 | 默认值 | 参考值 |\n| -------- | ------ | ---- | ---- | ------ | ------ |\n|name|String|False|||A|\n\n### 返回正确\n\n状态码 `200`\n​```json\n[\n    {\n        \"id\": 1,\n        \"name\": \"A\"\n    },\n    {\n        \"id\": 2,\n        \"name\": \"B\"\n    },\n    {\n        \"id\": 3,\n        \"name\": \"C\"\n    }\n]\n​```\n```\n\n#### 书详情接口.md\n```markdown\n## 书详情接口\n\n### 请求地址\n\n`GET`  `http://127.0.0.1:5000/api/books/<int:id>`\n\n### 返回正确\n\n状态码 `200`\n\n​```json\n{\n    \"id\": 2,\n    \"name\": \"B\"\n}\n​```\n### 返回错误\n\n状态码 `404`\n\n​```json\n{\n    \"msg\": \"Not Found\"\n}\n​```\n\n```\n\n\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/TNK-Studio/Rimuru",
    "keywords": "",
    "license": "MIT",
    "maintainer": "",
    "maintainer_email": "",
    "name": "rimuru",
    "package_url": "https://pypi.org/project/rimuru/",
    "platform": "",
    "project_url": "https://pypi.org/project/rimuru/",
    "project_urls": {
      "Homepage": "https://github.com/TNK-Studio/Rimuru"
    },
    "release_url": "https://pypi.org/project/rimuru/0.0.12/",
    "requires_dist": [
      "jinja2",
      "werkzeug"
    ],
    "requires_python": "",
    "summary": "📖Use TestCase auto generate API document.",
    "version": "0.0.12",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 4607310,
  "releases": {
    "0.0.12": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "899fbc39968268074d33ddd9383b2dff5860f88d794e2f6a24e781fcf054063a",
          "md5": "b5905544874e996c084f1018f1c7bed7",
          "sha256": "28338c1c2fecf494ba960c6dce2f3488cb3f31b203b63635f56280988ecffd63"
        },
        "downloads": -1,
        "filename": "rimuru-0.0.12-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "b5905544874e996c084f1018f1c7bed7",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 13471,
        "upload_time": "2018-12-17T09:54:01",
        "upload_time_iso_8601": "2018-12-17T09:54:01.892900Z",
        "url": "https://files.pythonhosted.org/packages/89/9f/bc39968268074d33ddd9383b2dff5860f88d794e2f6a24e781fcf054063a/rimuru-0.0.12-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "b55120548f01f1bab2413979d81693408b850c73345c0e973a381eb878ac1293",
          "md5": "afe3c36c5c27c47a260cdcdf83c7cb5f",
          "sha256": "664a2c6dc61544aa67949892a551ef07d3578348c75292a3b22cfdea74c2601e"
        },
        "downloads": -1,
        "filename": "rimuru-0.0.12.tar.gz",
        "has_sig": false,
        "md5_digest": "afe3c36c5c27c47a260cdcdf83c7cb5f",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 7743,
        "upload_time": "2018-12-17T09:54:03",
        "upload_time_iso_8601": "2018-12-17T09:54:03.771583Z",
        "url": "https://files.pythonhosted.org/packages/b5/51/20548f01f1bab2413979d81693408b850c73345c0e973a381eb878ac1293/rimuru-0.0.12.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "899fbc39968268074d33ddd9383b2dff5860f88d794e2f6a24e781fcf054063a",
        "md5": "b5905544874e996c084f1018f1c7bed7",
        "sha256": "28338c1c2fecf494ba960c6dce2f3488cb3f31b203b63635f56280988ecffd63"
      },
      "downloads": -1,
      "filename": "rimuru-0.0.12-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "b5905544874e996c084f1018f1c7bed7",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": null,
      "size": 13471,
      "upload_time": "2018-12-17T09:54:01",
      "upload_time_iso_8601": "2018-12-17T09:54:01.892900Z",
      "url": "https://files.pythonhosted.org/packages/89/9f/bc39968268074d33ddd9383b2dff5860f88d794e2f6a24e781fcf054063a/rimuru-0.0.12-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "b55120548f01f1bab2413979d81693408b850c73345c0e973a381eb878ac1293",
        "md5": "afe3c36c5c27c47a260cdcdf83c7cb5f",
        "sha256": "664a2c6dc61544aa67949892a551ef07d3578348c75292a3b22cfdea74c2601e"
      },
      "downloads": -1,
      "filename": "rimuru-0.0.12.tar.gz",
      "has_sig": false,
      "md5_digest": "afe3c36c5c27c47a260cdcdf83c7cb5f",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": null,
      "size": 7743,
      "upload_time": "2018-12-17T09:54:03",
      "upload_time_iso_8601": "2018-12-17T09:54:03.771583Z",
      "url": "https://files.pythonhosted.org/packages/b5/51/20548f01f1bab2413979d81693408b850c73345c0e973a381eb878ac1293/rimuru-0.0.12.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}