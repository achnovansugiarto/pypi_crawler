{
  "info": {
    "author": "",
    "author_email": "Paul Bailey <paul.bailey@cognitivespace.com>",
    "bugtrack_url": null,
    "classifiers": [],
    "description": "# Graphene Luna\n\nGraphene Luna is a websocket backend for GraphQL subscriptions in Django with Graphene. It does not require\nDjango Channels. It implements the [subscriptions-transport-ws](https://github.com/apollographql/subscriptions-transport-ws) protocol.\n\n## Why Luna\n\nMost of the Django Graphene websocket subscription implementations are broke with newer versions of Django or require Django Channels. While Django Channels is great, it is complex and requires extra infrastructure such as Redis. With new versions of Django, the included asynchronous features allow websockets to be created more \"natively\" with less infrastructure and code overhead.\n\n*Graphene Luna is the new modern way to do GraphQL subscriptions in Django.*\n\n## Installation\n\n`pip install graphene-luna`\n\n## Adding Luna to Your Django Project\n\n### Step 1: Update Your `asgi.py`\n\nAdd the following at the end of your `asgi.py`\n\n```python\nfrom luna_ws import add_ws_app\n\napplication = add_ws_app(application)\n```\n\nThe entire `asgi.py` should look something like the following:\n\n```python\nimport os\n\nfrom django.core.asgi import get_asgi_application\n\nos.environ.setdefault('DJANGO_SETTINGS_MODULE', 'myproject.settings')\n\napplication = get_asgi_application()\n\nfrom luna_ws import add_ws_app\n\napplication = add_ws_app(application)\n```\n\n### Step 2: Verify Your Schema is Setup\n\nYou should have Graphene setup with a schema. If not see the [Graphene installation](https://docs.graphene-python.org/projects/django/en/latest/installation/) steps.\n\nIn your Graphene settings verify you have a schema:\n\n```python\nGRAPHENE = {\n    'SCHEMA': 'myproject.schema.schema'\n}\n```\n\n### Step 3: Add Your First Subscription\n\nAdd a subscription to your schema. A simple schema to test subscriptions work is shown below.\n\n\n**myproject/schema.py**\n\n```python\nimport asyncio\n\nimport graphene\nfrom graphql import GraphQLError\n\nclass Subscription(graphene.ObjectType):\n    count_seconds = graphene.Int(up_to=graphene.Int())\n\n    async def subscribe_count_seconds(root, info, up_to):\n        if up_to > 30:\n            raise GraphQLError('Count too high, must be <= 30')\n\n        for i in range(up_to):\n            print('TestSubs: ', i)\n            yield i\n            await asyncio.sleep(1)\n\nschema = graphene.Schema(\n\t\tquery=Query,\n\t\tmutation=Mutation,\n\t\tsubscription=Subscription,\n)\n```\n\n### Step 4: Run Your Django Project Asynchronously\n\nYou will need to pick a way to [run Django asynchronously](https://docs.djangoproject.com/en/4.1/howto/deployment/asgi/).\n\nRunning with Gunicorn looks something like:\n\n`gunicorn myproject.asgi:application -k uvicorn.workers.UvicornWorker`\n\n### Step 5: Test Out Your Subscription\n\nNavigate to your GraphiQL Explorer and to test out the subscription above, use a query like:\n\n```graphql\nsubscription {\n  countSeconds(upTo: 30)\n}\n```\n\nIf you're subscription test was successful, then you can proceed to writing more advanced subscriptions.\n\n## Compatibility Notes\n\nCurrently Luna works with [Django Graphene](https://github.com/graphql-python/graphene-django) 3.0+ only. Also, Luna implements the older protocol of graphql-ws. We picked to implement the older subscription protocol because more frontend clients seemed to be compatible with it. In the future, we plan to implement the newer graphql-ws protocol too.\n\n## Going Further\n\n- [Example Subscriptions](docs/subs-examples.md)\n- [Middleware for Websockets](docs/middleware.md)\n- [Implementation Details](docs/details.md)\n\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "",
    "keywords": "",
    "license": "BSDv3",
    "maintainer": "",
    "maintainer_email": "",
    "name": "graphene-luna",
    "package_url": "https://pypi.org/project/graphene-luna/",
    "platform": null,
    "project_url": "https://pypi.org/project/graphene-luna/",
    "project_urls": {
      "homepage": "https://github.com/cognitive-space/graphene-luna"
    },
    "release_url": "https://pypi.org/project/graphene-luna/0.3.0/",
    "requires_dist": [
      "graphene-django>=3.0.0",
      "websockets>=10.4"
    ],
    "requires_python": ">=3.10",
    "summary": "Websocket backend for GraphQL (Graphene) subscriptions, does not require Django Channels",
    "version": "0.3.0",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 15958348,
  "releases": {
    "0.1.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "ac4386a55f68f4f53b95b1ebee4a075da81120fae34a085e0037e6c26d303147",
          "md5": "40f7388b659ba0058a7e0ef12d2732a3",
          "sha256": "4e4ca721a5ffc9cd7dbb97bdef23dff84b9c107b414f9c77f508219e1b7bb147"
        },
        "downloads": -1,
        "filename": "graphene_luna-0.1.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "40f7388b659ba0058a7e0ef12d2732a3",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.10",
        "size": 3824,
        "upload_time": "2022-11-28T22:39:14",
        "upload_time_iso_8601": "2022-11-28T22:39:14.153727Z",
        "url": "https://files.pythonhosted.org/packages/ac/43/86a55f68f4f53b95b1ebee4a075da81120fae34a085e0037e6c26d303147/graphene_luna-0.1.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "1f0e7609742586197cd423dd57959920e73fe76546d6d28286f47a9cee399249",
          "md5": "17636c8cd17ec115362f988f737fd44d",
          "sha256": "32ce7daf6e39e32e06bd59727067b388fcb4d281673e2c5290026da45d78fb64"
        },
        "downloads": -1,
        "filename": "graphene-luna-0.1.0.tar.gz",
        "has_sig": false,
        "md5_digest": "17636c8cd17ec115362f988f737fd44d",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.10",
        "size": 3348,
        "upload_time": "2022-11-28T22:39:16",
        "upload_time_iso_8601": "2022-11-28T22:39:16.175303Z",
        "url": "https://files.pythonhosted.org/packages/1f/0e/7609742586197cd423dd57959920e73fe76546d6d28286f47a9cee399249/graphene-luna-0.1.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.2.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "0d64ca01866b8af73f0ed01dd15fb242900b0b58af37fc0521e1fba63f70399a",
          "md5": "b4142e10606ea664c903ec2d6b60dd2e",
          "sha256": "ed354384ea62161b65dd31a13561c5b93bd5e65924c45466c8cb0ad08f45f326"
        },
        "downloads": -1,
        "filename": "graphene_luna-0.2.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "b4142e10606ea664c903ec2d6b60dd2e",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.10",
        "size": 3926,
        "upload_time": "2022-11-28T22:59:02",
        "upload_time_iso_8601": "2022-11-28T22:59:02.773130Z",
        "url": "https://files.pythonhosted.org/packages/0d/64/ca01866b8af73f0ed01dd15fb242900b0b58af37fc0521e1fba63f70399a/graphene_luna-0.2.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "a5a8ebce4d8abc6ae69ee9f55eeee9f6bc6b603d5eb11ae5910519f47765baf5",
          "md5": "e73ee1fbf0cde15e0ce15e57348ebd14",
          "sha256": "050eb1174c88bea324d522104409a9f0355092171eab052c4b695389b55c925a"
        },
        "downloads": -1,
        "filename": "graphene-luna-0.2.0.tar.gz",
        "has_sig": false,
        "md5_digest": "e73ee1fbf0cde15e0ce15e57348ebd14",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.10",
        "size": 3445,
        "upload_time": "2022-11-28T22:59:03",
        "upload_time_iso_8601": "2022-11-28T22:59:03.828286Z",
        "url": "https://files.pythonhosted.org/packages/a5/a8/ebce4d8abc6ae69ee9f55eeee9f6bc6b603d5eb11ae5910519f47765baf5/graphene-luna-0.2.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.3.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "6d95b1c72c0fac581270d4a4ee3211ede68b4881a5a8fbc83025c9dce78bdcd1",
          "md5": "177ef5981684839ed618fc4b638b4762",
          "sha256": "e1817f18d261830a8769dfba6712be70b740d4e5448ca5e3ecc44b3212274715"
        },
        "downloads": -1,
        "filename": "graphene_luna-0.3.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "177ef5981684839ed618fc4b638b4762",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.10",
        "size": 5351,
        "upload_time": "2022-12-01T17:21:06",
        "upload_time_iso_8601": "2022-12-01T17:21:06.671749Z",
        "url": "https://files.pythonhosted.org/packages/6d/95/b1c72c0fac581270d4a4ee3211ede68b4881a5a8fbc83025c9dce78bdcd1/graphene_luna-0.3.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "bd1da9945fd942b627b5c57030da919837174f8e0c3ab491964a05910039e082",
          "md5": "0029164d66633a6e5585aafa144264ab",
          "sha256": "71cba2d5b4cbde297b2786fd8a073236313988393f15c60c6f2c1906bd2a903c"
        },
        "downloads": -1,
        "filename": "graphene-luna-0.3.0.tar.gz",
        "has_sig": false,
        "md5_digest": "0029164d66633a6e5585aafa144264ab",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.10",
        "size": 14044,
        "upload_time": "2022-12-01T17:21:08",
        "upload_time_iso_8601": "2022-12-01T17:21:08.337827Z",
        "url": "https://files.pythonhosted.org/packages/bd/1d/a9945fd942b627b5c57030da919837174f8e0c3ab491964a05910039e082/graphene-luna-0.3.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "6d95b1c72c0fac581270d4a4ee3211ede68b4881a5a8fbc83025c9dce78bdcd1",
        "md5": "177ef5981684839ed618fc4b638b4762",
        "sha256": "e1817f18d261830a8769dfba6712be70b740d4e5448ca5e3ecc44b3212274715"
      },
      "downloads": -1,
      "filename": "graphene_luna-0.3.0-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "177ef5981684839ed618fc4b638b4762",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": ">=3.10",
      "size": 5351,
      "upload_time": "2022-12-01T17:21:06",
      "upload_time_iso_8601": "2022-12-01T17:21:06.671749Z",
      "url": "https://files.pythonhosted.org/packages/6d/95/b1c72c0fac581270d4a4ee3211ede68b4881a5a8fbc83025c9dce78bdcd1/graphene_luna-0.3.0-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "bd1da9945fd942b627b5c57030da919837174f8e0c3ab491964a05910039e082",
        "md5": "0029164d66633a6e5585aafa144264ab",
        "sha256": "71cba2d5b4cbde297b2786fd8a073236313988393f15c60c6f2c1906bd2a903c"
      },
      "downloads": -1,
      "filename": "graphene-luna-0.3.0.tar.gz",
      "has_sig": false,
      "md5_digest": "0029164d66633a6e5585aafa144264ab",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": ">=3.10",
      "size": 14044,
      "upload_time": "2022-12-01T17:21:08",
      "upload_time_iso_8601": "2022-12-01T17:21:08.337827Z",
      "url": "https://files.pythonhosted.org/packages/bd/1d/a9945fd942b627b5c57030da919837174f8e0c3ab491964a05910039e082/graphene-luna-0.3.0.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}