{
  "info": {
    "author": "",
    "author_email": "Fabian Binz <fabian.binz@ambient.digital>",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 3 - Alpha",
      "Environment :: Web Environment",
      "Framework :: Django",
      "Framework :: Django :: 3.2",
      "Intended Audience :: Developers",
      "License :: OSI Approved :: MIT License",
      "Natural Language :: English",
      "Operating System :: OS Independent",
      "Programming Language :: Python",
      "Programming Language :: Python :: 3.9"
    ],
    "description": "[![pypi](https://img.shields.io/pypi/v/django-dynamic-admin-forms.svg)](https://pypi.python.org/pypi/django-dynamic-admin-forms/)\n[![Downloads](https://pepy.tech/badge/django-dynamic-admin-forms)](https://pepy.tech/project/django-dynamic-admin-forms)\n\n\n# django-dynamic-admin-forms\n\nAdd simple interactions to the otherwise static django admin.\n\n[![demo.gif](https://i.postimg.cc/YCf7LV2m/demo.gif)](https://postimg.cc/Yv9ZJdWp)\n\n## Installation\n\n- Install the package via pip:\n  \n    ```pip install django-dynamic-admin-forms```\n    \n    or via pipenv:\n\n    ```pipenv install django-dynamic-admin-forms```\n- Add the module to `INSTALLED_APPS`:\n    ```python\n    INSTALLED_APPS = (\n        ...,\n        'dynamic_admin_forms',\n        'django.contrib.admin'\n        ...\n    )    \n    ```\n    Ensure that the `dynamic_admin_forms` comes before the \n    default `django.contrib.admin` in the list of installed apps,\n    because otherwise the templates, which are overwritten by `dynamic_admin_forms`\n    won't be found.\n- Ensure that the `dynamic_admin_forms` templates are found via using `APP_DIRS` setting:\n  ```python\n  TEMPLATES = [\n      {\n          'BACKEND': 'django.template.backends.django.DjangoTemplates',\n          'APP_DIRS': True,\n          ...\n      },\n  ]\n  ```\n- Run `python manage.py collectstatic` to include this apps Javascript code in your `settings.STATIC_ROOT` directory\n\n## Usage\n- Add the `dynamic_admin_forms.DynamicModelAdminMixin` to your admin classes\n- Add the `dynamic_admin_forms.urls` to your urls\n  ```python\n  from django.contrib import admin\n  from django.urls import path, include\n  \n  urlpatterns = [\n    path(\"admin/\", admin.site.urls),\n    path(\"dynamic-admin-form/\", include(\"dynamic_admin_forms.urls\")),\n  ]\n  ```\n- In addition to the standard `fields` declaration, specify a list of `dynamic_fields`\n- For each dynamic field, add a method `get_dynamic_{field_name}_field` to the admin\n  - Input: `data: Dict[str, Any]` - the cleaned form data\n  - Output:\n    - `queryset: Optional[Queryset]` - The values to select from\n    - `value: Any` - The value, the field should have (must be compatible to the field type)\n    - `hidden: Bool` - True, if field should be hidden\n  \n- A rather non-sensical example:\n  ```python\n  from django.contrib import admin\n\n  from .models import MyModel\n  from dynamic_admin_forms.admin import DynamicModelAdminMixin\n\n\n  @admin.register(MyModel)\n  class MyModelAdmin(DynamicModelAdminMixin, admin.ModelAdmin):\n    fields = (\"name\", \"city\")\n    dynamic_fields = (\"city\",)\n  \n    def get_dynamic_city_field(self, data):\n      # automatically choose first city that matches first letter of name \n      name = data.get(\"name\")\n      if not name:\n        queryset = City.objects.all()\n        value = data.get(\"city\")\n      else:\n        queryset = City.objects.filter(name__startswith=name[0])\n        value = queryset.first()\n      hidden = not queryset.exists()\n      return queryset, value, hidden\n  ```\n\n\n## How it works\nWhenever a dynamic form changes, an event handler makes a request to a special endpoint, which returns new HTML to swap \ninto  the existing form. This new HTML is directly generated by `django.contrib.admin`, so we only have to set the \nouterHTML of the correct HTML elements to update the form. \n\n## Limitations\n- does not work in conjunction with inlines\n- does not validate that the selected value is really part of the original queryset\n  - if anybody can modify your DOM, they could potentially inject invalid values\n  - you have to write `Model.clean()` methods to guard against that\n- only tested with Django 3.2\n\n## Publishing\n\nThis project uses the flit package to publish to PyPI.\nThus publishing should be as easy as running\n``` \nflit publish\n```\n\nTo publish to TestPyPI use the following ensure that \nyou have set up your .pypirc as shown [here](https://flit.readthedocs.io/en/latest/upload.html#using-pypirc) and use\nthe following command:\n\n```\nflit publish --repository testpypi\n```\n\n\n## Development\n\nFor local development, create a virtual environment\nin the `testproj` folder:\n```shell\n$ cd testproj\n$ python3 -m venv .venv\n$ source .venv/bin/activate\n$ cd ..\n$ flit install --symlink\n```\nNow the package should be available in your virtual environment\nand any changes should be directly visible.\n\nAlternatively, simply copy the directory `dynamic_admin_forms`\ninto any normal django project, so that the python interpreter \nfinds the local version instead of the installed (old) version.\n\n## Running E2E tests\n\nTo run end-to-end tests locally:\n```shell\n$ cd testproj\n$ python manage.py runserver 0.0.0.0:8000 &  # start server\n$ python manage.py loaddata fixtures/fixtures-dev.json\n$ cd ../e2e\n$ yarn install  # or npm install (only needed first time)\n$ yarn cypress  # or npm run cypress\n```\n\n## Changelog\n- 0.1.8: Improve support for select2 widgets used by Jazzmin\n- 0.1.7: Improve Jazzmin support and forms with file fields\n- 0.1.6: Support dynamic fields for custom form fields\n- 0.1.5: Jazzmin \"support\"\n- 0.1.4: README fixes\n- 0.1.3: Change Demo-GIF hosting\n- 0.1.2: README fixes\n- 0.1.1: README fixes\n- 0.1.0: Initial release\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "",
    "keywords": "",
    "license": "",
    "maintainer": "",
    "maintainer_email": "",
    "name": "django-dynamic-admin-forms",
    "package_url": "https://pypi.org/project/django-dynamic-admin-forms/",
    "platform": "",
    "project_url": "https://pypi.org/project/django-dynamic-admin-forms/",
    "project_urls": {
      "Home": "https://ambient.digital"
    },
    "release_url": "https://pypi.org/project/django-dynamic-admin-forms/0.1.8/",
    "requires_dist": [
      "django ~=3.2",
      "black ==21.9b0 ; extra == \"lint\""
    ],
    "requires_python": "",
    "summary": "Add simple dynamic interaction to the otherwise static django admin.",
    "version": "0.1.8",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 12164543,
  "releases": {
    "0.1.4": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "1b3908b393f0a95d96e7a5ca279eed8cd90e0aa360b51ebb227c4694e46ed169",
          "md5": "2ee290ff371448ba6bf952b5ae63291b",
          "sha256": "fc62d652f4bfc6bf75e2a00d789dabc5bff749b3dfa59f2d11d3c3b5f1a80a52"
        },
        "downloads": -1,
        "filename": "django_dynamic_admin_forms-0.1.4-py2.py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "2ee290ff371448ba6bf952b5ae63291b",
        "packagetype": "bdist_wheel",
        "python_version": "py2.py3",
        "requires_python": null,
        "size": 6540,
        "upload_time": "2021-09-27T15:12:43",
        "upload_time_iso_8601": "2021-09-27T15:12:43.749723Z",
        "url": "https://files.pythonhosted.org/packages/1b/39/08b393f0a95d96e7a5ca279eed8cd90e0aa360b51ebb227c4694e46ed169/django_dynamic_admin_forms-0.1.4-py2.py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "364b79eae7bee6e37906bc5448d41b6b6b7e03081fa695ced0dcc22be5f61e78",
          "md5": "b8eb00187e824fb7483bcd0693f860cd",
          "sha256": "624e81578ff08f7de04b9bb0a02d4f0094213c72d1213d6566b65815012bc17c"
        },
        "downloads": -1,
        "filename": "django-dynamic-admin-forms-0.1.4.tar.gz",
        "has_sig": false,
        "md5_digest": "b8eb00187e824fb7483bcd0693f860cd",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 884232,
        "upload_time": "2021-09-27T15:12:48",
        "upload_time_iso_8601": "2021-09-27T15:12:48.039455Z",
        "url": "https://files.pythonhosted.org/packages/36/4b/79eae7bee6e37906bc5448d41b6b6b7e03081fa695ced0dcc22be5f61e78/django-dynamic-admin-forms-0.1.4.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.1.5": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "2e35d5336d373611303580b6e683041f6e5b8ce6fee3af575789e63430d79a20",
          "md5": "8b6aa78f13c4c71d63b94c8975eb3235",
          "sha256": "8bdfe90f231f8587413980f699923ac401c8e54cfe49dfcf0c9d8297fb00c059"
        },
        "downloads": -1,
        "filename": "django_dynamic_admin_forms-0.1.5-py2.py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "8b6aa78f13c4c71d63b94c8975eb3235",
        "packagetype": "bdist_wheel",
        "python_version": "py2.py3",
        "requires_python": null,
        "size": 6582,
        "upload_time": "2021-09-29T07:30:55",
        "upload_time_iso_8601": "2021-09-29T07:30:55.800433Z",
        "url": "https://files.pythonhosted.org/packages/2e/35/d5336d373611303580b6e683041f6e5b8ce6fee3af575789e63430d79a20/django_dynamic_admin_forms-0.1.5-py2.py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "8d03bc97cda5f7661f81f1058bd42bad1ff51e6040d6b64652a0f7bcf3e65559",
          "md5": "d78a46b96094837c0afccdbf6ba4c69f",
          "sha256": "d6099abade7f6ab65c99593828c5c46431edb654f002e10e956b7e40b83c5417"
        },
        "downloads": -1,
        "filename": "django-dynamic-admin-forms-0.1.5.tar.gz",
        "has_sig": false,
        "md5_digest": "d78a46b96094837c0afccdbf6ba4c69f",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 884334,
        "upload_time": "2021-09-29T07:30:59",
        "upload_time_iso_8601": "2021-09-29T07:30:59.544978Z",
        "url": "https://files.pythonhosted.org/packages/8d/03/bc97cda5f7661f81f1058bd42bad1ff51e6040d6b64652a0f7bcf3e65559/django-dynamic-admin-forms-0.1.5.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.1.7": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "5990c349306fd3a2b62fef9dcd17bf656470b187f4c4b4e9fb3982214cc4a0cc",
          "md5": "1417243a190a28c1e4a3b4317cf57dfc",
          "sha256": "7add0ad30382ebef538e6046c7c6570cfdbbe5e30d0c76fac68ebfba5b0287b2"
        },
        "downloads": -1,
        "filename": "django_dynamic_admin_forms-0.1.7-py2.py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "1417243a190a28c1e4a3b4317cf57dfc",
        "packagetype": "bdist_wheel",
        "python_version": "py2.py3",
        "requires_python": null,
        "size": 7446,
        "upload_time": "2021-10-15T08:46:50",
        "upload_time_iso_8601": "2021-10-15T08:46:50.955415Z",
        "url": "https://files.pythonhosted.org/packages/59/90/c349306fd3a2b62fef9dcd17bf656470b187f4c4b4e9fb3982214cc4a0cc/django_dynamic_admin_forms-0.1.7-py2.py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "70f8e2d5f67050129c5c48c48a949795acff6e79186ccb0ded858870ff3c0c2b",
          "md5": "506c6bf1fac1e690c380848da4fa3762",
          "sha256": "dbff655b046734c81bfc4ac727ea80472d73293a575cc73ee40cf77133bfac53"
        },
        "downloads": -1,
        "filename": "django-dynamic-admin-forms-0.1.7.tar.gz",
        "has_sig": false,
        "md5_digest": "506c6bf1fac1e690c380848da4fa3762",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 886132,
        "upload_time": "2021-10-15T08:46:54",
        "upload_time_iso_8601": "2021-10-15T08:46:54.672032Z",
        "url": "https://files.pythonhosted.org/packages/70/f8/e2d5f67050129c5c48c48a949795acff6e79186ccb0ded858870ff3c0c2b/django-dynamic-admin-forms-0.1.7.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.1.8": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "b97107c458addf9190e720719a25352bdc2dc42ce40c118bfb49f6e56b27b9b5",
          "md5": "6e7a22c9d5cc23b63d66a93fee2cbb76",
          "sha256": "33ca60073dbd4057a0b654b8c54d8f82d6d7fe81841d8419ff8a87cf9464b28b"
        },
        "downloads": -1,
        "filename": "django_dynamic_admin_forms-0.1.8-py2.py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "6e7a22c9d5cc23b63d66a93fee2cbb76",
        "packagetype": "bdist_wheel",
        "python_version": "py2.py3",
        "requires_python": null,
        "size": 7877,
        "upload_time": "2021-11-30T10:20:54",
        "upload_time_iso_8601": "2021-11-30T10:20:54.402751Z",
        "url": "https://files.pythonhosted.org/packages/b9/71/07c458addf9190e720719a25352bdc2dc42ce40c118bfb49f6e56b27b9b5/django_dynamic_admin_forms-0.1.8-py2.py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "de3dfd8cfd598e209a2d298a2abad0f9167edb5f8d5025e54fc953c05bdc6457",
          "md5": "29bc4db2c08c1b68c427d6d2b3ed7ab4",
          "sha256": "96d2910e196ce615ac3f00d7d2223f03b85fa9cdbd32e499c59bc96591cc6738"
        },
        "downloads": -1,
        "filename": "django-dynamic-admin-forms-0.1.8.tar.gz",
        "has_sig": false,
        "md5_digest": "29bc4db2c08c1b68c427d6d2b3ed7ab4",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 886572,
        "upload_time": "2021-11-30T10:21:02",
        "upload_time_iso_8601": "2021-11-30T10:21:02.019498Z",
        "url": "https://files.pythonhosted.org/packages/de/3d/fd8cfd598e209a2d298a2abad0f9167edb5f8d5025e54fc953c05bdc6457/django-dynamic-admin-forms-0.1.8.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "b97107c458addf9190e720719a25352bdc2dc42ce40c118bfb49f6e56b27b9b5",
        "md5": "6e7a22c9d5cc23b63d66a93fee2cbb76",
        "sha256": "33ca60073dbd4057a0b654b8c54d8f82d6d7fe81841d8419ff8a87cf9464b28b"
      },
      "downloads": -1,
      "filename": "django_dynamic_admin_forms-0.1.8-py2.py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "6e7a22c9d5cc23b63d66a93fee2cbb76",
      "packagetype": "bdist_wheel",
      "python_version": "py2.py3",
      "requires_python": null,
      "size": 7877,
      "upload_time": "2021-11-30T10:20:54",
      "upload_time_iso_8601": "2021-11-30T10:20:54.402751Z",
      "url": "https://files.pythonhosted.org/packages/b9/71/07c458addf9190e720719a25352bdc2dc42ce40c118bfb49f6e56b27b9b5/django_dynamic_admin_forms-0.1.8-py2.py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "de3dfd8cfd598e209a2d298a2abad0f9167edb5f8d5025e54fc953c05bdc6457",
        "md5": "29bc4db2c08c1b68c427d6d2b3ed7ab4",
        "sha256": "96d2910e196ce615ac3f00d7d2223f03b85fa9cdbd32e499c59bc96591cc6738"
      },
      "downloads": -1,
      "filename": "django-dynamic-admin-forms-0.1.8.tar.gz",
      "has_sig": false,
      "md5_digest": "29bc4db2c08c1b68c427d6d2b3ed7ab4",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": null,
      "size": 886572,
      "upload_time": "2021-11-30T10:21:02",
      "upload_time_iso_8601": "2021-11-30T10:21:02.019498Z",
      "url": "https://files.pythonhosted.org/packages/de/3d/fd8cfd598e209a2d298a2abad0f9167edb5f8d5025e54fc953c05bdc6457/django-dynamic-admin-forms-0.1.8.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}