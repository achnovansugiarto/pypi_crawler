{
  "info": {
    "author": "Rajesh Bathula",
    "author_email": "rajb2237@gmail.com",
    "bugtrack_url": null,
    "classifiers": [
      "License :: OSI Approved :: MIT License",
      "Operating System :: OS Independent",
      "Programming Language :: Python :: 3"
    ],
    "description": "# json-log-decorator\npython log decorator which raise on exception, logs stdout or to loki host, captures time taken by function or method in json format\n\nTo install package \n```\npip install json-log-decorator\n```\n\n* Example usage with just decorator\n> NOTE: This takes file name as name while logging if no name provided\n```python\nfrom json_log_decorator.logdecorator import LogDecorator as log\nimport time\n\n@log()\ndef test_decorator(x,y):\n    time.sleep(2)\n    return x + y\n\ntest_decorator(1,2)\n```\n> log's as below\n\n```json\n{\"name\": \"test\", \"levelname\": \"INFO\", \"asctime\": \"2021-06-22 23:32:18,564\", \"message\": \"Function Called:[test_decorator]\"}\n{\"name\": \"test\", \"levelname\": \"INFO\", \"asctime\": \"2021-06-22 23:32:20,568\", \"message\": \"Function Ended:[test_decorator] timetaken:[2] Seconds\"}\n```\n\n* Incase of exception, it logs with error and raises the exception with adding additional field exc_info which has traceback rasie info \n\n```python\nfrom json_log_decorator.logdecorator import LogDecorator as log\nimport time\n\n@log()\ndef test_decorator(x,y):\n    time.sleep(2)\n    return x + y\n\ntest_decorator(1,'s')\n```\n> log's as below\n\n```json\n{\"name\": \"test\", \"levelname\": \"INFO\", \"asctime\": \"2021-06-22 23:29:01,097\", \"message\": \"Function Called:[test_decorator]\"}\n{\"name\": \"test\", \"levelname\": \"ERROR\", \"asctime\": \"2021-06-22 23:29:03,100\", \"message\": \"Exception in test_decorator\", \"exc_info\": \"Traceback (most recent call last):\\n  File \\\"/json-log-decorator/json_log_decorator/logdecorator.py\\\", line 17, in wrapper\\n    val = func(*args, **kwargs)\\n  File \\\"/json-log-decorator/json_log_decorator/test.py\\\", line 7, in test_decorator\\n    return x + y\\nTypeError: unsupported operand type(s) for +: 'int' and 'str'\"}\n```\n\n* To give a name to logger and for using this library to add other logging levels you can do this way\n\n```python\nfrom json_log_decorator.logdecorator import LogDecorator,get_logger\n\nlogger = get_logger('test-this')\nlog = LogDecorator(logger)\n\n@log\ndef test_decorator(x,y):\n    logger.warning('to hava a warning message')\n    return x + y\n\n@log\ndef sum(x):\n    return x+2\n\n@log\ndef main():\n    x = sum(test_decorator(2,3))\n    logger.info(x)\n\nmain()\n```\n\n* Logs can directly pushed to LOKI host , in this case you need to pass loki_host as shown below\n\n> NOTE: this library only deals with version v1 loki python library\n\n* Incase you want to try locally use below line to bring up grafana and loki locally , make sure you open grafana using admin and admin credentials and add datasource loki with `http://loki:3100` and save the data source\n\n```bash\nwget https://raw.githubusercontent.com/grafana/loki/v2.2.1/production/docker-compose.yaml -O docker-compose.yaml\ndocker-compose -f docker-compose.yaml up -d\n```\n\n```python\nfrom json_log_decorator.logdecorator import LogDecorator,get_logger\n\nlogger = get_logger(name='test-this',loki_host='http://localhost:3100')\nlog = LogDecorator(logger)\n\n@log\ndef test_decorator(x,y):\n    logger.warning('to hava a warning message')\n    return x + y\n\n@log\ndef sum(x):\n    return x+2\n\n@log\ndef main():\n    x = sum(test_decorator(2,3))\n    logger.info(x)\n\nmain()\n```\n\n* Can be seen in LOKI as below \n\n![img.png](docs/img.png)\n\n\n* To set logging Level \n\n```python\nimport logging\nfrom json_log_decorator.logdecorator import LogDecorator,get_logger\n\nlogger = get_logger('test-debug')\nlogger.setLevel(logging.DEBUG)\nlog = LogDecorator(logger)\n\n@log\ndef test_decorator(x,y):\n    logger.warning('just a warning test message')\n    return x + y\n\n@log\ndef sum(x):\n    return x+2\n\n@log\ndef main():\n    x = sum(test_decorator(2,3))\n    logger.info(x)\n\nmain()\n```\n\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/rajeshkbathula/json_log_decorator",
    "keywords": "",
    "license": "",
    "maintainer": "",
    "maintainer_email": "",
    "name": "json-log-decorator",
    "package_url": "https://pypi.org/project/json-log-decorator/",
    "platform": "",
    "project_url": "https://pypi.org/project/json-log-decorator/",
    "project_urls": {
      "Homepage": "https://github.com/rajeshkbathula/json_log_decorator"
    },
    "release_url": "https://pypi.org/project/json-log-decorator/2.0.0/",
    "requires_dist": [
      "python-json-logger (==2.0.1)",
      "python-logging-loki (==0.3.1)"
    ],
    "requires_python": ">=3.6",
    "summary": "The Python LogDecorator with exception, in JSON format",
    "version": "2.0.0",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 10719505,
  "releases": {
    "1.1.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "ffd0f290f0d3dc58a370ee6fd50c543e5cd8324f17fdcce31c76540c1a3fe2ee",
          "md5": "ad2ca7cbeea11c31904b6e1a7decc7ff",
          "sha256": "397a8a28566d847702c5077b20fdc5dd58be93d5934372755865336a3321f3d7"
        },
        "downloads": -1,
        "filename": "json_log_decorator-1.1.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "ad2ca7cbeea11c31904b6e1a7decc7ff",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.6",
        "size": 2935,
        "upload_time": "2021-06-22T23:26:44",
        "upload_time_iso_8601": "2021-06-22T23:26:44.959368Z",
        "url": "https://files.pythonhosted.org/packages/ff/d0/f290f0d3dc58a370ee6fd50c543e5cd8324f17fdcce31c76540c1a3fe2ee/json_log_decorator-1.1.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "c0d23b9df2d9c2af03fd2ac111b5c4f1e27e1d88dd7344e5642e4fe33fff41e6",
          "md5": "ade884118ee548423c3488711ec15233",
          "sha256": "f3752fba5764e59542cc7f3b0df58094545ed825333ebba358c537fd8ac9e132"
        },
        "downloads": -1,
        "filename": "json-log-decorator-1.1.0.tar.gz",
        "has_sig": false,
        "md5_digest": "ade884118ee548423c3488711ec15233",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6",
        "size": 3012,
        "upload_time": "2021-06-22T23:26:46",
        "upload_time_iso_8601": "2021-06-22T23:26:46.355327Z",
        "url": "https://files.pythonhosted.org/packages/c0/d2/3b9df2d9c2af03fd2ac111b5c4f1e27e1d88dd7344e5642e4fe33fff41e6/json-log-decorator-1.1.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.1.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "e96d650dff2c858863a0b249f98b423c8bdf6d7eb0e7daedc6cd97effcf17169",
          "md5": "2f219854ae56f4abd04c5fcc2d250582",
          "sha256": "5dd0bcf7947329a7c34a4f01a23642cfaf9c831e18e630848ff93725d489d5c7"
        },
        "downloads": -1,
        "filename": "json_log_decorator-1.1.1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "2f219854ae56f4abd04c5fcc2d250582",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.6",
        "size": 3258,
        "upload_time": "2021-06-22T23:34:51",
        "upload_time_iso_8601": "2021-06-22T23:34:51.864965Z",
        "url": "https://files.pythonhosted.org/packages/e9/6d/650dff2c858863a0b249f98b423c8bdf6d7eb0e7daedc6cd97effcf17169/json_log_decorator-1.1.1-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "4c385e96e4b88f9945082781cb89257f3856192da8e7702bea0d513a39bdb808",
          "md5": "a504ebcefd0519c3d2e9b09fdb7cdb24",
          "sha256": "2cda108c5d3f3a52c0a4d3e31f1e27b1706dc81dce78fb138f63cc5dbc345bec"
        },
        "downloads": -1,
        "filename": "json_log_decorator-1.1.1.tar.gz",
        "has_sig": false,
        "md5_digest": "a504ebcefd0519c3d2e9b09fdb7cdb24",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6",
        "size": 2634,
        "upload_time": "2021-06-22T23:34:54",
        "upload_time_iso_8601": "2021-06-22T23:34:54.072349Z",
        "url": "https://files.pythonhosted.org/packages/4c/38/5e96e4b88f9945082781cb89257f3856192da8e7702bea0d513a39bdb808/json_log_decorator-1.1.1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.2.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "843a05902393cfcc5c55af9e22a1ec5a53e9b33613b6c83b4fe34a29309a6081",
          "md5": "192669f0cb0deb1041c7edca385f2693",
          "sha256": "0013456986760e1f6d14efb617c8f42673accec81b9ca30d6d4fabae91c12f97"
        },
        "downloads": -1,
        "filename": "json_log_decorator-1.2.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "192669f0cb0deb1041c7edca385f2693",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.6",
        "size": 3979,
        "upload_time": "2021-06-22T23:41:14",
        "upload_time_iso_8601": "2021-06-22T23:41:14.962683Z",
        "url": "https://files.pythonhosted.org/packages/84/3a/05902393cfcc5c55af9e22a1ec5a53e9b33613b6c83b4fe34a29309a6081/json_log_decorator-1.2.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "8881fb7c3493cb28c2acc2d2add7503d235e795af4dfc3f1cdc86d6941bfb90e",
          "md5": "4fc1b871852c1f9f831fcd7dd5eaa481",
          "sha256": "6db60111422de9a4a71802d50ab8f4c166ecc85e8999e9d37e8c3ce0573e7e66"
        },
        "downloads": -1,
        "filename": "json_log_decorator-1.2.0.tar.gz",
        "has_sig": false,
        "md5_digest": "4fc1b871852c1f9f831fcd7dd5eaa481",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6",
        "size": 3347,
        "upload_time": "2021-06-22T23:41:16",
        "upload_time_iso_8601": "2021-06-22T23:41:16.589168Z",
        "url": "https://files.pythonhosted.org/packages/88/81/fb7c3493cb28c2acc2d2add7503d235e795af4dfc3f1cdc86d6941bfb90e/json_log_decorator-1.2.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "2.0.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "6ead82452f1330849464b17404f9e4b8fb79cd85b073cc5c95b41ee24a6932ed",
          "md5": "3ae1cf06b8f22c52cd7c93892c104367",
          "sha256": "3de0508101b1d1947fa71f017e8cc7b58e4ca451635d2a68fc291bafa26919f7"
        },
        "downloads": -1,
        "filename": "json_log_decorator-2.0.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "3ae1cf06b8f22c52cd7c93892c104367",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.6",
        "size": 4444,
        "upload_time": "2021-06-23T08:48:42",
        "upload_time_iso_8601": "2021-06-23T08:48:42.581317Z",
        "url": "https://files.pythonhosted.org/packages/6e/ad/82452f1330849464b17404f9e4b8fb79cd85b073cc5c95b41ee24a6932ed/json_log_decorator-2.0.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "029bd71005f2546d01e7bd8033b4f2b32368a3a93b6a3ed2e6bed8b37f43dd82",
          "md5": "1846e69218578f81fcc37cf20ff6f1ec",
          "sha256": "02c02d5e7eb43ed591b11fe882da8267b1433216a4675aac8eaeb38b4730e1fa"
        },
        "downloads": -1,
        "filename": "json_log_decorator-2.0.0.tar.gz",
        "has_sig": false,
        "md5_digest": "1846e69218578f81fcc37cf20ff6f1ec",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6",
        "size": 3836,
        "upload_time": "2021-06-23T08:48:45",
        "upload_time_iso_8601": "2021-06-23T08:48:45.011099Z",
        "url": "https://files.pythonhosted.org/packages/02/9b/d71005f2546d01e7bd8033b4f2b32368a3a93b6a3ed2e6bed8b37f43dd82/json_log_decorator-2.0.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "6ead82452f1330849464b17404f9e4b8fb79cd85b073cc5c95b41ee24a6932ed",
        "md5": "3ae1cf06b8f22c52cd7c93892c104367",
        "sha256": "3de0508101b1d1947fa71f017e8cc7b58e4ca451635d2a68fc291bafa26919f7"
      },
      "downloads": -1,
      "filename": "json_log_decorator-2.0.0-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "3ae1cf06b8f22c52cd7c93892c104367",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": ">=3.6",
      "size": 4444,
      "upload_time": "2021-06-23T08:48:42",
      "upload_time_iso_8601": "2021-06-23T08:48:42.581317Z",
      "url": "https://files.pythonhosted.org/packages/6e/ad/82452f1330849464b17404f9e4b8fb79cd85b073cc5c95b41ee24a6932ed/json_log_decorator-2.0.0-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "029bd71005f2546d01e7bd8033b4f2b32368a3a93b6a3ed2e6bed8b37f43dd82",
        "md5": "1846e69218578f81fcc37cf20ff6f1ec",
        "sha256": "02c02d5e7eb43ed591b11fe882da8267b1433216a4675aac8eaeb38b4730e1fa"
      },
      "downloads": -1,
      "filename": "json_log_decorator-2.0.0.tar.gz",
      "has_sig": false,
      "md5_digest": "1846e69218578f81fcc37cf20ff6f1ec",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": ">=3.6",
      "size": 3836,
      "upload_time": "2021-06-23T08:48:45",
      "upload_time_iso_8601": "2021-06-23T08:48:45.011099Z",
      "url": "https://files.pythonhosted.org/packages/02/9b/d71005f2546d01e7bd8033b4f2b32368a3a93b6a3ed2e6bed8b37f43dd82/json_log_decorator-2.0.0.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}