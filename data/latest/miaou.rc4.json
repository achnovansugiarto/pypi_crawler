{
  "info": {
    "author": "Philip CHAN",
    "author_email": "philip1134@imior.com",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 4 - Beta",
      "Intended Audience :: Developers",
      "License :: OSI Approved :: MIT License",
      "Operating System :: OS Independent",
      "Programming Language :: Python",
      "Programming Language :: Python :: 3",
      "Programming Language :: Python :: 3.10",
      "Topic :: Software Development :: Libraries :: Application Frameworks"
    ],
    "description": "=====\nmiaou\n=====\n\n.. image:: https://img.shields.io/pypi/v/miaou.svg?color=orange\n   :target: https://pypi.python.org/pypi/miaou\n   :alt: PyPI Version\n\n.. image:: https://img.shields.io/pypi/pyversions/miaou.svg\n   :target: https://pypi.org/project/miaou/\n   :alt: Supported Python versions\n\n\n``miaou`` 是 `pyzentao <https://github.com/philip1134/pyzentao>`__ 规格文件的自助生成工具。\n\n宋朝的严羽在《沧浪诗话·诗辨》中说：\"大抵禅道惟在妙悟，诗道亦在妙悟\"，于是取名 \"妙悟 (miaou)\"。\n\n\n安装\n----\n\n.. code:: text\n\n    $ pip install -U miaou\n\n使用\n----\n\n调用 ``miaou.generate()`` 方法生成规格文件\n\n.. code:: python\n\n    import miaou\n\n    miaou.generate(\n        site_url=\"http://my.zentao.site/zentao\",\n        username=\"admin\",\n        password=\"123456\",\n        scanner=\"selenium\",\n        combined_print=True,\n        output_path=\".\"\n    )\n\n结果放在 /output_path/pyzentao_specs_timestamp 下面\n\n参数说明\n\n- site_url\n    你家禅道的域名，一般需要加上 zentao 这个前缀，如 \"http://my.zentao.site/zentao\"，\n    注意在禅道 v18 版本后默认没有这个前缀\n\n- dev_url\n    禅道二次开发页面，如 \"http://my.zentao.site/zentao/dev-api.html\"，默认会由 site_url\n    加上 dev-api.html 拼凑而成，但在禅道 v18 版本后改为 \"http://my.zentao.site/dev-api-index.html\"，\n    所以建议根据你的禅道二次开发页面显式赋值该参数\n\n- username\n    登录用户名，用于禅道授权\n\n- password\n    登录密码，用于禅道授权\n\n- scanner\n    扫描器类型，目前自带扫描器支持 \"selenium\" 和 \"api\"，也可以自定义扫描器，详见下文\n\n- combined_print\n    合并打印规格，默认是 True ，会将规格打印到一个 yaml 文件，否则按 module 打印到不同文件\n\n- output_path\n    输出的目录，默认是当前目录\n\n- config\n    传给 scanner 的配置参数，应为 dict 类型\n\n扫描器\n-------\n\n扫描禅道页面以获得规格，目前支持 ``selenium`` 和 ``api``，也可以自定义扫描器。\n\nselenium\n~~~~~~~~~\n\n使用 ``selenium 4.8.0`` 版本以上，默认使用 chromedriver，可根据你的 Chrome 版本，在\n`chromedriver <http://chromedriver.storage.googleapis.com/index.html>`__ 下载，并\n添加到 path 中。如果要使用 firefox 可在参数中指定，例如\n\n.. code:: python\n\n    import miaou\n\n    miaou.generate(\n        ...\n        scanner=\"selenium\",\n        config={\"driver\": \"firefox\"},\n    )\n\napi\n~~~~\n\n使用禅道对应的 API 生成规格。调用时指定扫描器类型即可\n\n.. code:: python\n\n    import miaou\n\n    miaou.generate(\n        ...\n        scanner=\"api\",\n        ...\n    )\n\n注意，使用此扫描器生成的规格与禅道文档有一些不同，比如禅道文档中描述的查询 testsuite 的 API 为\n\n.. code:: text\n\n    GET  /zentao/testsuite.json\n\n使用 ``selenium`` 扫描器生成的规格即为\n\n.. code:: yaml\n\n    testsuite:\n        method: GET\n        path: testsuite\n\n而禅道 API 查询到的格式类似于\n\n.. code:: text\n\n    GET  /zentao/testsuite-index.json\n\n所以使用 ``api`` 扫描器生成的规格为\n\n.. code:: yaml\n\n    testsuite_index:\n        method: GET\n        path: testsuite-index\n\n这两种 API 得到的数据是相同的，在转换成 ``pyzentao`` 方法时请以你使用的规格文件为准。\n\n自定义扫描器\n~~~~~~~~~~~~~\n\n也可以自定义扫描器，从 miaou.Scanner 继承\n\n.. code:: python\n\n    import miaou\n\n    class MyScanner(miaou.Scanner):\n        \"\"\"doc string\"\"\"\n\n        def __init__(self, config):\n            ...\n\n\n然后需要实现如下方法：\n\n- open(self, site_url, username, password)\n    一般是获得禅道授权\n\n- close(self)\n    清扫工作，没有就不写\n\n- get_module_groups(self, dev_url)\n    获得 API 模块页面链接，也就是 ``后台 - 二次开发 - API`` 页面左边栏 ``模块列表`` 下的那些链接。返回模块链接数组 [url...]\n\n- get_apis(self, api_url)\n    在指定的模块页面，即 api_url 中获取 API 规格，返回包含dict的数组类似 [{name, method, path, params}]\n\n使用自定义扫描器\n\n.. code:: python\n\n    import miaou\n\n    miaou.generate(\n        ...\n        scanner=MyScanner(config),\n        ...\n    )\n\n另，此工具的功能仅在 ``Linux/Python3.10`` 环境下测试，使用其他环境的宝子请自娱自乐 ╮(╯▽╰)╭\n\n\n",
    "description_content_type": "",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/philip1134/miaou",
    "keywords": "Python SDK",
    "license": "MIT",
    "maintainer": "",
    "maintainer_email": "",
    "name": "miaou",
    "package_url": "https://pypi.org/project/miaou/",
    "platform": "any",
    "project_url": "https://pypi.org/project/miaou/",
    "project_urls": {
      "Homepage": "https://github.com/philip1134/miaou"
    },
    "release_url": "https://pypi.org/project/miaou/0.2.2/",
    "requires_dist": null,
    "requires_python": "",
    "summary": "pyzentao spec generator.",
    "version": "0.2.2",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 17487758,
  "releases": {
    "0.1.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "39dbcd3add277f2377e504cfd13a7ece3027e6070da009fd6e16cb33d6c2a564",
          "md5": "63d164db1df88659fa53426412d5b325",
          "sha256": "ada26bb9973f20276616c01f7ba32b2e25b5d8c1b8b228f1cafda5dc8238350c"
        },
        "downloads": -1,
        "filename": "miaou-0.1.0.tar.gz",
        "has_sig": false,
        "md5_digest": "63d164db1df88659fa53426412d5b325",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 9646,
        "upload_time": "2023-03-01T06:29:47",
        "upload_time_iso_8601": "2023-03-01T06:29:47.374568Z",
        "url": "https://files.pythonhosted.org/packages/39/db/cd3add277f2377e504cfd13a7ece3027e6070da009fd6e16cb33d6c2a564/miaou-0.1.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.2.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "cc348b5014d9a405751eff989d1edd69daba6ff3e34a93c1ad95594ffc8e78b0",
          "md5": "e33d30b35fcf03ddd8704076f55a4e1e",
          "sha256": "8c752a8b2e7aa4b85bdce8d8749181bb873b1734e06eb498036db172ada5bda9"
        },
        "downloads": -1,
        "filename": "miaou-0.2.0.tar.gz",
        "has_sig": false,
        "md5_digest": "e33d30b35fcf03ddd8704076f55a4e1e",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 11515,
        "upload_time": "2023-03-02T09:09:08",
        "upload_time_iso_8601": "2023-03-02T09:09:08.655464Z",
        "url": "https://files.pythonhosted.org/packages/cc/34/8b5014d9a405751eff989d1edd69daba6ff3e34a93c1ad95594ffc8e78b0/miaou-0.2.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.2.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "724afd378f9cbffd9cea52dc6620e9b2c639133fc27dc28bdea02476060066e4",
          "md5": "4d9cca8ffb5ac6ae63667abb17894fbd",
          "sha256": "c85dd660944bab658b4291d9a69c316523280be7f7291429e1e708651c32c481"
        },
        "downloads": -1,
        "filename": "miaou-0.2.1.tar.gz",
        "has_sig": false,
        "md5_digest": "4d9cca8ffb5ac6ae63667abb17894fbd",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 11696,
        "upload_time": "2023-03-14T05:56:05",
        "upload_time_iso_8601": "2023-03-14T05:56:05.757794Z",
        "url": "https://files.pythonhosted.org/packages/72/4a/fd378f9cbffd9cea52dc6620e9b2c639133fc27dc28bdea02476060066e4/miaou-0.2.1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.2.2": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "b8f36b2df2ace29d2dd5eef5c126c810bff5a12c78ca85d36f1ca2b6f8bb6c57",
          "md5": "0d2c6135f5db3f4f253e40a263efd8e3",
          "sha256": "97af8bd94520fc1ee7190c1263d952fdd442cb7a925f4ae6503b196f33abb5bf"
        },
        "downloads": -1,
        "filename": "miaou-0.2.2.tar.gz",
        "has_sig": false,
        "md5_digest": "0d2c6135f5db3f4f253e40a263efd8e3",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 12080,
        "upload_time": "2023-03-29T04:01:03",
        "upload_time_iso_8601": "2023-03-29T04:01:03.795678Z",
        "url": "https://files.pythonhosted.org/packages/b8/f3/6b2df2ace29d2dd5eef5c126c810bff5a12c78ca85d36f1ca2b6f8bb6c57/miaou-0.2.2.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "b8f36b2df2ace29d2dd5eef5c126c810bff5a12c78ca85d36f1ca2b6f8bb6c57",
        "md5": "0d2c6135f5db3f4f253e40a263efd8e3",
        "sha256": "97af8bd94520fc1ee7190c1263d952fdd442cb7a925f4ae6503b196f33abb5bf"
      },
      "downloads": -1,
      "filename": "miaou-0.2.2.tar.gz",
      "has_sig": false,
      "md5_digest": "0d2c6135f5db3f4f253e40a263efd8e3",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": null,
      "size": 12080,
      "upload_time": "2023-03-29T04:01:03",
      "upload_time_iso_8601": "2023-03-29T04:01:03.795678Z",
      "url": "https://files.pythonhosted.org/packages/b8/f3/6b2df2ace29d2dd5eef5c126c810bff5a12c78ca85d36f1ca2b6f8bb6c57/miaou-0.2.2.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}