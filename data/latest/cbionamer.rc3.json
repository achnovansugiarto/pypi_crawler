{
  "info": {
    "author": "Yufeng Cheng",
    "author_email": "2101210556@pku.edu.cn",
    "bugtrack_url": null,
    "classifiers": [
      "License :: OSI Approved :: MIT License",
      "Operating System :: OS Independent",
      "Programming Language :: Python :: 3"
    ],
    "description": "# CBio-NAMER\n\n**CBioNAMER** (**N**ested n**AM**ed **E**ntity **R**ecognition for **C**hinese **Bio**medical Text) is our method used in [CBLUE](https://tianchi.aliyun.com/dataset/dataDetail?dataId=95414) (Chinese Biomedical Language Understanding Evaluation), a benchmark of Nested Named Entity Recognition. We got the 2nd price of the benchmark by 2021/12/07. Single model CBioNAMER also achieves top20 in CBLUE. The score of CBioNAMER has surpassed human(67.0 in $F_1$).\n\n## Result\n\nResults of our method:\n\n![ensemble](https://raw.githubusercontent.com/cb1cyf/CBioNAMER/main/ensemble.png)\n\nResults of our single model CBioNAMER:\n\n![single](https://raw.githubusercontent.com/cb1cyf/CBioNAMER/main/single.png)\n\n\n\n## Approach\n\nCBioNAMER is a sub-model in our result, which is based on [GlobalPointer](https://kexue.fm/archives/8373) (a powerful open-source model, thanks for author, we rewrite it with Pytorch). \n\n\n\n## Usage\n\nFirst, install [PyTorch>=1.7.0](https://pytorch.org/get-started/locally/). There's no restriction on GPU or CUDA.\n\nThen, install this repo as a Python package:\n\n```bash\n$ pip install CBioNAMER\n```\n\nPython package `transformers==4.6.1` would be automatically installed as well.\n\n\n\n## API\n\nThe `CBioNAMER` package provides the following methods:\n\n`CBioNAMER.load_NER(model_save_path='./checkpoint/macbert-large_dict.pth', maxlen=512, c_size=9, id2c=_id2c, c2c=_c2c)`\n\nReturns the pretrained model. It will download the model as necessary. The model would use the first CUDA device if there's any, otherwise using CPU instead. \n\nThe `model_save_path` argument specifies the path of the pretrained model weight.\n\nThe `maxlen` argument specifies the max length of input sentences. The sentences longer than `maxlen` would be cut off.\n\nThe `c_size` argument specifies the number of entity class. Here is `9` for CBLUE.\n\nThe `id2c` argument specifies the mapping between id and entity class. By default, the `id2c` argument for CBLUE is:\n\n`_id2c = {0: 'dis', 1: 'sym', 2: 'pro', 3: 'equ', 4: 'dru', 5: 'ite', 6: 'bod', 7: 'dep', 8: 'mic'}`\n\nThe `c2c` argument specifies the mapping between entity class and its Chinese meaning. By default, the `c2c` argument for CBLUE is:\n\n`_c2c = {'dis': \"疾病\", 'sym': \"临床表现\", 'pro': \"医疗程序\", 'equ': \"医疗设备\", 'dru': \"药物\", 'ite': \"医学检验项目\", 'bod': \"身体\", 'dep': \"科室\", 'mic': \"微生物类\"}`\n\n\n\n------\n\nThe model returned by `CBioNAMER.load_NER()` supports the following methods:\n\n`model.recognize(text: str, threshold=0)`\n\nGiven a sentence, returns a list of dictionaries with recognized entity, the format of the dictionary is `{'start_idx': entity's starting index, 'end_idx': entity's ending index, 'type': entity class, 'Chinese_type': Chinese meaning of entity class, 'entity': recognized entity}`. The `threshold` argument specifies that the returned list only contains the recognized entity with confidence score higher than `threshold`.\n\n`model.predict_to_file(in_file: str, out_file: str)`\n\nGiven input and output `.json` file path, the model would do inference according `in_file`, and the recognized entity would be saved in `out_file`. The output file can be submitted to [CBLUE](https://tianchi.aliyun.com/dataset/dataDetail?dataId=95414). The format of input file is like:\n\n```json\n[\n  {\n    \"text\": \"该技术的应用使某些遗传病的诊治水平得到显著提高。\"\n  },\n    ...\n  {\n    \"text\": \"There is a sentence.\"\n  }\n]\n```\n\n\n\n## Examples\n\n```Python\nimport CBioNAMER\n\nNER = CBioNAMER.load_NER()\nin_file = './CMeEE_test.json'\nout_file = './CMeEE_test_answer.json'\nNER.predict_to_file(in_file, out_file)\n```\n\n```python\nimport CBioNAMER\n\nNER = CBioNAMER.load_NER()\ntext = \"该技术的应用使某些遗传病的诊治水平得到显著提高。\"\nrecognized_entity = NER.recognize(text)\nprint(recognized_entity)\n# output:[{'start_idx': 9, 'end_idx': 11, 'type': 'dis', 'Chinese_type': '疾病', 'entity': '遗传病'}]\n```",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/cb1cyf/CBioNAMER/",
    "keywords": "",
    "license": "",
    "maintainer": "",
    "maintainer_email": "",
    "name": "CBioNAMER",
    "package_url": "https://pypi.org/project/CBioNAMER/",
    "platform": "",
    "project_url": "https://pypi.org/project/CBioNAMER/",
    "project_urls": {
      "Homepage": "https://github.com/cb1cyf/CBioNAMER/"
    },
    "release_url": "https://pypi.org/project/CBioNAMER/1.0/",
    "requires_dist": null,
    "requires_python": ">=3",
    "summary": "Nested Named Entity Recognition for Chinese Biomedical Text",
    "version": "1.0",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 12233543,
  "releases": {
    "0.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "051291314e71eacbf69af81ee8f4473cebeb3496c05a5b1ef2d0acdfae33c706",
          "md5": "31864f630d68d3f7708c6c4ef4c120f0",
          "sha256": "fed08e3feca91f49046818d1b191db8d82108290a3fbdb42be27f1c77e2c3e4c"
        },
        "downloads": -1,
        "filename": "CBioNAMER-0.1.tar.gz",
        "has_sig": false,
        "md5_digest": "31864f630d68d3f7708c6c4ef4c120f0",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3",
        "size": 16447,
        "upload_time": "2021-12-07T12:14:16",
        "upload_time_iso_8601": "2021-12-07T12:14:16.289887Z",
        "url": "https://files.pythonhosted.org/packages/05/12/91314e71eacbf69af81ee8f4473cebeb3496c05a5b1ef2d0acdfae33c706/CBioNAMER-0.1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.2": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "1d3759facbeeeecfa7135abc995ba9c1b496966a54ea91bd3c2d7e4016686b28",
          "md5": "ab22618ad899a6d2e0b51fc894bff299",
          "sha256": "685450ae4fb6a3749f95dfe7bd0ea5febdc99c6e7f1f01013785e474f977bd68"
        },
        "downloads": -1,
        "filename": "CBioNAMER-0.2.tar.gz",
        "has_sig": false,
        "md5_digest": "ab22618ad899a6d2e0b51fc894bff299",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3",
        "size": 16451,
        "upload_time": "2021-12-07T12:23:54",
        "upload_time_iso_8601": "2021-12-07T12:23:54.158231Z",
        "url": "https://files.pythonhosted.org/packages/1d/37/59facbeeeecfa7135abc995ba9c1b496966a54ea91bd3c2d7e4016686b28/CBioNAMER-0.2.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "96242599091b9d5e885ba41db23a9bc7508411333c1312b772fe08bc03f56c2e",
          "md5": "f62e0cad130e890be286c49e2d0cb3e2",
          "sha256": "9d605d693e1b0e7b0dece7befa16a5dba63069642bd7f458f122873bb86df6ff"
        },
        "downloads": -1,
        "filename": "CBioNAMER-1.0.tar.gz",
        "has_sig": false,
        "md5_digest": "f62e0cad130e890be286c49e2d0cb3e2",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3",
        "size": 16508,
        "upload_time": "2021-12-07T12:45:19",
        "upload_time_iso_8601": "2021-12-07T12:45:19.670773Z",
        "url": "https://files.pythonhosted.org/packages/96/24/2599091b9d5e885ba41db23a9bc7508411333c1312b772fe08bc03f56c2e/CBioNAMER-1.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "96242599091b9d5e885ba41db23a9bc7508411333c1312b772fe08bc03f56c2e",
        "md5": "f62e0cad130e890be286c49e2d0cb3e2",
        "sha256": "9d605d693e1b0e7b0dece7befa16a5dba63069642bd7f458f122873bb86df6ff"
      },
      "downloads": -1,
      "filename": "CBioNAMER-1.0.tar.gz",
      "has_sig": false,
      "md5_digest": "f62e0cad130e890be286c49e2d0cb3e2",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": ">=3",
      "size": 16508,
      "upload_time": "2021-12-07T12:45:19",
      "upload_time_iso_8601": "2021-12-07T12:45:19.670773Z",
      "url": "https://files.pythonhosted.org/packages/96/24/2599091b9d5e885ba41db23a9bc7508411333c1312b772fe08bc03f56c2e/CBioNAMER-1.0.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}