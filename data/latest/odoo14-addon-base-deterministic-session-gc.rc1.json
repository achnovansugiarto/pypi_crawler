{
  "info": {
    "author": "Trobz,Odoo Community Association (OCA)",
    "author_email": "support@odoo-community.org",
    "bugtrack_url": null,
    "classifiers": [
      "Framework :: Odoo",
      "Framework :: Odoo :: 14.0",
      "License :: OSI Approved :: GNU Affero General Public License v3",
      "Programming Language :: Python"
    ],
    "description": "========================\nDeterministic Session GC\n========================\n\n.. !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n   !! This file is generated by oca-gen-addon-readme !!\n   !! changes will be overwritten.                   !!\n   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n\n.. |badge1| image:: https://img.shields.io/badge/maturity-Beta-yellow.png\n    :target: https://odoo-community.org/page/development-status\n    :alt: Beta\n.. |badge2| image:: https://img.shields.io/badge/licence-AGPL--3-blue.png\n    :target: http://www.gnu.org/licenses/agpl-3.0-standalone.html\n    :alt: License: AGPL-3\n.. |badge3| image:: https://img.shields.io/badge/github-OCA%2Fserver--tools-lightgray.png?logo=github\n    :target: https://github.com/OCA/server-tools/tree/14.0/base_deterministic_session_gc\n    :alt: OCA/server-tools\n.. |badge4| image:: https://img.shields.io/badge/weblate-Translate%20me-F47D42.png\n    :target: https://translation.odoo-community.org/projects/server-tools-14-0/server-tools-14-0-base_deterministic_session_gc\n    :alt: Translate me on Weblate\n.. |badge5| image:: https://img.shields.io/badge/runbot-Try%20me-875A7B.png\n    :target: https://runbot.odoo-community.org/runbot/149/14.0\n    :alt: Try me on Runbot\n\n|badge1| |badge2| |badge3| |badge4| |badge5| \n\nWhenever a new request is processed by Odoo, this statement is evaluated:\n`random.random() < 0.001` [1_]\n\n.. _1: https://github.com/odoo/odoo/blob/a0a11fd5e2d78e5fc0d1503275adade570fe0d42/odoo/http.py#L1192\n\n1 time out of 1000 in average, it will return `True` and trigger the\nGarbage Collection of sessions: sessions that have\nnot been active for more than 1 week will be deleted [2_]\n\n.. _2: https://github.com/odoo/odoo/blob/a0a11fd5e2d78e5fc0d1503275adade570fe0d42/odoo/http.py#L1193\n\nThis random approach can become a problem in some contexts.\n\nOn a highly visited Odoo website, many sessions will be created.\nGoing through all of them will take some time, especially on a slow/loaded FS.\nThe Garbage Collection happening randomly, your users will report\nyou cases of Odoo being randomly slow on random actions. They won't be able\nto reproduce these cases and you won't be able to trace them in your\nodoo logs neither, because calls' response time doesn't include the time Odoo\nspent on the Garbage Collection.\n\nMoreover, on a heavily loaded server, better be in a position to\ncontrol when does the Garbage Collection happen. One might want to run it once\nper night only for example.\n\nThat's why we created this module:\n\n- to disable the default random Garbage Collection\n- to enable administrators to replace it by a deterministic approach:\n\n  - either by using the included Scheduled Action;\n  - or by calling the added public method\n    `ir.autovacuum:gc_sessions()` remotely\n\n**Table of contents**\n\n.. contents::\n   :local:\n\nInstallation\n============\n\nYou need to load this module server-wide:\n\n* By starting Odoo with ``--load=web,base_deterministic_session_gc``\n\n* Or by updating its configuration file:\n\n.. code-block:: ini\n\n  [options]\n  (...)\n  server_wide_modules = web,base_deterministic_session_gc\n\nYou also need to install it in your database\nif you want to use the provided deterministic approach.\n\nConfiguration\n=============\n\nYou can change the session expiry delay in the Odoo configuration file:\n\n.. code-block:: ini\n\n  [options]\n  (...)\n  ; 1 day = 60*60*24 seconds\n  session_expiry_delay = 86400\n\nDefault value is 7 days.\n\nBug Tracker\n===========\n\nBugs are tracked on `GitHub Issues <https://github.com/OCA/server-tools/issues>`_.\nIn case of trouble, please check there if your issue has already been reported.\nIf you spotted it first, help us smashing it by providing a detailed and welcomed\n`feedback <https://github.com/OCA/server-tools/issues/new?body=module:%20base_deterministic_session_gc%0Aversion:%2014.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.\n\nDo not contact contributors directly about support or help with technical issues.\n\nCredits\n=======\n\nAuthors\n~~~~~~~\n\n* Trobz\n\nContributors\n~~~~~~~~~~~~\n\n* Nils Hamerlinck <nils@trobz.com>\n\nMaintainers\n~~~~~~~~~~~\n\nThis module is maintained by the OCA.\n\n.. image:: https://odoo-community.org/logo.png\n   :alt: Odoo Community Association\n   :target: https://odoo-community.org\n\nOCA, or the Odoo Community Association, is a nonprofit organization whose\nmission is to support the collaborative development of Odoo features and\npromote its widespread use.\n\nThis module is part of the `OCA/server-tools <https://github.com/OCA/server-tools/tree/14.0/base_deterministic_session_gc>`_ project on GitHub.\n\nYou are welcome to contribute. To learn how please visit https://odoo-community.org/page/Contribute.\n\n\n",
    "description_content_type": "",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/OCA/server-tools",
    "keywords": "",
    "license": "AGPL-3",
    "maintainer": "",
    "maintainer_email": "",
    "name": "odoo14-addon-base-deterministic-session-gc",
    "package_url": "https://pypi.org/project/odoo14-addon-base-deterministic-session-gc/",
    "platform": null,
    "project_url": "https://pypi.org/project/odoo14-addon-base-deterministic-session-gc/",
    "project_urls": {
      "Homepage": "https://github.com/OCA/server-tools"
    },
    "release_url": "https://pypi.org/project/odoo14-addon-base-deterministic-session-gc/14.0.1.0.1.dev1/",
    "requires_dist": [
      "odoo (<14.1dev,>=14.0a)"
    ],
    "requires_python": ">=3.6",
    "summary": "Provide a deterministic session garbage collection instead of the default random one",
    "version": "14.0.1.0.1.dev1",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 15276143,
  "releases": {
    "14.0.1.0.1.dev1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "1a0aaa721bceb0f5706dfc33a3834b66362dee89e88e3db7f03baab120e5178e",
          "md5": "c07474a27e53acc8860d32221907e364",
          "sha256": "63d52aa52350a8895895bc17c83bcd6cb4dda7895557f7f3c6f2fc2907c5540a"
        },
        "downloads": -1,
        "filename": "odoo14_addon_base_deterministic_session_gc-14.0.1.0.1.dev1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "c07474a27e53acc8860d32221907e364",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.6",
        "size": 26719,
        "upload_time": "2022-10-01T15:13:23",
        "upload_time_iso_8601": "2022-10-01T15:13:23.286709Z",
        "url": "https://files.pythonhosted.org/packages/1a/0a/aa721bceb0f5706dfc33a3834b66362dee89e88e3db7f03baab120e5178e/odoo14_addon_base_deterministic_session_gc-14.0.1.0.1.dev1-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "1a0aaa721bceb0f5706dfc33a3834b66362dee89e88e3db7f03baab120e5178e",
        "md5": "c07474a27e53acc8860d32221907e364",
        "sha256": "63d52aa52350a8895895bc17c83bcd6cb4dda7895557f7f3c6f2fc2907c5540a"
      },
      "downloads": -1,
      "filename": "odoo14_addon_base_deterministic_session_gc-14.0.1.0.1.dev1-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "c07474a27e53acc8860d32221907e364",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": ">=3.6",
      "size": 26719,
      "upload_time": "2022-10-01T15:13:23",
      "upload_time_iso_8601": "2022-10-01T15:13:23.286709Z",
      "url": "https://files.pythonhosted.org/packages/1a/0a/aa721bceb0f5706dfc33a3834b66362dee89e88e3db7f03baab120e5178e/odoo14_addon_base_deterministic_session_gc-14.0.1.0.1.dev1-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}