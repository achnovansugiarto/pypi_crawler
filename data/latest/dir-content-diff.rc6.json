{
  "info": {
    "author": "Blue Brain Project, EPFL",
    "author_email": "",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 4 - Beta",
      "Intended Audience :: Developers",
      "License :: OSI Approved :: Apache Software License",
      "Programming Language :: Python",
      "Programming Language :: Python :: 3",
      "Programming Language :: Python :: 3.10",
      "Programming Language :: Python :: 3.11",
      "Programming Language :: Python :: 3.8",
      "Programming Language :: Python :: 3.9",
      "Topic :: Scientific/Engineering :: Bio-Informatics"
    ],
    "description": "[![Version](https://img.shields.io/pypi/v/dir-content-diff)](https://github.com/BlueBrain/dir-content-diff/releases)\n[![Build status](https://github.com/BlueBrain/dir-content-diff/actions/workflows/run-tox.yml/badge.svg?branch=main)](https://github.com/BlueBrain/dir-content-diff/actions)\n[![Coverage](https://codecov.io/github/BlueBrain/dir-content-diff/coverage.svg?branch=main)](https://codecov.io/github/BlueBrain/dir-content-diff?branch=main)\n[![License](https://img.shields.io/badge/License-Apache%202-blue)](https://github.com/BlueBrain/dir-content-diff/blob/main/LICENSE.txt)\n[![Documentation status](https://readthedocs.org/projects/dir-content-diff/badge/?version=latest)](https://dir-content-diff.readthedocs.io/)\n\n\n# Directory Content Difference\n\nThis project provides simple tools to compare the content of a directory against a reference\ndirectory.\n\nThis is useful to check the results of a process that generate several files, like a luigi\nworkflow for example.\n\n\n## Installation\n\nThis package should be installed using pip:\n\n```bash\npip install dir-content-diff\n```\n\n\n## Usage\n\nThe ``dir-content-diff`` package introduces a framework to compare two directories. A comparator\nis associated to each file extension and then each file in the reference directory is compared to\nthe file with the same relative path in the compared directory. By default, a few comparators are\nprovided for usual files but others can be associated to new file extensions or can even replace\nthe default ones. The comparators should be able to report the differences between two files\naccurately, reporting which elements are different among the data. When an extension has no\ncomparator associated, a default comparator is used which just compares the whole binary data of\nthe files, so it is not able to report which values are different.\n\n### Compare two directories\n\nIf one wants to compare two directories with the following structures:\n\n```bash\n└── reference_dir\n    ├── sub_dir_1\n    |   ├── sub_file_1.a\n    |   └── sub_file_2.b\n    └── file_1.c\n```\n\n```bash\n└── compared_dir\n    ├── sub_dir_1\n    |   ├── sub_file_1.a\n    |   └── sub_file_2.b\n    |   └── sub_file_3.b\n    └── file_1.c\n```\n\nThese two directories can be compared with the following code:\n\n```python\nimport dir_content_diff\n\ndir_content_diff.compare_trees(\"reference_dir\", \"compared_dir\")\n```\n\nThis code will return an empty dictionary because no difference was detected.\n\nIf ``reference_dir/file_1.c`` is the following JSON-like file:\n\n```json\n{\n    \"a\": 1,\n    \"b\": [1, 2]\n}\n```\n\nAnd ``compared_dir/file_1.c`` is the following JSON-like file:\n\n```json\n{\n    \"a\": 2,\n    \"b\": [10, 2, 0]\n}\n```\n\nThe following code registers the ``JsonComparator`` for the file extension ``.c`` and compares the\ntwo directories:\n\n```python\nimport dir_content_diff\n\ndir_content_diff.register_comparator(\".c\", dir_content_diff.JsonComparator())\ndir_content_diff.compare_trees(\"reference_dir\", \"compared_dir\")\n```\n\nThe previous code will output the following dictionary:\n\n```python\n{\n    'file_1.c': (\n        'The files \\'reference_dir/file_1.c\\' and \\'compared_dir/file_1.c\\' are different:\\n'\n        'Added the value(s) \\'{\"2\": 0}\\' in the \\'[b]\\' key.\\n'\n        'Changed the value of \\'[a]\\' from 1 to 2.\\n'\n        'Changed the value of \\'[b][0]\\' from 1 to 10.'\n    )\n}\n```\n\nIt is also possible to check whether the two directories are equal or not with the following code:\n\n```python\nimport dir_content_diff\n\ndir_content_diff.register_comparator(\".c\", dir_content_diff.JsonComparator())\ndir_content_diff.assert_equal_trees(\"reference_dir\", \"compared_dir\")\n```\n\nWhich will output the following ``AssertionError``:\n\n```bash\nAssertionError: The files 'reference_dir/file_1.c' and 'compared_dir/file_1.c' are different:\nAdded the value(s) '{\"2\": 0}' in the '[b]' key.\nChanged the value of '[a]' from 1 to 2.\nChanged the value of '[b][0]' from 1 to 10.\n```\n\nFinally, the comparators have parameters that can be passed either to be used for all files of a\ngiven extension or only for a specific file:\n\n```python\nimport dir_content_diff\n\n# Get the default comparators\ncomparators = dir_content_diff.get_comparators()\n\n# Replace the comparators for JSON files to perform the comparison with a given tolerance\ncomparators[\".json\"] = dir_content_diff.JsonComparator(default_diff_kwargs={\"tolerance\": 0.1})\n\n# Use a specific tolerance for the file ``sub_dir_1/sub_file_1.a``\n# In this case, the kwargs are used to compute the difference by default, except the following\n# specific kwargs: ``return_raw_diffs``, ``load_kwargs``, ``format_data_kwargs``, ``filter_kwargs``,\n# ``format_diff_kwargs``, ``sort_kwargs``, ``concat_kwargs`` and ``report_kwargs``.\nspecific_args = {\"sub_dir_1/sub_file_1.a\": {\"tolerance\": 0.5}}\n\ndir_content_diff.assert_equal_trees(\n    \"reference_dir\",\n    \"compared_dir\",\n    comparators=comparators,\n    specific_args=specific_args,\n)\n```\n\nEach comparator has different arguments that are detailed in the documentation.\n\n\n### Export formatted data\n\nSome comparators have to format the data before comparing them. For example, if one wants to\ncompare data with file paths inside, it's likely that only a relative part of these paths are\nrelevant, not the entire absolute paths. To do this, a specific comparator can be defined with a\ncustom ``format_data()`` method which is automatically called after the data are loaded but before\nthe data are compared. It is then possible to export the data just after they have been formatted\nfor check purpose for example. To do this, the ``export_formatted_files`` argument of the\n``dir_content_diff.compare_trees`` and ``dir_content_diff.assert_equal_trees`` functions can be set\nto ``True``. Thus all the files processed by a comparator with a ``save()`` method will be exported\nto a new directory. This new directory is the same as the compared directory to which a suffix is\nadded. By default, the suffix is `` _FORMATTED ``, but it can be overridden by passing a non-empty\nstring to the ``export_formatted_files`` argument.\n\n## Pytest plugin\n\nThis package can be used as a pytest plugin. When ``pytest`` is run and ``dir-content-diff`` is\ninstalled, it is automatically detected and registered as a plugin. It is then possible to trigger\nthe export of formatted data with the following ``pytest`` option: ``--dcd-export-formatted-data``.\nIt is also possible to define a custom suffix for the new directory with the following option:\n``--dcd-export-suffix``.\n\n\n## Funding & Acknowledgment\n\nThe development of this software was supported by funding to the Blue Brain Project, a research\ncenter of the École polytechnique fédérale de Lausanne (EPFL), from the Swiss government’s ETH\nBoard of the Swiss Federal Institutes of Technology.\n\nFor license and authors, see `LICENSE.txt` and `AUTHORS.md` respectively.\n\nCopyright © 2021-2022 Blue Brain Project/EPFL\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://dir-content-diff.readthedocs.io",
    "keywords": "",
    "license": "Apache License 2.0",
    "maintainer": "",
    "maintainer_email": "",
    "name": "dir-content-diff",
    "package_url": "https://pypi.org/project/dir-content-diff/",
    "platform": null,
    "project_url": "https://pypi.org/project/dir-content-diff/",
    "project_urls": {
      "Homepage": "https://dir-content-diff.readthedocs.io",
      "Source": "https://github.com/BlueBrain/dir-content-diff",
      "Tracker": "https://github.com/BlueBrain/dir-content-diff/issues"
    },
    "release_url": "https://pypi.org/project/dir-content-diff/1.4.0/",
    "requires_dist": [
      "dictdiffer (>=0.8)",
      "diff-pdf-visually (>=1.7)",
      "PyYaml (>=5.3)",
      "m2r2 ; extra == 'docs'",
      "sphinx (<6) ; extra == 'docs'",
      "sphinx-bluebrain-theme ; extra == 'docs'",
      "pandas (>=1.4) ; extra == 'docs'",
      "tables (>=3.7) ; extra == 'docs'",
      "pandas (>=1.4) ; extra == 'pandas'",
      "tables (>=3.7) ; extra == 'pandas'",
      "coverage (>=6) ; extra == 'test'",
      "dicttoxml (>=1.7.16) ; extra == 'test'",
      "matplotlib (>=3) ; extra == 'test'",
      "rst2pdf (>=0.99) ; extra == 'test'",
      "pytest (>=6.2) ; extra == 'test'",
      "pytest-html (>=2) ; extra == 'test'",
      "pandas (>=1.4) ; extra == 'test'",
      "tables (>=3.7) ; extra == 'test'"
    ],
    "requires_python": ">=3.8",
    "summary": "Simple tool to compare directory contents.",
    "version": "1.4.0",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 17270263,
  "releases": {
    "1.0.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "5a920b04d6bb0a2e416464f95b70c07090ec631e372778d608abbec22f4ca484",
          "md5": "c3f26e932d51fa136d415067e7ea9bbd",
          "sha256": "efca10bf448f1f7020edd8ef23ed5a40694a446ceed57a508fe5da18b5bb0431"
        },
        "downloads": -1,
        "filename": "dir_content_diff-1.0.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "c3f26e932d51fa136d415067e7ea9bbd",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.8",
        "size": 20749,
        "upload_time": "2021-12-15T15:44:49",
        "upload_time_iso_8601": "2021-12-15T15:44:49.137381Z",
        "url": "https://files.pythonhosted.org/packages/5a/92/0b04d6bb0a2e416464f95b70c07090ec631e372778d608abbec22f4ca484/dir_content_diff-1.0.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "148abdc855251d115b6641dc02ca764999acc4fe3a1e542560e6412e2c0b5611",
          "md5": "4be703b2d3d70742bf7e6029c1a00f35",
          "sha256": "15a489011ff40bf6ea05337d4cc9623651f83008808ed04a2d5c7b3b5c7ecc77"
        },
        "downloads": -1,
        "filename": "dir-content-diff-1.0.0.tar.gz",
        "has_sig": false,
        "md5_digest": "4be703b2d3d70742bf7e6029c1a00f35",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.8",
        "size": 36487,
        "upload_time": "2021-12-15T15:44:50",
        "upload_time_iso_8601": "2021-12-15T15:44:50.785077Z",
        "url": "https://files.pythonhosted.org/packages/14/8a/bdc855251d115b6641dc02ca764999acc4fe3a1e542560e6412e2c0b5611/dir-content-diff-1.0.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.0.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "079dec5abfbd5494446fd1098d42f975e1f61d094335136b2a55bd8bf4b6e333",
          "md5": "ac71c412a21a5d24a96bb6a83bb5c3b3",
          "sha256": "91af758522f7d04cc5ef7b020f53617f43d5b31ff38c95525a9c22ad902663e6"
        },
        "downloads": -1,
        "filename": "dir-content-diff-1.0.1.tar.gz",
        "has_sig": false,
        "md5_digest": "ac71c412a21a5d24a96bb6a83bb5c3b3",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.8",
        "size": 37547,
        "upload_time": "2021-12-16T10:05:25",
        "upload_time_iso_8601": "2021-12-16T10:05:25.744547Z",
        "url": "https://files.pythonhosted.org/packages/07/9d/ec5abfbd5494446fd1098d42f975e1f61d094335136b2a55bd8bf4b6e333/dir-content-diff-1.0.1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.1.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "4985be6062f1ac513a7aa9aafb5c463c7570158aed6386d7b6a89612e4975407",
          "md5": "5e939e60f6cc7d27c6b798e0628b4e62",
          "sha256": "240ee528d2a1900e610c5f6b38c94767badb42a2af2ef816aadbdae235cff821"
        },
        "downloads": -1,
        "filename": "dir-content-diff-1.1.0.tar.gz",
        "has_sig": false,
        "md5_digest": "5e939e60f6cc7d27c6b798e0628b4e62",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.8",
        "size": 38523,
        "upload_time": "2022-01-21T13:44:45",
        "upload_time_iso_8601": "2022-01-21T13:44:45.137490Z",
        "url": "https://files.pythonhosted.org/packages/49/85/be6062f1ac513a7aa9aafb5c463c7570158aed6386d7b6a89612e4975407/dir-content-diff-1.1.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.2.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "25e518600e704656875d6e35e4343081da228fb113b09e9c2ae8322f4ebbcde7",
          "md5": "198f85e3f77e1c4500ec53d73774e9f3",
          "sha256": "b8d35e6fb1da98833ea88c771f4306abd36ce048b4c5741f7f1d25eb78e9af84"
        },
        "downloads": -1,
        "filename": "dir_content_diff-1.2.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "198f85e3f77e1c4500ec53d73774e9f3",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.8",
        "size": 20562,
        "upload_time": "2022-08-30T09:37:25",
        "upload_time_iso_8601": "2022-08-30T09:37:25.284515Z",
        "url": "https://files.pythonhosted.org/packages/25/e5/18600e704656875d6e35e4343081da228fb113b09e9c2ae8322f4ebbcde7/dir_content_diff-1.2.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "dd0290cdeb43bb26fcfffdb7bcbff7c07776f8cb51d2b5af36a6c56554e018b1",
          "md5": "597ff9d3c207ac50ea6060fa7db1f078",
          "sha256": "ae5cc62cbd2f91b1448a6a5e86278a9cc4274e7193943783f2b4b077172bcf56"
        },
        "downloads": -1,
        "filename": "dir-content-diff-1.2.0.tar.gz",
        "has_sig": false,
        "md5_digest": "597ff9d3c207ac50ea6060fa7db1f078",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.8",
        "size": 44236,
        "upload_time": "2022-08-30T09:37:27",
        "upload_time_iso_8601": "2022-08-30T09:37:27.071430Z",
        "url": "https://files.pythonhosted.org/packages/dd/02/90cdeb43bb26fcfffdb7bcbff7c07776f8cb51d2b5af36a6c56554e018b1/dir-content-diff-1.2.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.3.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "be761cfd621afebcdfcda40683df9f4e6b3038e45fde57f749d3f20606607903",
          "md5": "812ca474b8baec8a00fae93d6a4a78bf",
          "sha256": "ab8f2b32cca6656e26932a45774bea86a5b06eb7c4887a4af3c089a7b84705f8"
        },
        "downloads": -1,
        "filename": "dir_content_diff-1.3.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "812ca474b8baec8a00fae93d6a4a78bf",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.8",
        "size": 20576,
        "upload_time": "2022-12-19T16:29:21",
        "upload_time_iso_8601": "2022-12-19T16:29:21.341238Z",
        "url": "https://files.pythonhosted.org/packages/be/76/1cfd621afebcdfcda40683df9f4e6b3038e45fde57f749d3f20606607903/dir_content_diff-1.3.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "9e277322fc448cd7aed66d4aa89cf4c4b01b609923d1cdb386d3765288381c7e",
          "md5": "6b22a1115f0725c6475b9b158c7bfc4e",
          "sha256": "3c4798ab14554ed5e0d1ed895e233721979e3d056cf14215ebfb1c6fac58abe7"
        },
        "downloads": -1,
        "filename": "dir-content-diff-1.3.0.tar.gz",
        "has_sig": false,
        "md5_digest": "6b22a1115f0725c6475b9b158c7bfc4e",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.8",
        "size": 45567,
        "upload_time": "2022-12-19T16:29:22",
        "upload_time_iso_8601": "2022-12-19T16:29:22.997913Z",
        "url": "https://files.pythonhosted.org/packages/9e/27/7322fc448cd7aed66d4aa89cf4c4b01b609923d1cdb386d3765288381c7e/dir-content-diff-1.3.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.4.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "8a64495690185496c28c1f59d91d14e23c876ffe66be81d21d6954b88341d348",
          "md5": "e1a5e22e59e349a1c943ed9857b1c7d1",
          "sha256": "9864bebbea8c5aed4ea78fb75df52161944ebd04de22deea2f150f46aa7f2043"
        },
        "downloads": -1,
        "filename": "dir_content_diff-1.4.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "e1a5e22e59e349a1c943ed9857b1c7d1",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.8",
        "size": 20891,
        "upload_time": "2023-03-13T11:40:15",
        "upload_time_iso_8601": "2023-03-13T11:40:15.743576Z",
        "url": "https://files.pythonhosted.org/packages/8a/64/495690185496c28c1f59d91d14e23c876ffe66be81d21d6954b88341d348/dir_content_diff-1.4.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "73f801a5b09548079ee6631f19b5be12442e8dca56f1a5e3426700b12058707f",
          "md5": "57c877df6a9b39f791017f9b4f06cc30",
          "sha256": "ed8358c79a8758349f83c503d03e1244a36e7ac84c3c63311c5f5c76ba2a421e"
        },
        "downloads": -1,
        "filename": "dir-content-diff-1.4.0.tar.gz",
        "has_sig": false,
        "md5_digest": "57c877df6a9b39f791017f9b4f06cc30",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.8",
        "size": 46817,
        "upload_time": "2023-03-13T11:40:17",
        "upload_time_iso_8601": "2023-03-13T11:40:17.339077Z",
        "url": "https://files.pythonhosted.org/packages/73/f8/01a5b09548079ee6631f19b5be12442e8dca56f1a5e3426700b12058707f/dir-content-diff-1.4.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "8a64495690185496c28c1f59d91d14e23c876ffe66be81d21d6954b88341d348",
        "md5": "e1a5e22e59e349a1c943ed9857b1c7d1",
        "sha256": "9864bebbea8c5aed4ea78fb75df52161944ebd04de22deea2f150f46aa7f2043"
      },
      "downloads": -1,
      "filename": "dir_content_diff-1.4.0-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "e1a5e22e59e349a1c943ed9857b1c7d1",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": ">=3.8",
      "size": 20891,
      "upload_time": "2023-03-13T11:40:15",
      "upload_time_iso_8601": "2023-03-13T11:40:15.743576Z",
      "url": "https://files.pythonhosted.org/packages/8a/64/495690185496c28c1f59d91d14e23c876ffe66be81d21d6954b88341d348/dir_content_diff-1.4.0-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "73f801a5b09548079ee6631f19b5be12442e8dca56f1a5e3426700b12058707f",
        "md5": "57c877df6a9b39f791017f9b4f06cc30",
        "sha256": "ed8358c79a8758349f83c503d03e1244a36e7ac84c3c63311c5f5c76ba2a421e"
      },
      "downloads": -1,
      "filename": "dir-content-diff-1.4.0.tar.gz",
      "has_sig": false,
      "md5_digest": "57c877df6a9b39f791017f9b4f06cc30",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": ">=3.8",
      "size": 46817,
      "upload_time": "2023-03-13T11:40:17",
      "upload_time_iso_8601": "2023-03-13T11:40:17.339077Z",
      "url": "https://files.pythonhosted.org/packages/73/f8/01a5b09548079ee6631f19b5be12442e8dca56f1a5e3426700b12058707f/dir-content-diff-1.4.0.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}