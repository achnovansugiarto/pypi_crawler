{
  "info": {
    "author": "Ilya Lebedev",
    "author_email": "melevir@gmail.com",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 2 - Pre-Alpha",
      "Intended Audience :: Developers",
      "License :: Freely Distributable",
      "Programming Language :: Python :: 3 :: Only",
      "Programming Language :: Python :: 3.10",
      "Programming Language :: Python :: 3.7",
      "Programming Language :: Python :: 3.8",
      "Programming Language :: Python :: 3.9",
      "Topic :: Software Development",
      "Topic :: Software Development :: Libraries :: Python Modules"
    ],
    "description": "# Mario\n\n[![Build Status](https://travis-ci.org/best-doctor/Mario.svg?branch=master)](https://travis-ci.org/best-doctor/Mario)\n[![Maintainability](https://api.codeclimate.com/v1/badges/86b3c0549c660bda7f4f/maintainability)](https://codeclimate.com/github/best-doctor/Mario/maintainability)\n[![Test Coverage](https://api.codeclimate.com/v1/badges/86b3c0549c660bda7f4f/test_coverage)](https://codeclimate.com/github/best-doctor/Mario/test_coverage)\n[![PyPI version](https://badge.fury.io/py/super-mario.svg)](https://badge.fury.io/py/super-mario)\n![PyPI - Python Version](https://img.shields.io/pypi/pyversions/super-mario)\n\nLibrary for separating data input, output and processing in your business application.\n\n![Mario](https://raw.githubusercontent.com/best-doctor/Mario/master/docs_imgs/mario.png)\n\n**Disclaimer**: the library is sooo pre-alpha.\n\n## Motivation & main idea\n\nYou have tons of business logic.\nYou like clean architecture, but you're sane.\nYou like dynamic structure of Python, but you're tired of runtime errors.\nYou want to break things a little less and keep moving fast.\nYou're is the right place.\n\nMario is a framework for business logic.\nLike Django or Flask for web-services.\n\nIt makes you put logic to pipelines: sets of pipes,\neach pipe does only one thing and only non-complex types\ncan be transferred from pipe to pipe.\n\nEach pipe is one of 3 types: input, output, processing.\nInput and output should be non-complex (like really non-complex,\ncyclomatic complexity ~3), processing pipes should be pure.\n\n## Installation\n\n`pip install super-mario`\n\n## Docs\n\n[Here they are](https://github.com/best-doctor/Mario/blob/master/docs/index.md).\n\n## Usage example\n\nHere is simple pipeline, that send notifications on new comments in Jira\ntickets to Slack.\n\n```python\nclass JiraCommentsNotificationPipeline(BasePipeline):\n    pipeline = [\n        'fetch_new_comments',\n        'fetch_users_mapping',\n        'generate_slack_message',\n        'send_slack_message',\n    ]\n\n    @input_pipe\n    def fetch_new_comments(jira_ticket_id: str) -> ImmutableContext:\n        return {'new_comments':\n            fetch_jira_comments(\n                ticket_id=jira_ticket_id,\n                date_from=datetime.datetime.now().replace(\n                    hours=0, minutes=0, seconds=0, milliseconds=0,\n                ),\n            ),\n        }\n\n    @input_pipe\n    def fetch_users_mapping(new_comments: List[IssueComment]) -> ImmutableContext:\n        return {\n            'jira_to_slack_id_mapping': dict(User.objects.filter(\n                jira_id__in=[c['user_id'] for c in new_comments],\n            ).values_list('jira_id', 'slack_id'))\n        }\n\n    @process_pipe\n    def generate_slack_message(\n        jira_ticket_id: str,\n        new_comments: List[IssueComment],\n        jira_to_slack_id_mapping: Mapping[str, str],\n    ) -> ImmutableContext:\n        message = '\\n'.join([\n            f'@{jira_to_slack_id_mapping[c[\"user_id\"]]} wrote'\n            f'comment for {jira_ticket_id}: \"{c[\"text\"]}\"'\n            for c in new_comments\n        ])\n        return {'message': message}\n\n    @output_pipe\n    def send_slack_message(message: str) -> None:\n        send_message(\n            destination='slack',\n            channel=COMMENTS_SLACK_CHANNEL_ID,\n            text=message,\n        )\n\n# run pipeline for specific ticket\nJiraCommentsNotificationPipeline().run(jira_ticket_id='TST-12')\n```\n\n## Contributing\n\nWe would love you to contribute to our project. It's simple:\n\n1. Create an issue with bug you found or proposal you have.\n   Wait for approve from maintainer.\n1. Create a pull request. Make sure all checks are green.\n1. Fix review comments if any.\n1. Be awesome.\n\nHere are useful tips:\n\n- You can run all checks and tests with `make check`.\n  Please do it before TravisCI does.\n- We use [BestDoctor python styleguide](https://github.com/best-doctor/guides/blob/master/guides/en/python_styleguide.md).\n- We respect [Django CoC](https://www.djangoproject.com/conduct/).\n  Make soft, not bullshit.\n\n\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/best-doctor/Mario/",
    "keywords": "project structure",
    "license": "MIT",
    "maintainer": "",
    "maintainer_email": "",
    "name": "super-mario",
    "package_url": "https://pypi.org/project/super-mario/",
    "platform": "",
    "project_url": "https://pypi.org/project/super-mario/",
    "project_urls": {
      "Homepage": "https://github.com/best-doctor/Mario/"
    },
    "release_url": "https://pypi.org/project/super-mario/0.0.5/",
    "requires_dist": [
      "setuptools",
      "wrapt (>=1.13.3)",
      "typing-inspect (>=0.7.1)"
    ],
    "requires_python": "",
    "summary": "Library for separating data input, output and processing in your business application.",
    "version": "0.0.5",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 12597245,
  "releases": {
    "0.0.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "f8f22758569b92cfedc5f599cda672f7edbeef42294906d5f9983d418573ab0c",
          "md5": "22508d375e2e5e3b1be547bceef0c77e",
          "sha256": "83600ac4a645c41f632955b56de30ed288dd2ad0e4360d24c2344909ce699df2"
        },
        "downloads": -1,
        "filename": "super_mario-0.0.1.tar.gz",
        "has_sig": false,
        "md5_digest": "22508d375e2e5e3b1be547bceef0c77e",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 3598,
        "upload_time": "2019-12-08T18:07:42",
        "upload_time_iso_8601": "2019-12-08T18:07:42.035971Z",
        "url": "https://files.pythonhosted.org/packages/f8/f2/2758569b92cfedc5f599cda672f7edbeef42294906d5f9983d418573ab0c/super_mario-0.0.1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.0.2": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "4f76a4a94724df0bb27c377a18737c123b3c95ac0aba54a1b495402126b812ae",
          "md5": "758810c1e8dbba85cb093c32571265e5",
          "sha256": "e810f9e2b41686ecf5dc2a8ccfa6fe2b5f53f98b550ec4d98bf353eefa264bf6"
        },
        "downloads": -1,
        "filename": "super_mario-0.0.2.tar.gz",
        "has_sig": false,
        "md5_digest": "758810c1e8dbba85cb093c32571265e5",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 5369,
        "upload_time": "2019-12-09T08:41:46",
        "upload_time_iso_8601": "2019-12-09T08:41:46.358965Z",
        "url": "https://files.pythonhosted.org/packages/4f/76/a4a94724df0bb27c377a18737c123b3c95ac0aba54a1b495402126b812ae/super_mario-0.0.2.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.0.3": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "6fb3010a92215425aa92f71653e9bffa0754b8869d7a8ce452d14c0d6735b8c9",
          "md5": "f327f4bc2f8b482059e5bd6cd5b0b4fc",
          "sha256": "13b08ffd00566d04d0e783ba254041c51649fd201d7a82a5c09f93519e1bfe5e"
        },
        "downloads": -1,
        "filename": "super_mario-0.0.3.tar.gz",
        "has_sig": false,
        "md5_digest": "f327f4bc2f8b482059e5bd6cd5b0b4fc",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 7128,
        "upload_time": "2019-12-20T07:35:15",
        "upload_time_iso_8601": "2019-12-20T07:35:15.921184Z",
        "url": "https://files.pythonhosted.org/packages/6f/b3/010a92215425aa92f71653e9bffa0754b8869d7a8ce452d14c0d6735b8c9/super_mario-0.0.3.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.0.4": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "d7b96bc303ed243ee61362791bcbd95bd3645010156cd6762cac9b7c100996b2",
          "md5": "dd195f53170921673e676877b5ecd938",
          "sha256": "21e4df687d49893e5fc12c0d3180a09c1062ef33dfef0ae338649861c6377a85"
        },
        "downloads": -1,
        "filename": "super_mario-0.0.4.tar.gz",
        "has_sig": false,
        "md5_digest": "dd195f53170921673e676877b5ecd938",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 9436,
        "upload_time": "2021-01-14T15:32:48",
        "upload_time_iso_8601": "2021-01-14T15:32:48.447211Z",
        "url": "https://files.pythonhosted.org/packages/d7/b9/6bc303ed243ee61362791bcbd95bd3645010156cd6762cac9b7c100996b2/super_mario-0.0.4.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.0.5": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "9ffdeb77dcd0cd530c5d55d00e3e7fdc7255bfdd2038c18fc172952e1cd30794",
          "md5": "0425e6ac519e3bce602023937416dd79",
          "sha256": "586dde0739cfc86b225d3bd32882b6ff259a226ac566986238d072a042aa7af6"
        },
        "downloads": -1,
        "filename": "super_mario-0.0.5-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "0425e6ac519e3bce602023937416dd79",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 9749,
        "upload_time": "2022-01-17T14:15:16",
        "upload_time_iso_8601": "2022-01-17T14:15:16.712558Z",
        "url": "https://files.pythonhosted.org/packages/9f/fd/eb77dcd0cd530c5d55d00e3e7fdc7255bfdd2038c18fc172952e1cd30794/super_mario-0.0.5-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "987683d65bcecf3493d509966028f581c18bf2cb169b72e117dee84b235ef4dd",
          "md5": "f7dcc198c63c5d9c94a20fda24802e14",
          "sha256": "51a169975ff7f8f212ea828a27274f7796e3dea2ec70b637b4c70ba37bbb3429"
        },
        "downloads": -1,
        "filename": "super_mario-0.0.5.tar.gz",
        "has_sig": false,
        "md5_digest": "f7dcc198c63c5d9c94a20fda24802e14",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 9757,
        "upload_time": "2022-01-17T14:15:18",
        "upload_time_iso_8601": "2022-01-17T14:15:18.111763Z",
        "url": "https://files.pythonhosted.org/packages/98/76/83d65bcecf3493d509966028f581c18bf2cb169b72e117dee84b235ef4dd/super_mario-0.0.5.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "9ffdeb77dcd0cd530c5d55d00e3e7fdc7255bfdd2038c18fc172952e1cd30794",
        "md5": "0425e6ac519e3bce602023937416dd79",
        "sha256": "586dde0739cfc86b225d3bd32882b6ff259a226ac566986238d072a042aa7af6"
      },
      "downloads": -1,
      "filename": "super_mario-0.0.5-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "0425e6ac519e3bce602023937416dd79",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": null,
      "size": 9749,
      "upload_time": "2022-01-17T14:15:16",
      "upload_time_iso_8601": "2022-01-17T14:15:16.712558Z",
      "url": "https://files.pythonhosted.org/packages/9f/fd/eb77dcd0cd530c5d55d00e3e7fdc7255bfdd2038c18fc172952e1cd30794/super_mario-0.0.5-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "987683d65bcecf3493d509966028f581c18bf2cb169b72e117dee84b235ef4dd",
        "md5": "f7dcc198c63c5d9c94a20fda24802e14",
        "sha256": "51a169975ff7f8f212ea828a27274f7796e3dea2ec70b637b4c70ba37bbb3429"
      },
      "downloads": -1,
      "filename": "super_mario-0.0.5.tar.gz",
      "has_sig": false,
      "md5_digest": "f7dcc198c63c5d9c94a20fda24802e14",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": null,
      "size": 9757,
      "upload_time": "2022-01-17T14:15:18",
      "upload_time_iso_8601": "2022-01-17T14:15:18.111763Z",
      "url": "https://files.pythonhosted.org/packages/98/76/83d65bcecf3493d509966028f581c18bf2cb169b72e117dee84b235ef4dd/super_mario-0.0.5.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}