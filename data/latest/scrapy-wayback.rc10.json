{
  "info": {
    "author": "Will Sackfield",
    "author_email": "will.sackfield@gmail.com",
    "bugtrack_url": null,
    "classifiers": [
      "Framework :: Scrapy",
      "License :: OSI Approved :: MIT License",
      "Programming Language :: Python :: 3"
    ],
    "description": "# scrapy-wayback\n\n<a href=\"https://pypi.org/project/scrapy-wayback/\">\n    <img alt=\"PyPi\" src=\"https://img.shields.io/pypi/v/scrapy-wayback\">\n</a>\n\nScrapy middleware with wayback machine support for more robust scrapers.\n\n## Dependencies :globe_with_meridians:\n\n* [Python 3.7](https://www.python.org/downloads/release/python-370/)\n* [Scrapy 2.4.0](https://scrapy.org/)\n* [Wayback 0.3.0](https://pypi.org/project/wayback/)\n\n## Installation :inbox_tray:\n\nThis is a python package hosted on pypi, so to install simply run the following command:\n\n`pip install scrapy-wayback`\n\n## Settings\n\n### WAYBACK_MACHINE_FALLBACK_ENABLED (Optional)\n\nWhether falling back to wayback machine after a failed request is enabled (defaults to true).\n\nMeta field to enable/disable this per request is: `wayback_machine_fallback_enabled`\n\n### WAYBACK_MACHINE_PROXY_ENABLED (Optional)\n\nWhether proxying to wayback machine before a request is made is enabled (defaults to false).\n\nMeta field to enable/disable this per request is: `wayback_machine_proxy_enabled`\n\n### WAYBACK_MACHINE_PROXY_FALLTHROUGH_ENABLED (Optional)\n\nWhether when proxying to wayback machine and an error occurs, that the request should continue to the original URL as per normal (defaults to true). Note that this will not have an effect if the wayback machine proxy is not enabled first.\n\nMeta field to enable/disable this per request is: `wayback_machine_proxy_fallthrough_enabled`\n\n## Usage example :eyes:\n\nIn order to use this plugin simply add the following settings and substitute your variables:\n\n```py\nDOWNLOADER_MIDDLEWARES = {\n    \"waybackmiddleware.middleware.WaybackMachineDownloaderMiddleware\": 630\n}\n```\n\nThis will immediately allow you begin using the wayback machine as a fallback when one of your requests fail. In order to use it as a proxy you can add the following to your settings:\n\n```py\nWAYBACK_MACHINE_PROXY_ENABLED = True\n```\n\nThis will make every request hit the wayback machine for a response first, before hitting the original server. If you want to avoid hitting the original server entirely, put the following in your settings (as well as the above):\n\n```py\nWAYBACK_MACHINE_PROXY_FALLTHROUGH_ENABLED = False\n```\n\nThis will ensure that your scraper never hits the original servers, just what has been recorded by the wayback machine.\n\nWhenever you receive a response from the wayback machine middleware, it will use the class `WaybackMachineResponse`. It subclasses `scrapy.http.HtmlResponse` so you can use it like a normal response, however it has some other goodies:\n\n```py\ndef parse(self, response):\n    while True:\n        if response is None:\n            return\n        print(f\"Response {response.request.url} at {response.timestamp.isoformat()}\")\n        response = response.earlier_response()\n```\n\nThis will allow you to go through the history one by one to get the earlier snapshots of the page. If you are interested in the response that the wayback middleware recovered, use the `original_response` attribute.\n\nIn order to perform a request that will yield the whole archived contents of a site, you can do the following:\n\n```py\nimport scrapy\nfrom waybackmiddleware.request import WaybackMachineRequest\nfrom waybackmiddleware.response import WaybackMachineResponse\n\n\nclass ArchiveScraper(scrapy.Spider):\n    def start_requests():\n        yield WaybackMachineRequest(\"http://www.walmart.com\")\n    \n    def parse(self, response):\n        print(f\"Archive of {response.url} at {response.timestamp}\")\n        if isinstance(response, WaybackMachineResponse):\n            next_response = response.earlier_response()\n            if next_response is not None:\n                yield next_response.request_for_response(self.parse)\n```\n\nThis will send all archived contents of `walmart.com` to the `parse` callback (called multiple times).\n\n## License :memo:\n\nThe project is available under the [MIT License](LICENSE).\n\n\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/8W9aG/scrapy-wayback",
    "keywords": "scrapy middleware wayback",
    "license": "MIT",
    "maintainer": "",
    "maintainer_email": "",
    "name": "scrapy-wayback",
    "package_url": "https://pypi.org/project/scrapy-wayback/",
    "platform": "",
    "project_url": "https://pypi.org/project/scrapy-wayback/",
    "project_urls": {
      "Homepage": "https://github.com/8W9aG/scrapy-wayback"
    },
    "release_url": "https://pypi.org/project/scrapy-wayback/1.0.9/",
    "requires_dist": null,
    "requires_python": "",
    "summary": "Scrapy middleware with wayback machine support for more robust scrapers.",
    "version": "1.0.9",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 12383408,
  "releases": {
    "1.0.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "69503fc2edd00ed0bd37bb6732d9ec186cb31de4a1e53255f09afcb9410054e0",
          "md5": "9510db33cd7fa2085a6a51865efac8c6",
          "sha256": "910d04e5f8d7390175a756cd8834c22f6b96a581e65b36da1888f3858daa273e"
        },
        "downloads": -1,
        "filename": "scrapy-wayback-1.0.0.tar.gz",
        "has_sig": false,
        "md5_digest": "9510db33cd7fa2085a6a51865efac8c6",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 4802,
        "upload_time": "2021-09-15T13:13:27",
        "upload_time_iso_8601": "2021-09-15T13:13:27.128542Z",
        "url": "https://files.pythonhosted.org/packages/69/50/3fc2edd00ed0bd37bb6732d9ec186cb31de4a1e53255f09afcb9410054e0/scrapy-wayback-1.0.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.0.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "1b3994bdd7c4fe3ab1765af43ee15b4942a201e1107164f3d8efac297858e069",
          "md5": "76071ad979beca9b7008d7e181291c9a",
          "sha256": "8962a6ccf179d5b1bc5e2f73a3143407c07ac61f256dea3e427a6d7bce78cde3"
        },
        "downloads": -1,
        "filename": "scrapy-wayback-1.0.1.tar.gz",
        "has_sig": false,
        "md5_digest": "76071ad979beca9b7008d7e181291c9a",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 4883,
        "upload_time": "2021-09-15T13:45:03",
        "upload_time_iso_8601": "2021-09-15T13:45:03.519824Z",
        "url": "https://files.pythonhosted.org/packages/1b/39/94bdd7c4fe3ab1765af43ee15b4942a201e1107164f3d8efac297858e069/scrapy-wayback-1.0.1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.0.2": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "0b36ffb8a8ead40ffdaf9ba26d62148df06cb1961fe1d3880642107ae940d197",
          "md5": "037649882691a0c09af94be710967fb6",
          "sha256": "6da83e012d91fcef2f55b1c0fc3c401865c4d709e1ecb8e6779446d5e254a91c"
        },
        "downloads": -1,
        "filename": "scrapy-wayback-1.0.2.tar.gz",
        "has_sig": false,
        "md5_digest": "037649882691a0c09af94be710967fb6",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 4894,
        "upload_time": "2021-09-21T21:41:25",
        "upload_time_iso_8601": "2021-09-21T21:41:25.119242Z",
        "url": "https://files.pythonhosted.org/packages/0b/36/ffb8a8ead40ffdaf9ba26d62148df06cb1961fe1d3880642107ae940d197/scrapy-wayback-1.0.2.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.0.3": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "4d34092cda14e437cb38f96e618d0450d31855fd958bc1cb0898d9d23777e368",
          "md5": "22738ee588a5b904cc93255f59ba8f7b",
          "sha256": "cafd04cb2cf3097aa9267c2d5fabee99b1dd920aa3c73c983661b1bb2bf570f0"
        },
        "downloads": -1,
        "filename": "scrapy-wayback-1.0.3.tar.gz",
        "has_sig": false,
        "md5_digest": "22738ee588a5b904cc93255f59ba8f7b",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 5346,
        "upload_time": "2021-10-04T11:04:59",
        "upload_time_iso_8601": "2021-10-04T11:04:59.911836Z",
        "url": "https://files.pythonhosted.org/packages/4d/34/092cda14e437cb38f96e618d0450d31855fd958bc1cb0898d9d23777e368/scrapy-wayback-1.0.3.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.0.4": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "48e4caf526fa6078c6e32f2408440b61515367c541f148883be723f7eb17ff2f",
          "md5": "2c6668c0ee522a55b624f7b50bde0ea2",
          "sha256": "fe8238a017e191a6568af8ed4541886cf7e367b810f982a02b1b44d4745019cc"
        },
        "downloads": -1,
        "filename": "scrapy-wayback-1.0.4.tar.gz",
        "has_sig": false,
        "md5_digest": "2c6668c0ee522a55b624f7b50bde0ea2",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 5342,
        "upload_time": "2021-10-04T11:27:00",
        "upload_time_iso_8601": "2021-10-04T11:27:00.366121Z",
        "url": "https://files.pythonhosted.org/packages/48/e4/caf526fa6078c6e32f2408440b61515367c541f148883be723f7eb17ff2f/scrapy-wayback-1.0.4.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.0.5": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "619791ed379a4fbca32fdd11bb50e347a5665d88cf97b49230bb2eba808c4915",
          "md5": "fa12de6232c08682da88a9510453e8a6",
          "sha256": "aea006f855c058365e62751e7f3368a508a872eb0e3a9b1fb8327c148a0aaa1f"
        },
        "downloads": -1,
        "filename": "scrapy-wayback-1.0.5.tar.gz",
        "has_sig": false,
        "md5_digest": "fa12de6232c08682da88a9510453e8a6",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 5370,
        "upload_time": "2021-10-05T11:20:34",
        "upload_time_iso_8601": "2021-10-05T11:20:34.340440Z",
        "url": "https://files.pythonhosted.org/packages/61/97/91ed379a4fbca32fdd11bb50e347a5665d88cf97b49230bb2eba808c4915/scrapy-wayback-1.0.5.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.0.6": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "1e95c4c744c3dc33c8cfdc982cf2b8ccb028f77fe474d0882736c53423e4739d",
          "md5": "681c9f798b6d648e886ed43f1e54c22f",
          "sha256": "c0daa2a9c740d94ab2f646d1ce63d46c579431f79ae14b3b887ca24a129d7349"
        },
        "downloads": -1,
        "filename": "scrapy-wayback-1.0.6.tar.gz",
        "has_sig": false,
        "md5_digest": "681c9f798b6d648e886ed43f1e54c22f",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 5373,
        "upload_time": "2021-10-05T11:40:24",
        "upload_time_iso_8601": "2021-10-05T11:40:24.841102Z",
        "url": "https://files.pythonhosted.org/packages/1e/95/c4c744c3dc33c8cfdc982cf2b8ccb028f77fe474d0882736c53423e4739d/scrapy-wayback-1.0.6.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.0.7": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "8a123113131d5764f103bf925b08ed1838e22ee691149f08162686d5d3378025",
          "md5": "0df643e5f7917610e9890323c8961c3e",
          "sha256": "292a6d6ac9b07f168e8b8dad679fec3a291601e5deb59cdd71e67d77d530af32"
        },
        "downloads": -1,
        "filename": "scrapy-wayback-1.0.7.tar.gz",
        "has_sig": false,
        "md5_digest": "0df643e5f7917610e9890323c8961c3e",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 5339,
        "upload_time": "2021-10-05T21:03:15",
        "upload_time_iso_8601": "2021-10-05T21:03:15.443170Z",
        "url": "https://files.pythonhosted.org/packages/8a/12/3113131d5764f103bf925b08ed1838e22ee691149f08162686d5d3378025/scrapy-wayback-1.0.7.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.0.8": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "7679715992b4510faccadf0aaf73d14bbbef1daa2982a32d9576650b3c6b34e7",
          "md5": "239e98f40bf21177d83d221de03b1797",
          "sha256": "1f2a6417486f5b533d43cec04b43079c0794e3cd96ac41e6a4caa7852a4bf426"
        },
        "downloads": -1,
        "filename": "scrapy-wayback-1.0.8.tar.gz",
        "has_sig": false,
        "md5_digest": "239e98f40bf21177d83d221de03b1797",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 5379,
        "upload_time": "2021-12-22T16:32:46",
        "upload_time_iso_8601": "2021-12-22T16:32:46.984244Z",
        "url": "https://files.pythonhosted.org/packages/76/79/715992b4510faccadf0aaf73d14bbbef1daa2982a32d9576650b3c6b34e7/scrapy-wayback-1.0.8.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.0.9": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "5f183aea38df77cabe4985cee1d06954a097823413a7db447c962e4c0a872502",
          "md5": "597af424a8110258fc6790e397849a41",
          "sha256": "5fcc509592aecf147033d00df835dd9ddf43eec1f7c96eefac1c58556ec706d0"
        },
        "downloads": -1,
        "filename": "scrapy-wayback-1.0.9.tar.gz",
        "has_sig": false,
        "md5_digest": "597af424a8110258fc6790e397849a41",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 5350,
        "upload_time": "2021-12-22T17:53:35",
        "upload_time_iso_8601": "2021-12-22T17:53:35.450052Z",
        "url": "https://files.pythonhosted.org/packages/5f/18/3aea38df77cabe4985cee1d06954a097823413a7db447c962e4c0a872502/scrapy-wayback-1.0.9.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "5f183aea38df77cabe4985cee1d06954a097823413a7db447c962e4c0a872502",
        "md5": "597af424a8110258fc6790e397849a41",
        "sha256": "5fcc509592aecf147033d00df835dd9ddf43eec1f7c96eefac1c58556ec706d0"
      },
      "downloads": -1,
      "filename": "scrapy-wayback-1.0.9.tar.gz",
      "has_sig": false,
      "md5_digest": "597af424a8110258fc6790e397849a41",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": null,
      "size": 5350,
      "upload_time": "2021-12-22T17:53:35",
      "upload_time_iso_8601": "2021-12-22T17:53:35.450052Z",
      "url": "https://files.pythonhosted.org/packages/5f/18/3aea38df77cabe4985cee1d06954a097823413a7db447c962e4c0a872502/scrapy-wayback-1.0.9.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}