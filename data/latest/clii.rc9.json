{
  "info": {
    "author": "James O'Beirne",
    "author_email": "james.obeirne@pm.me",
    "bugtrack_url": null,
    "classifiers": [
      "Intended Audience :: Developers",
      "License :: OSI Approved :: MIT License",
      "Natural Language :: English",
      "Programming Language :: Python :: 3",
      "Programming Language :: Python :: 3.7",
      "Programming Language :: Python :: 3.8",
      "Programming Language :: Python :: 3.9"
    ],
    "description": "# clii\n\nGenerate argument parsers from Python 3 function annotations with minimal\nboilerplate.\n\n\n```python\n#!/usr/bin/env python3.8\nfrom clii import App\nfrom pathlib import Path\nfrom subprocess import run\n\ncli = App()\n\n@cli.cmd\ndef add(a: int, b: int = 3):\n    print(a + b)\n\n@cli.cmd\ndef subtract(path: Path):\n    run(f'rm -rf {path}')\n\nif __name__ == '__main__':\n    cli.run() \n```\n\n- **No dependencies.** This library has no dependencies and is a single file.\n  You wanna vendor it? Vendor it.\n\n- **Short implementation.** Take 10 minutes, skim the implementation, convince\n  yourself I'm not exfiltrating your `id_rsa`, then vendor this puppy and never\n  think about anything again.\n\n- **Nothing to learn.** if you know how to use Python function annotations, you\n  already know 98% of this library. \n\n- **Optimized for the common case.** Check out `test_bad_git.py`. I know what\n  you want to do (create a subpar reproduction of git), and I've made it\n  concise. \n\n\nOkay, you and I both know the last thing that anyone needs is another way to\ngenerate command line interfaces. The idea of adding an additional dependency\nto your project just so you can learn yet another\nonly-slightly-more-ergonomic-than-stdlib interface for parsing args is right up\nthere with rewriting all your Makefiles in whatever flavor-of-the-week\nJavascript-based build system. I get it.\n\nYes, instead of writing this library I should probably do something actually\nuseful like try to find a life partner or see how much grain alcohol I can\ndrink within the span of an X-Files episode, but each time I'm typing out some\noverly verbose `argparse` incantation that I had to look up on docs.python.org\nfor the sixteenth time in a year, one of the few remaining shreds of childlike\nwonder for computing left in my over-caffeinated heart gets crosslegged and\nsets itself on fire.\n\n[Click](https://click.palletsprojects.com/en/7.x/) is the equivalent of calling\nin an architect to fix your kitchen sink. It's a lot of code and the interface\nis wordy and unintuitive. [Docopt](https://github.com/docopt/docopt) is neat\nbut it's slow, a novelty, also a ton of code, and I have to read 3 examples\neach time before I use it.\n[Argparse](https://docs.python.org/3/library/argparse.html) is an alright\nbuiltin, and the noble progenitor of this library, but it's overly verbose and\nthe common task of wiring up subparsers that call functions is a pain.\n\n**Don't immolate your childlike wonder. Use function annotations. Use this\nstupid library.**\n\n---\n\n## Installation\n\n```sh\n# Requires Python >=3.7\npython3 -m pip install --user clii\n```\n\n## Substantial usage example\n\n```python\n#!/usr/bin/env python3.8\n\"\"\"\nA really lame version of git.\n\"\"\"\n\nfrom pathlib import Path\nimport typing as t\n\nfrom clii import App\n\n\ncli = App(description=__doc__)\ncli.add_arg('--verbose', '-v', action='store_true', default=False)\n\n\n@cli.cmd\ndef clone(url: str, target: Path, branch: t.Optional[str] = None):\n    \"\"\"Clone the branch so you can melt your computer.\"\"\"\n    branch = f' -b {branch}' if branch else ''\n\n    # We can reference global args since all parsed arguments are attached\n    # to `cli.args` after parsing.\n    if cli.args.verbose:\n        print(f'git clone{branch} {url} {target}')\n\n\n@cli.cmd\ndef push(remote: str, branch: str, force: bool = False):\n    force_flag = ' -f' if force else ''\n\n    if cli.args.verbose:\n        print(f'git push{force_flag} {remote} {branch}')\n\n\n@cli.cmd\n@cli.arg('all', '-a')  # add a short flag, or any other argparse setting\n@cli.arg('message', '-m')  \ndef commit(all: bool = False, message: str = ''):\n    # Arguments are --all, -a and --message, -m\n    print(all)\n    print(message)\n\n\n@cli.cmd\n@cli.arg('updated', '-u')  \ndef add(*files, updated: bool = False):\n    # `files` will be a variadic positional arg, while --updated/-u is a bool\n    # flag.\n    if cli.args.verbose:\n        print(f\"adding files: {files}\")\n\n\n\nif __name__ == '__main__':\n    cli.run() \n```\n\nwhich then gets you\n\n```\n% ./test_bad_git.py --help\nusage: test_bad_git.py [-h] [--verbose] {clone,push,commit,add} ...\n\nA really lame version of git.\n\npositional arguments:\n  {clone,push,commit,add}\n\noptional arguments:\n  -h, --help            show this help message and exit\n  --verbose, -v\n\n% ./test_bad_git.py clone --help\nusage: test_bad_git.py clone [-h] [--branch BRANCH] url target\n\nClone the branch so you can melt your computer.\n\npositional arguments:\n  url\n  target\n\noptional arguments:\n  -h, --help       show this help message and exit\n  --branch BRANCH  default: None\n```\n\n## Usage notes\n\n### Help text from docstrings\n\nclii will pull argument help text from docstrings that are formatted like so:\n```python\nimport clii\ncli = clii.App()\n\n@cli.cmd\ndef foo(bar: str):\n    \"\"\"\n    Args:\n      bar: some kind of helpful docstring.\n    \"\"\"\n\ncli.run()\n```\n\nSpecifically, the docstring is searched for \"  [parameter name]:\" - if that \npattern is found, the contents after the colon are used as help text.\n\n\n### `store_true` and `store_false` inference\n\nArguments that are declared type bool and given a default value are inferred\nas being `store_true` or `store_false` depending upon their default value;\nit is inferred that if the flag is given on the commandline, the reverse of\nthe default is desired.\n\nFor example, in\n\n```python\n@cli.cmd\ndef commit(force: bool = False):\n    ...\n```\n\nif `--force` is given, the function will be called with `force=True`, but\notherwise `force` will stay False.\n\n---\n\nIf you like using this library, consider sending me some magic internet money:\n\n```\nbc1qlj36t63qlgkywg83gwslcu3ehl76h2k2d6hcv2\n```\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/jamesob/clii",
    "keywords": "clii",
    "license": "MIT license",
    "maintainer": "",
    "maintainer_email": "",
    "name": "clii",
    "package_url": "https://pypi.org/project/clii/",
    "platform": null,
    "project_url": "https://pypi.org/project/clii/",
    "project_urls": {
      "Homepage": "https://github.com/jamesob/clii"
    },
    "release_url": "https://pypi.org/project/clii/1.0.1/",
    "requires_dist": null,
    "requires_python": ">=3.7",
    "summary": "function annotations -> cli",
    "version": "1.0.1",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 15150000,
  "releases": {
    "0.1.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "d0e9733b8da85409145cb75c748090ffa798cd189fd54cd311fab8d80f990986",
          "md5": "295e984aaa5ef4835e783b0a34123563",
          "sha256": "07bc77335b4ad3df9d7578027f1e2c746bd994bc6285e26aa4b024baac1223da"
        },
        "downloads": -1,
        "filename": "clii-0.1.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "295e984aaa5ef4835e783b0a34123563",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.7,<4.0",
        "size": 2825,
        "upload_time": "2019-12-30T21:01:54",
        "upload_time_iso_8601": "2019-12-30T21:01:54.696142Z",
        "url": "https://files.pythonhosted.org/packages/d0/e9/733b8da85409145cb75c748090ffa798cd189fd54cd311fab8d80f990986/clii-0.1.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "77f59ff1ba516ff32ce4d3805f1eb495060ff353357989a2e9af923caf1c3368",
          "md5": "bc17b0d35ad120c39cd7de12f57f8fce",
          "sha256": "4c48feab8bd9812a42a522a0048af186d03f5b3cf9be0d694cbb171d4d7a108f"
        },
        "downloads": -1,
        "filename": "clii-0.1.0.tar.gz",
        "has_sig": false,
        "md5_digest": "bc17b0d35ad120c39cd7de12f57f8fce",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.7,<4.0",
        "size": 2642,
        "upload_time": "2019-12-30T21:01:57",
        "upload_time_iso_8601": "2019-12-30T21:01:57.077340Z",
        "url": "https://files.pythonhosted.org/packages/77/f5/9ff1ba516ff32ce4d3805f1eb495060ff353357989a2e9af923caf1c3368/clii-0.1.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.1.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "1571bb20d0f6dbc85bca0738fbc0d9b65a250ce646e0da4c2f84b308546a3bc9",
          "md5": "f25677d20f7e9a37701afb47a2352882",
          "sha256": "29d2a245f64b66d81c82b063fc9504bc220ab12f16074a1a0f1d5df573091d3c"
        },
        "downloads": -1,
        "filename": "clii-0.1.1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "f25677d20f7e9a37701afb47a2352882",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.7,<4.0",
        "size": 3316,
        "upload_time": "2019-12-30T21:13:01",
        "upload_time_iso_8601": "2019-12-30T21:13:01.087868Z",
        "url": "https://files.pythonhosted.org/packages/15/71/bb20d0f6dbc85bca0738fbc0d9b65a250ce646e0da4c2f84b308546a3bc9/clii-0.1.1-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "d9605c506d049e8d7d141bb12935578ee3d88f2e2ab888abd5c7e45fad8c7688",
          "md5": "ed24881a5eddd0250d4c5c3d2fe34715",
          "sha256": "e78d3ec85a3506be3d2f7889b7055ddcf7a57de4a629e56332ea9d28f3d0569a"
        },
        "downloads": -1,
        "filename": "clii-0.1.1.tar.gz",
        "has_sig": false,
        "md5_digest": "ed24881a5eddd0250d4c5c3d2fe34715",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.7,<4.0",
        "size": 3366,
        "upload_time": "2019-12-30T21:13:02",
        "upload_time_iso_8601": "2019-12-30T21:13:02.696344Z",
        "url": "https://files.pythonhosted.org/packages/d9/60/5c506d049e8d7d141bb12935578ee3d88f2e2ab888abd5c7e45fad8c7688/clii-0.1.1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.2.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "8e39ad0b25e4eece65ad5dfc7b0ae69e15b9a5c32774800a576a6920be2f31d5",
          "md5": "5a9a279db51898da48ad614a33b89120",
          "sha256": "e32ff4812f2505d64ba419f14bfcf1450f0320fa946f8fb2cf075a9917d4b6b0"
        },
        "downloads": -1,
        "filename": "clii-0.2.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "5a9a279db51898da48ad614a33b89120",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.7",
        "size": 3641,
        "upload_time": "2020-05-24T11:56:03",
        "upload_time_iso_8601": "2020-05-24T11:56:03.391568Z",
        "url": "https://files.pythonhosted.org/packages/8e/39/ad0b25e4eece65ad5dfc7b0ae69e15b9a5c32774800a576a6920be2f31d5/clii-0.2.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "a1b1bf5595933c43bf83f6d66b274b9f0f41e67f6b3bf5c2b7fa735105c79db5",
          "md5": "f60ed21f106c52b6d7440698be34e904",
          "sha256": "96e2acd23904a3d79b25bdb4c05a2a70f30f52ddc0f50bd5cc72af8ecccc5599"
        },
        "downloads": -1,
        "filename": "clii-0.2.0.tar.gz",
        "has_sig": false,
        "md5_digest": "f60ed21f106c52b6d7440698be34e904",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.7",
        "size": 4585,
        "upload_time": "2020-05-24T11:56:04",
        "upload_time_iso_8601": "2020-05-24T11:56:04.691054Z",
        "url": "https://files.pythonhosted.org/packages/a1/b1/bf5595933c43bf83f6d66b274b9f0f41e67f6b3bf5c2b7fa735105c79db5/clii-0.2.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.2.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "f71193b607ae2268702ce9e5006c813e661da365a115661d6024fb4303de0ca3",
          "md5": "a082b205134e7465f456c3c4925d0bb4",
          "sha256": "b491f6fecd33e430ae7fb747bee8f0cee07d57ca8faebfd7bbf5c8ce99eae152"
        },
        "downloads": -1,
        "filename": "clii-0.2.1-py2-none-any.whl",
        "has_sig": false,
        "md5_digest": "a082b205134e7465f456c3c4925d0bb4",
        "packagetype": "bdist_wheel",
        "python_version": "py2",
        "requires_python": ">=3.7",
        "size": 4435,
        "upload_time": "2020-07-11T14:18:37",
        "upload_time_iso_8601": "2020-07-11T14:18:37.122987Z",
        "url": "https://files.pythonhosted.org/packages/f7/11/93b607ae2268702ce9e5006c813e661da365a115661d6024fb4303de0ca3/clii-0.2.1-py2-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "a34bf7802cdaae7f2f02cc0ac7978d2e005b6b2fe584a8e395ab43c2c7d022ec",
          "md5": "b3cb1fa83dcc73ed86504143dfd2059e",
          "sha256": "ea79be64671363d528514f1f8d4f81b4b890348905464207900ce0c19c9b2bfe"
        },
        "downloads": -1,
        "filename": "clii-0.2.1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "b3cb1fa83dcc73ed86504143dfd2059e",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.7",
        "size": 6849,
        "upload_time": "2020-05-30T16:25:37",
        "upload_time_iso_8601": "2020-05-30T16:25:37.274639Z",
        "url": "https://files.pythonhosted.org/packages/a3/4b/f7802cdaae7f2f02cc0ac7978d2e005b6b2fe584a8e395ab43c2c7d022ec/clii-0.2.1-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "a042f180f4f85d5929afed351c4a11df6e34464a4ac541ac2c6ce635d3c13d6e",
          "md5": "3be0d152a7c93b49cedb40d3dc688961",
          "sha256": "9c05871cffda50a83d3f073238abc5ffd1bac906002b068ffe955a2c433e095b"
        },
        "downloads": -1,
        "filename": "clii-0.2.1.tar.gz",
        "has_sig": false,
        "md5_digest": "3be0d152a7c93b49cedb40d3dc688961",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.7",
        "size": 7605,
        "upload_time": "2020-05-30T16:25:38",
        "upload_time_iso_8601": "2020-05-30T16:25:38.648439Z",
        "url": "https://files.pythonhosted.org/packages/a0/42/f180f4f85d5929afed351c4a11df6e34464a4ac541ac2c6ce635d3c13d6e/clii-0.2.1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.2.2": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "27fb4d7c87b2a384a474ee6107e8c05c95885f652cb8c2c6953141f3639c75ca",
          "md5": "187687570d3d3ae72d8189526d5ff153",
          "sha256": "a186db722e9f0f95f0ce699668a50ac8b312d3dc230148cb9c4426ba84b46cf5"
        },
        "downloads": -1,
        "filename": "clii-0.2.2.tar.gz",
        "has_sig": false,
        "md5_digest": "187687570d3d3ae72d8189526d5ff153",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.7",
        "size": 7252,
        "upload_time": "2020-07-11T15:57:51",
        "upload_time_iso_8601": "2020-07-11T15:57:51.847147Z",
        "url": "https://files.pythonhosted.org/packages/27/fb/4d7c87b2a384a474ee6107e8c05c95885f652cb8c2c6953141f3639c75ca/clii-0.2.2.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.2.3": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "bbfcb45c0a6abe3a1fbabb858c718b97422b474f6fb02f204c88bfb9c7ce1b41",
          "md5": "37b3dfbee53404a97aea7dd8ef94a70a",
          "sha256": "93ccc52dc0949a33fd93d16da99c835631cc9b524ddd2e8565080f369bf98760"
        },
        "downloads": -1,
        "filename": "clii-0.2.3.tar.gz",
        "has_sig": false,
        "md5_digest": "37b3dfbee53404a97aea7dd8ef94a70a",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.7",
        "size": 7255,
        "upload_time": "2020-08-29T19:12:07",
        "upload_time_iso_8601": "2020-08-29T19:12:07.874778Z",
        "url": "https://files.pythonhosted.org/packages/bb/fc/b45c0a6abe3a1fbabb858c718b97422b474f6fb02f204c88bfb9c7ce1b41/clii-0.2.3.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.2.4": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "77e86ccb5c332988879423d0cd25139790217f1e93d3508a0584e08c7cd7fc66",
          "md5": "160b5cef88710300344f23d624d1bc8a",
          "sha256": "dd3bdf5d17aa9c74ac74944cd17b2a30edcdce045d179625b60428da8e36c2e1"
        },
        "downloads": -1,
        "filename": "clii-0.2.4.tar.gz",
        "has_sig": false,
        "md5_digest": "160b5cef88710300344f23d624d1bc8a",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.7",
        "size": 7253,
        "upload_time": "2020-08-29T19:20:33",
        "upload_time_iso_8601": "2020-08-29T19:20:33.175853Z",
        "url": "https://files.pythonhosted.org/packages/77/e8/6ccb5c332988879423d0cd25139790217f1e93d3508a0584e08c7cd7fc66/clii-0.2.4.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.0.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "5cff5f6d59b295e8c44b877a152f31883f802794b0ec90eaf065471f117eba63",
          "md5": "e2ccd293951f42f726dd9fcbc30db7b2",
          "sha256": "688621f16f0c35ab62028a626d88695c3df15cbb2f8dee9f51922530e0ccbcfe"
        },
        "downloads": -1,
        "filename": "clii-1.0.0.tar.gz",
        "has_sig": false,
        "md5_digest": "e2ccd293951f42f726dd9fcbc30db7b2",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.7",
        "size": 7681,
        "upload_time": "2022-09-20T03:13:22",
        "upload_time_iso_8601": "2022-09-20T03:13:22.692925Z",
        "url": "https://files.pythonhosted.org/packages/5c/ff/5f6d59b295e8c44b877a152f31883f802794b0ec90eaf065471f117eba63/clii-1.0.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.0.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "ffd55cbb2d9e3d006508699a47b5b79e5a893dbaafccbfab2a8f3642b50c3919",
          "md5": "b6b2d2d485c26051dbc06777647fdc38",
          "sha256": "0c810bbe30ca0feecd1443c59eba418feb19a7985c3cb6b7f045c2c498141c05"
        },
        "downloads": -1,
        "filename": "clii-1.0.1.tar.gz",
        "has_sig": false,
        "md5_digest": "b6b2d2d485c26051dbc06777647fdc38",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.7",
        "size": 7697,
        "upload_time": "2022-09-20T03:24:45",
        "upload_time_iso_8601": "2022-09-20T03:24:45.286664Z",
        "url": "https://files.pythonhosted.org/packages/ff/d5/5cbb2d9e3d006508699a47b5b79e5a893dbaafccbfab2a8f3642b50c3919/clii-1.0.1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "ffd55cbb2d9e3d006508699a47b5b79e5a893dbaafccbfab2a8f3642b50c3919",
        "md5": "b6b2d2d485c26051dbc06777647fdc38",
        "sha256": "0c810bbe30ca0feecd1443c59eba418feb19a7985c3cb6b7f045c2c498141c05"
      },
      "downloads": -1,
      "filename": "clii-1.0.1.tar.gz",
      "has_sig": false,
      "md5_digest": "b6b2d2d485c26051dbc06777647fdc38",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": ">=3.7",
      "size": 7697,
      "upload_time": "2022-09-20T03:24:45",
      "upload_time_iso_8601": "2022-09-20T03:24:45.286664Z",
      "url": "https://files.pythonhosted.org/packages/ff/d5/5cbb2d9e3d006508699a47b5b79e5a893dbaafccbfab2a8f3642b50c3919/clii-1.0.1.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}