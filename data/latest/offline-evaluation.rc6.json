{
  "info": {
    "author": "Edoardo Conti, Lionel Vital, Joseph Gilley",
    "author_email": "team@banditml.com",
    "bugtrack_url": null,
    "classifiers": [
      "License :: OSI Approved :: GNU General Public License (GPL)",
      "Operating System :: OS Independent",
      "Programming Language :: Python :: 3"
    ],
    "description": "# Offline policy evaluation\n[![PyPI version](https://badge.fury.io/py/offline-evaluation.svg)](https://badge.fury.io/py/offline-evaluation) [![](https://img.shields.io/badge/code%20style-black-000000.svg)](https://github.com/ambv/black)\n\nImplementations and examples of common offline policy evaluation methods in Python. For more information on offline policy evaluation see this [tutorial](https://edoconti.medium.com/offline-policy-evaluation-run-fewer-better-a-b-tests-60ce8f93fa15).\n\n## Installation\n`pip install offline-evaluation`\n\n## Usage\n```\nfrom ope.methods import doubly_robust\n```\n\nGet some historical logs generated by a previous policy:\n```\ndf = pd.DataFrame([\n\t{\"context\": {\"p_fraud\": 0.08}, \"action\": \"blocked\", \"action_prob\": 0.90, \"reward\": 0},\n\t{\"context\": {\"p_fraud\": 0.03}, \"action\": \"allowed\", \"action_prob\": 0.90, \"reward\": 20},\n\t{\"context\": {\"p_fraud\": 0.02}, \"action\": \"allowed\", \"action_prob\": 0.90, \"reward\": 10},\n\t{\"context\": {\"p_fraud\": 0.01}, \"action\": \"allowed\", \"action_prob\": 0.90, \"reward\": 20},     \n\t{\"context\": {\"p_fraud\": 0.09}, \"action\": \"allowed\", \"action_prob\": 0.10, \"reward\": -20},\n\t{\"context\": {\"p_fraud\": 0.40}, \"action\": \"allowed\", \"action_prob\": 0.10, \"reward\": -10},\n ])\n```\nDefine a function that computes `P(action | context)` under the new policy:\n```\ndef action_probabilities(context):\n    epsilon = 0.10\n    if context[\"p_fraud\"] > 0.10:\n        return {\"allowed\": epsilon, \"blocked\": 1 - epsilon}    \n    return {\"allowed\": 1 - epsilon, \"blocked\": epsilon}\n```\nConduct the evaluation:\n```\ndoubly_robust.evaluate(df, action_probabilities)\n> {'expected_reward_logging_policy': 3.33, 'expected_reward_new_policy': -28.47}\n```\nThis means the new policy is significantly worse than the logging policy.  Instead of A/B testing this new policy online, it would be better to test some other policies offline first.\n\nSee examples for more detailed tutorials.\n\n## Supported methods\n\n- [x] Inverse propensity scoring\n- [x] Direct method\n- [x] Doubly robust ([paper](https://arxiv.org/abs/1503.02834))",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/banditml/offline-policy-evaluation",
    "keywords": "",
    "license": "",
    "maintainer": "",
    "maintainer_email": "",
    "name": "offline-evaluation",
    "package_url": "https://pypi.org/project/offline-evaluation/",
    "platform": "",
    "project_url": "https://pypi.org/project/offline-evaluation/",
    "project_urls": {
      "Homepage": "https://github.com/banditml/offline-policy-evaluation"
    },
    "release_url": "https://pypi.org/project/offline-evaluation/0.0.6/",
    "requires_dist": null,
    "requires_python": ">=3.6",
    "summary": "Implementations of common offline policy evaluation methods.",
    "version": "0.0.6",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 10848795,
  "releases": {
    "0.0.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "d2420af5caba8a777d9a7bafca97b051d1ad4700ca5d5f7fe698d8355c98cd7d",
          "md5": "333d8ee591560c99da2fd8a380c79cf7",
          "sha256": "f5f400ab2580f66b140d1b03bda4a373c82a22939f881e2e6649830cb84b8a3d"
        },
        "downloads": -1,
        "filename": "offline-evaluation-0.0.1.tar.gz",
        "has_sig": false,
        "md5_digest": "333d8ee591560c99da2fd8a380c79cf7",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6",
        "size": 1589,
        "upload_time": "2021-06-04T21:34:20",
        "upload_time_iso_8601": "2021-06-04T21:34:20.587997Z",
        "url": "https://files.pythonhosted.org/packages/d2/42/0af5caba8a777d9a7bafca97b051d1ad4700ca5d5f7fe698d8355c98cd7d/offline-evaluation-0.0.1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.0.2": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "6cd15d6e847e9ba0eff981b4323c2c0e586d87d0375ae6d8fb97a4089d071275",
          "md5": "f3bf5e7a226602dc76a3784932ce5e41",
          "sha256": "9db5323c39c0029d0bdc9145489b23914dc9f58ec73f4f4629c98468e66a8824"
        },
        "downloads": -1,
        "filename": "offline-evaluation-0.0.2.tar.gz",
        "has_sig": false,
        "md5_digest": "f3bf5e7a226602dc76a3784932ce5e41",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6",
        "size": 3511,
        "upload_time": "2021-06-04T21:39:59",
        "upload_time_iso_8601": "2021-06-04T21:39:59.246419Z",
        "url": "https://files.pythonhosted.org/packages/6c/d1/5d6e847e9ba0eff981b4323c2c0e586d87d0375ae6d8fb97a4089d071275/offline-evaluation-0.0.2.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.0.3": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "e14dfcafc12e6ea84992b22a9b867b074aebdf720a588e3f14f00f0836e2db1a",
          "md5": "5dbdee6cacc83da3505d8cd50438d188",
          "sha256": "18d49759d3636abc57fb126e6a27d2c87adb71f0a6f7be798455c1ae925959f2"
        },
        "downloads": -1,
        "filename": "offline-evaluation-0.0.3.tar.gz",
        "has_sig": false,
        "md5_digest": "5dbdee6cacc83da3505d8cd50438d188",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6",
        "size": 3491,
        "upload_time": "2021-06-04T21:42:21",
        "upload_time_iso_8601": "2021-06-04T21:42:21.483920Z",
        "url": "https://files.pythonhosted.org/packages/e1/4d/fcafc12e6ea84992b22a9b867b074aebdf720a588e3f14f00f0836e2db1a/offline-evaluation-0.0.3.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.0.4": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "f65af4a9fd08113baa584c9ee2c1b326084a21abcac3c9178e47fdb6f769bad3",
          "md5": "e84d934597744a4891d90efad76b4c1f",
          "sha256": "0e9023ebcf8eadea435b117d12ca5815c5fe4f784c2a5e24fbe28f11998b2620"
        },
        "downloads": -1,
        "filename": "offline-evaluation-0.0.4.tar.gz",
        "has_sig": false,
        "md5_digest": "e84d934597744a4891d90efad76b4c1f",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6",
        "size": 3496,
        "upload_time": "2021-06-04T21:59:28",
        "upload_time_iso_8601": "2021-06-04T21:59:28.267892Z",
        "url": "https://files.pythonhosted.org/packages/f6/5a/f4a9fd08113baa584c9ee2c1b326084a21abcac3c9178e47fdb6f769bad3/offline-evaluation-0.0.4.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.0.5": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "2c8b700c6bf8975b5a0320cb182cb1e58c3d0dc230f6842f4bd93ec8b960c63e",
          "md5": "76cf7ba0253e40a7ada065ab4f2ce1b8",
          "sha256": "988cb0d2d56da4d506a4b7af56d8cdb931e31220ee633c1ccd45ae805d03d36c"
        },
        "downloads": -1,
        "filename": "offline-evaluation-0.0.5.tar.gz",
        "has_sig": false,
        "md5_digest": "76cf7ba0253e40a7ada065ab4f2ce1b8",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6",
        "size": 4146,
        "upload_time": "2021-06-10T21:15:55",
        "upload_time_iso_8601": "2021-06-10T21:15:55.262605Z",
        "url": "https://files.pythonhosted.org/packages/2c/8b/700c6bf8975b5a0320cb182cb1e58c3d0dc230f6842f4bd93ec8b960c63e/offline-evaluation-0.0.5.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.0.6": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "8ce1335135f65a0820718cf06658d9f61552c0ee568b2d2bf1bf4f4d61ad481c",
          "md5": "076eb6c6d25cbe70b7b20d7efab80735",
          "sha256": "0497da17967385b031dc3d1d1d0e4a1bb7009897729ce854d25afe9e7d3b8f25"
        },
        "downloads": -1,
        "filename": "offline-evaluation-0.0.6.tar.gz",
        "has_sig": false,
        "md5_digest": "076eb6c6d25cbe70b7b20d7efab80735",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6",
        "size": 4749,
        "upload_time": "2021-07-07T20:01:13",
        "upload_time_iso_8601": "2021-07-07T20:01:13.333683Z",
        "url": "https://files.pythonhosted.org/packages/8c/e1/335135f65a0820718cf06658d9f61552c0ee568b2d2bf1bf4f4d61ad481c/offline-evaluation-0.0.6.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "8ce1335135f65a0820718cf06658d9f61552c0ee568b2d2bf1bf4f4d61ad481c",
        "md5": "076eb6c6d25cbe70b7b20d7efab80735",
        "sha256": "0497da17967385b031dc3d1d1d0e4a1bb7009897729ce854d25afe9e7d3b8f25"
      },
      "downloads": -1,
      "filename": "offline-evaluation-0.0.6.tar.gz",
      "has_sig": false,
      "md5_digest": "076eb6c6d25cbe70b7b20d7efab80735",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": ">=3.6",
      "size": 4749,
      "upload_time": "2021-07-07T20:01:13",
      "upload_time_iso_8601": "2021-07-07T20:01:13.333683Z",
      "url": "https://files.pythonhosted.org/packages/8c/e1/335135f65a0820718cf06658d9f61552c0ee568b2d2bf1bf4f4d61ad481c/offline-evaluation-0.0.6.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}