{
  "info": {
    "author": "Artiom Khandamirov",
    "author_email": "t9max@yandex.ru",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 4 - Beta",
      "Environment :: Console",
      "License :: OSI Approved :: MIT License",
      "Operating System :: OS Independent",
      "Programming Language :: Python :: 3",
      "Programming Language :: Python :: 3.10",
      "Programming Language :: Python :: 3.11",
      "Programming Language :: Python :: 3.8",
      "Programming Language :: Python :: 3.9"
    ],
    "description": "# wiki_tool_python\n\nScript to perform various tasks with websites (wikiprojects) on [MediaWiki](https://www.mediawiki.org/) engine using MediaWiki API.\n\n## Installation\n\nInstall Python 3.8 or higher, install [poetry](https://python-poetry.org/docs/), run `poetry install --no-dev`.\n\nThen you can just run `poetry run COMMAND` to run specific commands under python virtual environment created by poetry.\n\nOr you can enter poetry shell (by running `poetry shell`) and then type script commands.\n\n### Installation example\n\nAssuming Python 3.8 or higher and poetry are installed.\n\nInitialize and update virtual environment (assuming you are in the folder with this README file):\n\n```sh\npoetry install --no-dev\n```\n\nRun script:\n\n```sh\npoetry run python wiki_tool_python/wikitool.py --help\n```\n\n### Windows installation example\n\nAssuming Python 3.8 or higher is installed.\n\nInstall poetry (in Windows PowerShell):\n\n```ps1\n(Invoke-WebRequest -Uri https://raw.githubusercontent.com/python-poetry/poetry/master/get-poetry.py -UseBasicParsing).Content | python\n```\n\nTo install or update libraries, run batch file `update.bat`.\n\nTo run script to download images, run batch file `download_images.bat` and input URL, or run batch file with URL as first param, for example: `download_images.bat https://absurdopedia.wiki/w`.\n\nTo run script to upload images, run batch file `upload_images.bat` and input your username, password and URL, or run batch file with URL as first param and type your username and password, for example: `upload_images.bat https://absurdopedia.wiki/w` and type username and password.\n\nTo run script to get page list, run batch file `list_pages.bat` and input URL, or run batch file with URL as first param, for example: `list_pages.bat https://absurdopedia.wiki/w`.\n\n## Usage\n\n### Getting help\n\n`--help` Show help message and exit. If this option is used with command, then help message for that specific command will be printed.\n\n### Setting login and password\n\nSome commands require authentication. To tell login and password, use option `--credentials LOGIN:PASSWORD` or set environment variable `MEDIAWIKI_CREDENTIALS` to `LOGIN:PASSWORD`.\n\n## Throttling requests\n\nTo set interval between requests in seconds, use option `--requests-interval SECONDS`.\n\n### Selecting MediaWiki version\n\nTo select MediaWiki version, use option `--mediawiki-version VERSION`. Versions `1.31` and `1.19` are allowed, but `1.19` is not fully supported. Version `1.31` is default.\n\n## Overwriting User-Agent\n\nTo set `User-Agent` header, use option `--user-agent STRING`. User-agent is set to `WikiToolPython` by default.\n\n### Force login\n\nTo log in if it is not mandatory for API method, use option `--login`.\n\n### MediaWiki API URL\n\nParameter `API_URL` should be URL of MediaWiki API without `/api.php`, for example [https://wow.gamepedia.com](https://wow.gamepedia.com) or [https://absurdopedia.wiki/w](https://absurdopedia.wiki/w).\n\n### Command `list-images`\n\n`python wiki_tool_python/wikitool.py list-images [OPTIONS] API_URL`\n\nList wikiproject images (titles and URLs).\n\nFor each image four lines are printed:\n\n1.   Word `FILE2`.\n2.   Image name on wikiproject (including namespace, for example `File:Ogyglo.png`).\n3.   Image URL on wikiproject.\n4.   Processed file name to save image.\n\nThe same format is used by `download-images` command.\n\n**Note**: deleted images may be listed in command output.\n\n**Note**: in earlier versions output format was different.\n\n#### Command `list-images`: options\n\n`--output-file FILENAME` Text file to write image list (standard output is used by default)\n\n`--api-limit INTEGER` Maximum number of entries per API request (default value is 500).\n\n`--confine-encoding TEXT` Encoding to confine file name to (drop characters outside that encoding)\n\n#### Command `list-images`: example\n\n```sh\npython wiki_tool_python/wikitool.py list-images https://wow.gamepedia.com\n```\n\nOutput:\n\n*...*\n\n```text\nFILE2\nAchievement guild forgreatjusticerank2.png\nhttps://gamepedia.cursecdn.com/wowpedia/d/d6/Achievement_guild_forgreatjusticerank2.png\n02986-Achievement guild forgreatjusticerank2.png\n```\n\n*...*\n\n### Command `list-category-images`\n\n`python wiki_tool_python/wikitool.py list-category-images [OPTIONS] API_URL CATEGORY`\n\nList wikiproject images (titles and URLs) from specific category in the same format as `list-images`.\n\n#### Command `list-category-images`: options\n\n`--output-file FILENAME` Text file to write image list (standard output is used by default)\n\n`--api-limit INTEGER` Maximum number of entries per API request (default value is 500).\n\n`--api-image-ids-limit INTEGER` Maximum number of image IDs per API request (default value is 50).\n\n`--confine-encoding TEXT` Encoding to confine file name to (drop characters outside that encoding)\n\n#### Command `list-category-images`: example\n\n```sh\npython wiki_tool_python/wikitool.py list-category-images https://wow.gamepedia.com \"Category:Images with watermarks\"\n```\n\nOutput:\n\n*...*\n\n```text\nFILE2\nQuartermaster Alcorn - Beta.jpg\nhttps://gamepedia.cursecdn.com/wowpedia/2/2a/Quartermaster_Alcorn_-_Beta.jpg\n00897-Quartermaster Alcorn - Beta.jpg\n```\n\n*...*\n\n### Command `list-pages`\n\n`python wiki_tool_python/wikitool.py list-pages [OPTIONS] API_URL`\n\nList wikiproject page names of all wikiproject namespaces.\n\nEach page name is written on separate line.\n\n**Note**: deleted pages may be listed in command output (we have not checked for this yet).\n\n#### Command `list-pages`: options\n\n`--output-file FILENAME` Text file to write page names (standard output is used by default)\n\n`--api-limit INTEGER` Maximum number of entries per API request (default value is 500).\n\n#### Command `list-pages`: example\n\n```sh\npython wiki_tool_python/wikitool.py list-pages https://wow.gamepedia.com\n```\n\nOutput:\n\n*...*\n\n```text\nTalk:Alchemist (Warcraft III)\nTalk:Alchemist Finklestein\nTalk:Alchemist Pestlezugg\nTalk:Alchemist Stone\nTalk:Alchemy\nTalk:Alchemy Lab\nTalk:Alchemy proficiencies\nTalk:Alchemy recipes\nTalk:Alchemy recipes/Grand Master\nTalk:Alchemy trainers)\n```\n\n*...*\n\n### Command `list-namespace-pages`\n\n`python wiki_tool_python/wikitool.py list-namespace-pages [OPTIONS] API_URL NAMESPACE`\n\nList wikiproject page names of namespace (`NAMESPACE` should be integer ID of namespace).\n\nEach page name is written on separate line.\n\n**Note**: deleted pages may be listed in command output (we have not checked for this yet).\n\n#### Command `list-namespace-pages`: options\n\n`--output-file FILENAME` Text file to write page names (standard output is used by default)\n\n`--api-limit INTEGER` Maximum number of entries per API request (default value is 500).\n\n#### Command `list-namespace-pages`: example\n\n```sh\npython wiki_tool_python/wikitool.py list-namespace-pages https://wow.gamepedia.com 1\n```\n\nOutput:\n\n*...*\n\n```text\nTalk:\"Cookie\" McWeaksauce\nTalk:\"Dirty\" Larry\nTalk:\"Dirty\" Michael Crowe\nTalk:\"Let the Fires Come!\"/Notes\nTalk:\"Let the Fires Come!\" (Alliance)\nTalk:\"Let the Fires Come!\" (Horde)\nTalk:\"Red\" Jack Findle\nTalk:'Tis the Season\nTalk:1.11.0 API changes (Iriel)\nTalk:1.8.4\nTalk:10-day Free Trial\nTalk:19 Pound Catfish\nTalk:1st Legion\n```\n\n*...*\n\n### Command `list-deletedrevs`\n\n`python wiki_tool_python/wikitool.py list-deletedrevs [OPTIONS] OUTPUT_DIRECTORY API_URL`\n\nList deleted revisions from wikiproject in JSON format, output may be splitted to many JSON files, files are saved to `OUTPUT_DIRECTORY`.\n\n**Note**: this command requires authentication.\n\n**Note**: files will be named: `entry-N.json`, where `N` is number of file, starting from 0.\n\n#### Command `list-deletedrevs`: options\n\n`--all-namespaces BOOLEAN` Boolean value, `TRUE` to list for all namespaces, `FALSE` for main namespace only.\n\n`--file-entry-num INTEGER` Number of entries per JSON file.\n\n`--api-limit INTEGER` Maximum number of entries per API request (default value is 500).\n\n### Command `delete-pages`\n\n`python wiki_tool_python/wikitool.py delete-pages [OPTIONS] FILTER_EXPRESSION API_URL`\n\nDelete pages matching regular expression `FILTER_EXPRESSION`.\n\n**Note**: this command requires authentication.\n\n**Note**: this command deletes pages, use it with caution!\n\n**Note**: regular expressions are parsed with module `re` of python standard library. See [re documentation](https://docs.python.org/3.8/library/re.html) for details.\n\n#### Command `delete-pages`: options\n\n`--reason TEXT` Deletion reason.\n\n`--exclude-expression TEXT` Additional expression to exclude pages matching it from deletion.\n\n`--first-page TEXT` First page to delete (start deletion from it).\n\n`--first-page-namespace INTEGER` Namespace of first page to delete.\n\n`--api-limit INTEGER` Maximum number of entries per API request (default value is 500).\n\n`--namespace INTEGER` Namespace to search pages for deletion (this option can be used multiple times to add multiple namespaces).\n\n### Command `edit-pages`\n\n`python wiki_tool_python/wikitool.py edit-pages [OPTIONS] FILTER_EXPRESSION NEW_TEXT API_URL`\n\nEdit pages matching regular expression `FILTER_EXPRESSION`, replacing their content with new text `NEW_TEXT`.\n\n**Note**: this command requires authentication.\n\n**Note**: this command edits pages, use it with caution!\n\n**Note**: regular expressions are parsed with module `re` of python standard library. See [re documentation](https://docs.python.org/3.8/library/re.html) for details.\n\n#### Command `edit-pages`: options\n\n`--reason TEXT` Edit reason.\n\n`--exclude-expression TEXT` Additional expression to exclude pages matching it from editing.\n\n`--first-page TEXT` First page to edit (start editing from it).\n\n`--first-page-namespace INTEGER` Namespace of first page to edit.\n\n`--api-limit INTEGER` Maximum number of entries per API request (default value is 500).\n\n`--namespace INTEGER` Namespace to search pages for deletion (this option can be used multiple times to add multiple namespaces).\n\n### Command `edit-pages-clone-interwikis`\n\n`python wiki_tool_python/wikitool.py edit-pages-clone-interwikis [OPTIONS] API_URL OLD NEW`\n\nAdd interwiki `NEW` to pages that contain interwiki `OLD`, but do not contain interwiki `NEW` yet.\n\nFor example, if `NEW` is `en-gb`, and `OLD` is `en`, than:\n\n```text\n[[en:Jaina Proudmoore]]\n```\n\nwill be replaced with:\n\n```text\n[[en:Jaina Proudmoore]]\n[[en-gb:Jaina Proudmoore]]\n```\n\nThis command may be used, for example, if your wiki contains another language version, and this version has forked, and you need to add interwikis to fork to pages that already contain old version.\n\n**Note**: this command requires authentication.\n\n**Note**: this command edits pages, use it with caution!\n\n#### Command `edit-pages-clone-interwikis`: options\n\n`--reason TEXT` Edit reason.\n\n`--exclude-expression TEXT` Additional expression to exclude pages matching it from editing.\n\n`--first-page TEXT` First page to edit (start editing from it).\n\n`--first-page-namespace INTEGER` Namespace of first page to edit.\n\n`--api-limit INTEGER` Maximum number of entries per API request (default value is 500).\n\n### Command `replace-links`\n\n`python wiki_tool_python/wikitool.py replace-links [OPTIONS] API_URL OLD NEW`\n\nReplace links to page `OLD` by links to page `NEW`.\n\nFor example, if `NEW` is `Wikiproject administrator`, and `OLD` is `Administrator`, than:\n\n```text\nArthur Brahmaguptov was [[administrator]] of [[Encyclopedia Dramatica]].\n```\n\nwill be replaced with:\n\n```text\nArthur Brahmaguptov was [[Wikiproject administrator|administrator]] of [[Encyclopedia Dramatica]].\n```\n\n**Note**: this command requires authentication.\n\n**Note**: this command edits pages, use it with caution!\n\n#### Command `replace-links`: options\n\n`--reason TEXT` Edit reason.\n\n`--api-limit INTEGER` Maximum number of entries per API request (default value is 500).\n\n#### Command: `replace-links`: example\n\n```sh\npython ./wiki_tool_python/wikitool.py replace-links http://wikireality.ru/w Администратор \"Администратор википроекта\"\n```\n\n### Command `download-images`\n\n`python wiki_tool_python/wikitool.py download-images [OPTIONS] LIST_FILE DOWNLOAD_DIR`\n\nDownload images listed in file `LIST_FILE` (file should be in the same format as output of `list-images` command) to directory `DOWNLOAD_DIR`.\n\nEach image is downloaded from URL given in file and saved to file with name given in file (for example, `File:Ogyglo.png` may be saved as `00500-Ogyglo.png`).\n\n**Note**: progress bar is displayed.\n\n**Note**: if image can not be downloaded, warning is printed, but process is not stopped.\n\n#### Command `download-images`: options\n\nNo specific options.\n\n#### Command `download-images`: example\n\n```sh\npython wiki_tool_python/wikitool.py download-images images.txt wiki_images\n```\n\nWhere `images.txt` is list of images.\n\nOutput:\n\nProgress bar is displayed.\n\nImages are downloaded to directory `wiki_images`.\n\n### Command `upload-image`\n\n`python wiki_tool_python/wikitool.py upload-image [OPTIONS] FILE_NAME FILE API_URL`\n\nUpload image `FILE` to wiki with new name `FILE_NAME`.\n\n**Note**: this command requires authentication.\n\n#### Command `upload-image`: options\n\nNo specific options.\n\n#### Command `upload-image`: example\n\n```sh\npython wiki_tool_python/wikitool.py upload-image NVGogol.png Pic9231i9149i.png https://absurdopedia.wiki/w\n```\n\n### Command `upload-images`\n\n`python wiki_tool_python/wikitool.py upload-images [OPTIONS] LIST_FILE DOWNLOAD_DIR API_URL`\n\nUpload images listed in file `LIST_FILE` (file should be in the same format as output of `list-images` command) from directory `DOWNLOAD_DIR` to wiki.\n\n**Note**: this command requires authentication.\n\n**Note**: progress bar is displayed.\n\n**Note**: if image can not be upload, warning is printed, but process is not stopped.\n\n#### Command `upload-images`: options\n\n`--skip-nonexistent/--no-skip-nonexistent` Do not fail on non-existent files, skip them instead\n\n#### Command `upload-images`: example\n\n```sh\npython wiki_tool_python/wikitool.py upload-images images.txt wiki_images https://absurdopedia.wiki/w\n```\n\nWhere `images.txt` is list of images.\n\nOutput:\n\nProgress bar is displayed.\n\n### Command `votecount`\n\n`python wiki_tool_python/wikitool.py votecount [OPTIONS] API_URL USER_LIST_FILE`\n\nGet user edit count for users from file `USER_LIST_FILE` and calculate vote power (according to [Wikireality rules](http://wikireality.ru/wiki/%D0%92%D0%B8%D0%BA%D0%B8%D1%80%D0%B5%D0%B0%D0%BB%D1%8C%D0%BD%D0%BE%D1%81%D1%82%D1%8C:%D0%9A#4.4._.D0.92.D0.B5.D1.81_.D0.B3.D0.BE.D0.BB.D0.BE.D1.81.D0.B0)).\n\n#### Command `votecount`: options\n\n`--api-limit INTEGER` Maximum number of entries per API request (default value is 500).\n\n`--namespacefile FILENAME` JSON file to read namespaces data from.\n\n`--start [%Y-%m-%d|%Y-%m-%dT%H:%M:%S|%Y-%m-%d %H:%M:%S]` Start date for counting edits.\n\n`--end [%Y-%m-%d|%Y-%m-%dT%H:%M:%S|%Y-%m-%d %H:%M:%S]` End date for counting edits.\n\n`--output-format [txt|mediawiki|json]` Output data format (text, MediaWiki table or JSON).\n\n`--redirect-regex-text TEXT` Regular expression to detect redirect creation.\n\n#### Command `votecount`: example\n\nNamespace file `namespaces.json` is:\n\n```json\n{\n    \"edit_weights\": {\n        \"0\": 0.04,\n        \"1\": 0.003,\n        \"4\": 0.015,\n        \"5\": 0.003,\n        \"6\": 0.03,\n        \"7\": 0.003,\n        \"8\": 0.015,\n        \"9\": 0.003,\n        \"10\": 0.015,\n        \"11\": 0.003,\n        \"14\": 0.015,\n        \"15\": 0.003\n    },\n    \"page_weights\": {\n        \"0\": 0.6\n    }\n}\n```\n\nUser list file `../data/votecount/voters.txt` is:\n\n```txt\nArbnos\nArsenal\nCat1987\n```\n\n```sh\npython wiki_tool_python/wikitool.py --mediawiki-version 1.19 votecount --start 2018-07-12 --end 2018-10-12 --namespacefile ../data/votecount/namespaces.json --output-format txt http://wikireality.ru/w ../data/votecount/voters.txt\n```\n\nOutput:\n\n```text\nProcessing user Arbnos...\nProcessing user Arsenal...\nProcessing user Cat1987...\nUser Arbnos\nN0: 0\nN1: 0\nN4: 0\nN5: 0\nN6: 0\nN7: 0\nN8: 0\nN9: 0\nN10: 0\nN11: 0\nN14: 0\nN15: 0\nNewPages: 0\nVotePower: 0.0\n\nUser Arsenal\nN0: 20\nN1: 0\nN4: 9\nN5: 0\nN6: 0\nN7: 0\nN8: 0\nN9: 0\nN10: 2\nN11: 0\nN14: 0\nN15: 0\nNewPages: 2\nVotePower: 2.165\n\nUser Cat1987\nN0: 30\nN1: 0\nN4: 1\nN5: 0\nN6: 3\nN7: 0\nN8: 1\nN9: 0\nN10: 0\nN11: 0\nN14: 0\nN15: 0\nNewPages: 0\nVotePower: 1.32\n```\n\n*...*\n\n### Command `list-directory-pages`\n\n`python wiki_tool_python/wikitool.py list-directory-pages [OPTIONS] INPUT_DIRECTORY OUTPUT_FILE`\n\nWrite list of `.txt` file paths in directory to JSON file.\n\nDirectories are handled recursively.\n\n#### Command `list-directory-pages`: example\n\nThere are files `../data/wiki-pages/Test.txt` and `../data/wiki-pages/Test/Test1.txt`.\n\n```sh\npython ./wiki_tool_python/wikitool.py list-directory-pages ../data/wiki-pages/ ../data/wiki-pages-list.json\n```\n\nFile `../data/wiki-pages-list.json` will contain the following text:\n\n```json\n[\n    \"Test.txt\",\n    \"Test/Test1.txt\"\n]\n```\n\n#### Command `list-directory-pages`: options\n\nNo specific options.\n\n### Command `upload-pages`\n\n`python wiki_tool_python/wikitool.py upload-pages [OPTIONS] API_URL INPUT_DIRECTORY LIST_FILE`\n\nCreate or overwrite pages from files in input directory listed in list file.\n\nFiles with extension are uploaded as pages, page title for file is prefix concatenated with file path (as written in list file) without extension.\n\n**Note**: this command requires authentication.\n\n**Note**: list file format is either JSON list (same as of file generated by `list-directory-pages` command) or JSON dictionary (keys are page pathes, values are page titles).\n\n#### Command `upload-pages`: example 1\n\nThere are files `../data/wiki-pages/Test.txt` and `../data/wiki-pages/Test/Test1.txt`.\n\nFile `../data/wiki-pages-list.json` contains the following text:\n\n```json\n[\n    \"Test.txt\",\n    \"Test/Test1.txt\"\n]\n```\n\nCommand is:\n\n```sh\npython ./wiki_tool_python/wikitool.py upload-pages --prefix=\"User:ArtushakBot/\" --summary=\"Test page upload\" https://genepedia.ru ../data/wiki-pages/ ../data/wiki-pages/wiki-pages-list.json\n```\n\nThe following pages will be created:\n\n*   `User:ArtushakBot/Test` with text from `../data/wiki-pages/Test.txt`\n*   `User:ArtushakBot/Test/Test1` with text from `../data/wiki-pages/Test/Test1.txt`\n\n#### Command `upload-pages`: example 2\n\nThere are files `../data/wiki-pages/1.txt` and `../data/wiki-pages/2.txt`.\n\nFile `../data/wiki-pages-list.json` contains the following text:\n\n```json\n{\n    \"1.txt\": \"Page 1\",\n    \"2.txt\": \"Page 2\"\n}\n```\n\nCommand is:\n\n```sh\npython ./wiki_tool_python/wikitool.py upload-pages --dictionary --prefix=\"User:ArtushakBot/\" --summary=\"Test page upload\" https://genepedia.ru ../data/wiki-pages/ ../data/wiki-pages/wiki-pages-list.json\n```\n\nThe following pages will be created:\n\n*   `User:ArtushakBot/Page 1` with text from `../data/wiki-pages/Page 1`\n*   `User:ArtushakBot/Page 2` with text from `../data/wiki-pages/Page 2`\n\n#### Command `upload-pages`: options\n\n`--dictionary / --no-dictionary` Use dictionary file of pathes and titles instead of file list.\n\n`--extended-dictionary / --no-extended-dictionary` Read dictionary values as dictionaries with `title` and `path` keys.\n\n`--prefix TEXT` Prefix for page titles.\n\n`--summary TEXT` Edit summary.\n\n`--first-page INTEGER` Page number to start with.\n\n`--mode [append|overwrite]` Whether to append text from file to old text on existing pages, or overwrite old text with text from file.\n\n### Command `generate-import-script`\n\n`python wiki_tool_python/wikitool.py list-directory-pages [OPTIONS] LIST_FILE INPUT_DIRECTORY OUTPUT_SCRIPT_FILE LOG_FILE`\n\nWrite bash script to import pages from list file using MediaWiki maintenance script `importTextFiles.php` (see [MediaWiki help](https://www.mediawiki.org/wiki/Manual:ImportTextFiles.php)). It can be uploaded to server along with page files and then run to import to them to website to avoid API overhead.\n\n`LIST_FILE` is path to page list file *on local machine*. `INPUT_DIRECTORY` is parent path for page text files *on server*, path should be absolute or relative to script working directory.\n\n`LOG_FILE` is path to output text log file *on server*, path should be absolute or relative to script working directory.\n\n**Note**: server access (for example, SSH) is required for this method of page uploading.\n\n### Command `generate-import-script`: options\n\n`--prefix TEXT` Prefix for page titles.\n\n`--rc / --no-rc` Add `--rc` option to output script.\n\n`--bot / --no-bot` Add `--bot` option to output script.\n\n`--user TEXT` Add -u option to output script.\n\n`--summary TEXT` Add -s option to output script.\n\n`--maintenance-directory TEXT` Directory with `importTextFiles.php` script *on server*, path should be absolute or relative to script working directory.\n\n`--show-progress-bar / --no-show-progress-bar` Add progress bar display to output script\n\n`--first-page INTEGER` First page number to add\n\n### Command `generate-import-script`: example\n\nThere are files `../data/wiki-pages/Test.txt` and `../data/wiki-pages/Test/Test1.txt`.\n\nFile `../data/wiki-pages-list.json` contains the following text:\n\n```json\n[\n    \"Test.txt\",\n    \"Test/Test1.txt\"\n]\n```\n\nCommand is:\n\n```sh\npython ./wiki_tool_python/wikitool.py generate-import-script --prefix=\"User:ArtushakBot/\" --summary=\"Test page upload\" --bot --maintenance-directory=\"/srv/http/mediawiki/w/maintenance\" ../data/wiki-pages/wiki-pages-list.json ./data/wiki-pages ../data/importPages.sh ./data/log.txt\n```\n\nFile `../data/importPages.sh` will contain following text:\n\n```bash\n#!/bin/bash\n\nphp /srv/http/mediawiki/w/maintenance/importTextFiles.php --rc --bot -s 'Test page upload' --prefix User:ArtushakBot/ data/wiki-pages/Test.txt >> ./data/log.txt 2>&1 \necho -ne '[##########          ]         1 /         2\\r'\nphp /srv/http/mediawiki/w/maintenance/importTextFiles.php --rc --bot -s 'Test page upload' --prefix User:ArtushakBot/Test/ data/wiki-pages/Test/Test1.txt >> ./data/log.txt 2>&1 \necho -ne '[####################]         2 /         2\\r'\n```\n\n## Main example\n\n```sh\npoetry install --no-dev\nmkdir ../absurdopedia\nmkdir ../absurdopedia/download\npoetry run python wiki_tool_python/wikitool.py list-images --output-file ../absurdopedia/image.txt https://absurdopedia.wiki/w\npoetry run python wiki_tool_python/wikitool.py download-images ../absurdopedia/image.txt ../absurdopedia/download\n```\n\n## Files\n\n*   `mediawiki.py` contains exceptions and classes to interact with MediaWiki API. Abstract base class is named `MediaWikiAPI`, implementations for specific MediaWiki versions are subclassed from it.\n*   `wikitool.py` contains commands described in this file. To parse them, [Click](https://click.palletsprojects.com) is used.\n\n## Special thanks\n\n*   [MediaWiki](https://www.mediawiki.org/wiki/MediaWiki) developers.\n*   [Python](https://www.python.org/) developers.\n*   [Poetry](https://python-poetry.org/) developers.\n*   [requests](https://3.python-requests.org/) developers.\n*   [Click](https://click.palletsprojects.com) developers.\n*   Рыцарь (Knight) aka Riddari aka Тэйтанка-птекила (Teitanka-ptekila).\n*   [Wikireality](http://wikireality.ru) users, especially members of Dimetr's Telegram chat.\n*   Other folks from Absurdopedia, russian version of Uncyclopedia ([absurdopedia.wiki](https://absurdopedia.wiki/) and [absurdopedia.net](https://absurdopedia.net/))\n*   Other cool folks.\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/ArtUshak/wiki_tool_python/",
    "keywords": "",
    "license": "MIT",
    "maintainer": "",
    "maintainer_email": "",
    "name": "wiki-tool-python",
    "package_url": "https://pypi.org/project/wiki-tool-python/",
    "platform": null,
    "project_url": "https://pypi.org/project/wiki-tool-python/",
    "project_urls": {
      "Homepage": "https://github.com/ArtUshak/wiki_tool_python/",
      "Repository": "https://github.com/ArtUshak/wiki_tool_python/"
    },
    "release_url": "https://pypi.org/project/wiki-tool-python/0.1.0/",
    "requires_dist": [
      "click (>=8.1.3,<9.0.0)",
      "requests (>=2.28.1,<3.0.0)",
      "requests-toolbelt (>=0.9.1,<0.10.0)"
    ],
    "requires_python": ">=3.8,<4.0",
    "summary": "Script to perform tasks with websites on MediaWiki engine using API",
    "version": "0.1.0",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 17522097,
  "releases": {
    "0.1.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "c16091a577bfad06f094105b1a3884b8f80c257590d8698a4e16c0d05c84d8a4",
          "md5": "b70d83f2f26bc47ada54c85446255bf7",
          "sha256": "25eb593c6445b633a021fae3c9a8a5dc67c1ab4c5b87d171547bb48361af4196"
        },
        "downloads": -1,
        "filename": "wiki_tool_python-0.1.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "b70d83f2f26bc47ada54c85446255bf7",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.8,<4.0",
        "size": 24038,
        "upload_time": "2023-03-31T06:18:25",
        "upload_time_iso_8601": "2023-03-31T06:18:25.360421Z",
        "url": "https://files.pythonhosted.org/packages/c1/60/91a577bfad06f094105b1a3884b8f80c257590d8698a4e16c0d05c84d8a4/wiki_tool_python-0.1.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "0ff70215f3511d00c93dca59bd9729bace4934b95a7d1f8189d765704fec9f5b",
          "md5": "a04cfbc2d8d1e1d49b5dd33fdb961791",
          "sha256": "3fb6ad8dff00c8e075ebb2bea32930d8e47ea4c1f12533d3481a8a9288100480"
        },
        "downloads": -1,
        "filename": "wiki_tool_python-0.1.0.tar.gz",
        "has_sig": false,
        "md5_digest": "a04cfbc2d8d1e1d49b5dd33fdb961791",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.8,<4.0",
        "size": 25359,
        "upload_time": "2023-03-31T06:18:27",
        "upload_time_iso_8601": "2023-03-31T06:18:27.616245Z",
        "url": "https://files.pythonhosted.org/packages/0f/f7/0215f3511d00c93dca59bd9729bace4934b95a7d1f8189d765704fec9f5b/wiki_tool_python-0.1.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "c16091a577bfad06f094105b1a3884b8f80c257590d8698a4e16c0d05c84d8a4",
        "md5": "b70d83f2f26bc47ada54c85446255bf7",
        "sha256": "25eb593c6445b633a021fae3c9a8a5dc67c1ab4c5b87d171547bb48361af4196"
      },
      "downloads": -1,
      "filename": "wiki_tool_python-0.1.0-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "b70d83f2f26bc47ada54c85446255bf7",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": ">=3.8,<4.0",
      "size": 24038,
      "upload_time": "2023-03-31T06:18:25",
      "upload_time_iso_8601": "2023-03-31T06:18:25.360421Z",
      "url": "https://files.pythonhosted.org/packages/c1/60/91a577bfad06f094105b1a3884b8f80c257590d8698a4e16c0d05c84d8a4/wiki_tool_python-0.1.0-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "0ff70215f3511d00c93dca59bd9729bace4934b95a7d1f8189d765704fec9f5b",
        "md5": "a04cfbc2d8d1e1d49b5dd33fdb961791",
        "sha256": "3fb6ad8dff00c8e075ebb2bea32930d8e47ea4c1f12533d3481a8a9288100480"
      },
      "downloads": -1,
      "filename": "wiki_tool_python-0.1.0.tar.gz",
      "has_sig": false,
      "md5_digest": "a04cfbc2d8d1e1d49b5dd33fdb961791",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": ">=3.8,<4.0",
      "size": 25359,
      "upload_time": "2023-03-31T06:18:27",
      "upload_time_iso_8601": "2023-03-31T06:18:27.616245Z",
      "url": "https://files.pythonhosted.org/packages/0f/f7/0215f3511d00c93dca59bd9729bace4934b95a7d1f8189d765704fec9f5b/wiki_tool_python-0.1.0.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}