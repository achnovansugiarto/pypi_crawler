{
  "info": {
    "author": "Martin Korbel",
    "author_email": "git@blackserver.cz",
    "bugtrack_url": null,
    "classifiers": [
      "Intended Audience :: Developers",
      "License :: OSI Approved :: MIT License",
      "Programming Language :: Python :: 3",
      "Programming Language :: Python :: 3.10",
      "Programming Language :: Python :: 3.7",
      "Programming Language :: Python :: 3.8",
      "Programming Language :: Python :: 3.9"
    ],
    "description": ".. image:: https://badge.fury.io/py/phpipam-exporter.svg\n    :target: https://badge.fury.io/py/phpipam-exporter\n\n================\nphpipam-exporter\n================\n\nThe generator DHCP, DNS or hosts records from `phpipam <https://phpipam.net/>`_.\n\n\nUsage\n============\n\nAll parameters can be defined as environment variables.\n\n.. list-table:: **Program parameters**\n    :header-rows: 1\n\n    * - Parameter\n      - ENV variable\n      - Required\n      - Description\n    * - ``--subnet / -s``\n      - ``PHPIPAM_SUBNETS``\n      - Yes\n      - Filter output for specific PHPIPAM subnet. Can be used more times (in ``PHPIPAM_SUBNETS``, subnets are separated by coma).\n    * - ``--host``\n      - ``PHPIPAM_HOST``\n      - Yes\n      - phpipam API entrypoint format ``https://<fqdn>/api/<api_id>/`` (e.g. ``https://phpipam.example.com/api/exporter/``)\n    * - ``--token``\n      - ``PHPIPAM_TOKEN``\n      - Yes\n      - phpipam API token.\n    * - ``--format / -f``\n      - ``PHPIPAM_FORMAT``\n      - No (default: ``json``)\n      - Output format. (``dhcpd``, ``dnsmasq``, ``hosts``)\n    * - ``--output / -o``\n      - ``PHPIPAM_OUTPUT``\n      - No (default: ``stdout``)\n      - Output file.\n    * - ``--on-change-action``\n      - ``PHPIPAM_ON_CHANGE_ACTION``\n      - No\n      - Bash command. This command is fired only when the output file is changed. This parameter has to be defined only together with ``--output``. (e.g. ``systemctl reload named``)\n    * - ``--custom-template``\n      - ``PHPIPAM_CUSTOM_TEMPLATE``\n      - No\n      - Path to custom `Jinja <https://jinja2docs.readthedocs.io/en/stable/>`_ template file.\n\n\n\nGenerate API token\n======================\n\nEnable API plugin:  ``Administration > phpIPAM settings > API = On``\n\nCreate token: ``Administration > API > Create API key``\n\n.. list-table:: **Token parameters**\n    :header-rows: 0\n\n    * - ``App ID``\n      - ``exporter``\n    * - ``App permissions``\n      - ``Read``\n    * - ``App security``\n      - ``SSL with App code token``\n\nCopy ``App code`` and use it as ``PHPIPAM_TOKEN``.\n``App ID`` has to be used as part of ``PHPIPAM_HOST``.\n\n.. image:: img/token.png\n\n\n\nHosts file\n============\n.. code-block:: bash\n\n    export PHPIPAM_TOKEN='12345678945678912345678a1235'\n    export PHPIPAM_HOST='https://phpipam.example.com/api/exporter/'\n\n    cat /etc/hosts.static\n      127.0.0.1   localhost localhost.localdomain\n      ::1         localhost localhost.localdomain\n\n\n    phpipam_export -s 192.168.1.0/24 -f dhcpd -o /etc/hosts.dynamic --on-change-action \"cat /etc/hosts.static /etc/hosts.dynamic >> /etc/hosts\"\n\n\n\nDHCPd\n============\n.. code-block:: bash\n\n    export PHPIPAM_TOKEN='12345678945678912345678a1235'\n    export PHPIPAM_HOST='https://phpipam.example.com/api/exporter/'\n\n    phpipam_export -s 192.168.1.0/24 -f dhcpd -o /etc/dhcp/subnet.conf --on-change-action \"systemctl reload dhcpd\"\n\n\n**/etc/dhcp/dhcpd.conf**\n\n.. code-block::\n\n    authoritative;\n    ddns-update-style none;\n    default-lease-time 86400;\n    max-lease-time 172800;\n    shared-network \"lan\" {\n        subnet 192.168.1.0 netmask 255.255.255.0 {\n            option subnet-mask 255.255.255.0;\n            option domain-name-servers 192.168.1.1, 192.168.1.2;\n            option broadcast-address 192.168.1.255;\n            option routers 192.168.1.1;\n            pool {\n                range 192.168.1.254 192.168.1.254;\n                deny unknown-clients;\n                include \"/etc/dhcp/subnet.conf\";\n            }\n        }\n\n\n\ndnsmasq\n============\n.. code-block:: bash\n\n    export PHPIPAM_TOKEN='12345678945678912345678a1235'\n    export PHPIPAM_HOST='https://phpipam.example.com/api/exporter/'\n\n    phpipam_export -s 192.168.1.0/24 -f dnsmasq -o /etc/dnsmasq.d/subnet.conf --on-change-action \"systemctl reload dnsmasq\"\n\n\n\njson format\n============\n.. code-block:: bash\n\n    export PHPIPAM_TOKEN='12345678945678912345678a1235'\n    export PHPIPAM_HOST='https://phpipam.example.com/api/exporter/'\n\n    phpipam_export -s 192.168.1.0/24 -f json\n\n\n\nCustom template\n=======================\nWe can create a custom `Jinja <https://jinja2docs.readthedocs.io/en/stable/>`_ template file and use it for formating output data. The addresses are stored in the ``addresses`` template variable. Attributes of each device are described here `3.4 Addresses controller <https://phpipam.net/api-documentation/>`_ or we can use ``json`` format to get all attributes.\n\n\n.. code-block:: bash\n\n    export PHPIPAM_TOKEN='12345678945678912345678a1235'\n    export PHPIPAM_HOST='https://phpipam.example.com/api/exporter/'\n\n    phpipam_export -s 192.168.1.0/24 --custom-template ansible_inventory.j2  -o /ansible-project/inventory.yml\n",
    "description_content_type": "text/x-rst",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/BlackSmith/phpipam_exporter",
    "keywords": "",
    "license": "MIT",
    "maintainer": "",
    "maintainer_email": "",
    "name": "phpipam-exporter",
    "package_url": "https://pypi.org/project/phpipam-exporter/",
    "platform": "",
    "project_url": "https://pypi.org/project/phpipam-exporter/",
    "project_urls": {
      "Homepage": "https://github.com/BlackSmith/phpipam_exporter"
    },
    "release_url": "https://pypi.org/project/phpipam-exporter/0.5.1/",
    "requires_dist": [
      "click",
      "certifi (>=2020.12.5,<2021.0.0)",
      "Jinja2 (>=3.0.1,<4.0.0)",
      "requests (>=2.25.1,<3.0.0)",
      "urllib3 (>=1.26.0,<2.0.0)"
    ],
    "requires_python": ">=3.7,<4",
    "summary": "Top-level package for phpipam-exporter.",
    "version": "0.5.1",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 12937070,
  "releases": {
    "0.2.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "adcb05ff73c0d48d233cf088397e8ca54c1fcdd8277d7e3561f38e8b2d35c3fa",
          "md5": "f98316b90bd4371287c96a8f711dc4b7",
          "sha256": "90e1c9004d861a738e6df24d9f214e3176bc32f574e64a5d41fb8cef15004d1c"
        },
        "downloads": -1,
        "filename": "phpipam_exporter-0.2.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "f98316b90bd4371287c96a8f711dc4b7",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.7",
        "size": 8325,
        "upload_time": "2021-06-06T21:45:44",
        "upload_time_iso_8601": "2021-06-06T21:45:44.144687Z",
        "url": "https://files.pythonhosted.org/packages/ad/cb/05ff73c0d48d233cf088397e8ca54c1fcdd8277d7e3561f38e8b2d35c3fa/phpipam_exporter-0.2.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "40e73d32c721a246261a83ef665c0454ba35170f327af71d7c2250d3b52a82a3",
          "md5": "76565ac2ea31841a0ae7fde029c3951b",
          "sha256": "7dcc02e1338491ca7a119ea52ea08203c1c7aa1f647617114f7395a040806340"
        },
        "downloads": -1,
        "filename": "phpipam_exporter-0.2.0.tar.gz",
        "has_sig": false,
        "md5_digest": "76565ac2ea31841a0ae7fde029c3951b",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.7",
        "size": 9405,
        "upload_time": "2021-06-06T21:45:45",
        "upload_time_iso_8601": "2021-06-06T21:45:45.358741Z",
        "url": "https://files.pythonhosted.org/packages/40/e7/3d32c721a246261a83ef665c0454ba35170f327af71d7c2250d3b52a82a3/phpipam_exporter-0.2.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.4.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "5ec594bf62a4d2c7f3cb16af5f4de25abd9cc513594729c8383900235a1e87ba",
          "md5": "0fbd295177e375eabebadd16a27fcaa6",
          "sha256": "2816ecb049b519f38d5e53715a1869ede8764036e7b3446afe7bfecc17952fd3"
        },
        "downloads": -1,
        "filename": "phpipam_exporter-0.4.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "0fbd295177e375eabebadd16a27fcaa6",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.7",
        "size": 8220,
        "upload_time": "2021-10-07T19:54:11",
        "upload_time_iso_8601": "2021-10-07T19:54:11.228811Z",
        "url": "https://files.pythonhosted.org/packages/5e/c5/94bf62a4d2c7f3cb16af5f4de25abd9cc513594729c8383900235a1e87ba/phpipam_exporter-0.4.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "ad93b7b9abf2fc32c6e5e9b6ce0627dccb4ca799ea741fa3aed091982931edb7",
          "md5": "da34553e89c89bff54ff6adbebb3ee71",
          "sha256": "13ba605f071e1226ddb672a92c2775e7aea5d422ea211eb7609a92222b22b6d4"
        },
        "downloads": -1,
        "filename": "phpipam_exporter-0.4.0.tar.gz",
        "has_sig": false,
        "md5_digest": "da34553e89c89bff54ff6adbebb3ee71",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.7",
        "size": 9283,
        "upload_time": "2021-10-07T19:54:12",
        "upload_time_iso_8601": "2021-10-07T19:54:12.808886Z",
        "url": "https://files.pythonhosted.org/packages/ad/93/b7b9abf2fc32c6e5e9b6ce0627dccb4ca799ea741fa3aed091982931edb7/phpipam_exporter-0.4.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.5.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "34c1a6895e7c415e583651f857fe91aff008325c55fa8eaa0e84545951416de4",
          "md5": "4a603a0a499f4e1610c79f1e75879b04",
          "sha256": "e3860d3ab6f81ec599e55819034d97aaaf265236ce0d12fc65cade8729322eb4"
        },
        "downloads": -1,
        "filename": "phpipam_exporter-0.5.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "4a603a0a499f4e1610c79f1e75879b04",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.7,<4",
        "size": 8253,
        "upload_time": "2022-02-18T17:33:42",
        "upload_time_iso_8601": "2022-02-18T17:33:42.366420Z",
        "url": "https://files.pythonhosted.org/packages/34/c1/a6895e7c415e583651f857fe91aff008325c55fa8eaa0e84545951416de4/phpipam_exporter-0.5.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "572a0e6fd64026147b4e5f637a46f03fac2c0146372a8facfee360effcdbe5a5",
          "md5": "443658254e521985174383bf8b937016",
          "sha256": "4c611da8f861745368cd4a68e48db884021dd53af9df225f344581560f91dc08"
        },
        "downloads": -1,
        "filename": "phpipam_exporter-0.5.0.tar.gz",
        "has_sig": false,
        "md5_digest": "443658254e521985174383bf8b937016",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.7,<4",
        "size": 9389,
        "upload_time": "2022-02-18T17:33:43",
        "upload_time_iso_8601": "2022-02-18T17:33:43.561490Z",
        "url": "https://files.pythonhosted.org/packages/57/2a/0e6fd64026147b4e5f637a46f03fac2c0146372a8facfee360effcdbe5a5/phpipam_exporter-0.5.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.5.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "d3dc6d63388655915bc98871cbee6b1ddb97d097191046d171ee9235ece76acd",
          "md5": "039aa9dc415558d80155af5f57f6f4b4",
          "sha256": "895ebdceb032b3bd7f252b7a2ee5c9aff59f20196c96d4332f0fb1e0c2fc085f"
        },
        "downloads": -1,
        "filename": "phpipam_exporter-0.5.1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "039aa9dc415558d80155af5f57f6f4b4",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.7,<4",
        "size": 8255,
        "upload_time": "2022-02-18T17:42:17",
        "upload_time_iso_8601": "2022-02-18T17:42:17.090570Z",
        "url": "https://files.pythonhosted.org/packages/d3/dc/6d63388655915bc98871cbee6b1ddb97d097191046d171ee9235ece76acd/phpipam_exporter-0.5.1-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "39b15ca9cd74b250fa28a755c074caf4264f79588ce1071badd312783756b412",
          "md5": "bd898091c65ad1be6991a3e49a464db0",
          "sha256": "d051eb185f05edb9d2394ed649b4eb73e7957307a81f331770262f68daaa1635"
        },
        "downloads": -1,
        "filename": "phpipam_exporter-0.5.1.tar.gz",
        "has_sig": false,
        "md5_digest": "bd898091c65ad1be6991a3e49a464db0",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.7,<4",
        "size": 9402,
        "upload_time": "2022-02-18T17:42:18",
        "upload_time_iso_8601": "2022-02-18T17:42:18.518845Z",
        "url": "https://files.pythonhosted.org/packages/39/b1/5ca9cd74b250fa28a755c074caf4264f79588ce1071badd312783756b412/phpipam_exporter-0.5.1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "d3dc6d63388655915bc98871cbee6b1ddb97d097191046d171ee9235ece76acd",
        "md5": "039aa9dc415558d80155af5f57f6f4b4",
        "sha256": "895ebdceb032b3bd7f252b7a2ee5c9aff59f20196c96d4332f0fb1e0c2fc085f"
      },
      "downloads": -1,
      "filename": "phpipam_exporter-0.5.1-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "039aa9dc415558d80155af5f57f6f4b4",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": ">=3.7,<4",
      "size": 8255,
      "upload_time": "2022-02-18T17:42:17",
      "upload_time_iso_8601": "2022-02-18T17:42:17.090570Z",
      "url": "https://files.pythonhosted.org/packages/d3/dc/6d63388655915bc98871cbee6b1ddb97d097191046d171ee9235ece76acd/phpipam_exporter-0.5.1-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "39b15ca9cd74b250fa28a755c074caf4264f79588ce1071badd312783756b412",
        "md5": "bd898091c65ad1be6991a3e49a464db0",
        "sha256": "d051eb185f05edb9d2394ed649b4eb73e7957307a81f331770262f68daaa1635"
      },
      "downloads": -1,
      "filename": "phpipam_exporter-0.5.1.tar.gz",
      "has_sig": false,
      "md5_digest": "bd898091c65ad1be6991a3e49a464db0",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": ">=3.7,<4",
      "size": 9402,
      "upload_time": "2022-02-18T17:42:18",
      "upload_time_iso_8601": "2022-02-18T17:42:18.518845Z",
      "url": "https://files.pythonhosted.org/packages/39/b1/5ca9cd74b250fa28a755c074caf4264f79588ce1071badd312783756b412/phpipam_exporter-0.5.1.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}