{
  "info": {
    "author": "Dr Adam Buruzs",
    "author_email": "adam.buruzs@ait.ac.at",
    "bugtrack_url": null,
    "classifiers": [],
    "description": "# The *simpy_ejector* python package\n\n## fast 1 dimensional python simulator for ejectors\n\nA 'simple' and fast 1 dimensional computational fluid dynamics simulator\nmade for simulating Ejectors for heat pump and\nrefrigerator applications. It includes modules for\nsimulating two phase supersonic nozzles, that are crucial parts\nof supersonic ejectors.\n\nUsing this package you can easily calculate mass flow-rates of motive and suction nozzles of ejectors with \nthe user defined ejector geometry and fluid specification. \nThe provided functions solve simplified differential-algebraic equations of the fluid flow (mass, momentum and energy equations).\nThis package calculates and plots speed, pressure, quality, etc. profiles along the ejector axis. \nAnd lets you easily calculate ejector efficiency. \n\nYou can play with the primary nozzle and ejector geometry, and update the calculation results with any fluid from the \nRefprop (https://www.nist.gov/srd/refprop) library. This makes it an ideal tool for a rough and fast ejector dimensioning.\nYou can calculate and evaluate with ease dozens of ejector geometries within minutes. And you know it, that it replaces hours and days \nof heavy calculations on commercial software packages!\n\nThis module can be used for 1 component, one or two phase flow simulations.\nIn the first version it applies the homogeneus equilibrium model (HEM) to calculate\nmaterial properties. (For the thermodynamic properties it needs the RefProp 9 or newer to be installed - not tested for older versions)  \n\n\nFor a short description of the method see the pdf in the Docs directory: \n[/Docs/](./Docs/Ejector_Buruzs.pdf) <br>\nThe english description of the method will be published soon, and you must reference to it if you use this package in any publication! \n\n\nTo see, how it works, look into the jupyter notebooks located in the directory:\n[src/simpy_ejector/useCases/](./src/simpy_ejector/useCases/EjectorMixerSingleShocking.ipynb)\n\nDon't forget, that flows1d requires you to install the python-Refprop package ctREFPROP:\nhttps://pypi.org/project/ctREFPROP/.\nIn windows you need to have the refprop.dll installed (for the development I have used version 9.1)\nand set the environment variable 'RPprefix' to the path of the 'refprop.dll' file. \nFor example if your REFPROP is installed into \"C:/Program Files (x86)/REFPROP/\", then open a command window, and type:\n```\nsetx RPprefix \"C:/Program Files (x86)/REFPROP/\"\n```\n(or set the RPprefix user-environment variable  through windows menu)\n\n**For the latest Documentation, Demo, Tutorials and Examples visit the project page on github:\nhttps://github.com/AdamBuruzs/simpy_ejector**\n\n## Installation\nOnly tested on Windows. ( Linux installation manual is still to be done. )\n\n````\npip install simpy-ejector\n````\nAnd set the environment variable 'RPprefix' to the path of the 'refprop.dll' file. \nFor example : \"C:/Program Files (x86)/REFPROP/\"\n\nTest if refprop is setup and working correctly, start a python shell, and write:\n\n````\n>>> from simpy_ejector import refProp\n>>> RP = refProp.setup(\"water\")\n>>> out = refProp.getDh_from_TP( RP, T=350, p = 100)\n>>> print(f'water at 300K and 100 kPa : Density = {out[0]} kg/m3, spec enthalpy = {out[1]} kJ/kg')\n````\nYou should get a result of 996.5 kg/m3 and 112 kJ/kg. If you get an error, then check your refProp installation, and 'RPprefix' environment variable settings.\n\n## Quickstart guide\n\nAfter installation you can import the package. In the simpy_ejector.useCases.ejectorSimulator module you find a class that helps you very quickly setting up and performing a simulation of an ejector. So simply write into a python file:\n\n````\nimport logging\nimport sys\nlogging.basicConfig(stream = sys.stdout, level = logging.INFO)\nimport matplotlib.pyplot as plt\nimport pandas as pd\nfrom simpy_ejector.useCases import ejectorSimulator\nfrom simpy_ejector import refProp\n````\n\nThen set the fluid (refrigerant), that you want to use in your ejector. For example:\n\n````\n# load Refprop for your fluid:\nfluid = \"R1233zd\"\nRP = refProp.setup(fluid)\n````\n\nThen specify the ejector geometry:\n```\n# set up geometry parameters:\nparams = { \"Rin\": 1.5, \"Rt\": 0.29, \"Rout\": 0.87, \"gamma_conv\": 15.0, \"gamma_div\" : 6.0, \"Dmix\": 2.67,\n           \"Pprim\": 2007, \"hprim\" : 365.5, \"hsuc\": 437.1, \"Psuc\" : 276.3 , \"A_suction_inlet\" : 16 ,\n           \"mixerLen\": 12 , \"gamma_diffusor\": 2.5, \"diffuserLen\": 10}\n```\n\nUse this picture to find the meaning of the parameters: <br>\n![ejector geometry parameters](./Docs/EjectorGeom.svg)\n\nThe parameter units:\n\n| parameter | description | unit\n|---- | ---| ---\n| Rin | primary nozzle inlet radius in | cm\n|Rt| primary nozzle throat radius in| cm\n|Rout| primary nozzle outlet/exit radius in| cm\n|gamma_conv| primary nozzle convergent part angle| degree\n|gamma_div| primary nozzle divergent part angle| degree\n|Dmix| mixer diameter (2*radius) in| cm\n|Pprim| primary nozzle inlet pressure in| kPa - kiloPascal\n|hprim| primary nozzle inlet specific enthalpy | kJ/kg\n|hsuc| secondary/suction nozzle inlet specific enthalpy | kJ/kg <br>\n|Psuc| secondary nozzle inlet pressure in| kPa - kiloPascal\n|A_suction_inlet| primary nozzle inlet cross section area| cm<sup>2</sup> <br>\n|mixerLen| length of the mixer| cm <br>\n|gamma_diffusor| angle of the diffuser profile in| degree <br>\n|diffuserLen| length of the diffuser| cm <br>\n\nThen calculate Temperatures from specific enthalpy with Refprop:\n\n```\nprimQ = refProp.getTD(RP, hm= params[\"hprim\"], P=params[\"Pprim\"] )\nparams[\"Tprim\"] = primQ['T']\nparams[\"Tsuc\"] = refProp.getTD(RP, hm= params[\"hsuc\"], P=params[\"Psuc\"] )['T']\n```\n\nset parameters of the mixing calculations:\n```\nparams[\"mixingParams\"] = {'massExchangeFactor': 2.e-4, 'dragFactor': 0.01, 'frictionInterface': 0.0,\n                        'frictionWall': 0.0015}\n```\n\ncreate a simulator object:\n```\nesim = ejectorSimulator.ejectorSimu(params)\n```\n plot the ejector geometry:\n```\nejplot = esim.ejector.draw()\n```\nThis line will create for you an interactive *matplotlib* plot of your ejector\n\n```\n## calculate the primary mass flow rate:\nesim.calcPrimMassFlow()\n```\nThis will iteratively calculate the critical inlet velocity, where the motive nozzle chokes. The critical speed and mass flow rate will be printed on the standard output\n\ncalculate the critical (= choked flow) solution in the motive nozzle:\n```\nres_crit = esim.motiveSolver()\nprint(f\"By the motive nozzle exit:\\n {res_crit.iloc[-1]}\")\n```\nYou will see the chart with the motive nozzle flow, the velocity, quality and pressure plotted in the motive nozzle \n![simulation result for an R1233zd ejector](./src/simpy_ejector/charts/R12_primnozzle.png)\n solve the pre-mixing equations:\n```\nesim.premix(res_crit) # this sets the mixer, that is needed for the mixing calculation\nprint(f\"suction MFR [g/s] {round(esim.mixerin['massFlowSecond'],3)}\")\n```\n solve the mixer equations until the ejector outlet\n```\nesim.mixersolve()\n\n  ```\nLet it calculate the mass-flow rates and checks:\n```\nesim.massFlowCheck()\noutletValues = esim.solMix.iloc[-1].to_dict() # .transpose()\n\naverage_h = (outletValues[\"MFRp\"] * outletValues[\"hp\"] + outletValues[\"MFRs\"] * outletValues[\"hs\"])/ (outletValues[\"MFRp\"] + outletValues[\"MFRs\"] )\nprint(f\"Ejector outlet specific enthalpy {round(average_h,3)} kJ/kg, pressure {round(outletValues['p']*1e-2,3)} bar,\"\n      f\" vapor quality {round(outletValues['q_average'],3)}  \")\n\nesim.plotMixSolution(res_crit, esim.solMix, \"simpy_ejector 1D Ejector flow solution\")\n```\nYou get an interactive *matplotlib* chart, so you can zoom in to see the values.\n![simulation result for an R1233zd ejector](./src/simpy_ejector/charts/R12_ejector.png)\n\nThe pressure and specific enthalpy is printed at the ejector exit. <br>\nThat's it, you have performed your first ejector simulation with **simpy_ejector** ! \n\n\n## Examples\n\nsimulation result for an ejector (with a simulated normal shock wave)\n![simulation result for an ejector](./src/simpy_ejector/charts/ShockInMixer.png)\n\nPressure profiles in a nozzle with a simulated shock-wave.\n![pressure profiles in a nozzle with shock-wave](./src/simpy_ejector/charts/Pressure_profiles_Nozzle.png)\n\nPressure profile comparison with experiment (in this case without shock-waves):\n\n![pressure profiles comparison with experiment](./src/simpy_ejector/charts/PressureExp.png)\n\n## Acknowledgements\nThe research leading to this repository was financed by the Austrian Research Promotion Agency (ffg) over the projects [VWE](https://projekte.ffg.at/projekt/3205550), and [ETHP](https://projekte.ffg.at/projekt/4174819)\n\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/AdamBuruzs/simpy_ejector",
    "keywords": "",
    "license": "",
    "maintainer": "Adam Buruzs",
    "maintainer_email": "aburuzs@gmail.com",
    "name": "simpy-ejector",
    "package_url": "https://pypi.org/project/simpy-ejector/",
    "platform": null,
    "project_url": "https://pypi.org/project/simpy-ejector/",
    "project_urls": {
      "Homepage": "https://github.com/AdamBuruzs/simpy_ejector"
    },
    "release_url": "https://pypi.org/project/simpy-ejector/1.0.3/",
    "requires_dist": [
      "ctREFPROP",
      "numpy",
      "pandas",
      "matplotlib",
      "scipy",
      "seaborn"
    ],
    "requires_python": ">=3.7",
    "summary": "Ejector 1 dimensional fluid mechanical simulator",
    "version": "1.0.3",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 17317239,
  "releases": {
    "1.0.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "b5a5b043aa859a70fa212a9e27fcf1bb514ecfe1cbdc510fc8009c1801bc63b0",
          "md5": "1758958f1ba0ebc815b9d0b21893959b",
          "sha256": "45e35b24c1a5b2cc56abf66614c7552d8ea215e72a7199e2061bba356cc00556"
        },
        "downloads": -1,
        "filename": "simpy_ejector-1.0.1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "1758958f1ba0ebc815b9d0b21893959b",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.7",
        "size": 5451245,
        "upload_time": "2023-02-07T18:59:17",
        "upload_time_iso_8601": "2023-02-07T18:59:17.940088Z",
        "url": "https://files.pythonhosted.org/packages/b5/a5/b043aa859a70fa212a9e27fcf1bb514ecfe1cbdc510fc8009c1801bc63b0/simpy_ejector-1.0.1-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.0.2": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "6bd7d856ee3cd4bf41db8a58ac48791fd20ebdbec786f47beec6d2c85eeb1881",
          "md5": "fbe71150daf65e4df73fe79389e4949a",
          "sha256": "712308f68b28c1a6275366beb7986b8f3582fb1aa53aa373104ae848c849ac04"
        },
        "downloads": -1,
        "filename": "simpy_ejector-1.0.2-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "fbe71150daf65e4df73fe79389e4949a",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.7",
        "size": 5457405,
        "upload_time": "2023-02-09T14:08:34",
        "upload_time_iso_8601": "2023-02-09T14:08:34.380589Z",
        "url": "https://files.pythonhosted.org/packages/6b/d7/d856ee3cd4bf41db8a58ac48791fd20ebdbec786f47beec6d2c85eeb1881/simpy_ejector-1.0.2-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.0.3": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "a007d898f5baa7a4cdadce130d6ddc0051faa10310c9570e8f3f9733ba7e279f",
          "md5": "17d4d404be23deb9390aa1d44174f09d",
          "sha256": "ef282225af461e225921e7c55565de69258f1ee14be1bfd6cb6749e58eecbc4a"
        },
        "downloads": -1,
        "filename": "simpy_ejector-1.0.3-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "17d4d404be23deb9390aa1d44174f09d",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.7",
        "size": 5613075,
        "upload_time": "2023-03-16T10:32:00",
        "upload_time_iso_8601": "2023-03-16T10:32:00.996668Z",
        "url": "https://files.pythonhosted.org/packages/a0/07/d898f5baa7a4cdadce130d6ddc0051faa10310c9570e8f3f9733ba7e279f/simpy_ejector-1.0.3-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "a007d898f5baa7a4cdadce130d6ddc0051faa10310c9570e8f3f9733ba7e279f",
        "md5": "17d4d404be23deb9390aa1d44174f09d",
        "sha256": "ef282225af461e225921e7c55565de69258f1ee14be1bfd6cb6749e58eecbc4a"
      },
      "downloads": -1,
      "filename": "simpy_ejector-1.0.3-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "17d4d404be23deb9390aa1d44174f09d",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": ">=3.7",
      "size": 5613075,
      "upload_time": "2023-03-16T10:32:00",
      "upload_time_iso_8601": "2023-03-16T10:32:00.996668Z",
      "url": "https://files.pythonhosted.org/packages/a0/07/d898f5baa7a4cdadce130d6ddc0051faa10310c9570e8f3f9733ba7e279f/simpy_ejector-1.0.3-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}