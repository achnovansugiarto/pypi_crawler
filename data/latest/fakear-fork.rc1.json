{
  "info": {
    "author": "Franck LOURME",
    "author_email": "flourme@scaleway.com",
    "bugtrack_url": null,
    "classifiers": [
      "License :: OSI Approved :: MIT License",
      "Operating System :: MacOS :: MacOS X",
      "Operating System :: POSIX :: Linux",
      "Programming Language :: Python :: 2.7",
      "Programming Language :: Python :: 3",
      "Topic :: Software Development :: Testing"
    ],
    "description": "# Fakear\n\nA module that creates fake binaries from valid configuration ( a yaml file or a dict ) and launch them in the context of your Python script, without efforts.\n\n# Installation\n\n```\npip install fakear\n```\n\n# Quick Start\n\nThis is a mock of a fake `ls` command, that \n\n```yaml\nls:\n  - args:\n      - dexter\n    return_code: 0\n    output: Omelette du Fromage\n```\n\nOn Python, you can now use Fakear to fake ls behaviour and act according to our mock.\n\n```python\n>>> from subprocess import run\n>>> from fakear import Fakear\n>>> p = run([\"ls\", \"dexter\"])\nls: dexter: No such file or directory\n>>> p.returncode\n1\n>>> with Fakear(cfg=\"fake_ls.yaml\"):\n...   fake_cmd = run([\"ls\", \"dexter\"])\nOmelette du Fromage\n>>> fake_cmd.returncode\n0\n```\n\nYou can use it as well in your unit test routine:\n\n```python\nfrom fakear import Fakear\nfrom subprocess import check_output\n\ndef test_faked_ls(self):\n    with Fakear(cfg=\"fake_ls.yaml\"):\n        proc = check_output([\"ls\", \"dexter\"])\n\n    assert proc.decode() == \"Omelette du fromage\\n\"\n```\n\n# How does it works ?\n\nAn instance handles a specific configuration file, with scenarios for one or\nmultiple commands to fake.\n\nBy default, an instance is deactivated, meaning you can still configure it\nbefore the fake happens\n\nWhen activated:\n - The instance creates the folder that should contains the fake binaries (faked_path)\n - It builds shell scripts corresponding to all the scenarios\n - It ensures every scripts are runnable\n - It sets in os.environ[\"PATH\"] the faked_path at first place\n\nSo, as long as the instance is activated, you can run faked commands with subprocess module.\n\nWhen deactivated, the instance removes the faked_path from PATH and deletes the folder from the filesystem\n\n\n# Documentation\n\n## YAML Files\n\nEvery program mock should start with the program name as a key. Then you can describe multiple behaviours for a given set of arguments.\n\n```yaml\n__command_name__ :\n  # Default output with no arguments\n  - return_code: -1\n    output: This is a fake program, please give the correct arguments\n  # output with arguments\n  - args:\n    - first_arg\n    - sec_arg\n    return_code: 0\n    output: This is an example of fake command\n  # output_file with arguments\n  - args:\n    - first_arg\n    - sec_arg\n    return_code: 0\n    output_file: semver.txt\n__command2_name__ :\n  # Default behaviour of a program generated by Fakear\n```\n\nYou can use those options to customise your fake program:\n\n  - **args (OptionnaÌ¦l)** : a list of positionnal arguments that invoke this fake output\n  - **return_code** : the return code when the program exits\n  - **output**: The raw data to output when you invoke the program with these args\n  - **output_file**: The path of a file containing the output to show\n\nNotice that if you mention no args to your list in a subcommand, it overrides the default behaviour of your fake program.\n\nAlso, you have to set either **output** or **output_file** keys in the same subcommand.\nOtherwise, it should throw an error.\n\n\n## API\n\nYou can use Fakear in two ways:\n\n- as an instance:\n```py\n>>> fakear = Fakear(cfg=\"path_of_a_valid.yml\")\n>>> fakear.enable()\n# DO THINGS\n>>> fakear.disable()\n```\nA Fakear instance can be manually enabled or disabled with the correct methods\n\n- as a Context Manager (recommended):\n\n```python\nwith Fakear(cfg=\"fake_ls.yml\"):\n    # DO THINGS\n```\nWith the context manager, enable et disable are handled automatically, and you can set the fake path at instanciation\n\n### Init variables\n```py\nFakear(cfg=\"/path/cfg.yaml\", raw=cfg_data, path=\"/tmp/bin\")\n```\n\n- cfg: Path of the config file to use\n- raw: Python dict\n- path: Path for fake binaries\n\nYou can use either cfg or raw but not both of them, as it should overlap scenarios of the same command and create undefined behaviour.\n\n### Available Methods\n\n- enable() : Activate the instance\n- deactivate() : Deactivate the instance\n- set_path(path: str) : Sets a new path for faked commands. It must be absolute. You can't modify path when the instance is activated\n\n\n# Contribute\n\nFeel free to open an issue on this repository.\n\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "",
    "keywords": "",
    "license": "",
    "maintainer": "",
    "maintainer_email": "",
    "name": "fakear-fork",
    "package_url": "https://pypi.org/project/fakear-fork/",
    "platform": "",
    "project_url": "https://pypi.org/project/fakear-fork/",
    "project_urls": null,
    "release_url": "https://pypi.org/project/fakear-fork/0.1.3.dev1/",
    "requires_dist": [
      "pyyaml",
      "voluptuous"
    ],
    "requires_python": "",
    "summary": "A Shell-command faker for Python Unit Testing",
    "version": "0.1.3.dev1",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 6068039,
  "releases": {
    "0.1.3.dev1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "409cc39217571fe36cecd3e60f150b56450437b1a0f3f5af04ce79fd91283a5e",
          "md5": "15bc35199b18a05775ae5330e7d39d38",
          "sha256": "a8ddd0a56622e25d7ccff2c47693bb8c016e19144eb95ddf950eb6d92337cc62"
        },
        "downloads": -1,
        "filename": "fakear_fork-0.1.3.dev1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "15bc35199b18a05775ae5330e7d39d38",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 9791,
        "upload_time": "2019-11-02T12:58:51",
        "upload_time_iso_8601": "2019-11-02T12:58:51.955959Z",
        "url": "https://files.pythonhosted.org/packages/40/9c/c39217571fe36cecd3e60f150b56450437b1a0f3f5af04ce79fd91283a5e/fakear_fork-0.1.3.dev1-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "58c07ce9c6e7a5da6f9d670213bf9fcf1af062bda79084c9c9cfde06cd2e7ba0",
          "md5": "3c6ebbe4c9858b860d79673c5090417e",
          "sha256": "eb10595c03f106855793f24e43eb95f33dab15ae4e37fbf5274b2ad977f7762f"
        },
        "downloads": -1,
        "filename": "fakear-fork-0.1.3.dev1.tar.gz",
        "has_sig": false,
        "md5_digest": "3c6ebbe4c9858b860d79673c5090417e",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 7149,
        "upload_time": "2019-11-02T12:58:54",
        "upload_time_iso_8601": "2019-11-02T12:58:54.080883Z",
        "url": "https://files.pythonhosted.org/packages/58/c0/7ce9c6e7a5da6f9d670213bf9fcf1af062bda79084c9c9cfde06cd2e7ba0/fakear-fork-0.1.3.dev1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "409cc39217571fe36cecd3e60f150b56450437b1a0f3f5af04ce79fd91283a5e",
        "md5": "15bc35199b18a05775ae5330e7d39d38",
        "sha256": "a8ddd0a56622e25d7ccff2c47693bb8c016e19144eb95ddf950eb6d92337cc62"
      },
      "downloads": -1,
      "filename": "fakear_fork-0.1.3.dev1-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "15bc35199b18a05775ae5330e7d39d38",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": null,
      "size": 9791,
      "upload_time": "2019-11-02T12:58:51",
      "upload_time_iso_8601": "2019-11-02T12:58:51.955959Z",
      "url": "https://files.pythonhosted.org/packages/40/9c/c39217571fe36cecd3e60f150b56450437b1a0f3f5af04ce79fd91283a5e/fakear_fork-0.1.3.dev1-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "58c07ce9c6e7a5da6f9d670213bf9fcf1af062bda79084c9c9cfde06cd2e7ba0",
        "md5": "3c6ebbe4c9858b860d79673c5090417e",
        "sha256": "eb10595c03f106855793f24e43eb95f33dab15ae4e37fbf5274b2ad977f7762f"
      },
      "downloads": -1,
      "filename": "fakear-fork-0.1.3.dev1.tar.gz",
      "has_sig": false,
      "md5_digest": "3c6ebbe4c9858b860d79673c5090417e",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": null,
      "size": 7149,
      "upload_time": "2019-11-02T12:58:54",
      "upload_time_iso_8601": "2019-11-02T12:58:54.080883Z",
      "url": "https://files.pythonhosted.org/packages/58/c0/7ce9c6e7a5da6f9d670213bf9fcf1af062bda79084c9c9cfde06cd2e7ba0/fakear-fork-0.1.3.dev1.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}