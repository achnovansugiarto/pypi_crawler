{
  "info": {
    "author": "weerdy15",
    "author_email": "",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 5 - Production/Stable",
      "Intended Audience :: Developers",
      "Natural Language :: English",
      "Programming Language :: Python :: 3.10",
      "Programming Language :: Python :: 3.8",
      "Programming Language :: Python :: 3.9",
      "Topic :: Utilities"
    ],
    "description": "# cb-i18n\n\nAdvanced internationalisation (i18n) support for Discord bots\n\nThis module works with any well-known Discord API library for Python, including:\n\n- [discord.py](https://github.com/Rapptz/discord.py) (and any derived libraries such as [disnake](https://github.com/DisnakeDev/disnake), [nextcord](https://github.com/nextcord/nextcord) and [pycord](https://github.com/Pycord-Development/pycord))\n- [hikari.py](https://github.com/hikari-py/hikari)\n\n### Installation\n\nInstall with pip:\n\n```sh\n# Linux / MacOS\npython3 -m pip install cb-i18n\n\n# Windows\npy -3 -m pip install cb-i18n\n```\n\nInstall from source:\n\n```sh\ngit clone https://github.com/LTT/cb-i18n\ncd cb-i18n\npython3 setup.py install\n\n# Windows\ngit clone https://github.com/LTT/cb-i18n\ncd cb-i18n\npy -3 setup.py install\n```\n\n### Example usage of `cb-i18n`:\n\n*In fact, this library can work with just any application written in python. The first arg in `Translator.translate` can be **anything**, you can pass integer, string, custom object or even module, all will work as expected by you. Internally, lib does nothing with that \"context\", it just passing it to your `locale_getter` and all.*\n\nDirectory structure:\n\n```\nsrc/\n  languages/\n    en-US.json\n    ru-RU.json\n  main.py\n```\n\n`src/languages/en-US.json`:\n```json\n{\n  \"Hello {}\": \"Hello {}\", // Positional placeholders\n  \"You're a Genius!\": \"You're a Genius!\", // No placeholders\n  \"Locale is now {locale}\": \"Locale is now {locale}\" // Keyword-only placeholders\n}\n```\n\n`src/languages/ru-RU.json`:\n```json\n{\n  \"Hello {}\": \"РџСЂРёРІРµС‚ {}\",\n  \"You're a Genius!\": \"Р”Р° С‚С‹ РіРµРЅРёР№!\",\n  \"Locale is now {locale}\": \"РЇР·С‹Рє С‚РµРїРµСЂСЊ {locale}\"\n}\n```\n\n`src/main.py`:\n```py\nimport sqlite3\nimport disnake\nfrom disnake.ext import commands\nimport cb_i18n as i18n\n\nbot = commands.Bot(\"!\", intents=disnake.Intents.all())\n\nconnection = sqlite3.connect('mydatabase.db')\ncursor = connection.cursor()\n\ntranslator = None\n_ = None\n\ndef get_locale(ctx: commands.Context):\n    return cursor.execute(\"SELECT locale FROM guilds WHERE id = ?;\", ctx.guild.id).fetchone()[0]\n\n@bot.event\nasync def on_ready():\n    print(\"Bot loading\")\n    \n    cursor.execute(\"CREATE TABLE IF NOT EXISTS guilds (id bigint, locale text);\")\n    connection.commit()\n    \n    print(\"  Loading guilds table...\")\n    for guild in bot.guilds:\n        if not cursor.execute(\"SELECT * FROM guilds WHERE id = ?\", guild.id).fetchone():\n            print(\"    Guild {}: not exist\".format(guild.id))\n            \n            cursor.execute(\"INSERT INTO guilds VALUES (?, ?);\", guild.id, \"en-US\")\n            connection.commit()\n        else:\n            print(\"    Guild {}: exists\".format(guild.id))\n    print(\"  Loaded guilds table.\")\n    \n    print(\"  Loading i18n...\")\n    global translator, _\n    \n    translator = i18n.make_translator()\n    translator.set_locale_dir(\"./languages/\")\n    translator.set_locale_getter(get_locale)\n    translator.load_translations()\n    _ = translator.translate\n    print(\"  Loaded i18n.\")\n    \n    print(\"Bot ready!\\nAccount: {} (ID: {})\\nGuild count: {}\\nUser count: {}\".format(str(bot.user), bot.user.id, len(bot.guilds), len(bot.users)))\n\n@bot.command(description=\"Set locale for a guild\", aliases=[\"setlocale\", \"set-locale\"])\nasync def set_locale(ctx: commands.Context, locale: str):\n    cursor.execute(\"UPDATE guilds SET locale = ? WHERE id = ?;\", locale, ctx.guild.id)\n    connection.commit()\n    \n    return await ctx.send(_(ctx, \"Locale is now {locale}\").format(locale=locale))\n\n@bot.command(description=\"Say hi!\")\nasync def hi(ctx: commands.Context, name: str):\n    return await ctx.send(_(ctx, \"Hello {}\").format(name))\n\n@bot.command(description=\"You're Genius, right?\")\nasync def genius(ctx: commands.Context):\n    return await ctx.send(_(ctx, \"You're a Genius!\"))\n\ntry:\n    bot.run(os.environ.get(\"BOT_TOKEN\"))\nexcept Exception as exc:\n    print(exc.__class__.__name__ + \": \" + exc.__str__() + \"\".join(tb.format_exception(exc)))\nfinally:\n    cursor.close()\n    connection.close()\n```\n\n\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/LiTechO/cb-i18n",
    "keywords": "",
    "license": "MIT",
    "maintainer": "",
    "maintainer_email": "",
    "name": "cb-i18n",
    "package_url": "https://pypi.org/project/cb-i18n/",
    "platform": null,
    "project_url": "https://pypi.org/project/cb-i18n/",
    "project_urls": {
      "Homepage": "https://github.com/LiTechO/cb-i18n",
      "Issue tracker": "https://github.com/LiTech/cb-i18n/issues"
    },
    "release_url": "https://pypi.org/project/cb-i18n/1.0.4/",
    "requires_dist": null,
    "requires_python": ">=3.8.0",
    "summary": "Advanced internationalisation (i18n) support for Discord bots, originally developed for ClansBot",
    "version": "1.0.4",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 13578004,
  "releases": {
    "1.0.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "4dbf0ff6b00eedae57ccdb78f48b87527f8535440cdaaf3c8d7fe9556edb866b",
          "md5": "602f2c3960a0dcd27f64a26b9ff49f6e",
          "sha256": "7f4f0aa0439fda46cda09908b1ea8ba7996c7f4c03a6c47a0fdeb2140152efa0"
        },
        "downloads": -1,
        "filename": "cb_i18n-1.0.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "602f2c3960a0dcd27f64a26b9ff49f6e",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.8.0",
        "size": 5140,
        "upload_time": "2022-04-13T13:52:15",
        "upload_time_iso_8601": "2022-04-13T13:52:15.673416Z",
        "url": "https://files.pythonhosted.org/packages/4d/bf/0ff6b00eedae57ccdb78f48b87527f8535440cdaaf3c8d7fe9556edb866b/cb_i18n-1.0.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "3dafedd00f1b61ea839e7dc20198c98f0ac259819e922bf29e8c6b84687de380",
          "md5": "a8dedb5263a8582ddde454eca3624b45",
          "sha256": "b5956b158ce5139916a6d51a8702e589deeadf86faf66b34a1497a576d3b7b11"
        },
        "downloads": -1,
        "filename": "cb_i18n-1.0.0.tar.gz",
        "has_sig": false,
        "md5_digest": "a8dedb5263a8582ddde454eca3624b45",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.8.0",
        "size": 5207,
        "upload_time": "2022-04-13T13:52:17",
        "upload_time_iso_8601": "2022-04-13T13:52:17.120721Z",
        "url": "https://files.pythonhosted.org/packages/3d/af/edd00f1b61ea839e7dc20198c98f0ac259819e922bf29e8c6b84687de380/cb_i18n-1.0.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.0.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "8418acf521a3f7ae31332e8fe2055708f401d259ff820aa36a8edf16e33d00f2",
          "md5": "2180125bd268ff616b8c943bc8f6c083",
          "sha256": "869045caf29c983928db7415f8b7b87bce3d4f822939b1db3eddfcabc4186ff9"
        },
        "downloads": -1,
        "filename": "cb_i18n-1.0.1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "2180125bd268ff616b8c943bc8f6c083",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.8.0",
        "size": 5421,
        "upload_time": "2022-04-18T11:48:49",
        "upload_time_iso_8601": "2022-04-18T11:48:49.409366Z",
        "url": "https://files.pythonhosted.org/packages/84/18/acf521a3f7ae31332e8fe2055708f401d259ff820aa36a8edf16e33d00f2/cb_i18n-1.0.1-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "d2691378edb5d32bcf50c002e715a8bd223e93260d7962855f8cec9934ebb5f9",
          "md5": "d0ded2b2c76213d7c1b571a41926af3c",
          "sha256": "d14adfd78540ef3ece96267855400580fe70cc86ea2b33c2ca2c4b8e18b6d39a"
        },
        "downloads": -1,
        "filename": "cb_i18n-1.0.1.tar.gz",
        "has_sig": false,
        "md5_digest": "d0ded2b2c76213d7c1b571a41926af3c",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.8.0",
        "size": 5491,
        "upload_time": "2022-04-18T11:48:50",
        "upload_time_iso_8601": "2022-04-18T11:48:50.780711Z",
        "url": "https://files.pythonhosted.org/packages/d2/69/1378edb5d32bcf50c002e715a8bd223e93260d7962855f8cec9934ebb5f9/cb_i18n-1.0.1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.0.2": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "6cf3ad14165d531288a8ad6dcf1a859c20912638f191fc39d391fbc5ad037f57",
          "md5": "5ea9f5c335fb81f4552f085b3c27cac1",
          "sha256": "5216027eb31ce4487dc395fc07364d06bd33622478272e1187605418290e2e49"
        },
        "downloads": -1,
        "filename": "cb_i18n-1.0.2-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "5ea9f5c335fb81f4552f085b3c27cac1",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.8.0",
        "size": 5453,
        "upload_time": "2022-04-20T13:07:30",
        "upload_time_iso_8601": "2022-04-20T13:07:30.311447Z",
        "url": "https://files.pythonhosted.org/packages/6c/f3/ad14165d531288a8ad6dcf1a859c20912638f191fc39d391fbc5ad037f57/cb_i18n-1.0.2-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "358d16737abf10cdbad50d55783909474635fc0cc4716d261d2f9d5901e38aae",
          "md5": "ec1df881d7134947dd461051bcad5228",
          "sha256": "c39a54b07efab54c76c638540c50ba082964d210b4694a8a910dc20151d2b967"
        },
        "downloads": -1,
        "filename": "cb_i18n-1.0.2.tar.gz",
        "has_sig": false,
        "md5_digest": "ec1df881d7134947dd461051bcad5228",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.8.0",
        "size": 5217,
        "upload_time": "2022-04-20T13:07:31",
        "upload_time_iso_8601": "2022-04-20T13:07:31.542960Z",
        "url": "https://files.pythonhosted.org/packages/35/8d/16737abf10cdbad50d55783909474635fc0cc4716d261d2f9d5901e38aae/cb_i18n-1.0.2.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.0.3": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "889da650e7f6acc21bb854bd5727d139946799af3e7085efcc7d4a8ae8ecddce",
          "md5": "a3940e2ef1093db006eb1957d232de55",
          "sha256": "aea482689ad3b3b199983983ad8dfc5867c99e2bd5eefd32fddec2471e0f455d"
        },
        "downloads": -1,
        "filename": "cb_i18n-1.0.3-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "a3940e2ef1093db006eb1957d232de55",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.8.0",
        "size": 5457,
        "upload_time": "2022-04-20T13:16:35",
        "upload_time_iso_8601": "2022-04-20T13:16:35.303179Z",
        "url": "https://files.pythonhosted.org/packages/88/9d/a650e7f6acc21bb854bd5727d139946799af3e7085efcc7d4a8ae8ecddce/cb_i18n-1.0.3-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "7a228e11cc67d6c72517550161a66dcfac1456592db04483db2998967c4c9664",
          "md5": "2bccebcec09f0c15bda33794b0f8edc0",
          "sha256": "81f86408122ea6e176dd5918ca3c5b81324c10db04ee2cdb3ac89cd369738e76"
        },
        "downloads": -1,
        "filename": "cb_i18n-1.0.3.tar.gz",
        "has_sig": false,
        "md5_digest": "2bccebcec09f0c15bda33794b0f8edc0",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.8.0",
        "size": 5216,
        "upload_time": "2022-04-20T13:16:36",
        "upload_time_iso_8601": "2022-04-20T13:16:36.833960Z",
        "url": "https://files.pythonhosted.org/packages/7a/22/8e11cc67d6c72517550161a66dcfac1456592db04483db2998967c4c9664/cb_i18n-1.0.3.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.0.4": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "6bbb0c3f099532a601be6c280512cb24c5ca9462e0762fec33af18f006fcf531",
          "md5": "190b47e32f4207479790f155c8ae251c",
          "sha256": "6a87211c2a8c51b0cd7ec7ca0d80cffeb3af8383f3c6f5d87cdc4dbc8807a757"
        },
        "downloads": -1,
        "filename": "cb_i18n-1.0.4-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "190b47e32f4207479790f155c8ae251c",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.8.0",
        "size": 5451,
        "upload_time": "2022-04-21T11:41:54",
        "upload_time_iso_8601": "2022-04-21T11:41:54.915250Z",
        "url": "https://files.pythonhosted.org/packages/6b/bb/0c3f099532a601be6c280512cb24c5ca9462e0762fec33af18f006fcf531/cb_i18n-1.0.4-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "e03ac8cccc91c58526e4ba4fb6099ae3b2d143e72b5ab02974596ddda8fcc283",
          "md5": "7c07a2a28684de762760ab72ff3db9ba",
          "sha256": "bce4dc5fb11221b4b61273a460d83d5357339894e041f7fe441568f89555d70d"
        },
        "downloads": -1,
        "filename": "cb_i18n-1.0.4.tar.gz",
        "has_sig": false,
        "md5_digest": "7c07a2a28684de762760ab72ff3db9ba",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.8.0",
        "size": 5201,
        "upload_time": "2022-04-21T11:41:56",
        "upload_time_iso_8601": "2022-04-21T11:41:56.670066Z",
        "url": "https://files.pythonhosted.org/packages/e0/3a/c8cccc91c58526e4ba4fb6099ae3b2d143e72b5ab02974596ddda8fcc283/cb_i18n-1.0.4.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "6bbb0c3f099532a601be6c280512cb24c5ca9462e0762fec33af18f006fcf531",
        "md5": "190b47e32f4207479790f155c8ae251c",
        "sha256": "6a87211c2a8c51b0cd7ec7ca0d80cffeb3af8383f3c6f5d87cdc4dbc8807a757"
      },
      "downloads": -1,
      "filename": "cb_i18n-1.0.4-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "190b47e32f4207479790f155c8ae251c",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": ">=3.8.0",
      "size": 5451,
      "upload_time": "2022-04-21T11:41:54",
      "upload_time_iso_8601": "2022-04-21T11:41:54.915250Z",
      "url": "https://files.pythonhosted.org/packages/6b/bb/0c3f099532a601be6c280512cb24c5ca9462e0762fec33af18f006fcf531/cb_i18n-1.0.4-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "e03ac8cccc91c58526e4ba4fb6099ae3b2d143e72b5ab02974596ddda8fcc283",
        "md5": "7c07a2a28684de762760ab72ff3db9ba",
        "sha256": "bce4dc5fb11221b4b61273a460d83d5357339894e041f7fe441568f89555d70d"
      },
      "downloads": -1,
      "filename": "cb_i18n-1.0.4.tar.gz",
      "has_sig": false,
      "md5_digest": "7c07a2a28684de762760ab72ff3db9ba",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": ">=3.8.0",
      "size": 5201,
      "upload_time": "2022-04-21T11:41:56",
      "upload_time_iso_8601": "2022-04-21T11:41:56.670066Z",
      "url": "https://files.pythonhosted.org/packages/e0/3a/c8cccc91c58526e4ba4fb6099ae3b2d143e72b5ab02974596ddda8fcc283/cb_i18n-1.0.4.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}