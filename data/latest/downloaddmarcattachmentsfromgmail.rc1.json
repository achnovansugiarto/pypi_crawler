{
  "info": {
    "author": "Mozaic Works",
    "author_email": "alex.bolboaca@mozaicworks.com",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 3 - Alpha",
      "Intended Audience :: Developers",
      "License :: OSI Approved :: MIT License",
      "Programming Language :: Python :: 3.10",
      "Topic :: Communications :: Email"
    ],
    "description": "# Download DMARC Attachments From Gmail\n\n## Description\n\nA tool to download DMARC from Gmail email attachments. Consider it under development, so use with care. Feedback and PRs are welcome!\n\n## How To Use\n\nFirst, you need to give the tool access to your Gmail account through the API. Here's how to do it for a workspace account:\n\n* Access [https://console.cloud.google.com/](https://console.cloud.google.com/)\n* Create a new project, for example named \"DownloadDMARCAttachments\"\n* Select the newly created project\n* Enable the Gmail API\n  * Navigate to the [API Console](https://console.developers.google.com/)\n  * Select on **ENABLE APIS AND SERVICES**\n  * Search for **gmail**\n  * Select **Gmail API**\n  * Select **Enable**\n* Configure the **OAuth consent**\n  * Select **OAuth consent screen** from the left navigation pane\n  * Go throught the wizard to create an App\n  * Use in scopes 'https://www.googleapis.com/auth/gmail.modify'\n* Configure the **Credentials**\n  * Select **Credentials** from the left navigation pane\n  * Select **CREATE CREDENTIALS** and select **OAuth Client ID**\n  * For **Application type** select **Desktop app**\n  * For **Name** fill in \"DownloadDMARCAttachments\"\n  * Select **Create**\n  * Download the JSON file\n* Create a `~/.config/dmarc` folder, copy the client json file into it, and rename it to `client_id.json`\n\nSecond, you need to ensure that all the DMARC messages in your Gmail inbox have a label. By default, the label is \"DMARC\".\n\nThird, create a label under which the messages will be posted after a successful download of the attachment. By default, the tool uses \"PROCESSED_DMARC\".\n\nYou are now ready to run it. Just pass in the label name and the processed label name, if different from the defaults. The tool will download the attachments for messages found under the DMARC label into an `out` folder and replace the DMARC label with the processed label. This allows you to double check the results, and do whatever you want with the processed messages.\n\n## Renewing OAuth Client ID\n\nWhen renewing the OAuth Client ID, download the OAuth client JSON file again.\n\nMove the file to `./secrets/client_id.json`.\n\nDelete the file `./secrets/token.pickle`.\n\n## Known Issues\n\nWe're still figuring out the different ways the attachment id is found in Gmail messages, so processing fails for some messages.\n\n## Limitations\n\nDue to limitations in the Gmail API, the tool processes max. 500 messages at once. If you have more than 500 DMARC messages, just run it again until you process all the files.\n\n## Generating a report\n\nIf you're looking for a simple tool to generate a report from the downloaded attachments, check out the companion tool [DMARC Reporting](https://github.com/MozaicWorks/DMARCReporting).\n\n## Development setup\n\n* Make sure you have python 3.10\n* Install [pipenv](https://pipenv.pypa.io/en/latest/#install-pipenv-today)\n\nWith default arguments, i.e. `--labelName DMARC --processedLabelName PROCESSED_DMARC`\n\n```bash\nmake install\nmake run\n```\n\nTo pass arguments:\n\n```bash\nmake run args=\"--labelName dmarc --processedLabelName processed-dmarc\"\n```\n\n## Development Notes\n\nThis tool was started by [Alex Bolboaca](https://twitter.com/alexboly) to automate the DMARC processing flow that he uses.\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/MozaicWorks/DownloadDMARCAttachmentsFromGmail",
    "keywords": "DMARC Gmail",
    "license": "",
    "maintainer": "",
    "maintainer_email": "",
    "name": "DownloadDMARCAttachmentsFromGmail",
    "package_url": "https://pypi.org/project/DownloadDMARCAttachmentsFromGmail/",
    "platform": null,
    "project_url": "https://pypi.org/project/DownloadDMARCAttachmentsFromGmail/",
    "project_urls": {
      "Bug Reports": "https://github.com/MozaicWorks/DownloadDMARCAttachmentsFromGmail/issues",
      "Homepage": "https://github.com/MozaicWorks/DownloadDMARCAttachmentsFromGmail",
      "Source": "https://github.com/MozaicWorks/DownloadDMARCAttachmentsFromGmail/"
    },
    "release_url": "https://pypi.org/project/DownloadDMARCAttachmentsFromGmail/0.1.0/",
    "requires_dist": [
      "google-api-python-client (==2.77.0)",
      "google-auth-httplib2 (==0.1.0)",
      "google-auth-oauthlib (==1.0.0)",
      "pyasn1 (==0.4.8)",
      "pyasn1-modules (==0.2.8)",
      "httplib2 (==0.21.0) ; python_version >= \"2.7\" and python_version not in \"3.0, 3.1, 3.2, 3.3\"",
      "requests-oauthlib (==1.3.1) ; python_version >= \"2.7\" and python_version not in \"3.0, 3.1, 3.2, 3.3\"",
      "six (==1.16.0) ; python_version >= \"2.7\" and python_version not in \"3.0, 3.1, 3.2, 3.3\"",
      "google-auth (==2.16.0) ; python_version >= \"2.7\" and python_version not in \"3.0, 3.1, 3.2, 3.3, 3.4, 3.5\"",
      "urllib3 (==1.26.14) ; python_version >= \"2.7\" and python_version not in \"3.0, 3.1, 3.2, 3.3, 3.4, 3.5\"",
      "pyparsing (==3.0.9) ; python_version >= \"3.1\"",
      "idna (==3.4) ; python_version >= \"3.5\"",
      "certifi (==2022.12.7) ; python_version >= \"3.6\"",
      "charset-normalizer (==3.0.1) ; python_version >= \"3.6\"",
      "oauthlib (==3.2.2) ; python_version >= \"3.6\"",
      "rsa (==4.9) ; python_version >= \"3.6\"",
      "uritemplate (==4.1.1) ; python_version >= \"3.6\"",
      "google-api-core (==2.11.0) ; python_version >= \"3.7\"",
      "googleapis-common-protos (==1.58.0) ; python_version >= \"3.7\"",
      "protobuf (==4.21.12) ; python_version >= \"3.7\"",
      "requests (==2.28.2) ; python_version >= \"3.7\" and python_version < \"4\"",
      "cachetools (==5.3.0) ; python_version ~= \"3.7\""
    ],
    "requires_python": ">=3.10",
    "summary": "Downloads DMARC attachments from Gmail",
    "version": "0.1.0",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 16833492,
  "releases": {
    "0.1.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "d2a8cfbb771e76e2e9f63e4013ade6d9446f464835e86e5638aa22604d34e7c0",
          "md5": "f191342783390c41db99b2ab8310c79a",
          "sha256": "7e4741db200525e1bcd8329f380922fa6ad9fec6ba6cc51a97ebe703ff60e946"
        },
        "downloads": -1,
        "filename": "DownloadDMARCAttachmentsFromGmail-0.1.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "f191342783390c41db99b2ab8310c79a",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.10",
        "size": 8182,
        "upload_time": "2023-02-13T07:16:13",
        "upload_time_iso_8601": "2023-02-13T07:16:13.718753Z",
        "url": "https://files.pythonhosted.org/packages/d2/a8/cfbb771e76e2e9f63e4013ade6d9446f464835e86e5638aa22604d34e7c0/DownloadDMARCAttachmentsFromGmail-0.1.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "47b6696851b2c8e9c3e9d8e3d966b1e4fe0574182d3d234faba4a890e4144388",
          "md5": "5804080548131c12f31a38c99f8103b4",
          "sha256": "d8aa9e8189273548e12dda80d9ac5b28f20441ec2245b0ea816fd20aef2ff0b6"
        },
        "downloads": -1,
        "filename": "DownloadDMARCAttachmentsFromGmail-0.1.0.tar.gz",
        "has_sig": false,
        "md5_digest": "5804080548131c12f31a38c99f8103b4",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.10",
        "size": 10954,
        "upload_time": "2023-02-13T07:16:15",
        "upload_time_iso_8601": "2023-02-13T07:16:15.455867Z",
        "url": "https://files.pythonhosted.org/packages/47/b6/696851b2c8e9c3e9d8e3d966b1e4fe0574182d3d234faba4a890e4144388/DownloadDMARCAttachmentsFromGmail-0.1.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "d2a8cfbb771e76e2e9f63e4013ade6d9446f464835e86e5638aa22604d34e7c0",
        "md5": "f191342783390c41db99b2ab8310c79a",
        "sha256": "7e4741db200525e1bcd8329f380922fa6ad9fec6ba6cc51a97ebe703ff60e946"
      },
      "downloads": -1,
      "filename": "DownloadDMARCAttachmentsFromGmail-0.1.0-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "f191342783390c41db99b2ab8310c79a",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": ">=3.10",
      "size": 8182,
      "upload_time": "2023-02-13T07:16:13",
      "upload_time_iso_8601": "2023-02-13T07:16:13.718753Z",
      "url": "https://files.pythonhosted.org/packages/d2/a8/cfbb771e76e2e9f63e4013ade6d9446f464835e86e5638aa22604d34e7c0/DownloadDMARCAttachmentsFromGmail-0.1.0-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "47b6696851b2c8e9c3e9d8e3d966b1e4fe0574182d3d234faba4a890e4144388",
        "md5": "5804080548131c12f31a38c99f8103b4",
        "sha256": "d8aa9e8189273548e12dda80d9ac5b28f20441ec2245b0ea816fd20aef2ff0b6"
      },
      "downloads": -1,
      "filename": "DownloadDMARCAttachmentsFromGmail-0.1.0.tar.gz",
      "has_sig": false,
      "md5_digest": "5804080548131c12f31a38c99f8103b4",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": ">=3.10",
      "size": 10954,
      "upload_time": "2023-02-13T07:16:15",
      "upload_time_iso_8601": "2023-02-13T07:16:15.455867Z",
      "url": "https://files.pythonhosted.org/packages/47/b6/696851b2c8e9c3e9d8e3d966b1e4fe0574182d3d234faba4a890e4144388/DownloadDMARCAttachmentsFromGmail-0.1.0.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}