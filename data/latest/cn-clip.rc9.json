{
  "info": {
    "author": "OFA-Sys",
    "author_email": "",
    "bugtrack_url": null,
    "classifiers": [],
    "description": "[**‰∏≠ÊñáËØ¥Êòé**](README.md) | [**English**](README_En.md)\n\n<p align=\"center\">\n    <br>\n    <img src=\"assets/Chinese_CLIP_logo_tp_path.svg\" width=\"400\" />\n    <br>\n<p>\n<br>\n\n<p align=\"center\">\n        <a href=\"https://www.modelscope.cn/models?name=clip&tasks=multi-modal-embedding\">ModelScope</a>&nbsp ÔΩú &nbsp<a href=\"https://www.modelscope.cn/studios/damo/chinese_clip_applications/summary\">Demo</a>&nbsp ÔΩú &nbsp<a href=\"https://arxiv.org/abs/2211.01335\">Paper </a>&nbsp ÔΩú &nbspBlog\n</p>\n<br><br>\n\nThis is the Chinese version of CLIP. We use a large-scale Chinese image-text pair dataset (~200M) to train the model, and we hope that it can help users to conveniently achieve [image representation generation](#api-use-case), [cross-modal retrieval](#cross-modal-retrieval) and [zero-shot image classification](#zero-shot-image-classification) for Chinese data. This repo is based on <b>[open_clip project](https://github.com/mlfoundations/open_clip)</b>. We have made some optimization for better performance on Chinese data, and we provide the details in the following. \n<br><br>\n\n# News\n* 2022.12.12 Implement [FLIP](https://arxiv.org/abs/2212.00794) strategy, which can be [activated](#FLIP) during finetuning (Thanks [@zwkkk](https://github.com/zwkkk) for [the PR](https://github.com/OFA-Sys/Chinese-CLIP/pull/26) ‚ù§Ô∏èÔºâ\n* 2022.12.3 The datasets of the Chinese version of the [ELEVATER](https://eval.ai/web/challenges/challenge-page/1832) benchmark are publicly available. See [Notes for datasets](zeroshot_dataset_en.md) for more information. \n* 2022.12.1 Chinese-CLIP model & representation generation API are officially merged into Huggingface transformersü§ó codebase.\n* 2022.11.22 Release [zero-shot image classification](#zero-shot-image-classification) code. Support [ELEVATER](https://eval.ai/web/challenges/challenge-page/1832) zero-shot classification benchmark.\n* 2022.11.3 Release RN50, ViT-H-14 models. Release [technical report](https://arxiv.org/pdf/2211.01335.pdf).\n* 2022.9.22 Release ViT-L-14, ViT-L-14-336 models.\n* 2022.7.13 Release [fast image & text representation generation API](#api-use-case), which facitilates usage of our CLIP models quickly.\n* 2022.7.8 Release the project Chinese-CLIP! Release [image-text retrieval](#cross-modal-retrieval) code.\n<br><br>\n\n# Models and Results\n<span id=\"model_card\"></span>\n## Model Card\nCurrently, we release 5 different sizes of Chinese-CLIP models. Detailed information and download link of each Chinese-CLIP model are provided below:\n\n<table border=\"1\" width=\"100%\">\n    <tr align=\"center\">\n        <th>Model</th><th>Ckpt</th><th>#Params (All)</th><th>Backbone (I)</th><th>#Params (I)</th><th>Backbone (T)</th><th>#Params (T)</th><th>Resolution</th>\n    </tr>\n    <tr align=\"center\">\n        <td>CN-CLIP<sub>RN50</sub></td><td><a href=\"https://clip-cn-beijing.oss-cn-beijing.aliyuncs.com/checkpoints/clip_cn_rn50.pt\">Download</a></td><td>77M</td><td>ResNet50</td><td>38M</td><td>RBT3</td><td>39M</td><td>224</td>\n    </tr>\n    <tr align=\"center\">\n        <td>CN-CLIP<sub>ViT-B/16</sub></td><td><a href=\"https://clip-cn-beijing.oss-cn-beijing.aliyuncs.com/checkpoints/clip_cn_vit-b-16.pt\">Download</a></td><td>188M</td><td>ViT-B/16</td><td>86M</td><td>RoBERTa-wwm-Base</td><td>102M</td><td>224</td>\n    </tr>\n    <tr align=\"center\">\n        <td>CN-CLIP<sub>ViT-L/14</sub></td><td><a href=\"https://clip-cn-beijing.oss-cn-beijing.aliyuncs.com/checkpoints/clip_cn_vit-l-14.pt\">Download</a></td><td>406M</td><td>ViT-L/14</td><td>304M</td><td>RoBERTa-wwm-Base</td><td>102M</td><td>224</td>\n    </tr>\n    <tr align=\"center\">\n        <td>CN-CLIP<sub>ViT-L/14@336px</sub></td><td><a href=\"https://clip-cn-beijing.oss-cn-beijing.aliyuncs.com/checkpoints/clip_cn_vit-l-14-336.pt\">Download</a></td><td>407M</td><td>ViT-L/14</td><td>304M</td><td>RoBERTa-wwm-Base</td><td>102M</td><td>336</td>\n    </tr>\n    <tr align=\"center\">\n        <td>CN-CLIP<sub>ViT-H/14</sub></td><td><a href=\"https://clip-cn-beijing.oss-cn-beijing.aliyuncs.com/checkpoints/clip_cn_vit-h-14.pt\">Download</a></td><td>958M</td><td>ViT-H/14</td><td>632M</td><td>RoBERTa-wwm-Large</td><td>326M</td><td>224</td>\n    </tr>\n</table>\n<br></br>\n\n## Results\nWe conducted zero-shot inference and finetuning experiments on [MUGE Retrieval](https://tianchi.aliyun.com/muge), [Flickr30K-CN](https://github.com/li-xirong/cross-lingual-cap) and [COCO-CN](https://github.com/li-xirong/coco-cn) for the evaluation of cross-modal retrieval, and conducted experiments on 10 image classification datasets of the [ELEVATER](https://eval.ai/web/challenges/challenge-page/1832) benchmark for the evaluation of zero-shot image classification. Results are shown below. Due to space limitation, here we only list the performance of the best performing Chinese-CLIP and baseline models. For detailed performance of each Chinese-CLIP model size, please refer to [Results.md](Results.md).\n\n**MUGE Text-to-Image Retrieval (Official Validation Set)**:\n<table border=\"1\" width=\"100%\">\n    <tr align=\"center\">\n        <th>Setup</th><th colspan=\"4\">Zero-shot</th><th colspan=\"4\">Finetune</th>\n    </tr>\n    <tr align=\"center\">\n        <td>Metric</td><td>R@1</td><td>R@5</td><td>R@10</td><td>MR</td><td>R@1</td><td>R@5</td><td>R@10</td><td>MR</td>\n    </tr>\n\t<tr align=\"center\">\n        <td width=\"120%\">Wukong</td><td>42.7</td><td>69.0</td><td>78.0</td><td>63.2</td><td>52.7</td><td>77.9</td><td>85.6</td><td>72.1</td>\n    </tr>\n\t<tr align=\"center\">\n        <td width=\"120%\">R2D2</td><td>49.5</td><td>75.7</td><td>83.2</td><td>69.5</td><td>60.1</td><td>82.9</td><td>89.4</td><td>77.5</td>\n    </tr>\n\t<tr align=\"center\">\n        <td width=\"120%\">CN-CLIP</td><td>63.0</td><td>84.1</td><td>89.2</td><td>78.8</td><td>68.9</td><td>88.7</td><td>93.1</td><td>83.6</td>\n    </tr>\n</table>\n<br>\n\n**Flickr30K-CN Retrieval (Official Test Set)**:\n<table border=\"1\" width=\"120%\">\n\t<tr align=\"center\">\n        <th>Task</th><th colspan=\"6\">Text-to-Image</th><th colspan=\"6\">Image-to-Text</th>\n    </tr>\n    <tr align=\"center\">\n        <th>Setup</th><th colspan=\"3\">Zero-shot</th><th colspan=\"3\">Finetune</th><th colspan=\"3\">Zero-shot</th><th colspan=\"3\">Finetune</th>\n    </tr>\n    <tr align=\"center\">\n        <td>Metric</td><td>R@1</td><td>R@5</td><td>R@10</td><td>R@1</td><td>R@5</td><td>R@10</td><td>R@1</td><td>R@5</td><td>R@10</td><td>R@1</td><td>R@5</td><td>R@10</td>\n    </tr>\n\t<tr align=\"center\">\n        <td width=\"120%\">Wukong</td><td>51.7</td><td>78.9</td><td>86.3</td><td>77.4</td><td>94.5</td><td>97.0</td><td>76.1</td><td>94.8</td><td>97.5</td><td>92.7</td><td>99.1</td><td>99.6</td>\n    </tr>\n\t<tr align=\"center\">\n        <td width=\"120%\">Taiyi</td><td>60.8</td><td>85.0</td><td>91.0</td><td>-</td><td>-</td><td>-</td><td>-</td><td>-</td><td>-</td><td>-</td><td>-</td><td>-</td>\n    </tr>\t\n\t<tr align=\"center\">\n        <td width=\"120%\">R2D2</td><td>60.9</td><td>86.8</td><td>92.7</td><td>84.4</td><td>96.7</td><td>98.4</td><td>77.6</td><td>96.7</td><td>98.9</td><td>95.6</td><td>99.8</td><td>100.0</td>\n    </tr>\n\t<tr align=\"center\">\n        <td width=\"120%\">CN-CLIP</td><td>71.2</td><td>91.4</td><td>95.5</td><td>83.8</td><td>96.9</td><td>98.6</td><td>81.6</td><td>97.5</td><td>98.8</td><td>95.3</td><td>99.7</td><td>100.0</td>\n    </tr>\n</table>\n<br>\n\n**COCO-CN Retrieval (Official Test Set)**:\n<table border=\"1\" width=\"100%\">\n\t<tr align=\"center\">\n        <th>Task</th><th colspan=\"6\">Text-to-Image</th><th colspan=\"6\">Image-to-Text</th>\n    </tr>\n    <tr align=\"center\">\n        <th>Setup</th><th colspan=\"3\">Zero-shot</th><th colspan=\"3\">Finetune</th><th colspan=\"3\">Zero-shot</th><th colspan=\"3\">Finetune</th>\n    </tr>\n    <tr align=\"center\">\n        <td>Metric</td><td>R@1</td><td>R@5</td><td>R@10</td><td>R@1</td><td>R@5</td><td>R@10</td><td>R@1</td><td>R@5</td><td>R@10</td><td>R@1</td><td>R@5</td><td>R@10</td>\n    </tr>\n\t<tr align=\"center\">\n        <td width=\"120%\">Wukong</td><td>53.4</td><td>80.2</td><td>90.1</td><td>74.0</td><td>94.4</td><td>98.1</td><td>55.2</td><td>81.0</td><td>90.6</td><td>73.3</td><td>94.0</td><td>98.0</td>\n    </tr>\n\t<tr align=\"center\">\n        <td width=\"150%\">Taiyi</td><td>60.0</td><td>84.0</td><td>93.3</td><td>-</td><td>-</td><td>-</td><td>-</td><td>-</td><td>-</td><td>-</td><td>-</td><td>-</td>\n    </tr>\t\n\t<tr align=\"center\">\n        <td width=\"120%\">R2D2</td><td>56.4</td><td>85.0</td><td>93.1</td><td>79.1</td><td>96.5</td><td>98.9</td><td>63.3</td><td>89.3</td><td>95.7</td><td>79.3</td><td>97.1</td><td>98.7</td>\n    </tr>\n\t<tr align=\"center\">\n        <td width=\"120%\">CN-CLIP</td><td>69.2</td><td>89.9</td><td>96.1</td><td>81.5</td><td>96.9</td><td>99.1</td><td>63.0</td><td>86.6</td><td>92.9</td><td>83.5</td><td>97.3</td><td>99.2</td>\n    </tr>\n</table>\n<br>\n\n**Zero-shot Image Classification**:\n<table border=\"1\" width=\"100%\">\n\t<tr align=\"center\">\n        <th>Task</th><th>CIFAR10</th><th>CIFAR100</th><th>DTD</th><th>EuroSAT</th><th>FER</th><th>FGVC</th><th>KITTI</th><th>MNIST</th><th>PC</th><th>VOC</th>\n    </tr>\n\t<tr align=\"center\">\n        <td width=\"150%\">GIT</td><td>88.5</td><td>61.1</td><td>42.9</td><td>43.4</td><td>41.4</td><td>6.7</td><td>22.1</td><td>68.9</td><td>50.0</td><td>80.2</td>\n    </tr>\n    \t<tr align=\"center\">\n        <td width=\"150%\">ALIGN</td><td>94.9</td><td>76.8</td><td>66.1</td><td>52.1</td><td>50.8</td><td>25.0</td><td>41.2</td><td>74.0</td><td>55.2</td><td>83.0</td>\n    </tr>\n\t<tr align=\"center\">\n        <td width=\"150%\">CLIP</td><td>94.9</td><td>77.0</td><td>56.0</td><td>63.0</td><td>48.3</td><td>33.3</td><td>11.5</td><td>79.0</td><td>62.3</td><td>84.0</td>\n    </tr>\n    \t<tr align=\"center\">\n        <td width=\"150%\">Wukong</td><td>95.4</td><td>77.1</td><td>40.9</td><td>50.3</td><td>-</td><td>-</td><td>-</td><td>-</td><td>-</td><td>-</td>\n    </tr>\n    \t<tr align=\"center\">\n        <td width=\"150%\">CN-CLIP</td><td>96.0</td><td>79.7</td><td>51.2</td><td>52.0</td><td>55.1</td><td>26.2</td><td>49.9</td><td>79.4</td><td>63.5</td><td>84.9</td>\n    </tr>\n</table>\n<br><br>\n\n# Getting Started\n## Installation Requirements\nTo start with this project, make sure that your environment meets the requirements below:\n\n* python >= 3.6.4\n* pytorch >= 1.8.0 (with torchvision >= 0.9.0)\n* CUDA Version >= 10.2\n\nRun the following command to install required packages.\n\n```bash\npip install -r requirements.txt\n```\n\n## API Use Case\nWe provide a simple code snippet to show how to use the API for Chinese-CLIP. For starters, please install cn_clip:\n```bash\n# to install the latest stable release\npip install cn_clip\n\n# or install from source code\ncd Chinese-CLIP\npip install -e .\n```\nAfter installation, use Chinese CLIP to compute the image ([example](examples/pokemon.jpeg)) & text embeddings and similarities as shown below:\n```python\nimport torch \nfrom PIL import Image\n\nimport cn_clip.clip as clip\nfrom cn_clip.clip import load_from_name, available_models\nprint(\"Available models:\", available_models())  \n# Available models: ['ViT-B-16', 'ViT-L-14', 'ViT-L-14-336', 'ViT-H-14', 'RN50']\n\ndevice = \"cuda\" if torch.cuda.is_available() else \"cpu\"\nmodel, preprocess = load_from_name(\"ViT-B-16\", device=device, download_root='./')\nmodel.eval()\nimage = preprocess(Image.open(\"examples/pokemon.jpeg\")).unsqueeze(0).to(device)\ntext = clip.tokenize([\"Êù∞Â∞ºÈæü\", \"Â¶ôËõôÁßçÂ≠ê\", \"Â∞èÁÅ´Èæô\", \"ÁöÆÂç°‰∏ò\"]).to(device)\n\nwith torch.no_grad():\n    image_features = model.encode_image(image)\n    text_features = model.encode_text(text)\n    # Normalize the features. Please use the normalized features for downstream tasks.\n    image_features /= image_features.norm(dim=-1, keepdim=True) \n    text_features /= text_features.norm(dim=-1, keepdim=True)      \n\n    logits_per_image, logits_per_text = model.get_similarity(image, text)\n    probs = logits_per_image.softmax(dim=-1).cpu().numpy()\n\nprint(\"Label probs:\", probs)  # [[1.268734e-03 5.436878e-02 6.795761e-04 9.436829e-01]]\n```\n\nHowever, if you are not satisfied with only using the API, move on for more details about training and inference. \n<br><br>\n\n\n# Tutorial\n\nCurrently, we provide the tutorial of [cross-modal retrieval](#cross-modal-retrieval) and [zero-shot image classification](#zero-shot-image-classification) below.\n\n## Cross-Modal Retrieval\n\n### Code Organization\n\nAfter cloning this project, please create a new directory ```${DATAPATH}``` for datasets, checkpoints and logs„ÄÇA recommended workspace structure is demonstrated belowÔºö\n\n```\nChinese-CLIP/\n‚îú‚îÄ‚îÄ run_scripts/\n‚îÇ   ‚îú‚îÄ‚îÄ muge_finetune_vit-b-16_rbt-base.sh\n‚îÇ   ‚îú‚îÄ‚îÄ flickr30k_finetune_vit-b-16_rbt-base.sh\n‚îÇ   ‚îî‚îÄ‚îÄ ...           # more scripts for finetuning and evaluation...\n‚îî‚îÄ‚îÄ src/\n    ‚îú‚îÄ‚îÄ clip/\n    ‚îú‚îÄ‚îÄ eval/\n    ‚îú‚îÄ‚îÄ preprocess/\n    ‚îî‚îÄ‚îÄ training/\n\n${DATAPATH}\n‚îú‚îÄ‚îÄ pretrained_weights/\n‚îú‚îÄ‚îÄ experiments/\n‚îî‚îÄ‚îÄ datasets/\n    ‚îú‚îÄ‚îÄ MUGE/\n    ‚îú‚îÄ‚îÄ Flickr30k-CN/\n    ‚îî‚îÄ‚îÄ .../          # more datasets...\n```\n\n### Preparation\nWe provide links for the downloading of pretrained checkpoints, as well as the data preprocessing procedures for finetuning. \n\n#### Pretrained Checkpoints\n\nPlease refer to [model card section](#model_card) above and download the model checkpoint. We recommend putting the checkpoint in `${DATAPATH}/pretrained_weights/`. \n\n#### Data Preprocessing\n\nWe advise to organize the data in the following way to ensure the efficiency of accessing and processing data:\n\n```\n${DATAPATH}\n‚îî‚îÄ‚îÄ datasets/\n    ‚îî‚îÄ‚îÄ ${dataset_name}/\n        ‚îú‚îÄ‚îÄ train_imgs.tsv      # image id & image content\n        ‚îú‚îÄ‚îÄ train_texts.jsonl   # text id & text content, with list of paired image ids\n        ‚îú‚îÄ‚îÄ valid_imgs.tsv\n        ‚îú‚îÄ‚îÄ valid_texts.jsonl\n        ‚îú‚îÄ‚îÄ test_imgs.tsv\n        ‚îî‚îÄ‚îÄ test_texts.jsonl\n```\nwhere `${dataset_name}` refers to the name of dataset (e.g., MUGE).\n\nTo ensure the efficiency of processing data, we did not store images with small files, but instead we encode them to base64 strings and store them in `${split}_imgs.tsv`. Each line represents an image, where there are id (int) and base64 string, split by `\\t`, as shown below:  \n```\n1000002\t/9j/4AAQSkZJ...YQj7314oA//2Q==\n```\n\nTransforming image files to base64 strings is simple. Run the following code:\n```python\nfrom PIL import Image\nfrom io import BytesIO\nimport base64\n\nimg = Image.open(file_name) # path to file\nimg_buffer = BytesIO()\nimg.save(img_buffer, format=img.format)\nbyte_data = img_buffer.getvalue()\nbase64_str = base64.b64encode(byte_data) # bytes\nbase64_str = base64_str.decode(\"utf-8\") # str\n```\n\nTexts and image-text pairing relations are stored in `${split}_texts.jsonl`, where each line is a json as shown below:\n\n```\n{\"text_id\": 8428, \"text\": \"È´òÁ∫ßÊÑüÊâòÁâπÂåÖÊñúÊåé\", \"image_ids\": [1076345, 517602]}\n```\nFor the test set where only the texts are given and the image-text pairing relations are unknown, just leave the `image_ids` field as an empty list, `\"image_ids\": []`.\n\nFinally, we need to serialize tsv and jsonl and transform them to LMDB files, which is easy for random access during training.\n```\npython src/preprocess/build_lmdb_dataset.py \\\n    --data_dir ${DATAPATH}/datasets/${dataset_name}\n    --splits train,valid,test\n```\nFor example, for the MUGE dataset, we name `${dataset_name}` to MUGE. `--splits` refers to dataset splitsÔºåsplit by commas without space. After that, there will be LMDB files in the directory.\n```\n${DATAPATH}\n‚îî‚îÄ‚îÄ datasets/\n    ‚îî‚îÄ‚îÄ ${dataset_name}/\n        ‚îî‚îÄ‚îÄ lmdb/\n            ‚îú‚îÄ‚îÄ train\n            ‚îÇ   ‚îú‚îÄ‚îÄ imgs\n            ‚îÇ   ‚îî‚îÄ‚îÄ pairs\n            ‚îú‚îÄ‚îÄ valid\n            ‚îî‚îÄ‚îÄ test\n```\n\nFor easier use, we have provided preprocessed MUGE ([download link](https://clip-cn-beijing.oss-cn-beijing.aliyuncs.com/datasets/MUGE.zip)) and Flickr30K-CN ([download link](https://clip-cn-beijing.oss-cn-beijing.aliyuncs.com/datasets/Flickr30k-CN.zip)) datasets in zip format. To use them, just download and unzip it under `${DATAPATH}/datasets/`.\n\n### Finetuning\n\nWe introduce the procedures of training for users to learn about the details of the model. We finetune with the pretrained Chinese CLIP. For MUGE and Flickr30K-CN, we provide scripts `run_scripts/muge_finetune_vit-b-16_rbt-base.sh` and `run_scripts/flickr30k_finetune_vit-b-16_rbt-base.sh`. <b>The scripts support single-worker and distributed training. Before running, follow the instructions at the beggining of the scripts and fill in your configuration for distributed training. Then run the scripts to start your training. If the GPU memory is insufficient, you can consider to [activate the gradient checkpointing strategy](#checkpointing) in the configuration.</b> Logs and checkpoints will be saved at your specified paths. \n\n```bash\ncd Chinese-CLIP/\nbash run_scripts/muge_finetune_vit-b-16_rbt-base.sh ${DATAPATH}\n```\n\nThe configuration for training includes:\n\n+ Distributed training\n  + `WORKER_CNT`: the number of machines.\n  + `GPUS_PER_NODE`: the number of GPUS on each machine.\n+ Data for training/validation\n  + `train-data`: directory of training data. Follow the procedures above the create LMDB files.\n  + `val-data`: directory of validation data.\n  + `num-workers`: the number of workers for dataloader.\n+ Training hyper-params\n  + `vision-model`: specified visual backbones. Select from `[\"ViT-B-16\", \"ViT-L-14\", \"ViT-L-14-336\", \"ViT-H-14\", \"RN50\"]`.\n  + `text-model`: specified language backbones. Select from `[\"RoBERTa-wwm-ext-base-chinese\", \"RoBERTa-wwm-ext-large-chinese\", \"RBT3-chinese\"]`.\n  + `context-length`: sequence length for text inputs.\n  + `warmup`: steps for warmup.\n  + `batch-size`: batch size for a worker (make sure that the number of training samples larger than `batch-size * GPUs`).\n  + `lr`: learning rate.\n  + `wd`: weight decay.\n  + `max-steps`: training steps. Also you can set `max-epochs` to set the number of training epochs.\n  + `freeze-vision`: whether to freeze the visual backbone. \n  + `use-augment`: whether to use [AutoAugment](https://arxiv.org/abs/1805.09501) for data augmentation. \n  + `valid-batch-size`: validation batch size for a worker (make sure that the number of validation samples larger than `valid-batch-size * GPUs`).\n  + `valid-step-interval` and `valid-epoch-interval`: validation step / epoch frequency, if set to -1 then validation will be disabled during finetuning.\n  + `grad-checkpointing`: <span id=\"checkpointing\"></span>use [gradient checkpointing]((https://pytorch.org/docs/stable/checkpoint.html)) which does not keep the activations during forward computation, this strategy trades more computation and iteration time for less GPU memory cost. (`store_true` argument, just add `--grad-checkpointing` in the script to activate it, requires Pytorch>1.8.0)\n  + `mask-ratio`: <span id=\"FLIP\"></span>use [FLIP](https://arxiv.org/abs/2212.00794) strategy which randomly masks a ratio of image patches to save GPU memory and speed up training. Default to 0.0, which disables the strategy.\n+ Ouputs\n  + `name`: specified output path. Hyperparameter logs, training logs, and checkpoints will be saved at `${DATAPATH}/experiments/${name}/`.\n  + `save-step-frequency` and `save-epoch-frequency`: the intervals for saving checkpoints.\n  + `report-training-batch-acc`: whether to report the in-batch image-to-text and text-to-image retrieval accuracy. \n+ Checkpoints\n  + `resume`: the checkpoint path for weights to restore. In the provided example script, the path refers to the pretrained checkpoint path. Users can change to your own checkpoint path.\n  + `reset-data-offset`: whether to restore training at the data breakpoint.\n  + `reset-optimizer`: whether to restore the optimizer state„ÄÇ\n\nAfter training, the log will be saved at `${DATAPATH}/experiments/${name}/out_${timestamp}.log`. Example of log is shown below:\n```\n2022-12-11,20:40:34 | INFO | Rank 0 | Global Steps: 1/735 | Train Epoch: 1 [1024/250880 (0%)] | Loss: 2.371020 | Image2Text Acc: 49.90 | Text2Image Acc: 48.73 | Data Time: 1.039s | Batch Time: 3.625s | LR: 0.000000 | logit_scale: 4.605 | Global Batch Size: 1024\n```\nThe example of validation log is shown below:\n```\n2022-12-11,20:42:47 | INFO | Rank 0 | Validation Result (epoch 1 @ 150 steps) | Valid Loss: 0.502810 | Image2Text Acc: 84.95 | Text2Image Acc: 84.26 | logit_scale: 4.605 | Valid Batch Size: 128\n```\n\n**Attention**: The convergence and stability of contrastive learning is highly relevant to the total batch size. If you use a smaller batch size, (in comparison with the default 128 per-GPU \\* 8 GPU), we advise you to use a smaller learning rat. We recommend using more GPUs and larger batch size for better performance. \n\n### Inference and Evaluation\n\nWe provide procedures for representation generation and cross-modal retrieval, as demonstrated below:\n\n#### Image/Text Representation Generation\n\nBy now the code supports representation generation with a single worker. Follow the commands below:\n```bash\ncd Chinese-CLIP/\nexport CUDA_VISIBLE_DEVICES=0\nexport PYTHONPATH=${PYTHONPATH}:`pwd`/src\n\nsplit=valid # validation / test set\nresume=${DATAPATH}/pretrained_weights/clip_cn_vit-b-16.pt\n\npython -u src/eval/extract_features.py \\\n    --extract-image-feats \\\n    --extract-text-feats \\\n    --image-data=\"${DATAPATH}/datasets/${dataset_name}/lmdb/${split}/imgs\" \\\n    --text-data=\"${DATAPATH}/datasets/${dataset_name}/${split}_texts.jsonl\" \\\n    --img-batch-size=32 \\\n    --text-batch-size=32 \\\n    --context-length=52 \\\n    --resume=${resume} \\\n    --vision-model=ViT-B-16 \\\n    --text-model=RoBERTa-wwm-ext-base-chinese\n```\n\nBy default, the representations are stored at `${DATAPATH}/datasets/${dataset_name}`. Specifically, the image representations are stored at `${split}_imgs.img_feat.jsonl`. Each line stores a json of image representation, as shown below:\n```\n{\"image_id\": 1000002, \"feature\": [0.0198, ..., -0.017, 0.0248]}\n```\nText representations are stored at `${split}_texts.txt_feat.jsonl`Ôºåas shown below:\n```\n{\"text_id\": 248816, \"feature\": [0.1314, ..., 0.0018, -0.0002]}\n```\n\n#### KNN Retrieval\n\nFor small-scale retrieval datasets, we provide a simple implementation of KNN retrieval, to facilitate the retrieval of top-k results in cross-modal retrieval. (tips: If you want to build a [retrieval demo](https://www.modelscope.cn/studios/damo/chinese_clip_applications/summary) in your project like us, we suggest first to use Chinese-CLIP to compute image and text embeddings, and then employ an opensource servering framework [clip-retrieval](https://github.com/rom1504/clip-retrieval) to deploy the front-end and back-end servering.)\n\nFor text-to-image retrieval, run the commands below:\n```bash\ncd Chinese-CLIP/\nsplit=valid # validation / test splits\npython -u src/eval/make_topk_predictions.py \\\n    --image-feats=\"${DATAPATH}/datasets/${dataset_name}/${split}_imgs.img_feat.jsonl\" \\\n    --text-feats=\"${DATAPATH}/datasets/${dataset_name}/${split}_texts.txt_feat.jsonl\" \\\n    --top-k=10 \\\n    --eval-batch-size=32768 \\\n    --output=\"${DATAPATH}/datasets/${dataset_name}/${split}_predictions.jsonl\"\n```\nResults are stored at specified jsonl files. Each line consists of top-k image ids for a text query, as shown below:\n```json\n{\"text_id\": 153915, \"image_ids\": [5791244, 1009692167, 7454547004, 3564007203, 38130571, 2525270674, 2195419145, 2503091968, 4966265765, 3690431163]}\n```\n\nFor image-to-text retrieval, run the commands belowÔºö\n```bash\nsplit=valid # validation / test splits\npython -u src/eval/make_topk_predictions_tr.py \\\n    --image-feats=\"${DATAPATH}/datasets/${dataset_name}/${split}_imgs.img_feat.jsonl\" \\\n    --text-feats=\"${DATAPATH}/datasets/${dataset_name}/${split}_texts.txt_feat.jsonl\" \\\n    --top-k=10 \\\n    --eval-batch-size=32768 \\\n    --output=\"${DATAPATH}/datasets/${dataset_name}/${split}_tr_predictions.jsonl\"\n```\nResults are stored at specified jsonl files. Each line consists of top-k text ids for an image query, as shown below:\n```json\n{\"image_id\": 977856234, \"text_ids\": [156914, 157914, 158914, 155914, 156179, 158907, 157179, 154179, 154914, 154723]}\n```\n\n#### Recall Metric\n\nWe provide scripts for computing the Recall@1/5/10 and mean recall (the mean of Recall@1/5/10). Run the commands to get the scores:\n\nFor text-to-image retrieval, run the commands below:\n```bash\nsplit=valid # validation / test splits\npython src/eval/evaluation.py \\\n        ${DATAPATH}/datasets/${dataset_name}/${split}_texts.jsonl \\\n        ${DATAPATH}/datasets/${dataset_name}/${split}_predictions.jsonl \\\n        output.json\ncat output.json\n```\n\n\nFor image-to-text retrieval, run the commands first to transform text-to-image jsonls to image-to-text ones:\n```bash\npython src/eval/transform_ir_annotation_to_tr.py \\\n        --input ${DATAPATH}/datasets/${dataset_name}/${split}_texts.jsonl\n```\nAfter thatÔºårun the following commands\n```bash\nsplit=valid # validation / test splits\npython src/eval/evaluation_tr.py \\\n        ${DATAPATH}/datasets/${dataset_name}/${split}_texts.tr.jsonl \\\n        ${DATAPATH}/datasets/${dataset_name}/${split}_tr_predictions.jsonl \\\n        output.json\ncat output.json\n```\n\nThe printed results are shown below:\n```json\n{\"success\": true, \"score\": 85.67, \"scoreJson\": {\"score\": 85.67, \"mean_recall\": 85.67, \"r1\": 71.2, \"r5\": 90.5, \"r10\": 95.3}}\n```\n<br>\n\n## Zero-shot Image Classification\nThis section introduces the use of Chinese-CLIP for zero-shot image classification. We use the experiment on a dataset of the benchmark ELEVATER as an example. ELEVATER is a benchmark consist of several widely used classification datasets and evaluates the zero-shot performance on these datasets, including CIFAR-10, CIFAR-100, MNIST, etc. In our experiments, we have perpared Chinese prompts and label names with the original images for each ELEVATER dataset (refer to [Notes for datasets](zeroshot_dataset_en.md) for download) to evaluate Chinese-CLIP. For more information about ELEVATER, please click [this link](https://eval.ai/web/challenges/challenge-page/1832/overview). Users can also follow the procedure below to prepare and evaluate their own classification datasets.\n<br><br>\n\n### Preparation\nWe need to prepare only the test set and the pretrained Chinese-CLIP checkpoint. It's recommended to prepare these directories under a user defined `${DATAPATH}` and organize them as follows:\n```\n${DATAPATH}\n‚îú‚îÄ‚îÄ pretrained_weights/\n‚îî‚îÄ‚îÄ datasets/\n    ‚îî‚îÄ‚îÄ ${dataset_name}/\n        ‚îú‚îÄ‚îÄ label_cn.txt\n        ‚îî‚îÄ‚îÄ test/\n\t    ‚îú‚îÄ‚îÄ 000/ # label idÔºåfill 0 by the left to 3 digits so that the labels can be alphabetically ordered\n\t    ‚îÇ   ‚îú‚îÄ‚îÄ image_0003.jpg # image sample, no specific requirements for the naming\n\t    ‚îÇ   ‚îú‚îÄ‚îÄ image_0005.jpg\n\t    ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ ...\n\t    ‚îú‚îÄ‚îÄ 001/\n\t    ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ image_0001.jpg\n\t    ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ image_0002.jpg\n\t    ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ ...\n\t    ‚îî‚îÄ‚îÄ 002/\n\t        ‚îú‚îÄ‚îÄ image_0003.jpg\n\t        ‚îú‚îÄ‚îÄ image_0005.jpg\n\t        ‚îî‚îÄ‚îÄ ...\n\t    ...\n\t\n```\nMake sure the data are categorized by their label id, and make sure the ids are alphabetically orderd (for numbers larger than 10, use`label.zfill(3)` to fill 0 by the left to 3 digits, like 001Ôºå002, etc). `label_cn.txt` refers to the file of label names. Each line has a label name, as demonstrated below:\n```\naccordion\nairplane\nanchor\n...\n```\nThe label id is `[line number]-1`. For example, the label id for the first line is 0, and the one for the second line is 1. If the number of labels is larger than 10, all labels are filled with 0 by the left to 3-digit numbers. For example, if the number of labels is 100, the ids are `000-099`. Users should create a directory for each label, and put the corresponding samples into the directories. We provide the processed dataset CIFAR-100 as an example, and please click [this link](http://clip-cn-beijing.oss-cn-beijing.aliyuncs.com/datasets/cifar-100.zip) to download the prepared dataset. To evaluate other datasets of ELEVATER, please refer to [Notes for datasets](zeroshot_dataset_en.md) for download.\n<br><br>\n\n### Prediction and Evaluation\nWe provide a script for prediction and evaluation. Please check `run_scripts/zeroshot_eval.sh` for more details. An example command is shown below:\n```bash\nbash run_scripts/zeroshot_eval.sh 0 \\\n   ${DATAPATH} ${dataset_name} \\\n   ${vision_model} ${text_model} \\\n   ${ckpt_path} ${index_file}\n```\nwhere the arguments stand for:\n+ the first argument `0` refers to the GPU ID\n+ `DATAPATH` refers to the root directory storing the checkpoint and dataset, as mentioned in Preparation part above\n+ `dataset_name` refers to the directory name of the dataset, e.g. cifar-100, as mentioned in Preparation part above\n+ `vision_model` refers to the type of vision encoder, including `[\"ViT-B-32\", \"ViT-B-16\", \"ViT-L-14\", \"ViT-L-14-336\", \"RN50\", \"ViT-H-14\"]`\n+ `text_model` refers to the type of text encoder, including `[\"RoBERTa-wwm-ext-base-chinese\", \"RoBERTa-wwm-ext-large-chinese\", \"RBT3-chinese\"]`\n+ `ckpt_path` refers to the complete path of the pretrained Chinese-CLIP checkpoint\n+ `index_file` is optional and only needed when you would like to submit to ELEVATER official website. Please refer to [Notes for datasets](zeroshot_dataset_en.md) for more details\n\nFor example, to evaluate ViT-B/16 on CIFAR-100, please run (the `${DATAPATH}` should be replaced with your real path):\n```bash\nbash run_scripts/zeroshot_eval.sh 0 \\\n    ${DATAPATH} cifar-100 \\\n    ViT-B-16 RoBERTa-wwm-ext-base-chinese \\\n    ${DATAPATH}/pretrained_weights/clip_cn_vit-b-16.pt\n```\n\nTop-1 accuracy will be printed. \n```\nResult:\nzeroshot-top1: 0.6444\n```\nOn CIFAR-100, the ViT-B/16 model of Chinese-CLIP will achieve the accuracy of 64.4%. For the zero-shot evaluation results of other model scales and other datasets, please refer to [Results.md](https://github.com/OFA-Sys/Chinese-CLIP/blob/master/Results.md#zeroshot_results).\n\nAlso, a json file will be saved, which serves the submission of ELEVATER. An example of the json file is shown belowÔºö\n```json\n{\"model_name\": \"CN-CLIP-ViT-B-16\", \"dataset_name\": \"cifar-100\", \"num_trainable_params\": 0, \"num_params\": 188262913, \"num_visual_params\": 86192640, \"num_backbone_params\": 188262913, \"n_shot\": 0, \"rnd_seeds\": [123], \"predictions\": \"prediction probability tensor [size: (1, 10000, 100)]\"}\n```\nIt includes meta data like the name of model `model_name`, the dataset name `dataset_name`, the number of parameters`num_params`, the number of parameters of vision encoder `num_visual_params`, and also the outputs of the model, namely the predicted probability tensor, whose size is `[1, num_samples, num_labels]`. \n\n### Zero-Shot Classification Online Demo\nBased on the representation generation API which we have integrated into Huggingface transformers, we are able to provide online demos of zero-shot classification task on Huggingface Model Hubü§ó for each scale of Chinese-CLIP model. The links are given below:\n- [OFA-Sys/chinese-clip-vit-base-patch16](https://huggingface.co/OFA-Sys/chinese-clip-vit-base-patch16)\n- [OFA-Sys/chinese-clip-vit-large-patch14](https://huggingface.co/OFA-Sys/chinese-clip-vit-large-patch14)\n- [OFA-Sys/chinese-clip-vit-large-patch14-336px](https://huggingface.co/OFA-Sys/chinese-clip-vit-large-patch14-336px)\n- [OFA-Sys/chinese-clip-vit-huge-patch14](https://huggingface.co/OFA-Sys/chinese-clip-vit-huge-patch14)\n- **ÔºàUpdate on 12.10üî•Ôºâ**[**New version of demo deployed on Huggingface Spaces**](https://huggingface.co/spaces/OFA-Sys/chinese-clip-zero-shot-image-classification): the 4 model scales above are all gathered into the same demo page, supporting customed prompt template by user. **Welcome to try!**\n<br><br><br>\n\n\n# Citation\nIf you find the project helpful, please star this project and cite the related articles. Thanks for your support!\n\n```\n@article{chinese-clip,\n  title={Chinese CLIP: Contrastive Vision-Language Pretraining in Chinese},\n  author={Yang, An and Pan, Junshu and Lin, Junyang and Men, Rui and Zhang, Yichang and Zhou, Jingren and Zhou, Chang},\n  journal={arXiv preprint arXiv:2211.01335},\n  year={2022}\n}\n```\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/OFA-Sys/Chinese-CLIP",
    "keywords": "clip",
    "license": "",
    "maintainer": "",
    "maintainer_email": "",
    "name": "cn-clip",
    "package_url": "https://pypi.org/project/cn-clip/",
    "platform": null,
    "project_url": "https://pypi.org/project/cn-clip/",
    "project_urls": {
      "Homepage": "https://github.com/OFA-Sys/Chinese-CLIP"
    },
    "release_url": "https://pypi.org/project/cn-clip/1.5.1/",
    "requires_dist": [
      "numpy",
      "tqdm",
      "six",
      "timm",
      "lmdb (==1.3.0)",
      "torch (>=1.7.1)",
      "torchvision"
    ],
    "requires_python": "",
    "summary": "the Chinese version of CLIP.",
    "version": "1.5.1",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 16413456,
  "releases": {
    "1.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "6e9f953adb3027601d771c4ccbea3a4fcf76ecdf589e0abebc6039a731f53dd7",
          "md5": "1ca588a3258f249bcf331fc453d94542",
          "sha256": "8bbeca347babbdcbea740e809becb35cf344aac992830007c4547da058a0a862"
        },
        "downloads": -1,
        "filename": "cn_clip-1.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "1ca588a3258f249bcf331fc453d94542",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 64294,
        "upload_time": "2022-07-14T11:54:53",
        "upload_time_iso_8601": "2022-07-14T11:54:53.039781Z",
        "url": "https://files.pythonhosted.org/packages/6e/9f/953adb3027601d771c4ccbea3a4fcf76ecdf589e0abebc6039a731f53dd7/cn_clip-1.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "04dab2c91e1d8425dc53675573b7694986489642546e219ea4d5bfc28c05f5f9",
          "md5": "14cdaa8a93a2b4c82590b0f928921643",
          "sha256": "a2a97d22b01b7a29788cf4611949d31c2b2bbfa36bb4a628f22b7800fb1b3a60"
        },
        "downloads": -1,
        "filename": "cn_clip-1.0.tar.gz",
        "has_sig": false,
        "md5_digest": "14cdaa8a93a2b4c82590b0f928921643",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 77349,
        "upload_time": "2022-07-14T11:54:55",
        "upload_time_iso_8601": "2022-07-14T11:54:55.247251Z",
        "url": "https://files.pythonhosted.org/packages/04/da/b2c91e1d8425dc53675573b7694986489642546e219ea4d5bfc28c05f5f9/cn_clip-1.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.2": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "3eece58c00d10f5a6b3d82465591f93bc8ff5b5b6531f85e31dbf0cad31719a3",
          "md5": "1d6c2c4b605d591b934ca4774090e8e9",
          "sha256": "fbe360e4c8a871efa90f5c3839b2faefd27ab49d4bcad23f00efc0daff3d6d44"
        },
        "downloads": -1,
        "filename": "cn_clip-1.2-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "1d6c2c4b605d591b934ca4774090e8e9",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 179584,
        "upload_time": "2022-11-03T05:58:10",
        "upload_time_iso_8601": "2022-11-03T05:58:10.575875Z",
        "url": "https://files.pythonhosted.org/packages/3e/ec/e58c00d10f5a6b3d82465591f93bc8ff5b5b6531f85e31dbf0cad31719a3/cn_clip-1.2-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "f1a73946daa7708702fb793d54fb1dd8e25312cc787fab076da1e77c7e8e8a96",
          "md5": "a01cb75b1e7e69dbad1094f5e65a8d30",
          "sha256": "c6cdef3138297b7a53caae5f3c0419770c0a15b6c1e94af8a27f04ab9c908195"
        },
        "downloads": -1,
        "filename": "cn_clip-1.2.tar.gz",
        "has_sig": false,
        "md5_digest": "a01cb75b1e7e69dbad1094f5e65a8d30",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 123079,
        "upload_time": "2022-11-03T05:58:12",
        "upload_time_iso_8601": "2022-11-03T05:58:12.680904Z",
        "url": "https://files.pythonhosted.org/packages/f1/a7/3946daa7708702fb793d54fb1dd8e25312cc787fab076da1e77c7e8e8a96/cn_clip-1.2.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.2.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "fc5e37761e142a1e1cfa4732f06d02e42c458c18de8885e32f5a38deb4811075",
          "md5": "b99eee55f46cf7c57e498b38e3d60fdb",
          "sha256": "572ce855609ffad14215b6b6c289fa34b84c100545d9e9832c90cc6a7d8ba478"
        },
        "downloads": -1,
        "filename": "cn_clip-1.2.1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "b99eee55f46cf7c57e498b38e3d60fdb",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 180124,
        "upload_time": "2022-11-03T11:51:25",
        "upload_time_iso_8601": "2022-11-03T11:51:25.053824Z",
        "url": "https://files.pythonhosted.org/packages/fc/5e/37761e142a1e1cfa4732f06d02e42c458c18de8885e32f5a38deb4811075/cn_clip-1.2.1-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "b30af0f7c6769f559c3d7e3b326e8fbde4d1bfe923b801e74b6e93c01d182a7d",
          "md5": "0a9bf3393f72720fe1f8f2fe6094d2d0",
          "sha256": "7e3518bcdbc73a97903c70f4b8fea9187741e167fac02d34a3fdae4090724b71"
        },
        "downloads": -1,
        "filename": "cn_clip-1.2.1.tar.gz",
        "has_sig": false,
        "md5_digest": "0a9bf3393f72720fe1f8f2fe6094d2d0",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 124844,
        "upload_time": "2022-11-03T11:51:26",
        "upload_time_iso_8601": "2022-11-03T11:51:26.795441Z",
        "url": "https://files.pythonhosted.org/packages/b3/0a/f0f7c6769f559c3d7e3b326e8fbde4d1bfe923b801e74b6e93c01d182a7d/cn_clip-1.2.1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.2.2": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "dfb683adccb7ed3b6eb8b48faa59d94137d82cf73eb4633930a4928292d21117",
          "md5": "907c5a345d223dc88df2e079ecea4611",
          "sha256": "a5ade3adb4049a08e48637ea5663609d7a37e488db0d19ce18b2a7d95e2285f9"
        },
        "downloads": -1,
        "filename": "cn_clip-1.2.2-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "907c5a345d223dc88df2e079ecea4611",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 180119,
        "upload_time": "2022-11-03T11:55:29",
        "upload_time_iso_8601": "2022-11-03T11:55:29.034909Z",
        "url": "https://files.pythonhosted.org/packages/df/b6/83adccb7ed3b6eb8b48faa59d94137d82cf73eb4633930a4928292d21117/cn_clip-1.2.2-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "a3db478d0021c37d918b8d2d937e02e68175b6eda60930ffdb419f4b0a37e3b8",
          "md5": "49719f6387729ed3b0ecfdd8beb3e748",
          "sha256": "4f54b2492566545197b2dc45149fdb44765d987433fef4fd77debcc813949fca"
        },
        "downloads": -1,
        "filename": "cn_clip-1.2.2.tar.gz",
        "has_sig": false,
        "md5_digest": "49719f6387729ed3b0ecfdd8beb3e748",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 124848,
        "upload_time": "2022-11-03T11:55:31",
        "upload_time_iso_8601": "2022-11-03T11:55:31.193559Z",
        "url": "https://files.pythonhosted.org/packages/a3/db/478d0021c37d918b8d2d937e02e68175b6eda60930ffdb419f4b0a37e3b8/cn_clip-1.2.2.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.2.3": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "9e19decede765f713aebdee6b0d04c6b609f05a737d73cc9151112e19e277d15",
          "md5": "95bcb73e73b02dddd79e2a2586d366da",
          "sha256": "9d0a3406c21f876279b3e433731e588194aef932c40ed22fa1a9b87bd83aa56f"
        },
        "downloads": -1,
        "filename": "cn_clip-1.2.3-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "95bcb73e73b02dddd79e2a2586d366da",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 180263,
        "upload_time": "2022-11-09T08:24:09",
        "upload_time_iso_8601": "2022-11-09T08:24:09.375643Z",
        "url": "https://files.pythonhosted.org/packages/9e/19/decede765f713aebdee6b0d04c6b609f05a737d73cc9151112e19e277d15/cn_clip-1.2.3-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "1813f0d9567337a1c863b35597ff281cd1ad123585eccc957fb731efcc89568a",
          "md5": "c8cb4a309b6379f738eee1630e7f8436",
          "sha256": "9adb15f4021059c2055133ace5c363eba9951638650a888fb42927a3750f5f17"
        },
        "downloads": -1,
        "filename": "cn_clip-1.2.3.tar.gz",
        "has_sig": false,
        "md5_digest": "c8cb4a309b6379f738eee1630e7f8436",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 125051,
        "upload_time": "2022-11-09T08:24:11",
        "upload_time_iso_8601": "2022-11-09T08:24:11.420653Z",
        "url": "https://files.pythonhosted.org/packages/18/13/f0d9567337a1c863b35597ff281cd1ad123585eccc957fb731efcc89568a/cn_clip-1.2.3.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.3": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "04f987250afe00e0e8547b71cd08eb44ed1a80f0d0cb5870fb8cdf68c826ff28",
          "md5": "c1983a25197a3db4ddc93d6637becb82",
          "sha256": "9ac615cc115043bea94dfacfa3b1761cb50318a438e7f4a6e75cca7febcfdf81"
        },
        "downloads": -1,
        "filename": "cn_clip-1.3-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "c1983a25197a3db4ddc93d6637becb82",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 185278,
        "upload_time": "2022-11-28T08:58:27",
        "upload_time_iso_8601": "2022-11-28T08:58:27.905713Z",
        "url": "https://files.pythonhosted.org/packages/04/f9/87250afe00e0e8547b71cd08eb44ed1a80f0d0cb5870fb8cdf68c826ff28/cn_clip-1.3-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "849dcd838685a4be48a6d4cda434d2d6ba6f2f732811f76f01b87bf5f398db91",
          "md5": "292151d11c16f6d092f4d4c26d61b999",
          "sha256": "5d4ea6d91aeb547634f05bfa500211a9dbda835e581f24f088570d2e170b8c27"
        },
        "downloads": -1,
        "filename": "cn_clip-1.3.tar.gz",
        "has_sig": false,
        "md5_digest": "292151d11c16f6d092f4d4c26d61b999",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 132656,
        "upload_time": "2022-11-28T08:58:30",
        "upload_time_iso_8601": "2022-11-28T08:58:30.370908Z",
        "url": "https://files.pythonhosted.org/packages/84/9d/cd838685a4be48a6d4cda434d2d6ba6f2f732811f76f01b87bf5f398db91/cn_clip-1.3.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.4": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "7395d2b8e037d9dde4c9de5733273e64939d6e103ab0016e5ed8029be83986b6",
          "md5": "89bfd6f58cc9610589bb7e7d10a8a782",
          "sha256": "ee07889364310847464db5e22dc8d62ada2fc8b32e9946bea22f5bc9cb7fc04e"
        },
        "downloads": -1,
        "filename": "cn_clip-1.4-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "89bfd6f58cc9610589bb7e7d10a8a782",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 186365,
        "upload_time": "2022-12-14T02:17:00",
        "upload_time_iso_8601": "2022-12-14T02:17:00.818378Z",
        "url": "https://files.pythonhosted.org/packages/73/95/d2b8e037d9dde4c9de5733273e64939d6e103ab0016e5ed8029be83986b6/cn_clip-1.4-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "91b43ae768a9f61ee579ca52723a2456277621fe456acebe97f65803ebac8c4b",
          "md5": "ef486107747d4d207f97eca4cf7516d1",
          "sha256": "c9b51385cbe5e2af797e85c89c82557cff38b0764d7355e8207994e4789ff6ed"
        },
        "downloads": -1,
        "filename": "cn_clip-1.4.tar.gz",
        "has_sig": false,
        "md5_digest": "ef486107747d4d207f97eca4cf7516d1",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 134529,
        "upload_time": "2022-12-14T02:17:04",
        "upload_time_iso_8601": "2022-12-14T02:17:04.854943Z",
        "url": "https://files.pythonhosted.org/packages/91/b4/3ae768a9f61ee579ca52723a2456277621fe456acebe97f65803ebac8c4b/cn_clip-1.4.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.5": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "a60dd525058d165e9ee26bc96ddbd5cd55d86799a4aba80e03cd7d40ec309f92",
          "md5": "214a7572a608755ca4bf7112b1b1bfae",
          "sha256": "27da81352db1f114d3244f9fe6c09ca1fb6ba806610614f431028d89a19b2842"
        },
        "downloads": -1,
        "filename": "cn_clip-1.5-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "214a7572a608755ca4bf7112b1b1bfae",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 187060,
        "upload_time": "2023-01-09T02:50:02",
        "upload_time_iso_8601": "2023-01-09T02:50:02.439628Z",
        "url": "https://files.pythonhosted.org/packages/a6/0d/d525058d165e9ee26bc96ddbd5cd55d86799a4aba80e03cd7d40ec309f92/cn_clip-1.5-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "24869f097f8db8da0712aa16fbc6c77a35a20c2376001bedbd5a60ef56b99ebe",
          "md5": "799e1c3ffbb5f40bdd4bac203b70d773",
          "sha256": "76046b6d014afa9a78efb4bae319651925d4c15b0b5d5f59cf089dfd08b27efe"
        },
        "downloads": -1,
        "filename": "cn_clip-1.5.tar.gz",
        "has_sig": false,
        "md5_digest": "799e1c3ffbb5f40bdd4bac203b70d773",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 141139,
        "upload_time": "2023-01-09T02:50:04",
        "upload_time_iso_8601": "2023-01-09T02:50:04.310270Z",
        "url": "https://files.pythonhosted.org/packages/24/86/9f097f8db8da0712aa16fbc6c77a35a20c2376001bedbd5a60ef56b99ebe/cn_clip-1.5.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.5.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "2ad54a699f02daf0c0b9e2c06a8a4ccebbaf74391a9fba817d8747e3374f27df",
          "md5": "451ab0610681da6f11dc390f13798f6d",
          "sha256": "cfb27ffd9fac52da75cd6fd02245b29837dd6a80279055bf1a4f22a83fc24460"
        },
        "downloads": -1,
        "filename": "cn_clip-1.5.1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "451ab0610681da6f11dc390f13798f6d",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 187122,
        "upload_time": "2023-01-13T03:17:54",
        "upload_time_iso_8601": "2023-01-13T03:17:54.906102Z",
        "url": "https://files.pythonhosted.org/packages/2a/d5/4a699f02daf0c0b9e2c06a8a4ccebbaf74391a9fba817d8747e3374f27df/cn_clip-1.5.1-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "b4caf3e8ac3f71aa0f5ae75f8d54d258dbdc811e556f40516ba1f87e8abc97a8",
          "md5": "a77eba0e9d314e518eb17a4d7da32af2",
          "sha256": "187ee96c14dfa5033f3695da1d6023806a176b564aff815d1d65348d7cd63f3f"
        },
        "downloads": -1,
        "filename": "cn_clip-1.5.1.tar.gz",
        "has_sig": false,
        "md5_digest": "a77eba0e9d314e518eb17a4d7da32af2",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 141179,
        "upload_time": "2023-01-13T03:17:56",
        "upload_time_iso_8601": "2023-01-13T03:17:56.993788Z",
        "url": "https://files.pythonhosted.org/packages/b4/ca/f3e8ac3f71aa0f5ae75f8d54d258dbdc811e556f40516ba1f87e8abc97a8/cn_clip-1.5.1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "2ad54a699f02daf0c0b9e2c06a8a4ccebbaf74391a9fba817d8747e3374f27df",
        "md5": "451ab0610681da6f11dc390f13798f6d",
        "sha256": "cfb27ffd9fac52da75cd6fd02245b29837dd6a80279055bf1a4f22a83fc24460"
      },
      "downloads": -1,
      "filename": "cn_clip-1.5.1-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "451ab0610681da6f11dc390f13798f6d",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": null,
      "size": 187122,
      "upload_time": "2023-01-13T03:17:54",
      "upload_time_iso_8601": "2023-01-13T03:17:54.906102Z",
      "url": "https://files.pythonhosted.org/packages/2a/d5/4a699f02daf0c0b9e2c06a8a4ccebbaf74391a9fba817d8747e3374f27df/cn_clip-1.5.1-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "b4caf3e8ac3f71aa0f5ae75f8d54d258dbdc811e556f40516ba1f87e8abc97a8",
        "md5": "a77eba0e9d314e518eb17a4d7da32af2",
        "sha256": "187ee96c14dfa5033f3695da1d6023806a176b564aff815d1d65348d7cd63f3f"
      },
      "downloads": -1,
      "filename": "cn_clip-1.5.1.tar.gz",
      "has_sig": false,
      "md5_digest": "a77eba0e9d314e518eb17a4d7da32af2",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": null,
      "size": 141179,
      "upload_time": "2023-01-13T03:17:56",
      "upload_time_iso_8601": "2023-01-13T03:17:56.993788Z",
      "url": "https://files.pythonhosted.org/packages/b4/ca/f3e8ac3f71aa0f5ae75f8d54d258dbdc811e556f40516ba1f87e8abc97a8/cn_clip-1.5.1.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}