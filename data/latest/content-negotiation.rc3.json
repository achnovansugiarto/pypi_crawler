{
  "info": {
    "author": "Stig B. Dørmænen",
    "author_email": "stigbd@gmail.com",
    "bugtrack_url": null,
    "classifiers": [
      "License :: OSI Approved :: Apache Software License",
      "Operating System :: OS Independent",
      "Programming Language :: Python :: 3",
      "Programming Language :: Python :: 3.10",
      "Programming Language :: Python :: 3.8",
      "Programming Language :: Python :: 3.9"
    ],
    "description": "# content-negotiation\n\n![Tests](https://github.com/Informasjonsforvaltning/content-negotiation/workflows/Tests/badge.svg)\n[![codecov](https://codecov.io/gh/Informasjonsforvaltning/content-negotiation/branch/master/graph/badge.svg)](https://codecov.io/gh/Informasjonsforvaltning/content-negotiation)\n[![PyPI](https://img.shields.io/pypi/v/content-negotiation.svg)](https://pypi.org/project/content-negotiation/)\n[![Read the Docs](https://readthedocs.org/projects/content-negotiation/badge/)](https://content-negotiation.readthedocs.io/)\n\nA small Python library supporting content-negotiation.\n\nIt is used to decide content type based on a list of media ranges in the accept header, as well as deciding content-language based on the accept-language header.\n\n* Media ranges/language ranges with a q-value of 0.0 will be ignored.\n* Q-values above 1.0 will be treated as 1.0. Q-values below 0.0 will be treated as 0.0.\n* When a media range is not specified, it will be treated as `*/*`.\n* When a language range is not specified, it will be treated as `*`.\n* When media ranges and language ranges are equal, the first one will be returned.\n\nFor more information on the accept header, see [RFC 7231, section-5.3.2](https://tools.ietf.org/html/rfc7231#section-5.3.2).\nFor more information on the accept-language header, see [RFC 7231, section-5.3.5](https://www.rfc-editor.org/rfc/rfc7231#section-5.3.5)\n\n## Usage\n\n### Install\n\n```Shell\n% pip install content-negotiation\n```\n\n### Getting started\n\n#### Content type\n\n```Python\nfrom content_negotiation import decide_content_type, NoAgreeableContentTypeError\n\naccept_headers = [\"application/json\", \"text/html\", \"text/plain, text/*;q=0.8\"]\nsupported_content_types = [\"text/turtle\", \"application/json\"]\n\ntry:\n    content_type = decide_content_type(accept_headers, supported_content_types)\nexcept NoAgreeableContentTypeError:\n    print(\"No agreeable content type found.\")\n    # Handle error, by returning e.g. 406 Not Acceptable\n```\n\n#### Content language\n\n```Python\nfrom content_negotiation import decide_content_language, NoAgreeableContentLanguageError\n\naccept_language_headers = [\"en-GB;q=0.8\", \"nb-NO;q=0.9\"]\n   supported_languages = [\"en-GB\", \"en\", \"nb-NO\", \"nb\", \"en-US\"]\n\ntry:\n    content_language = decide_decide_language(accept_language_headers, supported_languages)\nexcept NoAgreeableLanguageError:\n    print(\"No agreeable language found.\")\n    # Handle error, by returning e.g. 406 Not Acceptable\n```\n\n## Development\n\n### Requirements\n\n* [pyenv](https://github.com/pyenv/pyenv) (recommended)\n* python3\n* [pipx](https://github.com/pipxproject/pipx) (recommended)\n* [poetry](https://python-poetry.org/) # version v1.2.0 or higher\n* [nox](https://nox.thea.codes/en/stable/)\n\n```Shell\n% pipx install poetry==1.2.0\n% pipx install nox==2022.8.7\n% pipx inject nox nox-poetry==1.0.1\n```\n\n### Install developer tools\n\n```Shell\n% git clone https://github.com/Informasjonsforvaltning/content-negotiation.git\n% cd content-negotiation\n% pyenv install 3.8.13\n% pyenv install 3.9.13\n% pyenv install 3.10.6\n% pyenv local 3.8.13 3.9.13 3.10.6\n% poetry install\n```\n\n### Run all sessions\n\n```Shell\n% nox\n```\n\n### Run all tests with coverage reporting\n\n```Shell\n% nox -rs tests\n```\n\n### Debugging\n\nYou can enter into [Pdb](https://docs.python.org/3/library/pdb.html) by passing `--pdb` to pytest:\n\n```Shell\n% nox -rs tests -- --pdb  --log-cli-level=DEBUG\n```\n\nYou can set breakpoints directly in code by using the function `breakpoint()`.\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/Informasjonsforvaltning/content-negotiation",
    "keywords": "",
    "license": "Apache-2.0",
    "maintainer": "",
    "maintainer_email": "",
    "name": "content-negotiation",
    "package_url": "https://pypi.org/project/content-negotiation/",
    "platform": null,
    "project_url": "https://pypi.org/project/content-negotiation/",
    "project_urls": {
      "Documentation": "https://content-negotiation.readthedocs.io",
      "Homepage": "https://github.com/Informasjonsforvaltning/content-negotiation",
      "Repository": "https://github.com/Informasjonsforvaltning/content-negotiation"
    },
    "release_url": "https://pypi.org/project/content-negotiation/1.1.1/",
    "requires_dist": null,
    "requires_python": ">=3.8,<3.11",
    "summary": "A library for deciding content-type based on media ranges in HTTP Accept headers.",
    "version": "1.1.1",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 15066071,
  "releases": {
    "1.0.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "b6dc3d96fb166ea238eded2286617d8db00767e13b868e11bf543396251c4885",
          "md5": "56a8cc8ad9eab6503306afb9317c3796",
          "sha256": "5f94cdbe1b27cd5a9db63a77588712b5ecfcb1f93489378bb851ed6dbc99f4cc"
        },
        "downloads": -1,
        "filename": "content_negotiation-1.0.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "56a8cc8ad9eab6503306afb9317c3796",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.8,<3.11",
        "size": 8734,
        "upload_time": "2022-09-05T14:22:39",
        "upload_time_iso_8601": "2022-09-05T14:22:39.161362Z",
        "url": "https://files.pythonhosted.org/packages/b6/dc/3d96fb166ea238eded2286617d8db00767e13b868e11bf543396251c4885/content_negotiation-1.0.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "405fda110cc69ca610a4356e8c814ad03681bca41cf9c68ee8f91cdfda9f6e19",
          "md5": "a141ab12b2e5b24f317c4ca70642c881",
          "sha256": "9717bb3a465f26e23d471498192a91aa612d3e7579c77899c9b884a1c79e5845"
        },
        "downloads": -1,
        "filename": "content-negotiation-1.0.0.tar.gz",
        "has_sig": false,
        "md5_digest": "a141ab12b2e5b24f317c4ca70642c881",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.8,<3.11",
        "size": 8714,
        "upload_time": "2022-09-05T14:22:37",
        "upload_time_iso_8601": "2022-09-05T14:22:37.619633Z",
        "url": "https://files.pythonhosted.org/packages/40/5f/da110cc69ca610a4356e8c814ad03681bca41cf9c68ee8f91cdfda9f6e19/content-negotiation-1.0.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.1.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "9c92648c3c93106de15d0610f1de1ac2757c2c44a908055e350c91407f1fd5bc",
          "md5": "e1593c217f1fe0caa8b745c589a1871d",
          "sha256": "4201133d7204ffd9ceea4d9f286dbb531d7ec85389889127e40adbba674f1fdf"
        },
        "downloads": -1,
        "filename": "content_negotiation-1.1.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "e1593c217f1fe0caa8b745c589a1871d",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.8,<3.11",
        "size": 10544,
        "upload_time": "2022-09-07T09:32:44",
        "upload_time_iso_8601": "2022-09-07T09:32:44.116464Z",
        "url": "https://files.pythonhosted.org/packages/9c/92/648c3c93106de15d0610f1de1ac2757c2c44a908055e350c91407f1fd5bc/content_negotiation-1.1.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "de2b0e813e0c17bb515f55298e1cd07b8b7deb31186d8ead554bcfd69c54ca67",
          "md5": "0104ad68e1335bd08637d9dd2c4db929",
          "sha256": "732acd83102dc9b73b46f075b7fe1bce0236a0b61db0e622f1ecaa108164e45e"
        },
        "downloads": -1,
        "filename": "content-negotiation-1.1.0.tar.gz",
        "has_sig": false,
        "md5_digest": "0104ad68e1335bd08637d9dd2c4db929",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.8,<3.11",
        "size": 9471,
        "upload_time": "2022-09-07T09:32:42",
        "upload_time_iso_8601": "2022-09-07T09:32:42.522824Z",
        "url": "https://files.pythonhosted.org/packages/de/2b/0e813e0c17bb515f55298e1cd07b8b7deb31186d8ead554bcfd69c54ca67/content-negotiation-1.1.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.1.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "d2b10587cfdfbf3550f8341f2c93ea2dbca40002b1fa53a948c5379239c9518d",
          "md5": "951f0d513cf2ee32098571d5caae94f4",
          "sha256": "e770cad11187b47977b201ae67820c0d3307b9e270efc7a3c9c3e0ec3c7daf1a"
        },
        "downloads": -1,
        "filename": "content_negotiation-1.1.1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "951f0d513cf2ee32098571d5caae94f4",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.8,<3.11",
        "size": 11353,
        "upload_time": "2022-09-12T11:19:53",
        "upload_time_iso_8601": "2022-09-12T11:19:53.994231Z",
        "url": "https://files.pythonhosted.org/packages/d2/b1/0587cfdfbf3550f8341f2c93ea2dbca40002b1fa53a948c5379239c9518d/content_negotiation-1.1.1-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "745767c41639274183aa75cd109f46310077bfd5aad3363f534c7d8c88d0f038",
          "md5": "4c22ee09a739493ad90c2603194b3dbc",
          "sha256": "b41c8353e5dc34ffea77bd1c3325c518b0693c362b14b6cab50d700fb2a72268"
        },
        "downloads": -1,
        "filename": "content-negotiation-1.1.1.tar.gz",
        "has_sig": false,
        "md5_digest": "4c22ee09a739493ad90c2603194b3dbc",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.8,<3.11",
        "size": 10394,
        "upload_time": "2022-09-12T11:19:52",
        "upload_time_iso_8601": "2022-09-12T11:19:52.688111Z",
        "url": "https://files.pythonhosted.org/packages/74/57/67c41639274183aa75cd109f46310077bfd5aad3363f534c7d8c88d0f038/content-negotiation-1.1.1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "d2b10587cfdfbf3550f8341f2c93ea2dbca40002b1fa53a948c5379239c9518d",
        "md5": "951f0d513cf2ee32098571d5caae94f4",
        "sha256": "e770cad11187b47977b201ae67820c0d3307b9e270efc7a3c9c3e0ec3c7daf1a"
      },
      "downloads": -1,
      "filename": "content_negotiation-1.1.1-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "951f0d513cf2ee32098571d5caae94f4",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": ">=3.8,<3.11",
      "size": 11353,
      "upload_time": "2022-09-12T11:19:53",
      "upload_time_iso_8601": "2022-09-12T11:19:53.994231Z",
      "url": "https://files.pythonhosted.org/packages/d2/b1/0587cfdfbf3550f8341f2c93ea2dbca40002b1fa53a948c5379239c9518d/content_negotiation-1.1.1-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "745767c41639274183aa75cd109f46310077bfd5aad3363f534c7d8c88d0f038",
        "md5": "4c22ee09a739493ad90c2603194b3dbc",
        "sha256": "b41c8353e5dc34ffea77bd1c3325c518b0693c362b14b6cab50d700fb2a72268"
      },
      "downloads": -1,
      "filename": "content-negotiation-1.1.1.tar.gz",
      "has_sig": false,
      "md5_digest": "4c22ee09a739493ad90c2603194b3dbc",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": ">=3.8,<3.11",
      "size": 10394,
      "upload_time": "2022-09-12T11:19:52",
      "upload_time_iso_8601": "2022-09-12T11:19:52.688111Z",
      "url": "https://files.pythonhosted.org/packages/74/57/67c41639274183aa75cd109f46310077bfd5aad3363f534c7d8c88d0f038/content-negotiation-1.1.1.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}