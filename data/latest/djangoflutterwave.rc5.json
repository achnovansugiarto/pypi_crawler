{
  "info": {
    "author": "Brendon Delate",
    "author_email": "brendon.delate@gmail.com",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 1 - Planning",
      "Environment :: Web Environment",
      "Framework :: Django",
      "Intended Audience :: Developers",
      "License :: OSI Approved :: MIT License",
      "Operating System :: OS Independent",
      "Programming Language :: Python :: 3",
      "Programming Language :: Python :: 3.6",
      "Programming Language :: Python :: 3.7",
      "Programming Language :: Python :: 3.8",
      "Programming Language :: Python :: 3.9",
      "Topic :: Software Development :: Libraries",
      "Topic :: Utilities"
    ],
    "description": "# Django Flutterwave\n\n## Project Description\n\nThis project provides Django integration for [Flutterwave](https://flutterwave.com/) payments and subscriptions.\n\nCurrent functionality:\n\n- Allow users to make payments (once off and subscription)\n- Create payment buttons which launch inline payment modals\n- Maintain a payment transaction history linked to users\n\n# Requirements\n\n- Python >= 3.6\n- Django >= 2.0\n\n# Installation\n\n```bash\npip install djangoflutterwave\n```\n\n# Setup\n\nAdd `\"djangoflutterwave\"` to your `INSTALLED_APPS`\n\nRun Django migrations:\n\n```python\nmanage.py migrate\n```\n\nAdd the following to your `settings.py`:\n\n```python\nFLW_PRODUCTION_PUBLIC_KEY = \"your key\"\nFLW_PRODUCTION_SECRET_KEY = \"your key\"\nFLW_SANDBOX_PUBLIC_KEY = \"your key\"\nFLW_SANDBOX_SECRET_KEY = \"your key\"\nFLW_SANDBOX = True\n```\n\nThe above config will ensure `djangoflutterwave` uses your sandbox. Once you're ready to\ngo live, set `FLW_SANDBOX = False`\n\nAdd `djangoflutterwave` to your `urls.py`:\n\n```python\npath(\"djangoflutterwave/\", include(\"djangoflutterwave.urls\", namespace=\"djangoflutterwave\"))\n```\n\nAdd the following url as a webhook in your Flutterwave dashboard. This will be used by\nFlutterwave to `POST` payment transactions to your site:\n\n```bash\nhttp://yoursite.com/djangoflutterwave/transaction/\n```\n\n`Note:` while in development, a tool like ngrok (or similar) may prove useful to ensure\nyour localhost is accessible to Flutterwave for the above webhook calls.\n\n# Usage\n\n`djangoflutterwave` provides two models, namely:\n\n- The `FlwPlanModel` allows you to create `once off` or `subscription` plans. When creating a `subscription` plan, you will need to create the plan in Flutterwave first and then enter the corresonding information as a `FlwPlanModel` instance (ie: `flw_plan_id` field corresponds to the Flutterwave `Plan ID`).\n- The `FlwTransactionModel` creates transactions when Flutterwave POSTS to the above mentioned webhook url. This provides a history of all transactions (once off or recurring), linked to the relevant `FlwPlanModel` and `user`.\n\nA payment button can be created as follows:\n\n1. Create a new plan (ie: `FlwPlanModel`) using the django admin.\n2. In the view where you wish the button to appear, add the above created `FlwPlanModel` instance to your context, eg:\n\n```python\nfrom djangoflutterwave.models import FlwPlanModel\n\nclass SignUpView(TemplateView):\n    \"\"\"Sign Up view\"\"\"\n\n    template_name = \"my_payment_template.html\"\n\n    def get_context_data(self, **kwargs):\n        \"\"\"Add payment type to context data\"\"\"\n        kwargs = super().get_context_data(**kwargs)\n        kwargs[\"pro_plan\"] = FlwPlanModel.objects.filter(\n            name=\"Pro Plan\"\n        ).first()\n        return kwargs\n```\n\n3. In your template, add the button wherever you wish for it to appear as follows:\n\n```python\n{% include 'djangoflutterwave/pay_button.html' with plan=pro_plan %}\n```\n\n`Note:` You can add multiple buttons to a single template by simply adding multiple\nplans to your context data and then including each of them with their own `include`\ntag as above.\n\n4. Add the following to your django base template (or anywhere in your template heirarchy that ensures it is loaded before your payment buttons):\n\n```html\n<script\n  type=\"text/javascript\"\n  src=\"https://checkout.flutterwave.com/v3.js\"\n></script>\n<script src=\"{% static 'djangoflutterwave/js/payment.js' %}\"></script>\n```\n\n# Button Styling\n\nUse the `pay_button_css_classes` field on the `FlwPlanModel` model to add css classes to\nbuttons which will be rendered in your template.\n\n# Transaction Detail Page\n\nFollowing a user payment, they will be redirected to the transaction detail page\nlocated at `/djangoflutterwave/<str:tx_ref>/`.\n\nA default transaction detail template is already available, however if you want\nto override it, you may do so by creating a new template in your root\ntemplates directory, ie: `/templates/djangoflutterwave/transaction.html`\n\nYou will have access to `{{ transaction }}` within that template.\n\n# API's and single page apps\n\nAs an alternative to rendering the above mentioned buttons in a django template, an API\nend point is provided for retrieving payment params which can then be used in an API based app (eg: Vue, React).\n\nEnd point: `djangoflutterwave/payment-params/?plan=nameofplanhere`\n\nThe above end point requires an authenticated user and will return the following:\n\n```json\n{\n  \"public_key\": \"flutterwave public key\",\n  \"tx_ref\": \"transaction ref\",\n  \"amount\": 123.45,\n  \"currency\": \"USD\",\n  \"payment_plan\": 3453,\n  \"customer\": {\n    \"email\": \"foo@bar.com\",\n    \"name\": \"John Smith\"\n  },\n  \"customizations\": {\n    \"title\": \"Pro Plan\",\n    \"logo\": \"http://example.com/image.png\"\n  }\n}\n```\n\nBelow is a basic example of implementing Django Flutterwave into a Vue app:\n\n```js\n<template>\n  <div>\n    <button @click=\"makePayment\">Sign up</button>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nconst token = localStorage.getItem(\"user-token\") || \"\";\naxios.defaults.headers.common[\"Authorization\"] = `Token ${token}`;\naxios.defaults.xsrfCookieName = \"csrftoken\";\naxios.defaults.xsrfHeaderName = \"X-CSRFToken\";\n\nexport default {\n  data() {\n    return {\n      params: {},\n    };\n  },\n  mounted: function() {\n    let flw = document.createElement(\"script\");\n    flw.setAttribute(\"src\", \"https://checkout.flutterwave.com/v3.js\");\n    flw.async = true;\n    document.head.appendChild(flw);\n  },\n  created() {\n    let params = axios.get(\"/djangoflutterwave/payment-params/?plan=proplan\");\n    this.params = params;\n  },\n  methods: {\n    makePayment() {\n      FlutterwaveCheckout({\n        ...this.params,\n        callback: function(data) {\n          // This function is called after a successful payment. Add your code here.\n        },\n      });\n    },\n  },\n};\n</script>\n```\n\nThe important points to note are:\n\n- All initial setup is the same as per the above documentation.\n- To call the end point, the user must be authenticated (ie: add their token).\n- `https://checkout.flutterwave.com/v3.js` must be loaded as a script.\n- A plan name is used to call the API end point which returns the payment params. Those payment params are then used in the `makePayment` method.\n- There is a call back function which should be usedÂ to specify what to do after a\n  payment has been completed.\n\n# Development and contribution\n\nIf you wish to contribute to the project, there is an example app that demonstrates\ngeneral usage.\n\n### Running the example:\n\n```bash\ngit clone https://github.com/bdelate/django-flutterwave.git\ncd django-flutterwave\n```\n\nCreate file `example/env/dev.env` and populate it with the following:\n\n```bash\nFLW_SANDBOX_PUBLIC_KEY=your_sandbox_public_key\nFLW_SANDBOX_SECRET_KEY=your_sandbox_secret_key\nFLW_PRODUCTION_PUBLIC_KEY=test\nFLW_PRODUCTION_SECRET_KEY=test\n```\n\nRun the following commands:\n\n```bash\nmake build\nmake migrate\nmake import\nmake dup\n```\n\nFlutterwave requires payments to be associated with users who have an email address.\nTherefore, create and login with a new django user or use the existing user which will\nhave been created by the above import command:\n\n```\nusername: admin\npassword: adminadmin\n```\n\nNavigate to http://localhost:8000/\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/bdelate/django-flutterwave.git",
    "keywords": "flutterwave,rave,django",
    "license": "MIT",
    "maintainer": "",
    "maintainer_email": "",
    "name": "djangoflutterwave",
    "package_url": "https://pypi.org/project/djangoflutterwave/",
    "platform": "",
    "project_url": "https://pypi.org/project/djangoflutterwave/",
    "project_urls": {
      "Homepage": "https://github.com/bdelate/django-flutterwave.git",
      "Repository": "https://github.com/bdelate/django-flutterwave.git"
    },
    "release_url": "https://pypi.org/project/djangoflutterwave/0.3.0/",
    "requires_dist": [
      "django (>=2.2,<4)",
      "djangorestframework (>=3.10,<4.0)"
    ],
    "requires_python": ">=3.6,<4",
    "summary": "Django integration for Flutterwave payments and subscriptions",
    "version": "0.3.0",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 8996057,
  "releases": {
    "0.2.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "d9e137e47f5d7ddb0805ef529e34eb754846cd68229d3fc5ebcd871dfd7e0473",
          "md5": "c0efbed3f88f853165f0424e84dbb6de",
          "sha256": "1d77b9233bbea15577a348332db3ed659317f418b406ee3befc4394cb795af19"
        },
        "downloads": -1,
        "filename": "djangoflutterwave-0.2.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "c0efbed3f88f853165f0424e84dbb6de",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.6,<4",
        "size": 16411,
        "upload_time": "2020-12-18T12:23:44",
        "upload_time_iso_8601": "2020-12-18T12:23:44.385639Z",
        "url": "https://files.pythonhosted.org/packages/d9/e1/37e47f5d7ddb0805ef529e34eb754846cd68229d3fc5ebcd871dfd7e0473/djangoflutterwave-0.2.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "c97fa35940a194b202b6131f4627def11eaca44c75c17d8163a0772d3f292fcc",
          "md5": "23764c6f491fcfc2fc15c7b239f35d03",
          "sha256": "7640910fb5e85c1ef85acf6c9d576c0706e4c5bf9996260d4526d8a57ccc193c"
        },
        "downloads": -1,
        "filename": "djangoflutterwave-0.2.0.tar.gz",
        "has_sig": false,
        "md5_digest": "23764c6f491fcfc2fc15c7b239f35d03",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6,<4",
        "size": 12808,
        "upload_time": "2020-12-18T12:23:45",
        "upload_time_iso_8601": "2020-12-18T12:23:45.761041Z",
        "url": "https://files.pythonhosted.org/packages/c9/7f/a35940a194b202b6131f4627def11eaca44c75c17d8163a0772d3f292fcc/djangoflutterwave-0.2.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.2.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "7c1c9609ab71819e9fa314f3685273e8355996779104a4e95c87736f0a3cf951",
          "md5": "766b31586efb4184e9f0bccbf5748769",
          "sha256": "1a94359c8b592e5f12feedbd2ff6dab860b55063a80e35603d3edea71acc3e77"
        },
        "downloads": -1,
        "filename": "djangoflutterwave-0.2.1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "766b31586efb4184e9f0bccbf5748769",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.6,<4",
        "size": 15884,
        "upload_time": "2020-12-18T12:57:26",
        "upload_time_iso_8601": "2020-12-18T12:57:26.510629Z",
        "url": "https://files.pythonhosted.org/packages/7c/1c/9609ab71819e9fa314f3685273e8355996779104a4e95c87736f0a3cf951/djangoflutterwave-0.2.1-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "ede5f73ace782e087a271c4c50dc7e02b4139556fc077717424dfcb853057848",
          "md5": "2cef6f2f8584ec4ce83d56c2bc954d7a",
          "sha256": "9414d6c39ccb7a123711070522e9a09663ad7c67a72ad647f0733f2974212de0"
        },
        "downloads": -1,
        "filename": "djangoflutterwave-0.2.1.tar.gz",
        "has_sig": false,
        "md5_digest": "2cef6f2f8584ec4ce83d56c2bc954d7a",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6,<4",
        "size": 12712,
        "upload_time": "2020-12-18T12:57:27",
        "upload_time_iso_8601": "2020-12-18T12:57:27.734802Z",
        "url": "https://files.pythonhosted.org/packages/ed/e5/f73ace782e087a271c4c50dc7e02b4139556fc077717424dfcb853057848/djangoflutterwave-0.2.1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.2.2": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "4f24e39305de9c20e46f7c4a56dd2edd0c7f8923ac246bb394598ed486021eea",
          "md5": "c6ad4dd11ecc0244bc312ac299af3e42",
          "sha256": "5cd6e6fa55bdae36452d86f9d6e40f77fe0ecef5f05d33531d7fcc82c577f57f"
        },
        "downloads": -1,
        "filename": "djangoflutterwave-0.2.2-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "c6ad4dd11ecc0244bc312ac299af3e42",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.6,<4",
        "size": 16777,
        "upload_time": "2020-12-22T05:23:03",
        "upload_time_iso_8601": "2020-12-22T05:23:03.480153Z",
        "url": "https://files.pythonhosted.org/packages/4f/24/e39305de9c20e46f7c4a56dd2edd0c7f8923ac246bb394598ed486021eea/djangoflutterwave-0.2.2-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "c3e0128ba852d81a724533b68148515adff0670e229d8735b326a217f83685ec",
          "md5": "8e2e9edae69f29ec3006a07fbcc42d99",
          "sha256": "cca2e8a22c52f8188f496cd3f2aa9dfd847fd634a944b0bc5f78140461f63ed5"
        },
        "downloads": -1,
        "filename": "djangoflutterwave-0.2.2.tar.gz",
        "has_sig": false,
        "md5_digest": "8e2e9edae69f29ec3006a07fbcc42d99",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6,<4",
        "size": 13146,
        "upload_time": "2020-12-22T05:23:04",
        "upload_time_iso_8601": "2020-12-22T05:23:04.757025Z",
        "url": "https://files.pythonhosted.org/packages/c3/e0/128ba852d81a724533b68148515adff0670e229d8735b326a217f83685ec/djangoflutterwave-0.2.2.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.2.3": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "3bc1ef691ea8dfe827a19feacce717dace7fe98e91c9faa0dfb7e19c3a243d90",
          "md5": "85a649a204d242703bb6cd335921305d",
          "sha256": "b611f88a0887188f5a3c9d73b4fbd1f3121520ecabfff5924fde49745ad21964"
        },
        "downloads": -1,
        "filename": "djangoflutterwave-0.2.3-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "85a649a204d242703bb6cd335921305d",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.6,<4",
        "size": 16889,
        "upload_time": "2020-12-22T08:04:30",
        "upload_time_iso_8601": "2020-12-22T08:04:30.827490Z",
        "url": "https://files.pythonhosted.org/packages/3b/c1/ef691ea8dfe827a19feacce717dace7fe98e91c9faa0dfb7e19c3a243d90/djangoflutterwave-0.2.3-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "c1120cdef4a747378554422bb4f1cc25b2b83e530a359e4c54adf8740258cdff",
          "md5": "f50a0762ff2cfa65640283ae6ac0548b",
          "sha256": "79b5b74e4a3b0954a3cc6a7fed6382e2522ca6b1a95eb33873a7a702efc93ac9"
        },
        "downloads": -1,
        "filename": "djangoflutterwave-0.2.3.tar.gz",
        "has_sig": false,
        "md5_digest": "f50a0762ff2cfa65640283ae6ac0548b",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6,<4",
        "size": 13223,
        "upload_time": "2020-12-22T08:04:32",
        "upload_time_iso_8601": "2020-12-22T08:04:32.207313Z",
        "url": "https://files.pythonhosted.org/packages/c1/12/0cdef4a747378554422bb4f1cc25b2b83e530a359e4c54adf8740258cdff/djangoflutterwave-0.2.3.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.3.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "62667be85b5c26aed19615c9c18992fd98bf1d307526673107f06e4bc7b5c667",
          "md5": "2899493c43f1c4d7901ce66f081b884b",
          "sha256": "e55542d4ff8a2cfdd42beeda09a3604ef22344f88e186bb14d3630d10a2d1185"
        },
        "downloads": -1,
        "filename": "djangoflutterwave-0.3.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "2899493c43f1c4d7901ce66f081b884b",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.6,<4",
        "size": 19597,
        "upload_time": "2020-12-28T04:57:33",
        "upload_time_iso_8601": "2020-12-28T04:57:33.188003Z",
        "url": "https://files.pythonhosted.org/packages/62/66/7be85b5c26aed19615c9c18992fd98bf1d307526673107f06e4bc7b5c667/djangoflutterwave-0.3.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "f43f69ee7891b28275d346321dba4feaaac489f9a4cf935b887ca2eaec8ea81a",
          "md5": "ac49fe0b3f44591089b319bcefbd7e70",
          "sha256": "138d22c32e36d28d19a6d9bdf7bba1600940e3b5956794b5a5cf0f41b5329c74"
        },
        "downloads": -1,
        "filename": "djangoflutterwave-0.3.0.tar.gz",
        "has_sig": false,
        "md5_digest": "ac49fe0b3f44591089b319bcefbd7e70",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6,<4",
        "size": 16209,
        "upload_time": "2020-12-28T04:57:34",
        "upload_time_iso_8601": "2020-12-28T04:57:34.977746Z",
        "url": "https://files.pythonhosted.org/packages/f4/3f/69ee7891b28275d346321dba4feaaac489f9a4cf935b887ca2eaec8ea81a/djangoflutterwave-0.3.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "62667be85b5c26aed19615c9c18992fd98bf1d307526673107f06e4bc7b5c667",
        "md5": "2899493c43f1c4d7901ce66f081b884b",
        "sha256": "e55542d4ff8a2cfdd42beeda09a3604ef22344f88e186bb14d3630d10a2d1185"
      },
      "downloads": -1,
      "filename": "djangoflutterwave-0.3.0-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "2899493c43f1c4d7901ce66f081b884b",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": ">=3.6,<4",
      "size": 19597,
      "upload_time": "2020-12-28T04:57:33",
      "upload_time_iso_8601": "2020-12-28T04:57:33.188003Z",
      "url": "https://files.pythonhosted.org/packages/62/66/7be85b5c26aed19615c9c18992fd98bf1d307526673107f06e4bc7b5c667/djangoflutterwave-0.3.0-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "f43f69ee7891b28275d346321dba4feaaac489f9a4cf935b887ca2eaec8ea81a",
        "md5": "ac49fe0b3f44591089b319bcefbd7e70",
        "sha256": "138d22c32e36d28d19a6d9bdf7bba1600940e3b5956794b5a5cf0f41b5329c74"
      },
      "downloads": -1,
      "filename": "djangoflutterwave-0.3.0.tar.gz",
      "has_sig": false,
      "md5_digest": "ac49fe0b3f44591089b319bcefbd7e70",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": ">=3.6,<4",
      "size": 16209,
      "upload_time": "2020-12-28T04:57:34",
      "upload_time_iso_8601": "2020-12-28T04:57:34.977746Z",
      "url": "https://files.pythonhosted.org/packages/f4/3f/69ee7891b28275d346321dba4feaaac489f9a4cf935b887ca2eaec8ea81a/djangoflutterwave-0.3.0.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}