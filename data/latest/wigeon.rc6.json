{
  "info": {
    "author": "Jere Ritchie",
    "author_email": "jereritchie@gmail.com",
    "bugtrack_url": null,
    "classifiers": [
      "License :: OSI Approved :: BSD License",
      "Operating System :: OS Independent",
      "Programming Language :: Python :: 3",
      "Programming Language :: Python :: 3.10",
      "Programming Language :: Python :: 3.7",
      "Programming Language :: Python :: 3.8",
      "Programming Language :: Python :: 3.9",
      "Programming Language :: Python :: Implementation :: CPython"
    ],
    "description": "# wigeon\n[![Build and test](https://github.com/JLRitch/wigeon/actions/workflows/build-test.yml/badge.svg)](https://github.com/JLRitch/wigeon/actions/workflows/build-test.yml)\n\nDB Migrations for the continuous developer.\n\n## Why wigeon?\nYour applications are continuously delivered, why not your databases too?\n\nLike its namesake, wigeon is compact, portable, and easily able to fit itself into your\nrepos/actions/pipelines/etc. to complement the continuous patterns you worked so hard\nto put into place.\n\nDoes not use an ORM or require language specific migration syntax meaning anyone\nwho can `SELECT *` can automate and continuously integrate/deliver data goodness\nto their apps/teams.\n\n## Features included\n- Database package creation\n- Migration manifest management\n- Migration build tagging\n- Connection manager\n- Simple connection definitions via environment variables\n- Migration changelog written to target database\n- Deploy/run sql script migrations\n\n## Databases supported (at the moment)\n- sqlite\n- mssqlserver\n## Databases to support (soon)\n- postgres\n- mysql\n\n## Setup\n### Direct Install\n```shell\npip install wigeon\n```\n\n### Via Docker-Compose\n```shell\ndocker-compose up\n```\nAttach a shell to the wigeon_cli container. You can create packages/migrations and run them against\ndb services in the docker-compose network. Package files will write to your local compute using\nvolume mounts.\n\nYou can edit environment variable names in your local manifest.json which will propigate to the cli service,\nwhere the values for those variables are read. To change your target database, you will need to edit env\nvariables in the docker-compose file.\n\n## To use:\nNOTE: prefix every command with `python` if you are running directly from a clone of the repo.\n\nAccess help:\n```bash\nwigeon --help\n```\n\nCreate package with name `fly` for `sqlite` dbtype with local, dev, qa, and prod environments:\n```bash\nwigeon create package --name flytwo --dbtype sqlite --environments local,dev,qa,prod\n```\n\n\n\nCreate databases to connect to for each environment:\n```bash\nsqlite3\n.open fly-local.sqlite\n.open fly-dev.sqlite\n.open fly-qa.sqlite\n.open fly-prod.sqlite\n```\n\n(OPTIONAL) Set up environment variables and add to package manifest.json:\n```bash\nexport LOCAL_CONNECTION_STRING=/home/usr/wigeon/fly-local.sqlite\nexport DEV_CONNECTION_STRING=/home/usr/wigeon/fly-dev.sqlite\nexport QA_CONNECTION_STRING=/home/usr/wigeon/fly-qa.sqlite\nexport PROD_CONNECTION_STRING=/home/usr/wigeon/fly-prod.sqlite\n```\n\n(OPTIONAL) Config add env variable names for connectionstring of each environment in the `fly` package:\n```bash\nwigeon config --name fly --environment local --conn_string LOCAL_CONNECTION_STRING\nwigeon config --name fly --environment dev --conn_string DEV_CONNECTION_STRING\nwigeon config --name fly --environment qa --conn_string QA_CONNECTION_STRING\nwigeon config --name fly --environment prod --conn_string PROD_CONNECTION_STRING\n```\n\n(OPTIONAL) If running mssql in docker you might Set up environment variables and\nadd to package manifest.json:\n```bash\nexport LOCAL_MSSQL_SERVER=0.0.0.0:1433 # or 127.0.0.1\nexport LOCAL_MSSQL_DBNAME=tempdb\nexport LOCAL_MSSQL_USERNAME=sa\nexport LOCAL_MSSQL_PASSWORD=SApass123\n```\n\n(OPTIONAL) Config add env variable names for connectionstring of each environment in the `fly` package:\n```bash\nwigeon config --name fly --environment local --server LOCAL_MSSQL_SERVER --database LOCAL_MSSQL_DBNAME --username LOCAL_MSSQL_USERNAME --password LOCAL_MSSQL_PASSWORD\n```\n\n(OPTIONAL) Add environment variable names directly to manifest.json:\n```json\n  \"environments\": {\n      \"local\": {\n          \"connectionstring\": \"LOCAL_CONNECTION_STRING\",\n          \"server\": null,\n          \"database\": null,\n          \"username\": null,\n          \"password:\": null\n      },\n      \"dev\": {\n          \"connectionstring\": \"DEV_CONNECTION_STRING\",\n          \"server\": null,\n          \"database\": null,\n          \"username\": null,\n          \"password:\": null\n      },\n      \"qa\": {\n          \"connectionstring\": \"QA_CONNECTION_STRING\",\n          \"server\": null,\n          \"database\": null,\n          \"username\": null,\n          \"password:\": null\n      },\n      \"prod\": {\n          \"connectionstring\": \"PROD_CONNECTION_STRING\",\n          \"server\": null,\n          \"database\": null,\n          \"username\": null,\n          \"password:\": null\n      }\n  }\n```\n\nAdd migrations to the `fly` package with build tag of `0.0.1`:\n```bash\nwigeon create migration --name initialize_db --package fly --build 0.0.1\nwigeon create migration --name add_habitat_table --package fly --build 0.0.1\nwigeon create migration --name add_paths_table --package fly --build 0.0.1\n```\n\n**SCRIPT SOME SQL IN THOSE MIGRATION FILES!!!**\n\nList all migrations for the `fly` package:\n```bash\nwigeon show --name fly --migrations\n```\n\nRun connection test to the `fly` package's local environment:\n```bash\nwigeon migrate --name fly --connect_test --environment local\n```\n\nRun migrations for the `fly` package (a local sqlite connection):\n```bash\nwigeon migrate --name fly --conn_string=/path/to/exampledb.sqlite\n```\n\nOR\n\nIF package's manifest.json is configured appropriately for a \"local\" environment\n```bash\nwigeon migrate --name fly --environment local\n```\n\n## Requirements (ODBC future support)\n\n### For gcc compiler on Ubuntu\n```bash\nsudo apt install build-essential\n```\n### For ODBC on Ubuntu\n```bash\nsudo apt-get install libssl-dev libffi-dev python3-dev\nsudo apt-get install -y unixodbc-dev\n```\n\n### For mssql-server ODBC on Ubuntu\nDocs for installing sqlserver odbc drivers (not yet supported):\nhttps://docs.microsoft.com/en-us/sql/connect/odbc/linux-mac/installing-the-microsoft-odbc-driver-for-sql-server?view=sql-server-ver15\n\n## running tests\n```bash\n python -m pytest --cov-report term-missing --cov=wigeon test/\n ```\n\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/JLRitch/wigeon",
    "keywords": "",
    "license": "BSD",
    "maintainer": "",
    "maintainer_email": "",
    "name": "wigeon",
    "package_url": "https://pypi.org/project/wigeon/",
    "platform": "",
    "project_url": "https://pypi.org/project/wigeon/",
    "project_urls": {
      "Homepage": "https://github.com/JLRitch/wigeon",
      "Source": "https://github.com/"
    },
    "release_url": "https://pypi.org/project/wigeon/0.1.3/",
    "requires_dist": [
      "click (>=8.0.3)",
      "pymssql (>=2.2.4)"
    ],
    "requires_python": ">=3.7",
    "summary": "DB Migrations for the continuous developer.",
    "version": "0.1.3",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 12991405,
  "releases": {
    "0.0.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "eb6d66aec17b68dbeb27ac1b14762e8f84aecd004c53558f3e9f7a942261a3f6",
          "md5": "6636705276fefd80517e445d0bef4ea9",
          "sha256": "6cf0bc6fe46804757f6dea41b24b20443fda9bd67429d6dfdecb43441bac2473"
        },
        "downloads": -1,
        "filename": "wigeon-0.0.1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "6636705276fefd80517e445d0bef4ea9",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.7",
        "size": 8171,
        "upload_time": "2022-02-07T14:43:48",
        "upload_time_iso_8601": "2022-02-07T14:43:48.450397Z",
        "url": "https://files.pythonhosted.org/packages/eb/6d/66aec17b68dbeb27ac1b14762e8f84aecd004c53558f3e9f7a942261a3f6/wigeon-0.0.1-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "8e017bddbd7f689f13923f7c325038c87b4d0852b33865347f9b70371b2a1792",
          "md5": "2b04a0a58e1b09c8525047c60bf5c52c",
          "sha256": "fb4d105403e969a8ec7b68a110b857caece26c810e9193ebdb46092f32e2a7b5"
        },
        "downloads": -1,
        "filename": "wigeon-0.0.1.tar.gz",
        "has_sig": false,
        "md5_digest": "2b04a0a58e1b09c8525047c60bf5c52c",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.7",
        "size": 7919,
        "upload_time": "2022-02-07T14:43:50",
        "upload_time_iso_8601": "2022-02-07T14:43:50.084069Z",
        "url": "https://files.pythonhosted.org/packages/8e/01/7bddbd7f689f13923f7c325038c87b4d0852b33865347f9b70371b2a1792/wigeon-0.0.1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.0.2": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "1382e259195919fafce1bd410c0900ae0b755b32819ec24c0dd9fa3d301b803f",
          "md5": "28927a2087af534629058764be00632a",
          "sha256": "3dbe047b265a61667faedaa85578613719eea3feae83a8b96daed7196cd0e68d"
        },
        "downloads": -1,
        "filename": "wigeon-0.0.2-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "28927a2087af534629058764be00632a",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.7",
        "size": 9299,
        "upload_time": "2022-02-08T07:01:33",
        "upload_time_iso_8601": "2022-02-08T07:01:33.438313Z",
        "url": "https://files.pythonhosted.org/packages/13/82/e259195919fafce1bd410c0900ae0b755b32819ec24c0dd9fa3d301b803f/wigeon-0.0.2-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "80cfc6f360690235d2d8c9b7505a59a888ac73e9194a85f93710093aa5d0032e",
          "md5": "d2c67703f7fc143dbcbfb9b5bf12c646",
          "sha256": "133061e520a78fa5d4dbd0026aedede350da473b1d8ed2776cb102a9ac547c3c"
        },
        "downloads": -1,
        "filename": "wigeon-0.0.2.tar.gz",
        "has_sig": false,
        "md5_digest": "d2c67703f7fc143dbcbfb9b5bf12c646",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.7",
        "size": 8401,
        "upload_time": "2022-02-08T07:01:34",
        "upload_time_iso_8601": "2022-02-08T07:01:34.979122Z",
        "url": "https://files.pythonhosted.org/packages/80/cf/c6f360690235d2d8c9b7505a59a888ac73e9194a85f93710093aa5d0032e/wigeon-0.0.2.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.1.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "e221b3731d1a7ec6cfddf9861a797839b3779d81b89be9f55a2fc11720eb0e70",
          "md5": "6bf82759d25c9488d35796164e518c3c",
          "sha256": "bafcbe1a8736d5cbd319a5ddd8c8d691a99db79d4a103635bf3c297a48f1066c"
        },
        "downloads": -1,
        "filename": "wigeon-0.1.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "6bf82759d25c9488d35796164e518c3c",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.7",
        "size": 10013,
        "upload_time": "2022-02-11T00:22:27",
        "upload_time_iso_8601": "2022-02-11T00:22:27.204894Z",
        "url": "https://files.pythonhosted.org/packages/e2/21/b3731d1a7ec6cfddf9861a797839b3779d81b89be9f55a2fc11720eb0e70/wigeon-0.1.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "fa8e76db205907fa6481f5a292a9fb47079dcb9e9ed66ebee8c9af5c42488886",
          "md5": "06bc3ecc91a442fe72ac689b5e069219",
          "sha256": "b9cf710b70b6c98268cf9ea180fcb83ba4f4fffd940b133c170217579b07dc5d"
        },
        "downloads": -1,
        "filename": "wigeon-0.1.0.tar.gz",
        "has_sig": false,
        "md5_digest": "06bc3ecc91a442fe72ac689b5e069219",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.7",
        "size": 9456,
        "upload_time": "2022-02-11T00:22:28",
        "upload_time_iso_8601": "2022-02-11T00:22:28.478677Z",
        "url": "https://files.pythonhosted.org/packages/fa/8e/76db205907fa6481f5a292a9fb47079dcb9e9ed66ebee8c9af5c42488886/wigeon-0.1.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.1.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "574e6c726ac5335bab11ce9622dc4cccd1e5709b65a35b99528d3ebe39d78845",
          "md5": "a7c5d2697f126fe21fc23d3fe2f30ae4",
          "sha256": "bd02ff707401e470c616bb31c1db3ad9081eea1b438d9567304228782d3d4b3a"
        },
        "downloads": -1,
        "filename": "wigeon-0.1.1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "a7c5d2697f126fe21fc23d3fe2f30ae4",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.7",
        "size": 11652,
        "upload_time": "2022-02-18T07:42:39",
        "upload_time_iso_8601": "2022-02-18T07:42:39.931797Z",
        "url": "https://files.pythonhosted.org/packages/57/4e/6c726ac5335bab11ce9622dc4cccd1e5709b65a35b99528d3ebe39d78845/wigeon-0.1.1-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "b98d7150a32db05d879eb93827ba518962ad44816d6a255d39cb335a95e1ea92",
          "md5": "fe22fef964c10726da8a5e0f862073cc",
          "sha256": "a0a942e22ec2138fac90196411125c11312cc9d317d1c6fc4a3ce39d4989954b"
        },
        "downloads": -1,
        "filename": "wigeon-0.1.1.tar.gz",
        "has_sig": false,
        "md5_digest": "fe22fef964c10726da8a5e0f862073cc",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.7",
        "size": 11460,
        "upload_time": "2022-02-18T07:42:41",
        "upload_time_iso_8601": "2022-02-18T07:42:41.189444Z",
        "url": "https://files.pythonhosted.org/packages/b9/8d/7150a32db05d879eb93827ba518962ad44816d6a255d39cb335a95e1ea92/wigeon-0.1.1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.1.2": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "a719d3f9b25cdffeee1ec9eba637c39f64510aaeb7c001502b60f76fb6121cf6",
          "md5": "3aa23c281297632ffc92de6008af8cd5",
          "sha256": "21e9f1f5927348ad5fcfe09d95a69ac68a534dd602d0a1051ce2c748e81e3fdb"
        },
        "downloads": -1,
        "filename": "wigeon-0.1.2-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "3aa23c281297632ffc92de6008af8cd5",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.7",
        "size": 12756,
        "upload_time": "2022-02-23T15:41:46",
        "upload_time_iso_8601": "2022-02-23T15:41:46.050738Z",
        "url": "https://files.pythonhosted.org/packages/a7/19/d3f9b25cdffeee1ec9eba637c39f64510aaeb7c001502b60f76fb6121cf6/wigeon-0.1.2-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "d9d6de9af6374372e492fa3c11a338e1ba7c7ff2b2163ead8d824111687778ee",
          "md5": "0332ced2f0efa84107c592137d733746",
          "sha256": "dbd0142430cedd5aefc672c7b132dfa04e03964779b2e9fe6cb357b920bb1be3"
        },
        "downloads": -1,
        "filename": "wigeon-0.1.2.tar.gz",
        "has_sig": false,
        "md5_digest": "0332ced2f0efa84107c592137d733746",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.7",
        "size": 13071,
        "upload_time": "2022-02-23T15:41:47",
        "upload_time_iso_8601": "2022-02-23T15:41:47.468487Z",
        "url": "https://files.pythonhosted.org/packages/d9/d6/de9af6374372e492fa3c11a338e1ba7c7ff2b2163ead8d824111687778ee/wigeon-0.1.2.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.1.3": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "719d0032dad955290e7b79d695cec4e74acb5332463db7d5878e313f495e4a22",
          "md5": "7b43abd0dec54c3daee34fc46aa9ba4f",
          "sha256": "d9bef03133a9a2ab7df866ea6f7547bfe2e9079d7d48ac7958de750e9ce4b8f2"
        },
        "downloads": -1,
        "filename": "wigeon-0.1.3-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "7b43abd0dec54c3daee34fc46aa9ba4f",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.7",
        "size": 13287,
        "upload_time": "2022-02-24T02:45:50",
        "upload_time_iso_8601": "2022-02-24T02:45:50.491709Z",
        "url": "https://files.pythonhosted.org/packages/71/9d/0032dad955290e7b79d695cec4e74acb5332463db7d5878e313f495e4a22/wigeon-0.1.3-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "b39a08ef2e2037d998a4bff146ac34dfd26059c5d5ad8069e690ab1ed9a3bad2",
          "md5": "1f2360b97c98c7f03b1372de25afaadd",
          "sha256": "4e28567ee40eec52225104bf153baf92a16c3e1e3626cdc7e903cc0b3997d140"
        },
        "downloads": -1,
        "filename": "wigeon-0.1.3.tar.gz",
        "has_sig": false,
        "md5_digest": "1f2360b97c98c7f03b1372de25afaadd",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.7",
        "size": 13619,
        "upload_time": "2022-02-24T02:45:52",
        "upload_time_iso_8601": "2022-02-24T02:45:52.129284Z",
        "url": "https://files.pythonhosted.org/packages/b3/9a/08ef2e2037d998a4bff146ac34dfd26059c5d5ad8069e690ab1ed9a3bad2/wigeon-0.1.3.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "719d0032dad955290e7b79d695cec4e74acb5332463db7d5878e313f495e4a22",
        "md5": "7b43abd0dec54c3daee34fc46aa9ba4f",
        "sha256": "d9bef03133a9a2ab7df866ea6f7547bfe2e9079d7d48ac7958de750e9ce4b8f2"
      },
      "downloads": -1,
      "filename": "wigeon-0.1.3-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "7b43abd0dec54c3daee34fc46aa9ba4f",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": ">=3.7",
      "size": 13287,
      "upload_time": "2022-02-24T02:45:50",
      "upload_time_iso_8601": "2022-02-24T02:45:50.491709Z",
      "url": "https://files.pythonhosted.org/packages/71/9d/0032dad955290e7b79d695cec4e74acb5332463db7d5878e313f495e4a22/wigeon-0.1.3-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "b39a08ef2e2037d998a4bff146ac34dfd26059c5d5ad8069e690ab1ed9a3bad2",
        "md5": "1f2360b97c98c7f03b1372de25afaadd",
        "sha256": "4e28567ee40eec52225104bf153baf92a16c3e1e3626cdc7e903cc0b3997d140"
      },
      "downloads": -1,
      "filename": "wigeon-0.1.3.tar.gz",
      "has_sig": false,
      "md5_digest": "1f2360b97c98c7f03b1372de25afaadd",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": ">=3.7",
      "size": 13619,
      "upload_time": "2022-02-24T02:45:52",
      "upload_time_iso_8601": "2022-02-24T02:45:52.129284Z",
      "url": "https://files.pythonhosted.org/packages/b3/9a/08ef2e2037d998a4bff146ac34dfd26059c5d5ad8069e690ab1ed9a3bad2/wigeon-0.1.3.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}