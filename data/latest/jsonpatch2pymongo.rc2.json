{
  "info": {
    "author": "JungYoon Cha",
    "author_email": "jamiecha@gmail.com",
    "bugtrack_url": null,
    "classifiers": [
      "License :: OSI Approved :: MIT License",
      "Operating System :: OS Independent",
      "Programming Language :: Python :: 3"
    ],
    "description": "[![Code style: black](https://img.shields.io/badge/code%20style-black-000000.svg)](https://github.com/psf/black)\n\n# jsonpatch2pymongo\n\n## Introduction\n- This is a port of [jsonpatch to mongodb](https://www.npmjs.com/package/jsonpatch-to-mongodb) and [jsonpatch to mongodb - golang](https://github.com/ZaninAndrea/json-patch-to-mongo/blob/main/main.go) into python language.\n- Anyone who want to apply differences between 2 JSON data into mongodb using pymongo's update_many() function will be beneficial from this.\n\n## How to use\nFirst, you need to get patch list generated by [jsonpatch](https://pypi.org/project/jsonpatch/) package.\n```python\n>>> src = {'foo': 'bar', 'numbers': [1, 3, 4, 8]}\n>>> dst = {'baz': 'qux', 'numbers': [1, 4, 7]}\n>>> patch = jsonpatch.JsonPatch.from_diff(src, dst)\n# or equivalently\n>>> patch = jsonpatch.make_patch(src, dst)\n>>> patch.patch\n[{'op': 'remove', 'path': '/foo'}, {'op': 'add', 'path': '/baz', 'value': 'qux'}, {'op': 'remove', 'path': '/numbers/1'}, {'op': 'add', 'path': '/numbers/2', 'value': 7}, {'op': 'remove', 'path': '/numbers/3'}]\n```\nOnce patch(list of each patch) is available, you can pass it to this function\n```python\n>>> update = jsonpatch2pymongo(patch.patch)\n>>> update\n{'$set': {'baz': 'qux'}, '$unset': {'foo': 1, 'numbers.1': 1, 'numbers.3': 1}, '$push': {'numbers': {'$each': [7], '$position': 2}}}\n```\nAnd finally, you can pass `update` into pymongo's update or update_many function\n```python\ndb.collection.update_many(filter, update)\n```\n\n## Testcases\n- Install pytest package and run `python -m pytest -v` under root directory.\n- Then pytest will automatically run test_main.py which includes various test cases ported from the original javascript test cases.\n\n## Code style\n- `black -l 100`\n\n## Setup pre-commit hook\n- Plugins specified in `.pre-commit-config.yml` will be used before you commit changes.\n- How to enable pre-commit hook\n```bash\npip install pre-commit\npre-commit install\n```\n\n\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/jamiecha/jsonpatch2pymongo",
    "keywords": "",
    "license": "",
    "maintainer": "",
    "maintainer_email": "",
    "name": "jsonpatch2pymongo",
    "package_url": "https://pypi.org/project/jsonpatch2pymongo/",
    "platform": "",
    "project_url": "https://pypi.org/project/jsonpatch2pymongo/",
    "project_urls": {
      "Bug Tracker": "https://github.com/jamiecha/jsonpatch2pymongo/issues",
      "Homepage": "https://github.com/jamiecha/jsonpatch2pymongo"
    },
    "release_url": "https://pypi.org/project/jsonpatch2pymongo/0.1.2/",
    "requires_dist": null,
    "requires_python": ">=3.6",
    "summary": "Convert JSON patch into pymongo",
    "version": "0.1.2",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 12319939,
  "releases": {
    "0.1.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "1d3aeb9b70283d020d971dc7b1c5d0efa25d3f926b14301d6efc862ebcff0f5f",
          "md5": "3fa6489c8afe0443f333d6676a63c8da",
          "sha256": "22411ea15d5d15b1242c7383840d596869897709ba891714f0ac8adb6b56a21e"
        },
        "downloads": -1,
        "filename": "jsonpatch2pymongo-0.1.1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "3fa6489c8afe0443f333d6676a63c8da",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.6",
        "size": 4457,
        "upload_time": "2021-09-07T10:13:27",
        "upload_time_iso_8601": "2021-09-07T10:13:27.031944Z",
        "url": "https://files.pythonhosted.org/packages/1d/3a/eb9b70283d020d971dc7b1c5d0efa25d3f926b14301d6efc862ebcff0f5f/jsonpatch2pymongo-0.1.1-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "7e6ce757e1024aa8ad6b7c513429fe6f15c1abd1fb529eef9e9f125e90e60e74",
          "md5": "df78656158045750779cd28547d5343f",
          "sha256": "9b7836df74482d12e7c00f819c6fc365cc9d098a108b9c19db44043dfb80c22a"
        },
        "downloads": -1,
        "filename": "jsonpatch2pymongo-0.1.1.tar.gz",
        "has_sig": false,
        "md5_digest": "df78656158045750779cd28547d5343f",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6",
        "size": 4043,
        "upload_time": "2021-09-07T10:13:28",
        "upload_time_iso_8601": "2021-09-07T10:13:28.384910Z",
        "url": "https://files.pythonhosted.org/packages/7e/6c/e757e1024aa8ad6b7c513429fe6f15c1abd1fb529eef9e9f125e90e60e74/jsonpatch2pymongo-0.1.1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.1.2": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "05af822d13401d3ddbc2bbbda689c2ede483162792c029214ba646acb2a435cd",
          "md5": "bec44630d872b620e336bf1e4374a11a",
          "sha256": "441edb0c4fb449fa8102aea027c17c5775e104b025a7f27bdf9e68600c02d19e"
        },
        "downloads": -1,
        "filename": "jsonpatch2pymongo-0.1.2-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "bec44630d872b620e336bf1e4374a11a",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.6",
        "size": 4742,
        "upload_time": "2021-12-16T05:31:48",
        "upload_time_iso_8601": "2021-12-16T05:31:48.468569Z",
        "url": "https://files.pythonhosted.org/packages/05/af/822d13401d3ddbc2bbbda689c2ede483162792c029214ba646acb2a435cd/jsonpatch2pymongo-0.1.2-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "05af822d13401d3ddbc2bbbda689c2ede483162792c029214ba646acb2a435cd",
        "md5": "bec44630d872b620e336bf1e4374a11a",
        "sha256": "441edb0c4fb449fa8102aea027c17c5775e104b025a7f27bdf9e68600c02d19e"
      },
      "downloads": -1,
      "filename": "jsonpatch2pymongo-0.1.2-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "bec44630d872b620e336bf1e4374a11a",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": ">=3.6",
      "size": 4742,
      "upload_time": "2021-12-16T05:31:48",
      "upload_time_iso_8601": "2021-12-16T05:31:48.468569Z",
      "url": "https://files.pythonhosted.org/packages/05/af/822d13401d3ddbc2bbbda689c2ede483162792c029214ba646acb2a435cd/jsonpatch2pymongo-0.1.2-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}