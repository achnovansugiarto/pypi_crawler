{
  "info": {
    "author": "K3A",
    "author_email": "",
    "bugtrack_url": null,
    "classifiers": [],
    "description": "# struct_diff\n\nCopares two objects and produces a dictionary describing changes.\nIdeal for comparing two JSON or YAML objects and generating a structural human-readable diff.\n\nThis is a Python port of [json-diff](https://github.com/andreyvit/json-diff) JavaScript library.\n\n## Purpose\n\nIt produces diff like this:\n\n```json\n{\n  \"type__deleted\": \"donut\",\n  \"name\": {\n    \"__old\": \"Cake\",\n    \"__new\": \"Donut\"\n  },\n  \"arr\": [\n    [\n      \" \"\n    ],\n    [\n      \"-\",\n      2\n    ],\n    [\n      \"+\",\n      {\n        \"obj\": \"ok\",\n        \"secondkey\": 123\n      }\n    ],\n    [\n      \" \"\n    ],\n    [\n      \"+\",\n      4\n    ]\n  ],\n  ... shortened ...\n}\n```\n\nand from that it can generate a human-readable structural JSON diff:\n\n```diff\n {\n-  type: \"donut\"\n-  name: \"Cake\"\n+  name: \"Donut\"\n   arr: [\n     ...\n-    2\n+    {\n+      obj: \"ok\"\n+      secondkey: 123\n+    }\n     ...\n+    4\n   ]\n   image: {\n     caption: {\n-      width: 123\n+      width: 321\n-      height: 321\n+      height: {\n+        value: 642\n+        units: \"mm\"\n+      }\n     }\n   }\n   thumbnail: {\n+    extra: {\n+      price: 111\n+      sizes: [\n+        \"L\"\n+        \"XL\"\n+      ]\n+    }\n-    width: 32\n+    width: 64\n   }\n }\n```\n\nor structural YAML diff:\n\n```diff\n-  type: \"donut\"\n-  name: \"Cake\"\n+  name: \"Donut\"\n   arr: \n     ...\n-    - 2\n+    - obj: \"ok\"\n+      secondkey: 123\n     ...\n+    - 4\n   image: \n     caption: \n-      width: 123\n+      width: 321\n-      height: 321\n+      height: \n+        value: 642\n+        units: \"mm\"\n   thumbnail: \n+    extra: \n+      price: 111\n+      sizes: \n+        - \"L\"\n+        - \"XL\"\n-    width: 32\n+    width: 64\n```\n\n## CLI Usage\n\nSimple:\n\n```python3 -m struct_diff a.json b.json```\n\nDetailed:\n\n```txt\n% python3 -m struct_diff -h\n\nusage: struct_diff [-h] [-C] [--no-color] [-j] [-Y] [-f] [--max-elisions MAX_ELISIONS] [-o KEY [KEY ...]] [-n] [-s] [-c] [-k] [-K] [-p DECIMALS] [-w INDENT_WIDTH] old new\n\npositional arguments:\n  old                   original file\n  new                   new file\n\noptional arguments:\n  -h, --help            show this help message and exit\n  -C                    force colorize the output\n  --no-color            do not colorize the output\n  -j, --raw-json        display raw JSON encoding of the diff\n  -Y, --yaml            output diff as YAML\n  -f, --full            include the equal sections of the document, not just the deltas\n  --max-elisions MAX_ELISIONS\n                        max number of ...'s to show in a row in \"deltas\" mode (before collapsing them) #var(maxElisions)\n  -o KEY [KEY ...], --output-keys KEY [KEY ...]\n                        always print this comma separated keys, with their value, if they are part of an object with any diff\n  -n, --output-new-only\n                        output only the updated and new key/value pairs (without marking them as such). If you need only the diffs from the old file, just exchange the first and second json\n  -s, --sort            sort primitive values in arrays before comparing\n  -c, --object-context  if a scalar value of an object key is changed, also include other (unchanged) values of that object\n  -k, --keys-only       compare only the keys, ignore the differences in values\n  -K, --keep-unchanged-values\n                        instead of omitting values that are equal, output them as they are\n  -p DECIMALS, --precision DECIMALS\n                        round all floating point numbers to this number of decimal places prior to comparison\n  -w INDENT_WIDTH, --indent-width INDENT_WIDTH\n                        number of spaces for indendation\n```\n\n## Library Usage\n\n```py\n>>> from struct_diff import Comparator, YAMLFormatter\n>>> d = diff({'a':'first'}, {'b': 'second'})\n>>> f = YAMLFormatter(d, {'max_elisions': 1})\n>>> print(f)\n- a: first\n+ b: second\n```\n\n## Things to do\n\n- add unit tests\n\n## Contributing\n\nIt is currently good enough for me so I don't intend to spend much more time on it.\nYou are welcome to implement stuff from `Things to do` or more and submit pull requests.\n\n## Change Log\n\n- 0.9.0-4,5,6,7 PyPI releases with bugfixes\n- 0.9.0-3 Added object-context option to include unchanged values in an object with a changed scalar value\n- 0.9.0-2 Multi-line unified diff for strings in YAML mode\n- 0.9.0-1 Implements mixed sorting (numerical sort first, alphanumerical string sort next)\n- 0.9.0 The first complete port of json-diff JS library with all the functionality\n\n## Credits\n\n- [json-diff](https://github.com/andreyvit/json-diff) - the original javascript implementation\n\nReleased under the MIT license.\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/k3a/struct_diff",
    "keywords": "",
    "license": "MIT",
    "maintainer": "",
    "maintainer_email": "",
    "name": "struct-diff",
    "package_url": "https://pypi.org/project/struct-diff/",
    "platform": null,
    "project_url": "https://pypi.org/project/struct-diff/",
    "project_urls": {
      "Homepage": "https://github.com/k3a/struct_diff"
    },
    "release_url": "https://pypi.org/project/struct-diff/0.9.0.post7/",
    "requires_dist": null,
    "requires_python": "",
    "summary": "Structural comparison of two objects.",
    "version": "0.9.0.post7",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 15542921,
  "releases": {
    "0.9.0.post4": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "0ff79cbfd48b0cedfb0008591e7364e279c620ec53db065df28d8a5df2721392",
          "md5": "64442e03e7653ea77854fb024dcb1be5",
          "sha256": "5889000a09420e3a7eedf239a5ce50a4f1c8fb8e1aa58bc5ee59d8b9a29caf12"
        },
        "downloads": -1,
        "filename": "struct_diff-0.9.0.post4-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "64442e03e7653ea77854fb024dcb1be5",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 13536,
        "upload_time": "2022-09-18T17:37:34",
        "upload_time_iso_8601": "2022-09-18T17:37:34.244926Z",
        "url": "https://files.pythonhosted.org/packages/0f/f7/9cbfd48b0cedfb0008591e7364e279c620ec53db065df28d8a5df2721392/struct_diff-0.9.0.post4-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "9ea4e11a82b17c17f97a9fa6d06613070d35c22cb239c4784ed4e289bb8642e9",
          "md5": "526e1404c4cb4802f84f845297942255",
          "sha256": "9fdc8a156db0dccb693b84d9ab714e6e1fde162449db68d74f2fcd12379c840f"
        },
        "downloads": -1,
        "filename": "struct-diff-0.9.0.post4.tar.gz",
        "has_sig": false,
        "md5_digest": "526e1404c4cb4802f84f845297942255",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 12358,
        "upload_time": "2022-09-18T17:37:36",
        "upload_time_iso_8601": "2022-09-18T17:37:36.012455Z",
        "url": "https://files.pythonhosted.org/packages/9e/a4/e11a82b17c17f97a9fa6d06613070d35c22cb239c4784ed4e289bb8642e9/struct-diff-0.9.0.post4.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.9.0.post5": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "2f5ac5c5b4a910f99e18f71fd944c252b8eb2d38afa2634a54137097761d26af",
          "md5": "8e1e805c91fc1be9c579c51321b35a27",
          "sha256": "df79e7c36034ceba0655a602fa73a1f54b16ef7b01f3807da0eb45a2b9e4b5dc"
        },
        "downloads": -1,
        "filename": "struct_diff-0.9.0.post5-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "8e1e805c91fc1be9c579c51321b35a27",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 13646,
        "upload_time": "2022-09-19T20:15:45",
        "upload_time_iso_8601": "2022-09-19T20:15:45.490852Z",
        "url": "https://files.pythonhosted.org/packages/2f/5a/c5c5b4a910f99e18f71fd944c252b8eb2d38afa2634a54137097761d26af/struct_diff-0.9.0.post5-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "7d5a31df656d30774a38a94cceeda748c20cbef25a813438a1cb6c2970a61f6e",
          "md5": "c9fcf0ad0bd20304b5f933bea63528bc",
          "sha256": "17acaa59e9d83ee10485f3ed698b58810bcf34808d380b34bbad82af803fc826"
        },
        "downloads": -1,
        "filename": "struct-diff-0.9.0.post5.tar.gz",
        "has_sig": false,
        "md5_digest": "c9fcf0ad0bd20304b5f933bea63528bc",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 12605,
        "upload_time": "2022-09-19T20:15:47",
        "upload_time_iso_8601": "2022-09-19T20:15:47.783692Z",
        "url": "https://files.pythonhosted.org/packages/7d/5a/31df656d30774a38a94cceeda748c20cbef25a813438a1cb6c2970a61f6e/struct-diff-0.9.0.post5.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.9.0.post6": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "548f177bf1c9d914e7c1a07c3214e3d4de174c5d117e4f735672ed3c08267c32",
          "md5": "c0241d253c4923baf21b75e11e6f0751",
          "sha256": "08efac22d09d669135564e0b70bd58106f1a2d6bb9bb35f6be29a2f012898657"
        },
        "downloads": -1,
        "filename": "struct_diff-0.9.0.post6-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "c0241d253c4923baf21b75e11e6f0751",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 13660,
        "upload_time": "2022-09-21T19:36:34",
        "upload_time_iso_8601": "2022-09-21T19:36:34.667713Z",
        "url": "https://files.pythonhosted.org/packages/54/8f/177bf1c9d914e7c1a07c3214e3d4de174c5d117e4f735672ed3c08267c32/struct_diff-0.9.0.post6-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "02b3cc57c5c41f56b36c47b96c741a67b3b5c54fb8e0433dc3839f55a2acab3b",
          "md5": "9f1bf3e7b327837efdc22b52872e3d18",
          "sha256": "96b9c361f0c106d8fae6f1eb656c5c19e5cc89ef98c24fa45ce010fc33af092a"
        },
        "downloads": -1,
        "filename": "struct-diff-0.9.0.post6.tar.gz",
        "has_sig": false,
        "md5_digest": "9f1bf3e7b327837efdc22b52872e3d18",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 12589,
        "upload_time": "2022-09-21T19:36:37",
        "upload_time_iso_8601": "2022-09-21T19:36:37.809763Z",
        "url": "https://files.pythonhosted.org/packages/02/b3/cc57c5c41f56b36c47b96c741a67b3b5c54fb8e0433dc3839f55a2acab3b/struct-diff-0.9.0.post6.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.9.0.post7": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "cbd7d9d285e8ab3016067505933e3e9d35c35df25531bfb69679b1f76e0fc3d3",
          "md5": "e200795327f7c6e1463095a667735b3b",
          "sha256": "ae328db2608c9622eefc982e968d4112a30eb8b280e5140e17f27e87aeb8512e"
        },
        "downloads": -1,
        "filename": "struct_diff-0.9.0.post7-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "e200795327f7c6e1463095a667735b3b",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 13659,
        "upload_time": "2022-10-26T19:44:43",
        "upload_time_iso_8601": "2022-10-26T19:44:43.327554Z",
        "url": "https://files.pythonhosted.org/packages/cb/d7/d9d285e8ab3016067505933e3e9d35c35df25531bfb69679b1f76e0fc3d3/struct_diff-0.9.0.post7-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "55a5b86f9a38023145b6edb1970dd003d8085092b7c7a6753bde69317659af93",
          "md5": "9de8c258e289cbe58c08276fd253224a",
          "sha256": "52b56dc7a4e806dc44ffe7359df191cad4ed6f3be637c932d1cfe9df76690109"
        },
        "downloads": -1,
        "filename": "struct-diff-0.9.0.post7.tar.gz",
        "has_sig": false,
        "md5_digest": "9de8c258e289cbe58c08276fd253224a",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 12638,
        "upload_time": "2022-10-26T19:44:44",
        "upload_time_iso_8601": "2022-10-26T19:44:44.913473Z",
        "url": "https://files.pythonhosted.org/packages/55/a5/b86f9a38023145b6edb1970dd003d8085092b7c7a6753bde69317659af93/struct-diff-0.9.0.post7.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "cbd7d9d285e8ab3016067505933e3e9d35c35df25531bfb69679b1f76e0fc3d3",
        "md5": "e200795327f7c6e1463095a667735b3b",
        "sha256": "ae328db2608c9622eefc982e968d4112a30eb8b280e5140e17f27e87aeb8512e"
      },
      "downloads": -1,
      "filename": "struct_diff-0.9.0.post7-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "e200795327f7c6e1463095a667735b3b",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": null,
      "size": 13659,
      "upload_time": "2022-10-26T19:44:43",
      "upload_time_iso_8601": "2022-10-26T19:44:43.327554Z",
      "url": "https://files.pythonhosted.org/packages/cb/d7/d9d285e8ab3016067505933e3e9d35c35df25531bfb69679b1f76e0fc3d3/struct_diff-0.9.0.post7-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "55a5b86f9a38023145b6edb1970dd003d8085092b7c7a6753bde69317659af93",
        "md5": "9de8c258e289cbe58c08276fd253224a",
        "sha256": "52b56dc7a4e806dc44ffe7359df191cad4ed6f3be637c932d1cfe9df76690109"
      },
      "downloads": -1,
      "filename": "struct-diff-0.9.0.post7.tar.gz",
      "has_sig": false,
      "md5_digest": "9de8c258e289cbe58c08276fd253224a",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": null,
      "size": 12638,
      "upload_time": "2022-10-26T19:44:44",
      "upload_time_iso_8601": "2022-10-26T19:44:44.913473Z",
      "url": "https://files.pythonhosted.org/packages/55/a5/b86f9a38023145b6edb1970dd003d8085092b7c7a6753bde69317659af93/struct-diff-0.9.0.post7.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}