{
  "info": {
    "author": "Scott Offen",
    "author_email": "3513626+scottoffen@users.noreply.github.com",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 5 - Production/Stable",
      "Intended Audience :: Developers",
      "License :: OSI Approved :: MIT License",
      "Operating System :: OS Independent",
      "Programming Language :: Python :: 3",
      "Programming Language :: Python :: 3 :: Only",
      "Programming Language :: Python :: 3.10",
      "Programming Language :: Python :: 3.6",
      "Programming Language :: Python :: 3.7",
      "Programming Language :: Python :: 3.8",
      "Programming Language :: Python :: 3.9",
      "Topic :: Software Development :: Build Tools"
    ],
    "description": "Creds To Env\n============\n\ncreds-to-env is a CLI that maps AWS credentials (typically but not necessarily generated by gimme-aws-creds) to an environment file that can be passed to an AWS docker container using the `--env-file` flag.\n\nWhen sending environment variables to docker containers, [docker expects](https://docs.docker.com/compose/env-file/) each line of the file to be in the format of `VAR=VAL`, but [`gimme-aws-creds`](https://pypi.org/project/gimme-aws-creds/) writes the resulting credentials file with lower-case keys and spaces around the equal signs that delimit key/value pairs, both of which will result in different errors when passing the credentials file as an environment file to the docker container.\n\n### Problem Example ###\n\nAssuming you have run `gimme-aws-creds`, and assuming your AWS credentials are in the default location of `~/.aws/credentials`, and you wanted to run the local Step Functions container from AWS with the following command:\n\n```docker\ndocker run -p 8083:8083 --env-file ~/.aws/credentials amazon/aws-stepfunctions-local\n```\n\nThe following error would occur due to the whitespace around the equal sign:\n\n```\ndocker: poorly formatted environment: variable 'aws_access_key_id ' contains whitespaces.\nSee 'docker run --help'.\n```\n\nIf we remove the spaces around the equal sign on each line of the `credentials` file, running the same docker command gives us the next error:\n\n```\nStep Functions Local\nVersion: 1.8.1\nBuild: 2022-02-08\n2022-03-10 23:49:49.620: Failed to load credentials from environment because Unable to load AWS credentials from environment variables (AWS_ACCESS_KEY_ID (or AWS_ACCESS_KEY) and AWS_SECRET_KEY (or AWS_SECRET_ACCESS_KEY))\n2022-03-10 23:49:49.664: Failed to load credentials from profile: default because profile file cannot be null\n2022-03-10 23:49:49.664: Failed to load credentials from system properties because Unable to load AWS credentials from Java system properties (aws.accessKeyId and aws.secretKey)\n2022-03-10 23:49:49.664: Failed to load credentials, default to dummy credentials, so any connection to AWS services will not work, connections to local endpoints are not affected.\n```\n\nWhich indicates that the key/value pairs are not being recognized by the step functions process in the docker container. If we change the keys to be upper case and run the docker command again, the credentials are recognized and the container starts without issue.\n\n> Hard coding a persistent file for credentials won't work, as the key/value pairs will change each time `gimme-aws-creds` is run.\n\n## Prerequisites ##\n\nPython 3.6+\n\n### Optional ###\n\n[Gimme-aws-creds](https://github.com/Nike-Inc/gimme-aws-creds) can be used to initially create the credenttials file.\n\n## Installattion ##\n\nThis is a Python3 project. Install/upgrade from PyPi.\n\n```\npip3 install --upgrade creds-to-env\n```\n\n## Usage ##\n\nThis package will read in the data from the credentials file, transform it into the format the docker container is expecting, and write the transformed data out to a new file, which can then be used to pass in to the docker container, leaving the existing credentials in place and unmodified.\n\nWhile no parameters are required, both the input file and output file can be specified as command line parameters. The input file must exist and the output folder must exist.\n\n- `-i`, `--input` specifices the path to the input file, defaults to `~/.aws/credentials`\n\n- `-o`, `--output` specifieds the path to the output file, defaults to `~/.aws/credentials.env`\n\nIf an input file is provided but an output file is not, the output file will automatically default to the same name as the input file with the extensions replace with `.env`.\n\n## License ##\n\nCreds To Env is released under the [MIT License](/LICENSE).\n\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/scottoffen/creds-to-env",
    "keywords": "aws credentials creds docker",
    "license": "",
    "maintainer": "",
    "maintainer_email": "",
    "name": "creds-to-env",
    "package_url": "https://pypi.org/project/creds-to-env/",
    "platform": null,
    "project_url": "https://pypi.org/project/creds-to-env/",
    "project_urls": {
      "Bug Reports": "https://github.com/scottoffen/creds-to-env/issues",
      "Homepage": "https://github.com/scottoffen/creds-to-env",
      "Source": "https://github.com/scottoffen/creds-to-env/"
    },
    "release_url": "https://pypi.org/project/creds-to-env/1.0.0/",
    "requires_dist": null,
    "requires_python": ">=3.6, <4",
    "summary": "Maps AWS Credentials to Docker Environment File",
    "version": "1.0.0",
    "yanked": true,
    "yanked_reason": null
  },
  "last_serial": 13189748,
  "releases": {
    "1.0.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "76722d38790ba3e5e185d6bc44a87b78d98286477da2563ad059b1160b3edf55",
          "md5": "7ef0e4d5fab9757cc8515e25dba0c124",
          "sha256": "f0c93dd69617d18fbac67892adb154fa8f30bb20090f1f1acca1173fd02ca3ac"
        },
        "downloads": -1,
        "filename": "creds_to_env-1.0.0-py2.py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "7ef0e4d5fab9757cc8515e25dba0c124",
        "packagetype": "bdist_wheel",
        "python_version": "py2.py3",
        "requires_python": ">=3.6, <4",
        "size": 5116,
        "upload_time": "2022-03-11T04:26:35",
        "upload_time_iso_8601": "2022-03-11T04:26:35.762060Z",
        "url": "https://files.pythonhosted.org/packages/76/72/2d38790ba3e5e185d6bc44a87b78d98286477da2563ad059b1160b3edf55/creds_to_env-1.0.0-py2.py3-none-any.whl",
        "yanked": true,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "d250749d36ca51dbdab85b48daa9556e8579c3eb89152a381d44f71556dc2fce",
          "md5": "2929414593151a6002889957d86ea42c",
          "sha256": "44651a5ab39b98f06479b91a93d52c496a56618e3285c863781aebee0b0e5471"
        },
        "downloads": -1,
        "filename": "creds-to-env-1.0.0.tar.gz",
        "has_sig": false,
        "md5_digest": "2929414593151a6002889957d86ea42c",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6, <4",
        "size": 7484,
        "upload_time": "2022-03-11T04:26:38",
        "upload_time_iso_8601": "2022-03-11T04:26:38.959863Z",
        "url": "https://files.pythonhosted.org/packages/d2/50/749d36ca51dbdab85b48daa9556e8579c3eb89152a381d44f71556dc2fce/creds-to-env-1.0.0.tar.gz",
        "yanked": true,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "76722d38790ba3e5e185d6bc44a87b78d98286477da2563ad059b1160b3edf55",
        "md5": "7ef0e4d5fab9757cc8515e25dba0c124",
        "sha256": "f0c93dd69617d18fbac67892adb154fa8f30bb20090f1f1acca1173fd02ca3ac"
      },
      "downloads": -1,
      "filename": "creds_to_env-1.0.0-py2.py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "7ef0e4d5fab9757cc8515e25dba0c124",
      "packagetype": "bdist_wheel",
      "python_version": "py2.py3",
      "requires_python": ">=3.6, <4",
      "size": 5116,
      "upload_time": "2022-03-11T04:26:35",
      "upload_time_iso_8601": "2022-03-11T04:26:35.762060Z",
      "url": "https://files.pythonhosted.org/packages/76/72/2d38790ba3e5e185d6bc44a87b78d98286477da2563ad059b1160b3edf55/creds_to_env-1.0.0-py2.py3-none-any.whl",
      "yanked": true,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "d250749d36ca51dbdab85b48daa9556e8579c3eb89152a381d44f71556dc2fce",
        "md5": "2929414593151a6002889957d86ea42c",
        "sha256": "44651a5ab39b98f06479b91a93d52c496a56618e3285c863781aebee0b0e5471"
      },
      "downloads": -1,
      "filename": "creds-to-env-1.0.0.tar.gz",
      "has_sig": false,
      "md5_digest": "2929414593151a6002889957d86ea42c",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": ">=3.6, <4",
      "size": 7484,
      "upload_time": "2022-03-11T04:26:38",
      "upload_time_iso_8601": "2022-03-11T04:26:38.959863Z",
      "url": "https://files.pythonhosted.org/packages/d2/50/749d36ca51dbdab85b48daa9556e8579c3eb89152a381d44f71556dc2fce/creds-to-env-1.0.0.tar.gz",
      "yanked": true,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}