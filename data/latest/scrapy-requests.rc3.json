{
  "info": {
    "author": "Refael Yzg",
    "author_email": "rafi.yzgeav@gmail.com",
    "bugtrack_url": null,
    "classifiers": [
      "Intended Audience :: Developers",
      "License :: OSI Approved :: MIT License",
      "Operating System :: OS Independent",
      "Programming Language :: Python :: 3",
      "Programming Language :: Python :: 3.6",
      "Programming Language :: Python :: 3.7",
      "Programming Language :: Python :: 3.8",
      "Programming Language :: Python :: 3.9"
    ],
    "description": "# scrapy-requests\n![PyPI](https://img.shields.io/pypi/v/scrapy-requests)\n[![Build Status](https://travis-ci.org/rafyzg/scrapy-requests.svg?branch=main)](https://travis-ci.org/rafyzg/scrapy-requests)\n![Codecov](https://img.shields.io/codecov/c/github/rafyzg/scrapy-requests)\n\nScrapy middleware to asynchronously handle javascript pages using requests-html.\n\nrequests-html uses pyppeteer to load javascript pages, and handles user-agent specification for you.\nUsing requests-html is very intuitive and simple. [Check out their documentation.](https://github.com/psf/requests-html \"requests_html repo\")\n\n## Requirements\n- Python >= 3.6\n- Scrapy >= 2.0\n- requests-html\n\n## Installation\n```\n pip install scrapy-requests\n```\n## Configuration\nMake twisted use Asyncio event loop \nAnd add RequestsMiddleware to the downloader middleware\n#### settings.py\n\n ```python\n TWISTED_REACTOR = 'twisted.internet.asyncioreactor.AsyncioSelectorReactor'\n\n DOWNLOADER_MIDDLEWARES = {\n     'scrapy_requests.RequestsMiddleware': 800\n }\n ```\n## Usage\nUse scrapy_requests.HtmlRequest instead of scrapy.Request\n```python\nfrom scrapy_requests import HtmlRequest\n\nyield HtmlRequest(url=url, callback=self.parse)\n```\nThe requests will be handled by requests_html, and the request will add an additional meta varialble `page` containing the HTML object.\n```python\ndef parse(self, response):\n    page = response.request.meta['page']\n    page.html.render()\n```\n\n## Additional settings\n\nIf you would like the page to be rendered by pyppeteer - pass `True` to the `render` key paramater.\n```python\nyield HtmlRequest(url=url, callback=self.parse, render=True)\n```\nYou could choose a more speific functionality for the HTML object. \n\nFor example - \nYou could set up a sleep timer before loading the page, and js script execution when loading the page - doing it this way:\n```python\nscript = \"document.body.querySelector('.btn').click();\"\nyield HtmlRequest(url=url, callback=self.parse, render=True, options={'sleep': 2, 'script': script})\n```\n\nYou could pass default settings to requests-html session - specifying header, proxies, auth settings etc... \nYou do this by specifying an addtional variable in `settings.py`\n```python\nDEFAULT_SCRAPY_REQUESTS_SETTINGS = {\n    'verify': False, # Verifying SSL certificates\n    'mock_browser': True, # Mock browser user-agent\n    'browser_args': ['--no-sandbox', '--proxy-server=x.x.x.x:xxxx'], \n}\n```\n\n## Notes\nPlease star this repo if you found it useful.\n\nFeel free to contribute and propose issues & additional features.\n\nLicense is MIT.\n\n\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/rafyzg/scrapy-requests",
    "keywords": "",
    "license": "",
    "maintainer": "",
    "maintainer_email": "",
    "name": "scrapy-requests",
    "package_url": "https://pypi.org/project/scrapy-requests/",
    "platform": "",
    "project_url": "https://pypi.org/project/scrapy-requests/",
    "project_urls": {
      "Homepage": "https://github.com/rafyzg/scrapy-requests"
    },
    "release_url": "https://pypi.org/project/scrapy-requests/0.2.0/",
    "requires_dist": [
      "scrapy (>=2.0.0)",
      "requests-html (>=0.10.0)"
    ],
    "requires_python": ">=3.6",
    "summary": "Scrapy with requests-html",
    "version": "0.2.0",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 9825075,
  "releases": {
    "0.1.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "b3738f93d63cf4baf7a7d67dad584a58dcb76502064778121f7aa8bb6bd4616c",
          "md5": "4805cd5104cd3ed61873e15419a2d22d",
          "sha256": "2621dd0296ed862c1094c677e176ad5b492fca8927ea52e0ea1e43c06392b7ca"
        },
        "downloads": -1,
        "filename": "scrapy_requests-0.1.0-py3.8.egg",
        "has_sig": false,
        "md5_digest": "4805cd5104cd3ed61873e15419a2d22d",
        "packagetype": "bdist_egg",
        "python_version": "3.8",
        "requires_python": ">=3.6",
        "size": 8043,
        "upload_time": "2020-11-22T07:43:18",
        "upload_time_iso_8601": "2020-11-22T07:43:18.441275Z",
        "url": "https://files.pythonhosted.org/packages/b3/73/8f93d63cf4baf7a7d67dad584a58dcb76502064778121f7aa8bb6bd4616c/scrapy_requests-0.1.0-py3.8.egg",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "958c1a856ccd43bccbe992d373c13a618fdb6ad5be3a160dc96309056e42067b",
          "md5": "9183eec795914b4ddb06e3da60d320a3",
          "sha256": "feb17d41a388b27b467054f53c121c7f98e4111ec2a420ce7aa6e61ebc258512"
        },
        "downloads": -1,
        "filename": "scrapy-requests-0.1.0.tar.gz",
        "has_sig": false,
        "md5_digest": "9183eec795914b4ddb06e3da60d320a3",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6",
        "size": 3925,
        "upload_time": "2020-11-22T07:43:16",
        "upload_time_iso_8601": "2020-11-22T07:43:16.903509Z",
        "url": "https://files.pythonhosted.org/packages/95/8c/1a856ccd43bccbe992d373c13a618fdb6ad5be3a160dc96309056e42067b/scrapy-requests-0.1.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.1.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "12aa6f01dbf9ecd3e5d1170b44f78a76d274c1903c5c6f3b509faec0b42cac93",
          "md5": "cad4434ff103239d816e1150c54e6dc9",
          "sha256": "28f03034be0f0b42c4ee675a0b1aa4172f124596eafd725c99ab5fb2b3d72c2c"
        },
        "downloads": -1,
        "filename": "scrapy-requests-0.1.1.tar.gz",
        "has_sig": false,
        "md5_digest": "cad4434ff103239d816e1150c54e6dc9",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6",
        "size": 4110,
        "upload_time": "2020-11-22T10:38:59",
        "upload_time_iso_8601": "2020-11-22T10:38:59.366372Z",
        "url": "https://files.pythonhosted.org/packages/12/aa/6f01dbf9ecd3e5d1170b44f78a76d274c1903c5c6f3b509faec0b42cac93/scrapy-requests-0.1.1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.2.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "b3a249cef9d2e348b12cede957f59004202eb8fe59df38309ce5afe1ca170cd8",
          "md5": "c60a51c2cbfa55c39bf6a93689e6cea6",
          "sha256": "3bc988c53589607a676a4a82dabe199d06c5b85562f4abbd83c913c0d7f95646"
        },
        "downloads": -1,
        "filename": "scrapy_requests-0.2.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "c60a51c2cbfa55c39bf6a93689e6cea6",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.6",
        "size": 6217,
        "upload_time": "2021-03-19T20:52:34",
        "upload_time_iso_8601": "2021-03-19T20:52:34.524181Z",
        "url": "https://files.pythonhosted.org/packages/b3/a2/49cef9d2e348b12cede957f59004202eb8fe59df38309ce5afe1ca170cd8/scrapy_requests-0.2.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "331076fc04b22ad261867080471d9d18ff45ff6acd41e051f71664b7deda68a1",
          "md5": "9765df2bb5d2abf5ae9f385da65652cc",
          "sha256": "b4176eaa11691fc3cf5a772d26cb26625f4ca2435ae05d0c5e21a7b50cae366e"
        },
        "downloads": -1,
        "filename": "scrapy-requests-0.2.0.tar.gz",
        "has_sig": false,
        "md5_digest": "9765df2bb5d2abf5ae9f385da65652cc",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6",
        "size": 4744,
        "upload_time": "2021-03-19T20:52:35",
        "upload_time_iso_8601": "2021-03-19T20:52:35.895519Z",
        "url": "https://files.pythonhosted.org/packages/33/10/76fc04b22ad261867080471d9d18ff45ff6acd41e051f71664b7deda68a1/scrapy-requests-0.2.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "b3a249cef9d2e348b12cede957f59004202eb8fe59df38309ce5afe1ca170cd8",
        "md5": "c60a51c2cbfa55c39bf6a93689e6cea6",
        "sha256": "3bc988c53589607a676a4a82dabe199d06c5b85562f4abbd83c913c0d7f95646"
      },
      "downloads": -1,
      "filename": "scrapy_requests-0.2.0-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "c60a51c2cbfa55c39bf6a93689e6cea6",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": ">=3.6",
      "size": 6217,
      "upload_time": "2021-03-19T20:52:34",
      "upload_time_iso_8601": "2021-03-19T20:52:34.524181Z",
      "url": "https://files.pythonhosted.org/packages/b3/a2/49cef9d2e348b12cede957f59004202eb8fe59df38309ce5afe1ca170cd8/scrapy_requests-0.2.0-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "331076fc04b22ad261867080471d9d18ff45ff6acd41e051f71664b7deda68a1",
        "md5": "9765df2bb5d2abf5ae9f385da65652cc",
        "sha256": "b4176eaa11691fc3cf5a772d26cb26625f4ca2435ae05d0c5e21a7b50cae366e"
      },
      "downloads": -1,
      "filename": "scrapy-requests-0.2.0.tar.gz",
      "has_sig": false,
      "md5_digest": "9765df2bb5d2abf5ae9f385da65652cc",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": ">=3.6",
      "size": 4744,
      "upload_time": "2021-03-19T20:52:35",
      "upload_time_iso_8601": "2021-03-19T20:52:35.895519Z",
      "url": "https://files.pythonhosted.org/packages/33/10/76fc04b22ad261867080471d9d18ff45ff6acd41e051f71664b7deda68a1/scrapy-requests-0.2.0.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}