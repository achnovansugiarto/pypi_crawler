{
  "info": {
    "author": "Shiro-LK",
    "author_email": "shirosaki94@gmail.com",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 5 - Production/Stable",
      "Programming Language :: Python :: 3.7",
      "Programming Language :: Python :: 3.8"
    ],
    "description": "# DOLG in torch and tensorflow (TF2)\n\nRe-implementation (Non Official) of the paper DOLG: Single-Stage Image Retrieval with Deep Orthogonal Fusion of Local and Global Features accepted at ICCV 2021.\n[paper](https://arxiv.org/pdf/2108.02927.pdf)\n\nThe pytorch checkpoint has been converted into tensorflow format (.h5) from this repository : https://github.com/feymanpriv/DOLG (Official) \n\n## Pipeline\n\n![Image](images/dolg.png)\n\n## Installation \n\n> pip install opencv-python==4.5.5.64\n\n> pip install huggingface-hub\n\nto install dolg : \n\n> pip install dolg\nOR \n> pip install -e .\n\n## Inference\n\nTo do some inference on single sample, you can use python script in examples/ folder or use as follows:\n\n```\nimport dolg\nimport numpy as np\nfrom dolg.utils.extraction import process_data\n\ndepth = 50\n\n# for pytorch\n\nimport torch\nfrom dolg.dolg_model_pt import DOLG\nfrom dolg.resnet_pt import ResNet\n\nbackbone = ResNet(depth=depth, num_groups=1, width_per_group=64, bn_eps=1e-5, \n             bn_mom=0.1, trans_fun=\"bottleneck_transform\")\nmodel = DOLG(backbone, s4_dim=2048, s3_dim=1024, s2_dim=512, head_reduction_dim=512,\n             with_ma=False, num_classes=None, pretrained=f\"r{depth}\")\nimg = process_data(\"image.jpg\", \"\", mode=\"pt\").unsqueeze(0)\n\nwith torch.no_grad():\n    output = model(img)\nprint(output)\n\n# for tensorflow\n\nimport tensorflow as tf\nfrom dolg.dolg_model_tf2 import DOLG\nfrom dolg.resnet_tf2 import ResNet\n\n\nbackbone = ResNet(depth=depth, num_groups=1, width_per_group=64, bn_eps=1e-5, \n             bn_mom=0.1, trans_fun=\"bottleneck_transform\", name=\"globalmodel\")\nmodel = DOLG(backbone, s4_dim=2048, s3_dim=1024, s2_dim=512, head_reduction_dim=512,\n             with_ma=False, num_classes=None, pretrained=f\"r{depth}\")\nimg = process_data(\"image.jpg\", \"\", mode=\"tf\")\nimg = np.expand_dims(img, axis=0)\noutput = model.predict(img)\nprint(output)\n```\n\n## Data \n\nThe model has been trained on google landmark v2. You can find the dataset on the official repository : https://github.com/cvdfoundation/google-landmark .\n\n\n# Citation : \n\n```bibtex\n\n@misc{yang2021dolg,\n      title={DOLG: Single-Stage Image Retrieval with Deep Orthogonal Fusion of Local and Global Features}, \n      author={Min Yang and Dongliang He and Miao Fan and Baorong Shi and Xuetong Xue and Fu Li and Errui Ding and Jizhou Huang},\n      year={2021},\n      eprint={2108.02927},\n      archivePrefix={arXiv},\n      primaryClass={cs.CV}\n}\n\n\n@misc{https://doi.org/10.48550/arxiv.2004.01804,\n  doi = {10.48550/ARXIV.2004.01804},\n\n  url = {https://arxiv.org/abs/2004.01804},\n\n  author = {Weyand, Tobias and Araujo, Andre and Cao, Bingyi and Sim, Jack},\n\n  keywords = {Computer Vision and Pattern Recognition (cs.CV), FOS: Computer and information sciences, FOS: Computer and information sciences},\n\n  title = {Google Landmarks Dataset v2 -- A Large-Scale Benchmark for Instance-Level Recognition and Retrieval},\n```\n\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "https://github.com/Shiro-LK/python-DOLG.git",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/Shiro-LK/python-DOLG",
    "keywords": "DOLG for torch and tensorflow,pretrained weights,tensorflow,tf,pytorch,torch",
    "license": "MIT License",
    "maintainer": "",
    "maintainer_email": "",
    "name": "dolg",
    "package_url": "https://pypi.org/project/dolg/",
    "platform": null,
    "project_url": "https://pypi.org/project/dolg/",
    "project_urls": {
      "Download": "https://github.com/Shiro-LK/python-DOLG.git",
      "Homepage": "https://github.com/Shiro-LK/python-DOLG"
    },
    "release_url": "https://pypi.org/project/dolg/0.1.5.1/",
    "requires_dist": [
      "numpy",
      "pytest"
    ],
    "requires_python": "",
    "summary": "Re-implementation of DOLG paper in torch and tensorflow with converted checkpoints",
    "version": "0.1.5.1",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 16283308,
  "releases": {
    "0.1.3": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "766a116241e066a2111bdebb687873a9e741ecf6408b9fc4485f1bd7b6696033",
          "md5": "437f70e971e9170c7db633a55c04eea2",
          "sha256": "6fd5534099b5f420499d0b93efd0211466b6e76f4e47e7247dd0f7ae2243545c"
        },
        "downloads": -1,
        "filename": "dolg-0.1.3-py2.py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "437f70e971e9170c7db633a55c04eea2",
        "packagetype": "bdist_wheel",
        "python_version": "py2.py3",
        "requires_python": null,
        "size": 18431,
        "upload_time": "2022-12-26T00:25:58",
        "upload_time_iso_8601": "2022-12-26T00:25:58.969190Z",
        "url": "https://files.pythonhosted.org/packages/76/6a/116241e066a2111bdebb687873a9e741ecf6408b9fc4485f1bd7b6696033/dolg-0.1.3-py2.py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "e1d73258ff18f836f076b31982ac44acaf7e3874e4ac4dabe8e0b7bb7c7147a2",
          "md5": "e31bc58f8117452ac8894379245458ef",
          "sha256": "403d7183e0ef513bf35dcfd737c6714bd2ffcb6b8b0b6fee66744a1488eea6db"
        },
        "downloads": -1,
        "filename": "dolg-0.1.3.tar.gz",
        "has_sig": false,
        "md5_digest": "e31bc58f8117452ac8894379245458ef",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 15467,
        "upload_time": "2022-12-26T00:15:28",
        "upload_time_iso_8601": "2022-12-26T00:15:28.449721Z",
        "url": "https://files.pythonhosted.org/packages/e1/d7/3258ff18f836f076b31982ac44acaf7e3874e4ac4dabe8e0b7bb7c7147a2/dolg-0.1.3.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.1.4": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "547042bde8c964948e73205d1a86ae00e90c54e0fde0f38b774c45efaac9ef56",
          "md5": "da8f5773e14218b9ff0f58883c24d667",
          "sha256": "e0c55db01f04ea089f00eb5794d3219b9473beb4fbac853b65cc5d06e7390e01"
        },
        "downloads": -1,
        "filename": "dolg-0.1.4-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "da8f5773e14218b9ff0f58883c24d667",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 18430,
        "upload_time": "2022-12-26T00:27:54",
        "upload_time_iso_8601": "2022-12-26T00:27:54.106280Z",
        "url": "https://files.pythonhosted.org/packages/54/70/42bde8c964948e73205d1a86ae00e90c54e0fde0f38b774c45efaac9ef56/dolg-0.1.4-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "36b4234536482843e29af60f37236e4e89cbcf07bf6afa53ab776c542e1a578f",
          "md5": "8cf5b3b6595ecf567c5cbea8c4c40722",
          "sha256": "caf30898b29c675cfa964f10604a5d5e209a1589b8337a90e4949ccef55da1d7"
        },
        "downloads": -1,
        "filename": "dolg-0.1.4.tar.gz",
        "has_sig": false,
        "md5_digest": "8cf5b3b6595ecf567c5cbea8c4c40722",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 15463,
        "upload_time": "2022-12-26T00:27:55",
        "upload_time_iso_8601": "2022-12-26T00:27:55.817711Z",
        "url": "https://files.pythonhosted.org/packages/36/b4/234536482843e29af60f37236e4e89cbcf07bf6afa53ab776c542e1a578f/dolg-0.1.4.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.1.5": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "3220521dae1b4019ad5b24cc8cd4a27c88406f48378a15eb19cab241c026b927",
          "md5": "1ea508d877489e32987346f00baaee34",
          "sha256": "1817209b029aea94b53fc15a98656f15303e29e20b99b0f9bd44934c68f1f644"
        },
        "downloads": -1,
        "filename": "dolg-0.1.5-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "1ea508d877489e32987346f00baaee34",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 18477,
        "upload_time": "2022-12-26T00:45:08",
        "upload_time_iso_8601": "2022-12-26T00:45:08.318309Z",
        "url": "https://files.pythonhosted.org/packages/32/20/521dae1b4019ad5b24cc8cd4a27c88406f48378a15eb19cab241c026b927/dolg-0.1.5-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "3f691feac54e1fe25a724d54e60f9ed064a59ac5087570c51989acd372c32a1a",
          "md5": "300ad460cbfcc83cef6f9a8f5de9be6a",
          "sha256": "f91eddf66676d7be00b710f9c4a9c6b38bc81c5e00a8a242c374c7434361bc86"
        },
        "downloads": -1,
        "filename": "dolg-0.1.5.tar.gz",
        "has_sig": false,
        "md5_digest": "300ad460cbfcc83cef6f9a8f5de9be6a",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 15494,
        "upload_time": "2022-12-26T00:45:09",
        "upload_time_iso_8601": "2022-12-26T00:45:09.971976Z",
        "url": "https://files.pythonhosted.org/packages/3f/69/1feac54e1fe25a724d54e60f9ed064a59ac5087570c51989acd372c32a1a/dolg-0.1.5.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.1.5.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "816d3a3ed16afda47e2b3869dfbf4f1e7dfb9fc9975577d08a26528d38923de6",
          "md5": "b9e6fba410e1111c4247d4c12f311e4b",
          "sha256": "588e31d5a1f3e34db456ef8aa98a858e60ed3609d0b9d29966b2c10b79095b27"
        },
        "downloads": -1,
        "filename": "dolg-0.1.5.1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "b9e6fba410e1111c4247d4c12f311e4b",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 18540,
        "upload_time": "2023-01-02T23:46:45",
        "upload_time_iso_8601": "2023-01-02T23:46:45.248032Z",
        "url": "https://files.pythonhosted.org/packages/81/6d/3a3ed16afda47e2b3869dfbf4f1e7dfb9fc9975577d08a26528d38923de6/dolg-0.1.5.1-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "2a807ee6e1fa67130ac85949e1eab15e9bc4ebeb720c8f3d504f2fad97a3161e",
          "md5": "cc4ee89a6d2ee64443df5ca12ab29fdb",
          "sha256": "2cc4c6475479521c54853a55bedeb3da1437e6854def103a6fe58aca16471bd9"
        },
        "downloads": -1,
        "filename": "dolg-0.1.5.1.tar.gz",
        "has_sig": false,
        "md5_digest": "cc4ee89a6d2ee64443df5ca12ab29fdb",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 15116,
        "upload_time": "2023-01-02T23:46:56",
        "upload_time_iso_8601": "2023-01-02T23:46:56.066860Z",
        "url": "https://files.pythonhosted.org/packages/2a/80/7ee6e1fa67130ac85949e1eab15e9bc4ebeb720c8f3d504f2fad97a3161e/dolg-0.1.5.1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "816d3a3ed16afda47e2b3869dfbf4f1e7dfb9fc9975577d08a26528d38923de6",
        "md5": "b9e6fba410e1111c4247d4c12f311e4b",
        "sha256": "588e31d5a1f3e34db456ef8aa98a858e60ed3609d0b9d29966b2c10b79095b27"
      },
      "downloads": -1,
      "filename": "dolg-0.1.5.1-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "b9e6fba410e1111c4247d4c12f311e4b",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": null,
      "size": 18540,
      "upload_time": "2023-01-02T23:46:45",
      "upload_time_iso_8601": "2023-01-02T23:46:45.248032Z",
      "url": "https://files.pythonhosted.org/packages/81/6d/3a3ed16afda47e2b3869dfbf4f1e7dfb9fc9975577d08a26528d38923de6/dolg-0.1.5.1-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "2a807ee6e1fa67130ac85949e1eab15e9bc4ebeb720c8f3d504f2fad97a3161e",
        "md5": "cc4ee89a6d2ee64443df5ca12ab29fdb",
        "sha256": "2cc4c6475479521c54853a55bedeb3da1437e6854def103a6fe58aca16471bd9"
      },
      "downloads": -1,
      "filename": "dolg-0.1.5.1.tar.gz",
      "has_sig": false,
      "md5_digest": "cc4ee89a6d2ee64443df5ca12ab29fdb",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": null,
      "size": 15116,
      "upload_time": "2023-01-02T23:46:56",
      "upload_time_iso_8601": "2023-01-02T23:46:56.066860Z",
      "url": "https://files.pythonhosted.org/packages/2a/80/7ee6e1fa67130ac85949e1eab15e9bc4ebeb720c8f3d504f2fad97a3161e/dolg-0.1.5.1.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}