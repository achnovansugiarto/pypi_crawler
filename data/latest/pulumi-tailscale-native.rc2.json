{
  "info": {
    "author": "",
    "author_email": "",
    "bugtrack_url": null,
    "classifiers": [],
    "description": "# Pulumi Native Provider Template\n\nThis repository is a boilerplate showing how to create a native Pulumi provider using the [Pulumi Provider Framework](https://github.com/cloudy-sky-software/pulumi-provider-framework).\n\n### Background\n\nThis repository is part of the [guide for authoring and publishing a Pulumi Package](https://www.pulumi.com/docs/guides/pulumi-packages/how-to-author).\n\nLearn about the concepts behind [Pulumi Packages](https://www.pulumi.com/docs/guides/pulumi-packages/#pulumi-packages).\n\nFollow this link to see [an architecture diagram for Pulumi](https://www.pulumi.com/docs/intro/concepts/how-pulumi-works/#how-pulumi-works).\n\nA Pulumi Resource Provider:\n\n- is a gRPC server which allows for the Pulumi engine to create resources in a specific cloud\n- holds the lifecycle logic for these cloud resources\n- holds a pulumi JSON schema that describes the provider\n- provides language-specific SDKs so resources can be created in whichever language you prefer\n\nWhen we speak of a \"native\" provider, we mean that all implementation is native to Pulumi, as opposed\nto [Terraform based providers](https://github.com/pulumi/pulumi-tf-provider-boilerplate).\n\n## Authoring a Pulumi Native Provider\n\nThe following instructions assume that the provider is written for the Pulumi organisation.\nIn the future, we will add instruction for providers published and maintained by the Pulumi community, referred to as \"third-party\" providers.\n\nThis boilerplate creates a working Pulumi-owned provider named `tailscale`.\nIt implements a random number generator that you can [build and test out for yourself](#test-against-the-example) and then replace the Random code with code specific to your provider.\n\n### Prerequisites\n\nEnsure the following tools are installed and present in your `$PATH`:\n\n- [`pulumictl`](https://github.com/pulumi/pulumictl#installation)\n- [Go 1.17](https://golang.org/dl/) or 1.latest\n- [NodeJS](https://nodejs.org/en/) 14.x. We recommend using [nvm](https://github.com/nvm-sh/nvm) to manage NodeJS installations.\n- [Yarn](https://yarnpkg.com/)\n- [TypeScript](https://www.typescriptlang.org/)\n- [Python](https://www.python.org/downloads/) (called as `python3`). For recent versions of MacOS, the system-installed version is fine.\n- [.NET](https://dotnet.microsoft.com/download)\n\n### Creating and Initializing the Repository\n\nPulumi offers this repository as a [GitHub template repository](https://docs.github.com/en/repositories/creating-and-managing-repositories/creating-a-repository-from-a-template) for convenience. From this repository:\n\n1. Click \"Use this template\".\n1. Set the following options:\n   - Owner: pulumi\n   - Repository name: pulumi-tailscale-native (replace \"tailscale\" with the name of your provider)\n   - Description: Pulumi provider for tailscale\n   - Repository type: Public\n1. Clone the generated repository.\n\nFrom the templated repository:\n\n1. Search-replace `tailscale` with the name of your desired provider.\n\n#### Build the provider and install the plugin\n\n```bash\n$ make build install\n```\n\nThis will:\n\n1. Create the SDK codegen binary and place it in a `./bin` folder (gitignored)\n2. Create the provider binary and place it in the `./bin` folder (gitignored)\n3. Generate the dotnet, Go, Node, and Python SDKs and place them in the `./sdk` folder\n4. Install the provider on your machine.\n\n#### Test against the example\n\n```bash\n$ cd examples/simple\n$ yarn link @pulumi/tailscale\n$ yarn install\n$ pulumi stack init test\n$ pulumi up\n```\n\nNow that you have completed all of the above steps, you have a working provider that generates a random string for you.\n\n#### A brief repository overview\n\nYou now have:\n\n1. A `provider/` folder containing the building and implementation logic\n   1. `cmd/`\n      1. `pulumi-gen-tailscale/` - generates language SDKs from the schema\n      2. `pulumi-resource-tailscale/` - holds the package schema, injects the package version, and starts the gRPC server\n   2. `pkg`\n      1. `provider` - holds the gRPC methods (and for now, the sample implementation logic) required by the Pulumi engine\n      2. `version` - semver package to be consumed by build processes\n2. `deployment-templates` - a set of files to help you around deployment and publication\n3. `sdk` - holds the generated code libraries created by `pulumi-gen-tailscale/main.go`\n4. `examples` a folder of Pulumi programs to try locally and/or use in CI.\n5. A `Makefile` and this `README`.\n\n### Writing the schema\n\nThe [JSON schema file](https://www.pulumi.com/docs/guides/pulumi-packages/schema) is used by `pulumi-gen-tailscale` to create language-specific SDKs.\nIt is, therefore, a central requirement for any resource provider.\nProvider schemas can be handwritten, or alternatively machine-generated by combining API specification with pulumi-specific logic.\n\nWhen writing the schema by hand, it is helpful to associate the JSON schema in your IDE for completion or Intellisense features to work:\n\n- Visual Studio Code: the easiest option is to [map the schema file](https://code.visualstudio.com/Docs/languages/json#_mapping-in-the-user-settings)\n  in your User Settings which enables it for all your provider projects:\n  ```json\n      \"json.schemas\": [\n        {\n            \"fileMatch\": [\n                \"/provider/cmd/pulumi-*/schema.json\"\n            ],\n            \"url\": \"https://raw.githubusercontent.com/pulumi/pulumi/master/pkg/codegen/schema/pulumi.json\"\n        }\n    ]\n  ```\n\nThis repository provides the [tailscale example schema](./provider/cmd/pulumi-resource-tailscale/schema.json) to get you started.  \n[The AWS Native Provider schema](https://github.com/pulumi/pulumi-aws-native/blob/master/provider/cmd/pulumi-resource-aws-native/schema.json) provides a much larger example.  \nRefer to the [package schema documentation](https://www.pulumi.com/docs/guides/pulumi-packages/schema/#pulumi-package-schema) for additional details when writing the schema.\n\n### Implementing the gRPC methods\n\nOnce you have a schema that describes all the resources and metadata for your provider, you will need to implement the desired gRPC methods.\nYou will find a mostly blank implementation of these in `pkg/provider/provider.go`.\nNote that these methods do not link 1:1 to the Pulumi CLI commands.\n\n#### Basic Functionality\n\nThe struct and creation of the provider are implemented already:\n\n```go\n// provider/pkg/provider.go\ntype tailscaleProvider struct {\n\thost    *provider.HostClient\n\tname    string\n\tversion string\n\tschema  []byte\n}\n\nfunc makeProvider(host *provider.HostClient, name, version string, pulumiSchema []byte) (pulumirpc.ResourceProviderServer, error) {\n   // Return the new provider\n   return &tailscaleProvider{\n   host:    host,\n   name:    name,\n   version: version,\n   schema:  pulumiSchema,\n   }, nil\n}\n```\n\nYou need to provide the following methods:\n\n1. Check - validates resource Inputs\n2. Diff - calculates the differences between the actual and the desired state of a resource\n3. Create - creates a new instance of a resource from an Input\n4. Update - updates a resource in-place (i.e. without deleting/recreating)\n5. Read - reads current inputs and state for a resource\n6. Delete - deletes a resource and its corresponding state\n\n[Resource lifecycle methods are documented here](https://pulumi-developer-docs.readthedocs.io/en/stable/providers/implementers-guide.html#custom-resource-lifecycle).\n\nThe following methods are necessary for every provider and are already implemented:\n\n1. GetPluginInfo - returns generic information about this plugin, like its version\n2. GetSchema - returns the Pulumi schema to the provider\n\n#### Additional Methods\n\nThe [resource provider service](https://github.com/pulumi/pulumi/blob/master/sdk/proto/provider.proto) includes a few more gRPC methods that you may need to implement and can read more about.\n\n### Build Examples\n\nCreate an example program using the resources defined in your provider, and place it in the `examples/` folder.\n\nYou can now repeat the steps for [build, install, and test](#test-against-the-example).\n\n## Documentation\n\nPlease [follow this guide to add documentation to your provider](https://www.pulumi.com/docs/guides/pulumi-packages/how-to-author/#write-documentation).\n\n## Configuring CI and releases\n\n1. Follow the instructions laid out in the [deployment templates](./deployment-templates/README-DEPLOYMENT.md).\n\n## References\n\nOther resources for learning about the Pulumi resource model:\n\n- [Pulumi Kubernetes provider](https://github.com/pulumi/pulumi-kubernetes/blob/master/provider/pkg/provider/provider.go)\n- [Pulumi Terraform Remote State provider](https://github.com/pulumi/pulumi-terraform/blob/master/provider/cmd/pulumi-resource-terraform/provider.go)\n- [Dynamic Providers](https://www.pulumi.com/docs/intro/concepts/programming-model/#dynamicproviders)\n\n\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://cloudysky.software",
    "keywords": "pulumi tailscale-native category/cloud kind/native",
    "license": "Apache-2.0",
    "maintainer": "",
    "maintainer_email": "",
    "name": "pulumi-tailscale-native",
    "package_url": "https://pypi.org/project/pulumi-tailscale-native/",
    "platform": null,
    "project_url": "https://pypi.org/project/pulumi-tailscale-native/",
    "project_urls": {
      "Homepage": "https://cloudysky.software",
      "Repository": "https://github.com/cloudy-sky-software/pulumi-tailscale-native"
    },
    "release_url": "https://pypi.org/project/pulumi-tailscale-native/0.0.6/",
    "requires_dist": null,
    "requires_python": "",
    "summary": "A native Pulumi package for creating and managing Tailscale resources.",
    "version": "0.0.6",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 17444456,
  "releases": {
    "0.0.3": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "88094fbd48fc4593b5ed77f206eab172da820a02ff0986692021d839e408cebc",
          "md5": "b1bf48227bedd1de26fb1085f04b584d",
          "sha256": "b63637490058b80a94b39963a88049cf667a2f358c3ef408b3c36fb54ed88873"
        },
        "downloads": -1,
        "filename": "pulumi_tailscale_native-0.0.3.tar.gz",
        "has_sig": false,
        "md5_digest": "b1bf48227bedd1de26fb1085f04b584d",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 23041,
        "upload_time": "2023-03-09T06:39:18",
        "upload_time_iso_8601": "2023-03-09T06:39:18.438001Z",
        "url": "https://files.pythonhosted.org/packages/88/09/4fbd48fc4593b5ed77f206eab172da820a02ff0986692021d839e408cebc/pulumi_tailscale_native-0.0.3.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.0.6": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "ab469a85a10bf7a23c4032300d280ab4133d77db7c4f9a0a32cbb0f1e8984028",
          "md5": "d87b46779398a023e4a2756bf320ad4c",
          "sha256": "d043cb583cb709da606795028813253fe6dff644c199d3f8733bc2bde60918af"
        },
        "downloads": -1,
        "filename": "pulumi_tailscale_native-0.0.6.tar.gz",
        "has_sig": false,
        "md5_digest": "d87b46779398a023e4a2756bf320ad4c",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 22978,
        "upload_time": "2023-03-25T20:38:45",
        "upload_time_iso_8601": "2023-03-25T20:38:45.534967Z",
        "url": "https://files.pythonhosted.org/packages/ab/46/9a85a10bf7a23c4032300d280ab4133d77db7c4f9a0a32cbb0f1e8984028/pulumi_tailscale_native-0.0.6.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "ab469a85a10bf7a23c4032300d280ab4133d77db7c4f9a0a32cbb0f1e8984028",
        "md5": "d87b46779398a023e4a2756bf320ad4c",
        "sha256": "d043cb583cb709da606795028813253fe6dff644c199d3f8733bc2bde60918af"
      },
      "downloads": -1,
      "filename": "pulumi_tailscale_native-0.0.6.tar.gz",
      "has_sig": false,
      "md5_digest": "d87b46779398a023e4a2756bf320ad4c",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": null,
      "size": 22978,
      "upload_time": "2023-03-25T20:38:45",
      "upload_time_iso_8601": "2023-03-25T20:38:45.534967Z",
      "url": "https://files.pythonhosted.org/packages/ab/46/9a85a10bf7a23c4032300d280ab4133d77db7c4f9a0a32cbb0f1e8984028/pulumi_tailscale_native-0.0.6.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}