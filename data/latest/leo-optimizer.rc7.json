{
  "info": {
    "author": "Martin Andersen",
    "author_email": "",
    "bugtrack_url": null,
    "classifiers": [
      "Intended Audience :: Developers",
      "License :: OSI Approved :: Apache Software License",
      "Programming Language :: Python :: 3",
      "Programming Language :: Python :: 3.10",
      "Programming Language :: Python :: 3.7",
      "Programming Language :: Python :: 3.8",
      "Programming Language :: Python :: 3.9",
      "Programming Language :: Python :: Implementation :: PyPy",
      "Topic :: Software Development :: Libraries"
    ],
    "description": "# Leo Optimizer\n\nThis Django plugin allows you to optimize SQL queries and solve [N+1](https://scoutapm.com/blog/django-and-the-n1-queries-problem) bottleneck for queries resolved in GraphQL, as well as in admin pages.\n\n# Install\n\n```bash\npip install leo-optimizer\n```\n\n# Context\n\nLet's say that the business context that you are modeling is around the concept of a city. You modeled your solution following way:\n\n* City has one mayor\n* City has many districts\n* City belong to one state\n* State is in the country\n* Country is located in a continent\n\nOutcome of these relations allows you to build a complex GraphQL query that might look like this.\n\n```\nquery CityQuery {\n  allCities{\n    mayor {\n      city {\n        name\n      }\n    }\n    state {\n      country {\n        continent {\n          name\n        }\n      }\n    }\n    district {\n      city {\n        mayor {\n          city {\n            district {\n              name\n            }\n          }\n        }\n      }\n    }\n  }\n}\n```\n\n# Problem\n\nThe problem is that if you didn't use [select_related](https://docs.djangoproject.com/en/3.2/ref/models/querysets/#select-related) and [prefetch_related](https://docs.djangoproject.com/en/3.2/ref/models/querysets/#prefetch-related) on the model that you are resolving then by default you will get [N+1](https://scoutapm.com/blog/django-and-the-n1-queries-problem) problem.\n\n\n# Solution\n\nYou can fix this problem by importing `gql_optimizer` function from `leo_optimizer` package.\n\nIn your GraphQL resolver, wrap your model along with FiledNode that you would like to resolve against and return Django QuerySet. Your code should look like the code below.\n\n```python\nfrom leo_optimizer import gql_optimizer\n\nfrom app.models import City\n\ndef resolve_all_city(self, info):\n    queryset = gql_optimizer(City.objects.all(), info.field_nodes[0])\n    return queryset\n```\n\n# Admin\n\nAutomatically generated django admin pages suffer from the same [N+1](https://scoutapm.com/blog/django-and-the-n1-queries-problem) problem. To solve slow loading admin pages you can import `QuickAdmin` class in your `admin.py` file as shown on the example below.\n\n\n```python\nfrom django.apps import apps\nfrom django.contrib import admin\n\nfrom leo_optimizer import QuickAdmin\n\n\nfor model in apps.get_app_config(\"name_of_your_application\").get_models():\n    admin.site.register(model, QuickAdmin)\n```",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/LEO-Pharma-R-D-Data-Analytics/leo-optimizer",
    "keywords": "graphql,graphene,django,N+1,optimizer",
    "license": "Apache-2.0",
    "maintainer": "Martin Andersen",
    "maintainer_email": "",
    "name": "leo-optimizer",
    "package_url": "https://pypi.org/project/leo-optimizer/",
    "platform": "",
    "project_url": "https://pypi.org/project/leo-optimizer/",
    "project_urls": {
      "Documentation": "https://github.com/LEO-Pharma-R-D-Data-Analytics/leo-optimizer",
      "Homepage": "https://github.com/LEO-Pharma-R-D-Data-Analytics/leo-optimizer",
      "Repository": "https://github.com/LEO-Pharma-R-D-Data-Analytics/leo-optimizer"
    },
    "release_url": "https://pypi.org/project/leo-optimizer/0.0.8/",
    "requires_dist": [
      "stringcase (>=1.2.0,<2.0.0)"
    ],
    "requires_python": ">=3.7,<4.0",
    "summary": "Package for on fly optimizing SQL queries generated by Django ORM. This package targets the N+1 problem so well known to Django.",
    "version": "0.0.8",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 12382025,
  "releases": {
    "0.0.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "6c9f54f55f94bbdff3342297fa20524e37a44c75913d640a27a45ad5a22b46ac",
          "md5": "7def66e23f8eb7e0886b89c718d14369",
          "sha256": "6f3b4e01301064a9565cb3be3d42861a83d2db1b49549ddd526a47ffb88671bf"
        },
        "downloads": -1,
        "filename": "leo_optimizer-0.0.1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "7def66e23f8eb7e0886b89c718d14369",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.6,<4.0",
        "size": 5192,
        "upload_time": "2021-12-20T11:50:35",
        "upload_time_iso_8601": "2021-12-20T11:50:35.477513Z",
        "url": "https://files.pythonhosted.org/packages/6c/9f/54f55f94bbdff3342297fa20524e37a44c75913d640a27a45ad5a22b46ac/leo_optimizer-0.0.1-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "972d8e347c03091e913bb0d82fb0d45bb9779ecf7b083948e274f88206aa79c8",
          "md5": "db7134d4a3dd80f72ca08a26bb883b82",
          "sha256": "4e62d86029bc4350abe0bfc57baa990012fd3034e735b6ace37e6331c46f03fb"
        },
        "downloads": -1,
        "filename": "leo-optimizer-0.0.1.tar.gz",
        "has_sig": false,
        "md5_digest": "db7134d4a3dd80f72ca08a26bb883b82",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6,<4.0",
        "size": 4967,
        "upload_time": "2021-12-20T11:50:33",
        "upload_time_iso_8601": "2021-12-20T11:50:33.429223Z",
        "url": "https://files.pythonhosted.org/packages/97/2d/8e347c03091e913bb0d82fb0d45bb9779ecf7b083948e274f88206aa79c8/leo-optimizer-0.0.1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.0.2": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "c146f6260f3e83a080926837ec22932492f6f04fa7dfee2603fbea979a770ca6",
          "md5": "e3d0ba9e3e2db01f0262af860dee7f39",
          "sha256": "09a1fc24526ac0dc4e667b8c041287b47b7f68e4f8890218c9de5f52c32510f8"
        },
        "downloads": -1,
        "filename": "leo_optimizer-0.0.2-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "e3d0ba9e3e2db01f0262af860dee7f39",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.6,<4.0",
        "size": 5196,
        "upload_time": "2021-12-20T11:56:18",
        "upload_time_iso_8601": "2021-12-20T11:56:18.928674Z",
        "url": "https://files.pythonhosted.org/packages/c1/46/f6260f3e83a080926837ec22932492f6f04fa7dfee2603fbea979a770ca6/leo_optimizer-0.0.2-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "8088204bc70bc91c8811a8de005529ea5444826602df2ea9c654ee2837bb7f20",
          "md5": "8711f5bebebb65fe1184985bc5e14561",
          "sha256": "3a543841b434bbfdcc84850b8049f2d21242e576bbb45d2fa3023754e1807e50"
        },
        "downloads": -1,
        "filename": "leo-optimizer-0.0.2.tar.gz",
        "has_sig": false,
        "md5_digest": "8711f5bebebb65fe1184985bc5e14561",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6,<4.0",
        "size": 4961,
        "upload_time": "2021-12-20T11:56:17",
        "upload_time_iso_8601": "2021-12-20T11:56:17.069275Z",
        "url": "https://files.pythonhosted.org/packages/80/88/204bc70bc91c8811a8de005529ea5444826602df2ea9c654ee2837bb7f20/leo-optimizer-0.0.2.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.0.3": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "fe3b21723faea5e868dd44bdd345ce4e491c2189747a618c1070be67a5027a42",
          "md5": "0dd4decf6949bf44ed5a0b06b627de4d",
          "sha256": "bb4797a3b1b710e767048b1ec22b9a820816f0b81f3fc06363b02ea7070462f0"
        },
        "downloads": -1,
        "filename": "leo_optimizer-0.0.3-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "0dd4decf6949bf44ed5a0b06b627de4d",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.6,<4.0",
        "size": 5201,
        "upload_time": "2021-12-20T12:11:12",
        "upload_time_iso_8601": "2021-12-20T12:11:12.578590Z",
        "url": "https://files.pythonhosted.org/packages/fe/3b/21723faea5e868dd44bdd345ce4e491c2189747a618c1070be67a5027a42/leo_optimizer-0.0.3-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "c82d6b8c60e6ac71b1c4e8a3967ef8b2e4d781681406b9b657ef51cbcfe5e653",
          "md5": "f8015c79f1413e39dbe5ac4d34c57708",
          "sha256": "ca96bee3fb844170805c2906ed476cf78d2a9d5015456dee0106a0f4a83c8171"
        },
        "downloads": -1,
        "filename": "leo-optimizer-0.0.3.tar.gz",
        "has_sig": false,
        "md5_digest": "f8015c79f1413e39dbe5ac4d34c57708",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6,<4.0",
        "size": 4979,
        "upload_time": "2021-12-20T12:11:11",
        "upload_time_iso_8601": "2021-12-20T12:11:11.149163Z",
        "url": "https://files.pythonhosted.org/packages/c8/2d/6b8c60e6ac71b1c4e8a3967ef8b2e4d781681406b9b657ef51cbcfe5e653/leo-optimizer-0.0.3.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.0.4": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "2012094a0d62cb53226665874103d2bfe540269c33492a089b53d1f1b67468fb",
          "md5": "a8c21f3a496b200af4c7518eb3a366d1",
          "sha256": "beb111931752645a74193826eed28e00de56fce5400e8686fc0ee1049c69b58d"
        },
        "downloads": -1,
        "filename": "leo_optimizer-0.0.4-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "a8c21f3a496b200af4c7518eb3a366d1",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.6,<4.0",
        "size": 5215,
        "upload_time": "2021-12-20T12:45:18",
        "upload_time_iso_8601": "2021-12-20T12:45:18.545417Z",
        "url": "https://files.pythonhosted.org/packages/20/12/094a0d62cb53226665874103d2bfe540269c33492a089b53d1f1b67468fb/leo_optimizer-0.0.4-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "67240d6b361b1426506e478a40f7d76e5a0066a98bd997fa17fe2e99666fd2a1",
          "md5": "587b094a36a3bd59c78b83f9548b7f18",
          "sha256": "a9b20391dec353b1ad0e123f0854422b12b7e7ef743d9ff790ecf1a093ceb5f0"
        },
        "downloads": -1,
        "filename": "leo-optimizer-0.0.4.tar.gz",
        "has_sig": false,
        "md5_digest": "587b094a36a3bd59c78b83f9548b7f18",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6,<4.0",
        "size": 4983,
        "upload_time": "2021-12-20T12:45:16",
        "upload_time_iso_8601": "2021-12-20T12:45:16.525718Z",
        "url": "https://files.pythonhosted.org/packages/67/24/0d6b361b1426506e478a40f7d76e5a0066a98bd997fa17fe2e99666fd2a1/leo-optimizer-0.0.4.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.0.5": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "a95822095872101b7ee32309bc9bdff34b1347fbe85c99fae0b8e6c2d29bfaa1",
          "md5": "2a548e99e6d8a8b80217351dab87c4c3",
          "sha256": "c490902954a482cfff6f7a80bc9e52f3a30769c49873e2b1412ca75877fb46e7"
        },
        "downloads": -1,
        "filename": "leo_optimizer-0.0.5-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "2a548e99e6d8a8b80217351dab87c4c3",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.6,<4.0",
        "size": 5232,
        "upload_time": "2021-12-20T12:55:57",
        "upload_time_iso_8601": "2021-12-20T12:55:57.469923Z",
        "url": "https://files.pythonhosted.org/packages/a9/58/22095872101b7ee32309bc9bdff34b1347fbe85c99fae0b8e6c2d29bfaa1/leo_optimizer-0.0.5-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "4c810c4bf1aad76fbde2690b5d80ef9cbceddee22d284524a7bd36125710896d",
          "md5": "c58a2c06bdc62087662841b74dba48bb",
          "sha256": "e935e96e404dad358323ae8ae7634eb68d4f01a28d5b0743236235e34cc470a1"
        },
        "downloads": -1,
        "filename": "leo-optimizer-0.0.5.tar.gz",
        "has_sig": false,
        "md5_digest": "c58a2c06bdc62087662841b74dba48bb",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6,<4.0",
        "size": 5005,
        "upload_time": "2021-12-20T12:55:55",
        "upload_time_iso_8601": "2021-12-20T12:55:55.767101Z",
        "url": "https://files.pythonhosted.org/packages/4c/81/0c4bf1aad76fbde2690b5d80ef9cbceddee22d284524a7bd36125710896d/leo-optimizer-0.0.5.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.0.7": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "2b43a4d322949d43a149cc852fc004287a46e2b7cab9775133b7860b4b88325b",
          "md5": "4977f5e4cf60247c1b7178c453dfc27d",
          "sha256": "b1b6b7505b23dbf4370ada5cc4c705fe3bef4382e2bfa6d6c4804c6f79c2977a"
        },
        "downloads": -1,
        "filename": "leo_optimizer-0.0.7-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "4977f5e4cf60247c1b7178c453dfc27d",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.6,<4.0",
        "size": 5233,
        "upload_time": "2021-12-21T11:38:44",
        "upload_time_iso_8601": "2021-12-21T11:38:44.981425Z",
        "url": "https://files.pythonhosted.org/packages/2b/43/a4d322949d43a149cc852fc004287a46e2b7cab9775133b7860b4b88325b/leo_optimizer-0.0.7-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "0722bb26fdb631dcf9bb782e729700840ae2b43ba7225ce0d27249f501d5111a",
          "md5": "7355d1578479b12874a0705277400c99",
          "sha256": "adeb2e9823b2297508e4675a6b7d1c5af739f1c138d384a6fc5d563b6169d274"
        },
        "downloads": -1,
        "filename": "leo-optimizer-0.0.7.tar.gz",
        "has_sig": false,
        "md5_digest": "7355d1578479b12874a0705277400c99",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6,<4.0",
        "size": 4951,
        "upload_time": "2021-12-21T11:38:43",
        "upload_time_iso_8601": "2021-12-21T11:38:43.570536Z",
        "url": "https://files.pythonhosted.org/packages/07/22/bb26fdb631dcf9bb782e729700840ae2b43ba7225ce0d27249f501d5111a/leo-optimizer-0.0.7.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.0.8": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "c99dcf48c45e29d600e0d5fb1e8b1bfbe2f9aa58beb631ddf057c3226869aa2b",
          "md5": "c42e0852cfe4b0e870991abeac0a704c",
          "sha256": "5cdc77a0e393329b344d9d65f10552ddca92c817e96a186124b7196049d7c0ed"
        },
        "downloads": -1,
        "filename": "leo_optimizer-0.0.8-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "c42e0852cfe4b0e870991abeac0a704c",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.7,<4.0",
        "size": 5280,
        "upload_time": "2021-12-22T14:51:56",
        "upload_time_iso_8601": "2021-12-22T14:51:56.054547Z",
        "url": "https://files.pythonhosted.org/packages/c9/9d/cf48c45e29d600e0d5fb1e8b1bfbe2f9aa58beb631ddf057c3226869aa2b/leo_optimizer-0.0.8-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "7b067601a533290d6fa9a9b1d2a48d01dd02e41fad2c585b46ee33ca43f33846",
          "md5": "0623bc4cd9c40656a601959715ce791d",
          "sha256": "3c498bb00ef5546af24602474938e00f1d2a3cb5bbdf5abb6f6b6485a67503fe"
        },
        "downloads": -1,
        "filename": "leo-optimizer-0.0.8.tar.gz",
        "has_sig": false,
        "md5_digest": "0623bc4cd9c40656a601959715ce791d",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.7,<4.0",
        "size": 4983,
        "upload_time": "2021-12-22T14:51:53",
        "upload_time_iso_8601": "2021-12-22T14:51:53.800102Z",
        "url": "https://files.pythonhosted.org/packages/7b/06/7601a533290d6fa9a9b1d2a48d01dd02e41fad2c585b46ee33ca43f33846/leo-optimizer-0.0.8.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "c99dcf48c45e29d600e0d5fb1e8b1bfbe2f9aa58beb631ddf057c3226869aa2b",
        "md5": "c42e0852cfe4b0e870991abeac0a704c",
        "sha256": "5cdc77a0e393329b344d9d65f10552ddca92c817e96a186124b7196049d7c0ed"
      },
      "downloads": -1,
      "filename": "leo_optimizer-0.0.8-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "c42e0852cfe4b0e870991abeac0a704c",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": ">=3.7,<4.0",
      "size": 5280,
      "upload_time": "2021-12-22T14:51:56",
      "upload_time_iso_8601": "2021-12-22T14:51:56.054547Z",
      "url": "https://files.pythonhosted.org/packages/c9/9d/cf48c45e29d600e0d5fb1e8b1bfbe2f9aa58beb631ddf057c3226869aa2b/leo_optimizer-0.0.8-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "7b067601a533290d6fa9a9b1d2a48d01dd02e41fad2c585b46ee33ca43f33846",
        "md5": "0623bc4cd9c40656a601959715ce791d",
        "sha256": "3c498bb00ef5546af24602474938e00f1d2a3cb5bbdf5abb6f6b6485a67503fe"
      },
      "downloads": -1,
      "filename": "leo-optimizer-0.0.8.tar.gz",
      "has_sig": false,
      "md5_digest": "0623bc4cd9c40656a601959715ce791d",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": ">=3.7,<4.0",
      "size": 4983,
      "upload_time": "2021-12-22T14:51:53",
      "upload_time_iso_8601": "2021-12-22T14:51:53.800102Z",
      "url": "https://files.pythonhosted.org/packages/7b/06/7601a533290d6fa9a9b1d2a48d01dd02e41fad2c585b46ee33ca43f33846/leo-optimizer-0.0.8.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}