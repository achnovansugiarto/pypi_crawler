{
  "info": {
    "author": "Anthony Shaw",
    "author_email": null,
    "bugtrack_url": null,
    "classifiers": [
      "License :: OSI Approved :: MIT License"
    ],
    "description": "# rich-bench\n\nA little Python benchmarking tool.\n\n## Why do I need this?\n\nThe builtin timeit module for Python is great, but the typical usage for micro-benchmarks is to run a small script like this:\n\n`python -m timeit \"a = 1; b = 2; a * b\"`\n\nThe problem with this approach is that the compiled code is a module, so any variables on the top-level are **globals**. \nThe compiled bytecode is different to the same statements being inside a local scope (e.g. a method or function).\nThey behave and perform very differently in CPython.\n\n`richbench` encourages you to write benchmarks inside functions to properly simulate the closures and scope of production code.\n\n## Installation\n\nRequires Python 3.6+ and can be installed using pip: \n\n```pip install richbench```\n\n## Usage\n\nWrite your benchmark functions in a directory and run `richbench` with that target to get the results:\n\n```console\n$ richbench my_benchmarks/\n```\n\nResults are displayed in a table like this:\n\n![Example result table](https://github.com/tonybaloney/rich-bench/raw/master/screenshot.png)\n\n\n```console\n$ richbench --help\nusage: richbench [-h] [--profile] [--percentage] [--markdown] [--benchmark [BENCHMARK]] [--repeat REPEAT] [--times TIMES] target [target ...]\n\npositional arguments:\n  target\n\noptions:\n  -h, --help            show this help message and exit\n  --profile             Profile the benchmarks and store in .profiles/\n  --percentage          Show percentage of improvement instead of multiplier\n  --markdown            Prints a markdown friendly table\n  --benchmark [BENCHMARK]\n                        Run specific benchmark\n  --repeat REPEAT       Repeat benchmark this many times\n  --times TIMES         Run benchmark this many times\n```\n\n## Writing benchmarks\n\nBenchmarks should be in a directory and must have the filename `bench_{name}.py`.\n\nThe last statement in the benchmark file should be a list, called `__benchmarks__` with a list of tuples containing:\n\n1. function a\n1. function b\n1. the name of the benchmark\n\n```python\ndef sort_seven():\n    \"\"\"Sort a list of seven items\"\"\"\n    for _ in range(10_000):\n        sorted([3,2,4,5,1,5,3])\n\ndef sort_three():\n    \"\"\"Sort a list of three items\"\"\"\n    for _ in range(10_000):\n        sorted([3,2,4])\n\n__benchmarks__ = [\n    (sort_seven, sort_three, \"Sorting 3 items instead of 7\")\n]\n```\n\n### Tips for benchmarking\n\nInside your benchmark function try to:\n\n* Run setup commands once\n* Repeat the code you want to benchmark as many times as possible to create a stable benchmark\n\nFor micro-benchmarks, this can be achieved by calling 1000 - 100,000 times.\n\nIf your benchmark code completes within `0.001s` it is likely you will get unstable benchmarks because of the CPU doing other activities. Increase the times the target code is run within the function.\n\n## Profiling\n\nBy adding the `--profile` flag to the command line, it will generate a subdirectory `.profiles` with HTML profile data of your target functions.\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": null,
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": null,
    "keywords": null,
    "license": null,
    "maintainer": null,
    "maintainer_email": null,
    "name": "richbench",
    "package_url": "https://pypi.org/project/richbench/",
    "platform": null,
    "project_url": "https://pypi.org/project/richbench/",
    "project_urls": {
      "Home": "https://github.com/tonybaloney/rich-bench"
    },
    "release_url": "https://pypi.org/project/richbench/1.0.3/",
    "requires_dist": [
      "rich",
      "pyinstrument"
    ],
    "requires_python": ">=3.6",
    "summary": "Richbench, a little benchmarking tool",
    "version": "1.0.3",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 14194971,
  "releases": {
    "1.0.0": [
      {
        "comment_text": null,
        "digests": {
          "blake2b_256": "e5a60166e431630e13f86a69e0036d297017083f0f9c53a75fe74cd925c49576",
          "md5": "649a72965f72459e96af45fd77b7a08c",
          "sha256": "d2dbc1004c6dcdf9844c7770af1dcd6605f1c665dc0336313cbc11ffe4119331"
        },
        "downloads": -1,
        "filename": "richbench-1.0.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "649a72965f72459e96af45fd77b7a08c",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.6",
        "size": 4964,
        "upload_time": "2022-06-20T01:01:00",
        "upload_time_iso_8601": "2022-06-20T01:01:00.155775Z",
        "url": "https://files.pythonhosted.org/packages/e5/a6/0166e431630e13f86a69e0036d297017083f0f9c53a75fe74cd925c49576/richbench-1.0.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": null,
        "digests": {
          "blake2b_256": "4a2c41912d01ddcb20a5786803261675cbce70b47e9b04ce9061beb0d2608ae5",
          "md5": "aa12d0c0cea111cb9c346636136bbf24",
          "sha256": "b9b5f9198dc7be282d9b044b1ecececa70ffdb1a1dfdef3372677b3471743166"
        },
        "downloads": -1,
        "filename": "richbench-1.0.0.tar.gz",
        "has_sig": false,
        "md5_digest": "aa12d0c0cea111cb9c346636136bbf24",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6",
        "size": 1070222,
        "upload_time": "2022-06-20T01:01:09",
        "upload_time_iso_8601": "2022-06-20T01:01:09.837713Z",
        "url": "https://files.pythonhosted.org/packages/4a/2c/41912d01ddcb20a5786803261675cbce70b47e9b04ce9061beb0d2608ae5/richbench-1.0.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.0.1": [
      {
        "comment_text": null,
        "digests": {
          "blake2b_256": "e498e8217010043797bd2937ee805a34d1cbe0480f82a14323647d6bde12b5d2",
          "md5": "81bf45645211232f7119314f157b7b53",
          "sha256": "d339ac9f343b854393e279f673461dc981ca114504887dfa58f849ca05a52767"
        },
        "downloads": -1,
        "filename": "richbench-1.0.1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "81bf45645211232f7119314f157b7b53",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.6",
        "size": 5006,
        "upload_time": "2022-06-20T01:21:34",
        "upload_time_iso_8601": "2022-06-20T01:21:34.398947Z",
        "url": "https://files.pythonhosted.org/packages/e4/98/e8217010043797bd2937ee805a34d1cbe0480f82a14323647d6bde12b5d2/richbench-1.0.1-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": null,
        "digests": {
          "blake2b_256": "186d0affd7fe09c54a08ed8b3b5f9c984edfbc1a7cf9ff6d61e554befea72576",
          "md5": "c43810e5b2b46c951e9c5b45e1225536",
          "sha256": "4361002ea51554d9543754fe172089346678e17ac72f570340543e0c4f92306e"
        },
        "downloads": -1,
        "filename": "richbench-1.0.1.tar.gz",
        "has_sig": false,
        "md5_digest": "c43810e5b2b46c951e9c5b45e1225536",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6",
        "size": 1070333,
        "upload_time": "2022-06-20T01:21:44",
        "upload_time_iso_8601": "2022-06-20T01:21:44.041630Z",
        "url": "https://files.pythonhosted.org/packages/18/6d/0affd7fe09c54a08ed8b3b5f9c984edfbc1a7cf9ff6d61e554befea72576/richbench-1.0.1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.0.2": [
      {
        "comment_text": null,
        "digests": {
          "blake2b_256": "d2535d62dce654b61c46a7212996b7d8b63ca8ba1d8b8a1823a0663a5bc88321",
          "md5": "06b6e3e2587b4d046e39a98d0bba5a5e",
          "sha256": "07cb4f086441599a04620d8036b64d6c5266ed53425bec0002e0468452f213f4"
        },
        "downloads": -1,
        "filename": "richbench-1.0.2-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "06b6e3e2587b4d046e39a98d0bba5a5e",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.6",
        "size": 5080,
        "upload_time": "2022-06-20T02:28:41",
        "upload_time_iso_8601": "2022-06-20T02:28:41.558942Z",
        "url": "https://files.pythonhosted.org/packages/d2/53/5d62dce654b61c46a7212996b7d8b63ca8ba1d8b8a1823a0663a5bc88321/richbench-1.0.2-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": null,
        "digests": {
          "blake2b_256": "dcd38410ef280b95a2343430225eebd505d62a5dd596497828464a43d6f1d363",
          "md5": "456809c5e6dcb5c2d4b81a989ba83cad",
          "sha256": "85cc5c7fe43b0cb351a58967fce0dae5ecee126595fc3fa08928e7206bee5eaf"
        },
        "downloads": -1,
        "filename": "richbench-1.0.2.tar.gz",
        "has_sig": false,
        "md5_digest": "456809c5e6dcb5c2d4b81a989ba83cad",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6",
        "size": 1070861,
        "upload_time": "2022-06-20T02:28:50",
        "upload_time_iso_8601": "2022-06-20T02:28:50.415676Z",
        "url": "https://files.pythonhosted.org/packages/dc/d3/8410ef280b95a2343430225eebd505d62a5dd596497828464a43d6f1d363/richbench-1.0.2.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.0.3": [
      {
        "comment_text": null,
        "digests": {
          "blake2b_256": "caa2725f87821d93f82cba818037fba0b86b14c721d75d4e9935b441ced8471f",
          "md5": "46c2ab4bbe33c060a6e4563445b8e051",
          "sha256": "f52651cc0e0069a1355c5ed8cda214cb3f8961e7aaa431e440071d30f62e3e55"
        },
        "downloads": -1,
        "filename": "richbench-1.0.3-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "46c2ab4bbe33c060a6e4563445b8e051",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.6",
        "size": 5227,
        "upload_time": "2022-06-21T05:02:21",
        "upload_time_iso_8601": "2022-06-21T05:02:21.068484Z",
        "url": "https://files.pythonhosted.org/packages/ca/a2/725f87821d93f82cba818037fba0b86b14c721d75d4e9935b441ced8471f/richbench-1.0.3-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": null,
        "digests": {
          "blake2b_256": "9e5bd400ecddd716348ff7eac2a40df67cde1c9b60b1f7083577605db4bd4b31",
          "md5": "7fecc5eaff5e15fdad344fabba1e6d6b",
          "sha256": "744afa3e78cbd919721042c11f7b7f9d2f546cebb3333d40290c4a0d88791701"
        },
        "downloads": -1,
        "filename": "richbench-1.0.3.tar.gz",
        "has_sig": false,
        "md5_digest": "7fecc5eaff5e15fdad344fabba1e6d6b",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6",
        "size": 1071038,
        "upload_time": "2022-06-21T05:02:25",
        "upload_time_iso_8601": "2022-06-21T05:02:25.772069Z",
        "url": "https://files.pythonhosted.org/packages/9e/5b/d400ecddd716348ff7eac2a40df67cde1c9b60b1f7083577605db4bd4b31/richbench-1.0.3.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": null,
      "digests": {
        "blake2b_256": "caa2725f87821d93f82cba818037fba0b86b14c721d75d4e9935b441ced8471f",
        "md5": "46c2ab4bbe33c060a6e4563445b8e051",
        "sha256": "f52651cc0e0069a1355c5ed8cda214cb3f8961e7aaa431e440071d30f62e3e55"
      },
      "downloads": -1,
      "filename": "richbench-1.0.3-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "46c2ab4bbe33c060a6e4563445b8e051",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": ">=3.6",
      "size": 5227,
      "upload_time": "2022-06-21T05:02:21",
      "upload_time_iso_8601": "2022-06-21T05:02:21.068484Z",
      "url": "https://files.pythonhosted.org/packages/ca/a2/725f87821d93f82cba818037fba0b86b14c721d75d4e9935b441ced8471f/richbench-1.0.3-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": null,
      "digests": {
        "blake2b_256": "9e5bd400ecddd716348ff7eac2a40df67cde1c9b60b1f7083577605db4bd4b31",
        "md5": "7fecc5eaff5e15fdad344fabba1e6d6b",
        "sha256": "744afa3e78cbd919721042c11f7b7f9d2f546cebb3333d40290c4a0d88791701"
      },
      "downloads": -1,
      "filename": "richbench-1.0.3.tar.gz",
      "has_sig": false,
      "md5_digest": "7fecc5eaff5e15fdad344fabba1e6d6b",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": ">=3.6",
      "size": 1071038,
      "upload_time": "2022-06-21T05:02:25",
      "upload_time_iso_8601": "2022-06-21T05:02:25.772069Z",
      "url": "https://files.pythonhosted.org/packages/9e/5b/d400ecddd716348ff7eac2a40df67cde1c9b60b1f7083577605db4bd4b31/richbench-1.0.3.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}