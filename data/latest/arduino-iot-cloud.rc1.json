{
  "info": {
    "author": "",
    "author_email": "Ibrahim Abdelkader <i.abdelkader@arduino.cc>",
    "bugtrack_url": null,
    "classifiers": [
      "License :: OSI Approved :: MIT License",
      "Operating System :: OS Independent",
      "Programming Language :: Python :: 3",
      "Topic :: Software Development :: Embedded Systems"
    ],
    "description": "# Arduino IoT Cloud Python client ☁️🐍☁️\nThis is a Python client for the Arduino IoT cloud, which runs on both CPython and MicroPython. The client supports basic and advanced authentication methods, and provides a user-friendly API that allows the user to connect to the cloud, and create and link local objects to cloud objects with a just a few lines of code.\n\n## Minimal Example\nThe following basic example shows how to connect to the Arduino IoT cloud using basic username and password authentication, and control an LED from a dashboard's switch widget.\n```python\n# Switch callback, toggles the LED.\ndef on_switch_changed(client, value):\n    # Note the client object passed to this function can be used to access\n    # and modify any registered cloud object. The following line updates\n    # the LED value.\n    client[\"led\"] = value\n\n# 1. Create a client object, which is used to connect to the IoT cloud and link local\n# objects to cloud objects. Note a username and password can be used for basic authentication\n# on both CPython and MicroPython. For more advanced authentication methods, please see the examples.\nclient = AIOTClient(device_id=b\"DEVICE_ID\", username=b\"DEVICE_ID\", password=b\"SECRET_KEY\")\n\n# 2. Register cloud objects.\n# Note: The following objects must be created first in the dashboard and linked to the device.\n# When the switch is toggled from the dashboard, the on_switch_changed function is called with\n# the client object and new value args.\nclient.register(\"sw1\", value=None, on_write=on_switch_changed)\n\n# The LED object is updated in the switch's on_write callback.\nclient.register(\"led\", value=None)\n\n# 3. Start the Arduino cloud client.\nclient.start()\n```\n\nFor more detailed examples and advanced API features, please see the [examples](https://github.com/arduino/arduino-iot-cloud-py/tree/main/examples).\n\n## Testing on CPython/Linux\nThe client supports basic authentication using a username and password, and the more advanced key/cert pair stored on filesystem or in a crypto device. To test this functionality, the following steps can be used to emulate a crypto device (if one is not available) using SoftHSM on Linux.\n\n#### Create softhsm token\nUsing the first available slot, in this case 0\n```bash\nsofthsm2-util --init-token --slot 0 --label \"arduino\" --pin 1234 --so-pin 1234\n```\n\n#### Import the key and certificate using p11tool\n```bash\np11tool --provider=/usr/lib/softhsm/libsofthsm2.so --login --set-pin=1234 --write \"pkcs11:token=arduino\" --load-privkey key.pem --label \"Mykey\"\np11tool --provider=/usr/lib/softhsm/libsofthsm2.so --login --set-pin=1234 --write \"pkcs11:token=arduino\" --load-certificate cert.pem --label \"Mykey\"\n```\n\n#### List objects\nThis should print the key and certificate\n```bash\np11tool --provider=/usr/lib/softhsm/libsofthsm2.so --login --set-pin=1234 --list-all pkcs11:token=arduino\n\nObject 0:\n\tURL: pkcs11:model=SoftHSM%20v2;manufacturer=SoftHSM%20project;serial=841b431f98150134;token=arduino;id=%67%A2%AD%13%53%B1%CE%4F%0E%CB%74%34%B8%C6%1C%F3%33%EA%67%31;object=mykey;type=private\n\tType: Private key (EC/ECDSA)\n\tLabel: mykey\n\tFlags: CKA_WRAP/UNWRAP; CKA_PRIVATE; CKA_SENSITIVE;\n\tID: 67:a2:ad:13:53:b1:ce:4f:0e:cb:74:34:b8:c6:1c:f3:33:ea:67:31\n\nObject 1:\n\tURL: pkcs11:model=SoftHSM%20v2;manufacturer=SoftHSM%20project;serial=841b431f98150134;token=arduino;id=%67%A2%AD%13%53%B1%CE%4F%0E%CB%74%34%B8%C6%1C%F3%33%EA%67%31;object=Mykey;type=cert\n\tType: X.509 Certificate (EC/ECDSA-SECP256R1)\n\tExpires: Sat May 31 12:00:00 2053\n\tLabel: Mykey\n\tID: 67:a2:ad:13:53:b1:ce:4f:0e:cb:74:34:b8:c6:1c:f3:33:ea:67:31\n```\n\n#### Deleting Token:\nWhen done with the token it can be deleted with the following command:\n```bash\nsofthsm2-util --delete-token --token \"arduino\"\n```\n\n#### Run the example script\n* Set `KEY_PATH`, `CERT_PATH` and `DEVICE_ID` in `examples/example.py`.\n* Provide a CA certificate in a `ca-root.pem` file or set `CA_PATH` to `None` if it's not used.\n* Override the default `pin` and provide `ENGINE_PATH` and `MODULE_PATH` in `ssl_params` if needed.\n* Run the example:\n```bash\npython examples/example.py\n```\n\n## Testing on MicroPython\nMicroPython currently does Not support secure elements. The username and password can be used, or the key and cert files must be stored in DER format on the filesystem. To test the client on MicroPython, first convert the key and certificate to DER, using the following commands, then copy the files to the internal storage.\n\n#### Convert key and certificate to `.DER`\n```bash\nopenssl ec -in key.pem -out key.der -outform DER\nopenssl x509 -in cert.pem -out cert.der -outform DER\n```\n\n#### Run the MicroPython example script\n* Set `KEY_PATH`, `CERT_PATH`, to key and certificate DER paths respectively.\n* run `examples/micropython.py`\n\n## Useful links\n\n* [micropython-senml library](https://github.com/micropython/micropython-lib/tree/master/micropython/senml)\n* [micropython-cbor2 library](https://github.com/micropython/micropython-lib/tree/master/python-ecosys/cbor2)\n* [m2crypto](https://github.com/m2crypto/m2crypto)\n* [umqtt.simple](https://github.com/micropython/micropython-lib/tree/master/micropython/umqtt.simple)\n* [openssl docs/man](https://www.openssl.org/docs/man1.0.2/man3/)\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "",
    "keywords": "",
    "license": "",
    "maintainer": "",
    "maintainer_email": "",
    "name": "arduino-iot-cloud",
    "package_url": "https://pypi.org/project/arduino-iot-cloud/",
    "platform": null,
    "project_url": "https://pypi.org/project/arduino-iot-cloud/",
    "project_urls": {
      "Bug Tracker": "https://github.com/arduino/arduino-iot-cloud-py/issues",
      "Homepage": "https://github.com/arduino/arduino-iot-cloud-py"
    },
    "release_url": "https://pypi.org/project/arduino-iot-cloud/0.0.5/",
    "requires_dist": [
      "cbor2 (>=5.4.6)",
      "micropython-senml (>=0.1.0)"
    ],
    "requires_python": ">=3.8",
    "summary": "Arduino IoT Cloud Python client",
    "version": "0.0.5",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 17207486,
  "releases": {
    "0.0.5": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "6fe6c8ec4a645764d5c84aeb061630153a24c3edce3b0b47cf1b133989b92318",
          "md5": "b6ecf1ab3a58922a9bc61688019779bf",
          "sha256": "02f9fc2fd46c75d75a9c85c49a0215140d355d884db30907cf6a3abb50ea2486"
        },
        "downloads": -1,
        "filename": "arduino_iot_cloud-0.0.5-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "b6ecf1ab3a58922a9bc61688019779bf",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.8",
        "size": 19092,
        "upload_time": "2023-03-08T13:59:28",
        "upload_time_iso_8601": "2023-03-08T13:59:28.079259Z",
        "url": "https://files.pythonhosted.org/packages/6f/e6/c8ec4a645764d5c84aeb061630153a24c3edce3b0b47cf1b133989b92318/arduino_iot_cloud-0.0.5-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "9d04e8a2e057d22342a4835d8e4e5563fa3cad22c4b7f5f01b0a24716b6bc12a",
          "md5": "15fecc9ea0e2817d6fbc89956dba75b4",
          "sha256": "99c9c228ffcfc72abbcb18a78b89ddbe5623a6fd3bc23ef52fbdaac50eba8c7f"
        },
        "downloads": -1,
        "filename": "arduino_iot_cloud-0.0.5.tar.gz",
        "has_sig": false,
        "md5_digest": "15fecc9ea0e2817d6fbc89956dba75b4",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.8",
        "size": 21486,
        "upload_time": "2023-03-08T13:59:29",
        "upload_time_iso_8601": "2023-03-08T13:59:29.181891Z",
        "url": "https://files.pythonhosted.org/packages/9d/04/e8a2e057d22342a4835d8e4e5563fa3cad22c4b7f5f01b0a24716b6bc12a/arduino_iot_cloud-0.0.5.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "6fe6c8ec4a645764d5c84aeb061630153a24c3edce3b0b47cf1b133989b92318",
        "md5": "b6ecf1ab3a58922a9bc61688019779bf",
        "sha256": "02f9fc2fd46c75d75a9c85c49a0215140d355d884db30907cf6a3abb50ea2486"
      },
      "downloads": -1,
      "filename": "arduino_iot_cloud-0.0.5-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "b6ecf1ab3a58922a9bc61688019779bf",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": ">=3.8",
      "size": 19092,
      "upload_time": "2023-03-08T13:59:28",
      "upload_time_iso_8601": "2023-03-08T13:59:28.079259Z",
      "url": "https://files.pythonhosted.org/packages/6f/e6/c8ec4a645764d5c84aeb061630153a24c3edce3b0b47cf1b133989b92318/arduino_iot_cloud-0.0.5-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "9d04e8a2e057d22342a4835d8e4e5563fa3cad22c4b7f5f01b0a24716b6bc12a",
        "md5": "15fecc9ea0e2817d6fbc89956dba75b4",
        "sha256": "99c9c228ffcfc72abbcb18a78b89ddbe5623a6fd3bc23ef52fbdaac50eba8c7f"
      },
      "downloads": -1,
      "filename": "arduino_iot_cloud-0.0.5.tar.gz",
      "has_sig": false,
      "md5_digest": "15fecc9ea0e2817d6fbc89956dba75b4",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": ">=3.8",
      "size": 21486,
      "upload_time": "2023-03-08T13:59:29",
      "upload_time_iso_8601": "2023-03-08T13:59:29.181891Z",
      "url": "https://files.pythonhosted.org/packages/9d/04/e8a2e057d22342a4835d8e4e5563fa3cad22c4b7f5f01b0a24716b6bc12a/arduino_iot_cloud-0.0.5.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}