{
  "info": {
    "author": "",
    "author_email": "",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 1 - Planning",
      "License :: OSI Approved :: Apache Software License",
      "Operating System :: OS Independent",
      "Programming Language :: Python :: 3 :: Only",
      "Programming Language :: Python :: 3.10",
      "Programming Language :: Python :: 3.6",
      "Programming Language :: Python :: 3.7",
      "Programming Language :: Python :: 3.8",
      "Programming Language :: Python :: 3.9",
      "Programming Language :: Python :: Implementation :: CPython",
      "Topic :: Software Development :: Libraries :: Python Modules"
    ],
    "description": "# `bandbox`\n\n`bandbox` is a CLI tool to quickly evaluate how organised your dataset is. You can use `bandbox` on any directory and it will recursively descend through to all subdirectories to assess whether the structure and names are easy to use. `bandbox` reads in a set of configs a config file (`bandbox.cfg`), which it uses to assess your dataset. Once complete, `bandbox` displays various assessments and whether they are <span style='color: green'>`ok`</span> or <span style='color:red'>`nok`</span>, together with details about which paths from the specified directory have failed that assessment. The user may also display the directory tree using the `--show-tree` option as well as summarise the output using the `--summarise` option which may be modified using the `--summarise-size` option. \n\n## Installing `bandbox`\n\nInstall from source into a virtualenv using:\n\n```shell\n~$ pip install git+https://github.com/emdb-empiar/bandbox\n```\n\nor from PyPI using:\n\n```shell\n~$ pip install bandbox\n```\nHere is example output run on EMPIAR-10002 data (using the path `10002/data` and `--prefix 10002/data`):\n\n![image](empiar_10002.png)\n\n> :bulb: **Tip**: Bear in mind that `bandbox` only makes suggestions on how to make your dataset more usable; you are in the best position to decide whether a `fail` is a real fail. It might help you discover unwanted files e.g. `log` files, temporary files such as `*.tif~`, operating system fluff like `.DS_Store` files on macOS etc.\n\n## Viewing the tree\n\nUse the `view` command to view the tree implied by the dataset. \n\n```shell\n~$ bandbox view # to view the current directory\n~$ bandbox view some_path\n~$ bandbox view some_path --prefix some_path # will exclude 'some_path' from every path entry\n~$ bandbox view some_path --hide-file-counts # only show file totals\n```\n\n> :warning: **Warning**: Some options are experimental and incomplete e.g. `--input-file`, which takes the output of Python's `glob.glob(path, recursive=True)` function saved as a string.\n\nHere is an example based on the `test_data` directory in the git repository:\n\n```shell\n~$ bandbox view test_data\ninfo: successfully retrieved up-to-date data...\n└── test_data\n        └── folder_with_multiple_folders\n                └── folder5\n                        └── [10 files: tif=10; ]\n                └── folder2\n                        └── [10 files: tif=10; ]\n                └── folder3\n                        └── [10 files: tif=10; ]\n                └── folder4\n                        └── [10 files: tif=10; ]\n                └── folder1\n                        └── [10 files: tif=10; ]\n                └── folder6\n                        └── [100 files: dog=100; ]\n        └── folder_with_single_file\n                └── folder\n                        └── [1 file: txt=1; ]\n        └── folder_with_date_name_files\n                └── [12 files: txt=10; raw=2; ]\n        └── folder_with_multiple_files\n                └── folder\n                        └── [11 files: txt=10; tif=1; ]\n        └── folder_with_multiple_file_types\n                └── folder\n                        └── [20 files: txt=10; tif=10; ]\n                        └── files\n                        └── inner_folder\n        └── empty_folder\n                └── folder\n        └── single_empty_folder\n                └── folder\n                        └── inner_folder\n        └── folder_with_long_name_folders\n                └── a folder with spaces in the name\n                └── folder\n                        └── [26 files: dog=1; txt=11; tif=10; jpg=2; onx=1; wrx=1; ]\n                        └── files\n                        └── inner_folder\n                                └── another_very_long_name_that_we_are_still_wondering_ever_found_the_light_of_day\n                └── a folder with & funny symbols in the ?? name\n                └── a_folder_with_a_very_long_name_that_we_cannot_even_begin_to_comprehend\n                └── a.folder.with.periods.in.the.name\n```\n\n## Analysing the tree\n\nUse the `analyse` command to run the assessments on your dataset. Here is an example output using the `--summarise` and `--show-tree` options:\n\n> In the results below, **N** indicates a _naming_ issue, **S** a _structural_ issue (the folder structure) and **M** are _miscellaneous_ issues (e.g. warnings about unknown file extensions). Scroll horizontally (Shift+Scroll) to see the number of issues in each category.\n\n```shell\n~$ bandbox analyse test_data --show-tree --summarise\ninfo: successfully retrieved up-to-date data...\n└── test_data\n        └── folder_with_multiple_folders\n                └── folder5\n                        └── [10 files: tif=10; ]\n                └── folder2\n                        └── [10 files: tif=10; ]\n                └── folder3\n                        └── [10 files: tif=10; ]\n                └── folder4\n                        └── [10 files: tif=10; ]\n                └── folder1\n                        └── [10 files: tif=10; ]\n                └── folder6\n                        └── [100 files: dog=100; ]\n        └── folder_with_single_file\n                └── folder\n                        └── [1 file: txt=1; ]\n        └── folder_with_date_name_files\n                └── [12 files: txt=10; raw=2; ]\n        └── folder_with_multiple_files\n                └── folder\n                        └── [11 files: txt=10; tif=1; ]\n        └── folder_with_multiple_file_types\n                └── folder\n                        └── [20 files: txt=10; tif=10; ]\n                        └── files\n                        └── inner_folder\n        └── empty_folder\n                └── folder\n        └── single_empty_folder\n                └── folder\n                        └── inner_folder\n        └── folder_with_long_name_folders\n                └── a folder with spaces in the name\n                └── folder\n                        └── [26 files: dog=1; txt=11; tif=10; jpg=2; onx=1; wrx=1; ]\n                        └── files\n                        └── inner_folder\n                                └── another_very_long_name_that_we_are_still_wondering_ever_found_the_light_of_day\n                └── a folder with & funny symbols in the ?? name\n                └── a_folder_with_a_very_long_name_that_we_cannot_even_begin_to_comprehend\n                └── a.folder.with.periods.in.the.name\n \nM1 - unknown file extensions...                                                                       [103 directories] nok\n  * test_data/folder_with_multiple_folders/folder6/file2.dog\n  * test_data/folder_with_multiple_folders/folder6/file30.dog\n  * test_data/folder_with_multiple_folders/folder6/file24.dog\n  * test_data/folder_with_multiple_folders/folder6/file18.dog\n  * test_data/folder_with_multiple_folders/folder6/file19.dog\n  * [+98 others (remove --summarise option to view the full list)]\n\nN1 - accessions in names...                                                                             [1 directories] nok\n  * test_data/folder_with_multiple_files/folder/file-EMPIAR-someting.tif\n\nN1 - entities with dates in names...                                                                   [10 directories] nok\n  * test_data/folder_with_date_name_files/prefix-2000-12-31-suffix.txt\n  * test_data/folder_with_date_name_files/prefix-001231-suffix.txt\n  * test_data/folder_with_date_name_files/prefix-20001231-suffix.txt\n  * test_data/folder_with_date_name_files/prefix-12312000-suffix.txt\n  * test_data/folder_with_date_name_files/prefix-31-December-2000-suffix.txt\n  * [+5 others (remove --summarise option to view the full list)]\n\nN2 - excessive periods in names...                                                                      [2 directories] nok\n  * test_data/folder_with_long_name_folders/folder/a.file.with.many.periods.txt\n  * test_data/folder_with_long_name_folders/a.folder.with.periods.in.the.name\n\nN2 - long names (>20 chars)...                                                                         [11 directories] nok\n  * test_data/folder_with_multiple_folders\n  * test_data/folder_with_single_file\n  * test_data/folder_with_date_name_files\n  * test_data/folder_with_multiple_files\n  * test_data/folder_with_multiple_file_types\n  * [+6 others (remove --summarise option to view the full list)]\n\nN2 - mixed case in names...                                                                             [5 directories] nok\n  * test_data/folder_with_date_name_files/prefix-31-Dec-2000-suffix.txt\n  * test_data/folder_with_date_name_files/prefix-Dec-31-2000-suffix.txt\n  * test_data/folder_with_date_name_files/prefix-31:December:2000-suffix.txt\n  * test_data/folder_with_date_name_files/prefix-31-December-2000-suffix.txt\n  * test_data/folder_with_multiple_files/folder/file-EMPIAR-someting.tif\n\nN2 - odd characters in names...                                                                         [2 directories] nok\n  * test_data/folder_with_long_name_folders/a folder with spaces in the name\n  * test_data/folder_with_long_name_folders/a folder with & funny symbols in the ?? name\n\nN3 - external references in names...                                                                    [2 directories] nok\n  * test_data/folder_with_long_name_folders/folder/supplementary-figure3a.jpg\n  * test_data/folder_with_long_name_folders/folder/figure5.jpg\n\nS2 - excessives (>5) files per directory...                                                            [10 directories] nok\n  * test_data/folder_with_multiple_folders/folder5/\n  * test_data/folder_with_multiple_folders/folder2/\n  * test_data/folder_with_multiple_folders/folder3/\n  * test_data/folder_with_multiple_folders/folder4/\n  * test_data/folder_with_multiple_folders/folder1/\n  * [+5 others (remove --summarise option to view the full list)]\n\nS2 - obvious directory names...                                                                        [11 directories] nok\n  * test_data/folder_with_single_file/folder\n  * test_data/folder_with_multiple_files/folder\n  * test_data/folder_with_multiple_file_types/folder\n  * test_data/folder_with_multiple_file_types/folder/files\n  * test_data/folder_with_multiple_file_types/folder/inner_folder\n  * [+6 others (remove --summarise option to view the full list)]\n\nS2 - redundant directories...                                                                          [16 directories] nok\n  * test_data/folder_with_multiple_files\n  * test_data/folder_with_multiple_file_types\n  * test_data/folder_with_multiple_file_types/folder/files\n  * test_data/folder_with_multiple_file_types/folder/inner_folder\n  * test_data/empty_folder\n  * [+11 others (remove --summarise option to view the full list)]\n\nS3 - directories with mixed files...                                                                    [4 directories] nok\n  * test_data/folder_with_date_name_files/\n  * test_data/folder_with_multiple_files/folder/\n  * test_data/folder_with_multiple_file_types/folder/\n  * test_data/folder_with_long_name_folders/folder/\n\n```\n\n## Setting configs\n`bandbox` uses simple heuristics to analyse a dataset. These should be provided in a config file which may either be specified using the `BANDBOX_CONFIG` or `--config-file` option. Download and modify the template available at `https://raw.githubusercontent.com/emdb-empiar/bandbox/master/bandbox.cfg`.\n\nHere is a summary (annotated) of the current configs:\n\n```ini\n[bandbox]\nfile_extensions = jpg|jpeg|mrc|mrcs|tif|tiff|dm4|txt|box|cfg|fixed|st|rec|map|bak|eer|bz2|gz|zip|xml|am|star|raw|dat\nobvious_files = file|files|data|folder|inner_folder|images|directory\n# per directory\nmax_files = 2000\nmax_name_length = 50\n# date_infix_chars must start with '-'\ndate_infix_chars = -:/.\nmonth_chars = jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec|january|february|march|april|may|june|july|august|september|october|november|december\naccession_names = EMPIAR|EMDB\nodd_chars = &?! ,\nperiods_in_name_fewer_than = 2\nexternal_refs = figure|supplementary\n\n[regex]\nfile_re = (?i)^([^.]*\\.[^.]*|.*\\.(${bandbox:file_extensions}))$$\nfile_extension_re = (?i)^.*\\.(${bandbox:file_extensions})$$\nobvious_files_re = (?i)^(${bandbox:obvious_files})$$\naccession_names_re = (?i)^.*(${bandbox:accession_names}).*$$\nodd_chars_re = .*[${bandbox:odd_chars}].*\nperiods_in_name_fewer_than_re = .*([.].*){${bandbox:periods_in_name_fewer_than},}.*\nexternal_refs_re = (?i)^.*(${bandbox:external_refs}).*$$\n# 12/31/2000 or 31/12/2000\n# 2000[]12[]31 or 2000[]31[]12\n# 31[]12[]00\n# 31[]Dec[]2000\n# Dec[]31[]2000\ndate_re = (?i)^.*\\d{2}[${bandbox:date_infix_chars}]*\\d{2}[${bandbox:date_infix_chars}]*\\d{4}.*$$,(?i)^.*\\d{4}[${bandbox:date_infix_chars}]*\\d{2}[${bandbox:date_infix_chars}]*\\d{2}.*$$,(?i)^.*\\d{2}[${bandbox:date_infix_chars}]*\\d{2}[${bandbox:date_infix_chars}]*\\d{2}.*$$,(?i)^.*\\d{2}[${bandbox:date_infix_chars}]*(${bandbox:month_chars})[${bandbox:date_infix_chars}]*\\d{4}.*$$,(?i)^.*\\d{4}[${bandbox:date_infix_chars}]*(${bandbox:month_chars})[${bandbox:date_infix_chars}]*\\d{2}.*$$\n```\n\n## Interested in contributing?\nDo you have ideas on other heuristics that can be used to improve the organisation of your data? For example, wouldn't it be cool to infer folder names which are closely related but which have different spellings or typos e.g. `tomos`, `tomograms` and `Tomograms` in the same dataset probably refer to the same kind of data and could simply all be called `tomograms`. \n\nPlease get in touch then we can provide a step-by-step guide to do so. \n\n\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/paulkorir/bandbox",
    "keywords": "",
    "license": "Apache 2.0",
    "maintainer": "",
    "maintainer_email": "",
    "name": "bandbox",
    "package_url": "https://pypi.org/project/bandbox/",
    "platform": null,
    "project_url": "https://pypi.org/project/bandbox/",
    "project_urls": {
      "Homepage": "https://github.com/paulkorir/bandbox"
    },
    "release_url": "https://pypi.org/project/bandbox/0.2.1/",
    "requires_dist": [
      "requests",
      "styled"
    ],
    "requires_python": ">=3.6",
    "summary": "Bandbox is a CLI tool to quickly assess how organised your data is",
    "version": "0.2.1",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 13149828,
  "releases": {
    "0.1.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "78b4a3e37afa4330eb015860e69a45e8df951d311a555602c88e6cb7caf65b16",
          "md5": "4bb74fbce9037d92fc1eb20cd6f260f7",
          "sha256": "05ec50d85adf36fdd252bbdd5248bf3775ce408a4ddd0cc22c5d2b60f578df29"
        },
        "downloads": -1,
        "filename": "bandbox-0.1.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "4bb74fbce9037d92fc1eb20cd6f260f7",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.6",
        "size": 19406,
        "upload_time": "2022-02-08T17:05:57",
        "upload_time_iso_8601": "2022-02-08T17:05:57.336763Z",
        "url": "https://files.pythonhosted.org/packages/78/b4/a3e37afa4330eb015860e69a45e8df951d311a555602c88e6cb7caf65b16/bandbox-0.1.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "9440bdebd5b88dc3cb91ef3ea0bf486ef3262f71458172ac779d326ea0eec6e5",
          "md5": "38015def18fae56580fbc7e2de45de37",
          "sha256": "799dd2b8774478b7b3ed92ebd20131912eaf4e5d79f069d187b13d780b4dd3d0"
        },
        "downloads": -1,
        "filename": "bandbox-0.1.0.tar.gz",
        "has_sig": false,
        "md5_digest": "38015def18fae56580fbc7e2de45de37",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6",
        "size": 20198,
        "upload_time": "2022-02-08T17:05:59",
        "upload_time_iso_8601": "2022-02-08T17:05:59.067992Z",
        "url": "https://files.pythonhosted.org/packages/94/40/bdebd5b88dc3cb91ef3ea0bf486ef3262f71458172ac779d326ea0eec6e5/bandbox-0.1.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.2.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "0d118269c1be7d24f95e746207da198c94c799bfb7b44488e334eb20899bca9a",
          "md5": "794f57477757e5a4a3cd7d30fbd7f71f",
          "sha256": "35341cf6d57882736015c2c5c5a05c2aa34194519d8ad72e1f7588610732fdf4"
        },
        "downloads": -1,
        "filename": "bandbox-0.2.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "794f57477757e5a4a3cd7d30fbd7f71f",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.6",
        "size": 22166,
        "upload_time": "2022-03-02T15:47:03",
        "upload_time_iso_8601": "2022-03-02T15:47:03.237778Z",
        "url": "https://files.pythonhosted.org/packages/0d/11/8269c1be7d24f95e746207da198c94c799bfb7b44488e334eb20899bca9a/bandbox-0.2.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "cfe065ff2ac56738b8fa0fb00c4e98e47c630ec852aca45f4f9067c423985342",
          "md5": "334ed8624b69a90b32c647bf4b063d65",
          "sha256": "5f8b7576f45f34443492d1b7330c0cababab69409ad99504bcb54464744a32bc"
        },
        "downloads": -1,
        "filename": "bandbox-0.2.0.tar.gz",
        "has_sig": false,
        "md5_digest": "334ed8624b69a90b32c647bf4b063d65",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6",
        "size": 20525,
        "upload_time": "2022-03-02T15:47:05",
        "upload_time_iso_8601": "2022-03-02T15:47:05.877671Z",
        "url": "https://files.pythonhosted.org/packages/cf/e0/65ff2ac56738b8fa0fb00c4e98e47c630ec852aca45f4f9067c423985342/bandbox-0.2.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.2.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "dff5132619ad6f4a1a4b61c16530d100a78fca55b151c8037f2b966faf8c4d52",
          "md5": "2271c209059bc54d193c20858672707c",
          "sha256": "f57565f547fd5fb36de510e6a00fc4bf4dc49252ae2e6947bff074fbeeae84e7"
        },
        "downloads": -1,
        "filename": "bandbox-0.2.1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "2271c209059bc54d193c20858672707c",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.6",
        "size": 22293,
        "upload_time": "2022-03-11T14:14:31",
        "upload_time_iso_8601": "2022-03-11T14:14:31.409117Z",
        "url": "https://files.pythonhosted.org/packages/df/f5/132619ad6f4a1a4b61c16530d100a78fca55b151c8037f2b966faf8c4d52/bandbox-0.2.1-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "0c956c3cc09b4894ef76ad08864db5ce5ea2cebb06c760bf7bb6b1b2f0deb0d1",
          "md5": "591800cfe87ec1ce9d542b7138dfbf43",
          "sha256": "0fcc5f624f0c2fee0f3a031707aca02913de13998a2dbf8b99da289cb4b8bb77"
        },
        "downloads": -1,
        "filename": "bandbox-0.2.1.tar.gz",
        "has_sig": false,
        "md5_digest": "591800cfe87ec1ce9d542b7138dfbf43",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6",
        "size": 20649,
        "upload_time": "2022-03-11T14:14:35",
        "upload_time_iso_8601": "2022-03-11T14:14:35.560273Z",
        "url": "https://files.pythonhosted.org/packages/0c/95/6c3cc09b4894ef76ad08864db5ce5ea2cebb06c760bf7bb6b1b2f0deb0d1/bandbox-0.2.1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "dff5132619ad6f4a1a4b61c16530d100a78fca55b151c8037f2b966faf8c4d52",
        "md5": "2271c209059bc54d193c20858672707c",
        "sha256": "f57565f547fd5fb36de510e6a00fc4bf4dc49252ae2e6947bff074fbeeae84e7"
      },
      "downloads": -1,
      "filename": "bandbox-0.2.1-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "2271c209059bc54d193c20858672707c",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": ">=3.6",
      "size": 22293,
      "upload_time": "2022-03-11T14:14:31",
      "upload_time_iso_8601": "2022-03-11T14:14:31.409117Z",
      "url": "https://files.pythonhosted.org/packages/df/f5/132619ad6f4a1a4b61c16530d100a78fca55b151c8037f2b966faf8c4d52/bandbox-0.2.1-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "0c956c3cc09b4894ef76ad08864db5ce5ea2cebb06c760bf7bb6b1b2f0deb0d1",
        "md5": "591800cfe87ec1ce9d542b7138dfbf43",
        "sha256": "0fcc5f624f0c2fee0f3a031707aca02913de13998a2dbf8b99da289cb4b8bb77"
      },
      "downloads": -1,
      "filename": "bandbox-0.2.1.tar.gz",
      "has_sig": false,
      "md5_digest": "591800cfe87ec1ce9d542b7138dfbf43",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": ">=3.6",
      "size": 20649,
      "upload_time": "2022-03-11T14:14:35",
      "upload_time_iso_8601": "2022-03-11T14:14:35.560273Z",
      "url": "https://files.pythonhosted.org/packages/0c/95/6c3cc09b4894ef76ad08864db5ce5ea2cebb06c760bf7bb6b1b2f0deb0d1/bandbox-0.2.1.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}