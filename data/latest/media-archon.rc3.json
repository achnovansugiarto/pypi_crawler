{
  "info": {
    "author": "",
    "author_email": "Matthew Swabey <matthew@swabey.org>",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 4 - Beta",
      "Environment :: Console",
      "Intended Audience :: End Users/Desktop",
      "Operating System :: MacOS :: MacOS X",
      "Operating System :: POSIX :: BSD",
      "Operating System :: POSIX :: Linux",
      "Operating System :: Unix",
      "Programming Language :: Python :: 3",
      "Programming Language :: Python :: 3.10",
      "Programming Language :: Python :: 3.9",
      "Topic :: Multimedia",
      "Topic :: Multimedia :: Sound/Audio :: Conversion",
      "Topic :: Multimedia :: Video :: Conversion",
      "Topic :: Software Development :: Build Tools"
    ],
    "description": "# Media Archon\n\n[![PyPI - Version](https://img.shields.io/pypi/v/media-archon.svg)](https://pypi.org/project/media-archon)\n[![PyPI - Python Version](https://img.shields.io/pypi/pyversions/media-archon.svg)](https://pypi.org/project/media-archon)\n\n-----\n\n**Table of Contents**\n\n- [Installation](#installation)\n- [License](#license)\n\n## Installation\n\n```console\npip install media-archon\n```\n\nCopy the config file `media-archon.toml` from the [epository](https://github.com/mattaw/media-archon) into the top level of the directory tree of media you wish to convert and edit to meet your needs.\n\n## Theory\n\nMedia archon is an aggressively multithreaded Linux/Unix/MacOSX tool designed to mirror a tree of source media files to a destination tree, converting matching media using any command line tool selected by the user. It has been designed and tested around using the excellent [fre:ac](https://www.freac.org/) opensource audio software to convert existing MP3 audiobooks etc. into Opus files for unbeatable size vs. quality.\n\nWhen executed with `media-archon /directory/of/media/files/`, it will: \n\n1. Look for and read the `/directory/of/media/files/media-archon.toml`. \n1. Attempt to discover how many threads can execute in parallel on the host (`THREADS`).\n1. Create two threadpools, one `light` with `10*THREADS` threads for exploring directories and copying, and one `heavy` of `1*THREADS` threads for conversions or other CPU heavy tasks. (The numbers of threads can be overridden in the configuration file.)\n\nAfter configuring itself a `light` walker thread will be scheduled on the `light` threadpool to walk `/directory/of/media/files/`. The thread will:\n\n1. Iterate through the objects in the directory looking for a configuration override file (default `media-archon-override.toml`). If found it will update its converter parameters for this directory and all its subdirectories.\n1. Loop through the objects again and depending on whether it is a directory or a file with a particular extension (e.g. `.mp3`):\n   1. If a directory, schedule a new walker `light` thread to search the subdirectory in parallel.\n   2. If a file on the ignore list (`.*`) ignore.\n   3. If a file with an extension in the copy list, and one or more of the following conditions are met schedule a `light` thread to copy it to the target:\n       1. The `media-archon.toml` mtime is newer than the target mtime\n       2. Any `media-archon-override.toml` mtime in the current or parent directory is newer than the target\n       3. The source file mtime is newer than the target mtime\n   4. If a file with an extension in the convert list, and one or more of the following conditions are met schedule a `heavy` thread to convert it from the source to the target using the supplied command line in the config.\n       1. The `media-archon.toml` mtime is newer than the target mtime\n       2. Any `media-archon-override.toml` mtime in the current or parent directory is newer than the target\n       3. The source file mtime is newer than the target mtime   \n1. Schedule `light` threads to delete files and directories in the target that are not in the source.\n\n## License\n\n`media-archon` is distributed under the terms of the [AGPL-3.0-or-later](https://spdx.org/licenses/AGPL-3.0-or-later.html) license.\n\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "",
    "keywords": "",
    "license": "AGPL-3.0-or-later",
    "maintainer": "",
    "maintainer_email": "",
    "name": "media-archon",
    "package_url": "https://pypi.org/project/media-archon/",
    "platform": null,
    "project_url": "https://pypi.org/project/media-archon/",
    "project_urls": {
      "Homepage": "https://github.com/mattaw/media-archon",
      "media-archon.toml": "https://raw.githubusercontent.com/mattaw/media-archon/main/media-archon.toml"
    },
    "release_url": "https://pypi.org/project/media-archon/0.1.2/",
    "requires_dist": [
      "attrs>=21.4.0",
      "cattrs>=22.1.0",
      "click>=8.1.3"
    ],
    "requires_python": ">=3.9",
    "summary": "Mirror a directory tree of media files, converting the files to a new format if newer or missing",
    "version": "0.1.2",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 14684216,
  "releases": {
    "0.1.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "2f180e5b6a34feff6ee4587cc70c90e826a2e5cfd4817c57651d9cb6e33872d2",
          "md5": "8ccc02815559c1cb826ad425f9d4743a",
          "sha256": "aa5cbed6f85278d63f64814c8ac874c9f72a5c6d60ca62da0ad76b1ec4c8424e"
        },
        "downloads": -1,
        "filename": "media_archon-0.1.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "8ccc02815559c1cb826ad425f9d4743a",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.9",
        "size": 20526,
        "upload_time": "2022-08-08T02:40:38",
        "upload_time_iso_8601": "2022-08-08T02:40:38.782839Z",
        "url": "https://files.pythonhosted.org/packages/2f/18/0e5b6a34feff6ee4587cc70c90e826a2e5cfd4817c57651d9cb6e33872d2/media_archon-0.1.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "b32b9800ed89b04178553e26faefb2648590cd2019627fbcd4698a3f4fe80453",
          "md5": "6ccd40830952950aaed2adfb83091b01",
          "sha256": "5b7f17a0983faa7c3d8ad08efcffb36bfda3062f14a5d666c400b5aae551c7c7"
        },
        "downloads": -1,
        "filename": "media-archon-0.1.0.tar.gz",
        "has_sig": false,
        "md5_digest": "6ccd40830952950aaed2adfb83091b01",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.9",
        "size": 19779,
        "upload_time": "2022-08-08T02:40:40",
        "upload_time_iso_8601": "2022-08-08T02:40:40.548975Z",
        "url": "https://files.pythonhosted.org/packages/b3/2b/9800ed89b04178553e26faefb2648590cd2019627fbcd4698a3f4fe80453/media-archon-0.1.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.1.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "9a16e877a4a19655cc3fb66fd219dffd5a6b63d3438e3d2a4b02e3dd7fd16a49",
          "md5": "52e0954ce579c32e0920acbdaa111b01",
          "sha256": "80073a440dbca93082bcf663b7ed35f2cf97e7fc24680eeddbef11de94bab0d7"
        },
        "downloads": -1,
        "filename": "media_archon-0.1.1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "52e0954ce579c32e0920acbdaa111b01",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.9",
        "size": 20750,
        "upload_time": "2022-08-08T03:03:41",
        "upload_time_iso_8601": "2022-08-08T03:03:41.028816Z",
        "url": "https://files.pythonhosted.org/packages/9a/16/e877a4a19655cc3fb66fd219dffd5a6b63d3438e3d2a4b02e3dd7fd16a49/media_archon-0.1.1-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "28f355ff3b9d8f24bd7176537665ce92937e0d8e41db2edabbe5b83d153149ee",
          "md5": "53b730c02ee4434a79353c83d8fb9d36",
          "sha256": "adb19a9a0c5745770d1289f6fbb4580665c860a7d97f358ad7a5865744b20402"
        },
        "downloads": -1,
        "filename": "media-archon-0.1.1.tar.gz",
        "has_sig": false,
        "md5_digest": "53b730c02ee4434a79353c83d8fb9d36",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.9",
        "size": 20221,
        "upload_time": "2022-08-08T03:03:43",
        "upload_time_iso_8601": "2022-08-08T03:03:43.210295Z",
        "url": "https://files.pythonhosted.org/packages/28/f3/55ff3b9d8f24bd7176537665ce92937e0d8e41db2edabbe5b83d153149ee/media-archon-0.1.1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.1.2": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "fe1b6ac14904ce2d536e0baab1d06754823511a2c50288dae51c81e627f38579",
          "md5": "3e6d89981d4e5edd1ab17a960913055a",
          "sha256": "c741ce1618a859410c3c924bfb1c699d58e85ce9144d7cd1870a38a2fa00f759"
        },
        "downloads": -1,
        "filename": "media_archon-0.1.2-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "3e6d89981d4e5edd1ab17a960913055a",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.9",
        "size": 20758,
        "upload_time": "2022-08-08T03:06:10",
        "upload_time_iso_8601": "2022-08-08T03:06:10.385308Z",
        "url": "https://files.pythonhosted.org/packages/fe/1b/6ac14904ce2d536e0baab1d06754823511a2c50288dae51c81e627f38579/media_archon-0.1.2-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "a6fbaba36abb93d3ecd2080b672b7708328b3485de11dba179585cfea28faf44",
          "md5": "1f1b2dcc95c0d845bbeb98337959e4ba",
          "sha256": "960444cf53521cb145e45f048e8b32266c78127c145736efed9d7f0b91459eec"
        },
        "downloads": -1,
        "filename": "media-archon-0.1.2.tar.gz",
        "has_sig": false,
        "md5_digest": "1f1b2dcc95c0d845bbeb98337959e4ba",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.9",
        "size": 20218,
        "upload_time": "2022-08-08T03:06:12",
        "upload_time_iso_8601": "2022-08-08T03:06:12.501182Z",
        "url": "https://files.pythonhosted.org/packages/a6/fb/aba36abb93d3ecd2080b672b7708328b3485de11dba179585cfea28faf44/media-archon-0.1.2.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "fe1b6ac14904ce2d536e0baab1d06754823511a2c50288dae51c81e627f38579",
        "md5": "3e6d89981d4e5edd1ab17a960913055a",
        "sha256": "c741ce1618a859410c3c924bfb1c699d58e85ce9144d7cd1870a38a2fa00f759"
      },
      "downloads": -1,
      "filename": "media_archon-0.1.2-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "3e6d89981d4e5edd1ab17a960913055a",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": ">=3.9",
      "size": 20758,
      "upload_time": "2022-08-08T03:06:10",
      "upload_time_iso_8601": "2022-08-08T03:06:10.385308Z",
      "url": "https://files.pythonhosted.org/packages/fe/1b/6ac14904ce2d536e0baab1d06754823511a2c50288dae51c81e627f38579/media_archon-0.1.2-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "a6fbaba36abb93d3ecd2080b672b7708328b3485de11dba179585cfea28faf44",
        "md5": "1f1b2dcc95c0d845bbeb98337959e4ba",
        "sha256": "960444cf53521cb145e45f048e8b32266c78127c145736efed9d7f0b91459eec"
      },
      "downloads": -1,
      "filename": "media-archon-0.1.2.tar.gz",
      "has_sig": false,
      "md5_digest": "1f1b2dcc95c0d845bbeb98337959e4ba",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": ">=3.9",
      "size": 20218,
      "upload_time": "2022-08-08T03:06:12",
      "upload_time_iso_8601": "2022-08-08T03:06:12.501182Z",
      "url": "https://files.pythonhosted.org/packages/a6/fb/aba36abb93d3ecd2080b672b7708328b3485de11dba179585cfea28faf44/media-archon-0.1.2.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}