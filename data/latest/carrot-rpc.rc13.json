{
  "info": {
    "author": "Sobolev Andrey",
    "author_email": "email.asobolev@gmail.com",
    "bugtrack_url": null,
    "classifiers": [
      "License :: OSI Approved :: MIT License",
      "Operating System :: OS Independent",
      "Programming Language :: Python :: 3"
    ],
    "description": "# Carrot\nCarrot-RPC it is a python asyncio RPC server/client for RabbitMQ that allows you to make RPC calls.  \n*Note:* This project in active development and can be unstable.  \nYou can see live example here: http://5.187.4.179:5888/\n\n```no-highlight\nhttps://github.com/Sobolev5/carrot-rpc\n```\n\n## Install\nTo install run:\n```no-highlight\npip install carrot-rpc\n```\n\n\n## Microservice A which call\n\n```python\nimport asyncio\nfrom carrot import Carrot\nfrom simple_print import sprint\n\n# set amqp connection:\nAMQP_URI = \"amqp://admin:password@127.0.0.1/vhost\"\n\n# defer function which call «MICROSERVICE_SUM»:\nasync def call_sum_a_and_b():\n  \n    # make dict request:\n    dct = {}\n    dct[\"caller\"] = \"Function on microservice_interface which call RPC in microservice_sum\"\n    dct[\"number_a\"] = int(data[\"number_a\"])\n    dct[\"number_b\"] = int(data[\"number_b\"])\n\n    # defer carrot instance and make rpc call:\n    carrot = await Carrot(AMQP_URI).connect()\n    response_from_another_microservice = await carrot.call(dct, \"microservice_sum:sum_a_and_b\", timeout=5)    \n    # first arg is dict with data\n    # second arg it routing key (through default AMQP exchange) \n    # third arg is optional (response timeout in seconds, 5 seconds by default) \n\n    # get response dict from microservice «MICROSERVICE_SUM»\n    sprint(f'Sum a and b: {response_from_another_microservice[\"sum\"]}', c=\"yellow\", p=1, f=1)\n\n    # you can send request to another microservice without reply (like standart call):\n    await carrot.call(dct, \"microservice_sum:sum_a_and_b\", without_reply=True)\n    # in this case «MICROSERVICE_SUM» just calculate sum and do not send response to caller.   \n\n\nloop = asyncio.get_event_loop()\nloop.run_until_complete(call_sum_a_and_b())\n\n```\n\n\n## Microservice B which ask\n\n```python\nimport asyncio\nimport aiormq\nfrom pydantic import BaseModel\nfrom carrot import carrot_ask\nfrom simple_print import sprint\nfrom fastapi import FastAPI\nfrom fastapi import APIRouter\n\n\n# set amqp connection:\nAMQP_URI = \"amqp://admin:password@127.0.0.1/vhost\"\n\n# make pydantic schema:\nclass SumAAndB(BaseModel):\n    caller: str\n    number_a: int\n    number_b: int\n\n# decorate called function with pydantic schema\n@carrot_ask(SumAAndB)\nasync def sum_a_and_b(incoming_dict: dict) -> dict:\n    sprint(incoming_dict, c=\"yellow\", p=1, f=1)\n    dct = {}\n    dct[\"caller\"] = \"i am sum_a_and_b function mounted on microservice_sum\"\n    dct[\"sum\"] = incoming_dict[\"number_a\"] + incoming_dict[\"number_b\"]\n    return dct\n\n# make amqp router:\nasync def amqp_router():\n    connection = await aiormq.connect(AMQP_URI)\n    channel = await connection.channel()\n    sprint(f\"AMQP:     ready [yes]\", c=\"green\", p=1, f=1)\n    sum_a_and_b__declared = await channel.queue_declare(f\"microservice_sum:sum_a_and_b\", durable=False)\n    await channel.basic_consume(sum_a_and_b__declared.queue, sum_a_and_b, no_ack=False)  \n    \n\nclass App(FastAPI):\n    def __init__(self, *args, **kwargs):\n        loop = asyncio.get_event_loop()\n        loop.create_task(amqp_router())\n        super().__init__(*args, **kwargs)\n\napp = App()\n\n```\n\n## Full working example with docker-compose\nhttps://github.com/Sobolev5/FastAPI-plus-RabbitMQ\n\n\n## TODO\ntests, docstrings, extended documentation\n\n\n# Try my free time tracker\nMy free time tracker for developers [Workhours.space](https://workhours.space/). \n\n\n\n\n\n\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/Sobolev5/carrot-rpc",
    "keywords": "",
    "license": "",
    "maintainer": "",
    "maintainer_email": "",
    "name": "carrot-rpc",
    "package_url": "https://pypi.org/project/carrot-rpc/",
    "platform": null,
    "project_url": "https://pypi.org/project/carrot-rpc/",
    "project_urls": {
      "Homepage": "https://github.com/Sobolev5/carrot-rpc"
    },
    "release_url": "https://pypi.org/project/carrot-rpc/0.2.8/",
    "requires_dist": [
      "aiormq (>=6.4.2)",
      "simple-print (>=1.4.7)",
      "orjson (>=3.8.0)",
      "pydantic (>=1.10.2)"
    ],
    "requires_python": ">=3.9",
    "summary": "Carrot-RPC it is a python asyncio RPC server/client for RabbitMQ with pydantic schema that allows you to make RPC calls.",
    "version": "0.2.8",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 15527899,
  "releases": {
    "0.1.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "4cdf986d2287e56b7fa9c4e0ce47ca9a1f0947d7b24e86f885e5e74ae312b427",
          "md5": "63836d8bd96fb49211e54589fe062cfa",
          "sha256": "be87bd39b23630018d2b3b172ffdbde99c34c1d231aba9f21c14a6fc00bbb7da"
        },
        "downloads": -1,
        "filename": "carrot_rpc-0.1.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "63836d8bd96fb49211e54589fe062cfa",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.8",
        "size": 4267,
        "upload_time": "2021-10-28T16:53:22",
        "upload_time_iso_8601": "2021-10-28T16:53:22.764623Z",
        "url": "https://files.pythonhosted.org/packages/4c/df/986d2287e56b7fa9c4e0ce47ca9a1f0947d7b24e86f885e5e74ae312b427/carrot_rpc-0.1.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.1.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "0c2d3c21432408ee41b503e6af3d27891e43010435183c39aaa78a18ae28156f",
          "md5": "b880ed35cbc4296927e0d78ecb02d57b",
          "sha256": "cf69708bf5e183208b51a5869dda6c40ad7ff25e800213f558d2296239ca4223"
        },
        "downloads": -1,
        "filename": "carrot_rpc-0.1.1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "b880ed35cbc4296927e0d78ecb02d57b",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.8",
        "size": 4280,
        "upload_time": "2021-10-28T17:25:52",
        "upload_time_iso_8601": "2021-10-28T17:25:52.894096Z",
        "url": "https://files.pythonhosted.org/packages/0c/2d/3c21432408ee41b503e6af3d27891e43010435183c39aaa78a18ae28156f/carrot_rpc-0.1.1-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.1.5": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "dc2d5369e444176a4868e02e16850c0397667cfc44c00355a0ad3a147d280587",
          "md5": "1fd79ad1785d71d1a03e5947a3d416b0",
          "sha256": "0e596696a298064658a1eda703450358f1302f6cd521e97ac934a89cc36b2214"
        },
        "downloads": -1,
        "filename": "carrot_rpc-0.1.5-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "1fd79ad1785d71d1a03e5947a3d416b0",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.8",
        "size": 5276,
        "upload_time": "2021-10-28T17:30:25",
        "upload_time_iso_8601": "2021-10-28T17:30:25.650388Z",
        "url": "https://files.pythonhosted.org/packages/dc/2d/5369e444176a4868e02e16850c0397667cfc44c00355a0ad3a147d280587/carrot_rpc-0.1.5-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.1.6": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "a5b9fc063173d839ebeafd00c893258854f0097de6e5dfb437b772ecb47f95ae",
          "md5": "451af15eb24c6f12dd73915296401daf",
          "sha256": "ebf7c0f07454368b85b56d1f688efe6c34944710250185edd7d73f9597b2db25"
        },
        "downloads": -1,
        "filename": "carrot_rpc-0.1.6-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "451af15eb24c6f12dd73915296401daf",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.8",
        "size": 5272,
        "upload_time": "2021-10-28T17:36:43",
        "upload_time_iso_8601": "2021-10-28T17:36:43.065193Z",
        "url": "https://files.pythonhosted.org/packages/a5/b9/fc063173d839ebeafd00c893258854f0097de6e5dfb437b772ecb47f95ae/carrot_rpc-0.1.6-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.1.7": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "062dc284cfbfdbea0e46f10cab0ef4ab90def5b7b9c5005ee3f309a0516c7dd9",
          "md5": "7fedbab0e13ae382246077b0d2ea5fe4",
          "sha256": "59302b8fcea6e0eb8909dbfdf48beed102a150c821c7efc1bf76705cbea83b4e"
        },
        "downloads": -1,
        "filename": "carrot_rpc-0.1.7-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "7fedbab0e13ae382246077b0d2ea5fe4",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.8",
        "size": 5295,
        "upload_time": "2022-05-02T09:32:16",
        "upload_time_iso_8601": "2022-05-02T09:32:16.949728Z",
        "url": "https://files.pythonhosted.org/packages/06/2d/c284cfbfdbea0e46f10cab0ef4ab90def5b7b9c5005ee3f309a0516c7dd9/carrot_rpc-0.1.7-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.1.8": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "56cb666a53ecd14e9789d39615232db62f9f6f253815572d5a941db3615762e4",
          "md5": "71e81d521307bfcdfe00e3f51e781a2b",
          "sha256": "1788b7ed78e2ba1324e93d618f71b04e7d9dc0c7647747f0bf2bae2db6c3d8c5"
        },
        "downloads": -1,
        "filename": "carrot_rpc-0.1.8-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "71e81d521307bfcdfe00e3f51e781a2b",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.8",
        "size": 5368,
        "upload_time": "2022-08-29T14:22:01",
        "upload_time_iso_8601": "2022-08-29T14:22:01.288374Z",
        "url": "https://files.pythonhosted.org/packages/56/cb/666a53ecd14e9789d39615232db62f9f6f253815572d5a941db3615762e4/carrot_rpc-0.1.8-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.2": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "c818463aebef68dc59a8a35341e09b48ea2b945722303fd04ffffda3123bbcd4",
          "md5": "4a38dfadcdcdb5331c5e90da63ad2ed1",
          "sha256": "44e4b2faafc48c62b018ecf1fb36af9ec255d1e77660a681e11afe1b4ece9cc0"
        },
        "downloads": -1,
        "filename": "carrot_rpc-0.2-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "4a38dfadcdcdb5331c5e90da63ad2ed1",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.8",
        "size": 5347,
        "upload_time": "2022-09-05T06:42:52",
        "upload_time_iso_8601": "2022-09-05T06:42:52.080881Z",
        "url": "https://files.pythonhosted.org/packages/c8/18/463aebef68dc59a8a35341e09b48ea2b945722303fd04ffffda3123bbcd4/carrot_rpc-0.2-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.2.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "bf65702dedcc22074a5bd5e66fa9df961a628f0a35ea2bc6e1412d16876bacb6",
          "md5": "59b93cbf5ba47473834fbc9f957d74ab",
          "sha256": "e53760b815705e3c6eb01c46e00d6f7e753cc44100a646df18b7b82128edde4b"
        },
        "downloads": -1,
        "filename": "carrot_rpc-0.2.1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "59b93cbf5ba47473834fbc9f957d74ab",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.8",
        "size": 4220,
        "upload_time": "2022-09-16T07:30:12",
        "upload_time_iso_8601": "2022-09-16T07:30:12.796744Z",
        "url": "https://files.pythonhosted.org/packages/bf/65/702dedcc22074a5bd5e66fa9df961a628f0a35ea2bc6e1412d16876bacb6/carrot_rpc-0.2.1-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.2.2": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "71d792e18df06023486a695745ccf823fb7411a75f7eb9a513d605b09ca4bf28",
          "md5": "e1b131841d958090906a98bf474c2f44",
          "sha256": "6880fcd34b98765adbaa346a4315d0b9240d9de4136c3e6e90a5b7ea44cd237c"
        },
        "downloads": -1,
        "filename": "carrot_rpc-0.2.2-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "e1b131841d958090906a98bf474c2f44",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.8",
        "size": 4767,
        "upload_time": "2022-10-18T15:07:07",
        "upload_time_iso_8601": "2022-10-18T15:07:07.766560Z",
        "url": "https://files.pythonhosted.org/packages/71/d7/92e18df06023486a695745ccf823fb7411a75f7eb9a513d605b09ca4bf28/carrot_rpc-0.2.2-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.2.5": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "30a4825ea7d10b0c0b1a3157b98ded9ed4becb43c58b0163aa93f1c29f1318a6",
          "md5": "177370770c474a765aca8f02ff949d32",
          "sha256": "e7e99839d5aa60c8bf09237a56a05e76b27de2727f020edc3cd7b71214bef53b"
        },
        "downloads": -1,
        "filename": "carrot_rpc-0.2.5-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "177370770c474a765aca8f02ff949d32",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.10",
        "size": 5034,
        "upload_time": "2022-10-24T17:14:48",
        "upload_time_iso_8601": "2022-10-24T17:14:48.515869Z",
        "url": "https://files.pythonhosted.org/packages/30/a4/825ea7d10b0c0b1a3157b98ded9ed4becb43c58b0163aa93f1c29f1318a6/carrot_rpc-0.2.5-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.2.6": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "45fd3e9fd8c6f0d1900f80443b513650e96e9f2f032f8f63154ce63832000f30",
          "md5": "572eee748adbab79bd6e7ad13c1693e2",
          "sha256": "7b372fa9248a296505dd22858d14b8208d5bd56829c165262e57d5eb88e3dba9"
        },
        "downloads": -1,
        "filename": "carrot_rpc-0.2.6-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "572eee748adbab79bd6e7ad13c1693e2",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.9",
        "size": 5036,
        "upload_time": "2022-10-25T09:13:22",
        "upload_time_iso_8601": "2022-10-25T09:13:22.743697Z",
        "url": "https://files.pythonhosted.org/packages/45/fd/3e9fd8c6f0d1900f80443b513650e96e9f2f032f8f63154ce63832000f30/carrot_rpc-0.2.6-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.2.7": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "1cd681dab463ee844c7c96ee05159249f115454962ec6d807ff2e8f3f8682bf6",
          "md5": "8720c3c2d8a7759a0023685793e1867b",
          "sha256": "d87d5ee064f5bb05252e40047233c1bee8a465eb6593343b1ef351daaedec29f"
        },
        "downloads": -1,
        "filename": "carrot_rpc-0.2.7-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "8720c3c2d8a7759a0023685793e1867b",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.9",
        "size": 5045,
        "upload_time": "2022-10-25T09:24:50",
        "upload_time_iso_8601": "2022-10-25T09:24:50.739458Z",
        "url": "https://files.pythonhosted.org/packages/1c/d6/81dab463ee844c7c96ee05159249f115454962ec6d807ff2e8f3f8682bf6/carrot_rpc-0.2.7-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.2.8": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "67d7398b9bde3136837489834e526dc3d5af67db3d5a5b473920e08cc3b58eb0",
          "md5": "eb6a4e96ae534ef94fdbcfb3daa0f341",
          "sha256": "3d2d86733585264aedd20876b368501f0f1aba6d3666cb7a7a4dac8f30809002"
        },
        "downloads": -1,
        "filename": "carrot_rpc-0.2.8-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "eb6a4e96ae534ef94fdbcfb3daa0f341",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.9",
        "size": 5355,
        "upload_time": "2022-10-25T20:22:20",
        "upload_time_iso_8601": "2022-10-25T20:22:20.333326Z",
        "url": "https://files.pythonhosted.org/packages/67/d7/398b9bde3136837489834e526dc3d5af67db3d5a5b473920e08cc3b58eb0/carrot_rpc-0.2.8-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "67d7398b9bde3136837489834e526dc3d5af67db3d5a5b473920e08cc3b58eb0",
        "md5": "eb6a4e96ae534ef94fdbcfb3daa0f341",
        "sha256": "3d2d86733585264aedd20876b368501f0f1aba6d3666cb7a7a4dac8f30809002"
      },
      "downloads": -1,
      "filename": "carrot_rpc-0.2.8-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "eb6a4e96ae534ef94fdbcfb3daa0f341",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": ">=3.9",
      "size": 5355,
      "upload_time": "2022-10-25T20:22:20",
      "upload_time_iso_8601": "2022-10-25T20:22:20.333326Z",
      "url": "https://files.pythonhosted.org/packages/67/d7/398b9bde3136837489834e526dc3d5af67db3d5a5b473920e08cc3b58eb0/carrot_rpc-0.2.8-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}