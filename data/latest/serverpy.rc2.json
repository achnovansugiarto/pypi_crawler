{
  "info": {
    "author": "Divyansh Chopra",
    "author_email": "",
    "bugtrack_url": null,
    "classifiers": [
      "License :: OSI Approved :: MIT License",
      "Operating System :: OS Independent",
      "Programming Language :: Python :: 3"
    ],
    "description": "# ServerPy\n\nServerPy is a Python library for resource discovery and request forwarding. User can pass in an input JSON/YAML configuration containing the details of different services and their instances and the library will take care of health check and request processing for you.\n\n## Objective\n\nConsider that you have 10 microservices in your ecosystem which might make certain API calls to other microservices. These microservices must be aware of all the other services and their running instances. With the use of serverpy, you just have to make request to the \"Request Processor\" of ServerPy and it will handle the rest of your process.\n\nEver heard of Eureka Server in Spring Applications? Well this is the pythonic version of that with some more extra features.\n\nThis library consists of two main modules - Discovery Server and Request Processor\n\nDiscovery Server is responsible for polling service instances and keeping a track of the service status. Request processor forwards the incoming request to the specific service instance. Both the Discovery Server and Request Processor have their own web servers which listen on the port specified in the configuration file.\n\n\n## Installation\n\nUse the package manager [pip](https://pip.pypa.io/en/stable/) to install ServerPy.\n\n```bash\npip install ServerPy\n```\n\n## Usage\n\n```shell\nserverpy -c <config filename>\n```\nFor example, you can also use \"test.json\" provided in the repo.\n\n```shell\nserverpy -c test.json\n```\n\n## Debugging the config file\nThe configuration file is the driver for this library. The information contained within the input configuration file is mapped onto by different components of the library.\n\nTo start with, consider each service as a project itself. One service can have several instances. For example:\n```json\n{\n\t\"service_1\": {},\n\t\"service_2\": {}\n}\n```\n\nEach service dictionary must contain polling information. This polling information is used by the library to make calls to the instances. Following is the model of a polling information:\n\n```python\n{\n\t\"method\": \"health\", \n\t\"endpoint\": \"/health\",\n    \"frequency\": 80,\n\t\"retries\": 3,\n\t\"retry_delay\": 10,\n\t\"packet_limit\": 10000,\n    \"priority\": \"high\"\n}\n```\n\nDescription of the fields present in the polling information:\n1. *method* - This specifies the method which is to be used for polling the server instance. Only two values are accepted which are \"health\" or \"ping\". **This is a mandatory field**. Health method means that the service instance exposes an API or a checkpoint to which a GET call can be made in order to verify the status of the service instance. Ping method means the library will ping the service instance url in order to verify the status of the service instance.\n2. *endpoint* - In case of \"health\" method, the library should also be provided with the API to which the request should be made. **This is mandatory if you pass *method* as \"health\".\n3. *frequency* - The frequency at which the library should poll the service instance. The value passed in this field indicate the number of seconds the library should wait before polling the service instance again. Default value - 60 seconds.\n4. *retries* - If you wanted the library to retry polling the service instance in a given window of time, you can pass in the number of retries in this field.\n5. *retry_delay* - The delay between two retries by the library. The value provided indicates the number of seconds that the library will pause for before retrying polling once again. **This is mandatory if you pass *retries*.**\n6. *packet_limit* - This indicates the number of requests history you want to store in the memory. Default value is 5000.\n7. *priority* - This field is only accepted when each service instance has it's own polling configuration. You can specify the priority so that when requests are being forwarded, instance with maximum availability and priority is chosen. Accepted values are \"high\", \"med\", \"low\".\n\nAn example of passing one polling configuration for all service instances:\n```\n\"service2\": {\n\t\"servers\": [\"127.0.0.1:8080\"],\n\t\"polling\": {\n\t\t\"method\": \"health\",\n\t\t\"endpoint\": \"/health\",\n\t\t\"retries\": 3,\n\t\t\"retry_delay\": 10,\n\t\t\"packet_limit\": 10000\n\t},\n\t\"apis\": [\n\t\t\"/second\", \"/third\"\n\t]\n}\n```\n\nAn example of passing different polling configuration for each service instance:\n```\n\"service1\": {\n\t\"servers\": {\n\t\t\"www.google.com\": {\n\t\t\t\"method\": \"ping\",\n\t\t\t\"frequency\": 80,\n\t\t\t\"retries\": 0,\n\t\t\t\"packet_limit\": 5000,\n\t\t\t\"priority\": \"high\"\n\t\t},\n\t\t\"www.google.co.in\": {\n\t\t\t\"method\": \"ping\",\n\t\t\t\"frequency\": 80,\n\t\t\t\"retries\": 0,\n\t\t\t\"packet_limit\": 5000\n\t\t}\n\t},\n\t\"apis\": [\n\t\t\"/first\", \"/second/sample\"\n\t]\n}\n```\n\nApart from the service configurations, users can also pass in Meta Information which will be used by the library.\n```\n\"meta-info\": {\n\t\t\"discovery_server_name\": \"My Discovery Server\",\n\t\t\"request_processor_name\": \"My Request Processor\",\n\t\t\"discovery_server_port\": 8008,\n\t\t\"request_processor_port\": 8081\n\t}\n```\n\n## APIs provided by the library\n\nThere are several APIs which the library provides in order to help the user with statistics and status of the services. All these APIs are part of the Discovery Server. These are:\n1. /health - Return the status of the Discovery Server.\n2. /stats - Returns the statistics of all the requests that have been made and provides the health status of all the services.\n3. /dump - Dumps the statistics into a JSON format.\n\n\n\n## Contributing\nPull requests are welcome. For major changes, please open an issue first to discuss what you would like to change.\n\nPlease make sure to update tests as appropriate.\n\n## License\nGNU General Public License v3.0\n\n\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "",
    "keywords": "",
    "license": "",
    "maintainer": "",
    "maintainer_email": "",
    "name": "ServerPy",
    "package_url": "https://pypi.org/project/ServerPy/",
    "platform": null,
    "project_url": "https://pypi.org/project/ServerPy/",
    "project_urls": null,
    "release_url": "https://pypi.org/project/ServerPy/0.0.2/",
    "requires_dist": [
      "PyYAML (==6.0)",
      "web.py (==0.62)",
      "requests (==2.28.0)"
    ],
    "requires_python": ">=3.6",
    "summary": "Resource Discovery and Request forwarding library",
    "version": "0.0.2",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 14263347,
  "releases": {
    "0.0.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "54006fe564410801ab7829b4efde0cbed10ac1a4790a18b8a291a45dd4eb0cb1",
          "md5": "73f9918c98051db36461edd3ad6c130f",
          "sha256": "03d1000dfe373b0da1d1ba9033ce26a2a833c6c8ebe981d755e51fdfe44ee4e4"
        },
        "downloads": -1,
        "filename": "ServerPy-0.0.1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "73f9918c98051db36461edd3ad6c130f",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.6",
        "size": 25438,
        "upload_time": "2022-06-26T23:08:07",
        "upload_time_iso_8601": "2022-06-26T23:08:07.136988Z",
        "url": "https://files.pythonhosted.org/packages/54/00/6fe564410801ab7829b4efde0cbed10ac1a4790a18b8a291a45dd4eb0cb1/ServerPy-0.0.1-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "5e6b91fd3b72d8327d892da5caa66b71cf0a198245336352d0b0d28ea93e55f5",
          "md5": "6ec7a04ac291c59ea56e6b0260635c50",
          "sha256": "53a01b9406451e8c6fe1648a3b8c018a38d2f3b095edce8e766a245f7e9b2959"
        },
        "downloads": -1,
        "filename": "ServerPy-0.0.1.tar.gz",
        "has_sig": false,
        "md5_digest": "6ec7a04ac291c59ea56e6b0260635c50",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6",
        "size": 22553,
        "upload_time": "2022-06-26T23:08:11",
        "upload_time_iso_8601": "2022-06-26T23:08:11.226620Z",
        "url": "https://files.pythonhosted.org/packages/5e/6b/91fd3b72d8327d892da5caa66b71cf0a198245336352d0b0d28ea93e55f5/ServerPy-0.0.1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.0.2": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "4b5274fdd917a1cf1b614d3c140633d090b559da8b738d42721d72d9a34264ae",
          "md5": "dd28600f19b78a03a94e9498ce014959",
          "sha256": "9746b81a2b7a5fd9e0462a87eb2232bbee228cd23cf674a4a58ecea6d0acc939"
        },
        "downloads": -1,
        "filename": "ServerPy-0.0.2-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "dd28600f19b78a03a94e9498ce014959",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.6",
        "size": 27496,
        "upload_time": "2022-06-27T18:35:03",
        "upload_time_iso_8601": "2022-06-27T18:35:03.641277Z",
        "url": "https://files.pythonhosted.org/packages/4b/52/74fdd917a1cf1b614d3c140633d090b559da8b738d42721d72d9a34264ae/ServerPy-0.0.2-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "08902c0c836730e34105183e702f3d0baeed788a9519373c2b3a2bf362457bd3",
          "md5": "93d79b11091be18df077db4e56c2a807",
          "sha256": "d757c731ea96c4361560ffe7f513a9c457969955fad42b1b6048608c00d73cfb"
        },
        "downloads": -1,
        "filename": "ServerPy-0.0.2.tar.gz",
        "has_sig": false,
        "md5_digest": "93d79b11091be18df077db4e56c2a807",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6",
        "size": 24594,
        "upload_time": "2022-06-27T18:35:05",
        "upload_time_iso_8601": "2022-06-27T18:35:05.690720Z",
        "url": "https://files.pythonhosted.org/packages/08/90/2c0c836730e34105183e702f3d0baeed788a9519373c2b3a2bf362457bd3/ServerPy-0.0.2.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "4b5274fdd917a1cf1b614d3c140633d090b559da8b738d42721d72d9a34264ae",
        "md5": "dd28600f19b78a03a94e9498ce014959",
        "sha256": "9746b81a2b7a5fd9e0462a87eb2232bbee228cd23cf674a4a58ecea6d0acc939"
      },
      "downloads": -1,
      "filename": "ServerPy-0.0.2-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "dd28600f19b78a03a94e9498ce014959",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": ">=3.6",
      "size": 27496,
      "upload_time": "2022-06-27T18:35:03",
      "upload_time_iso_8601": "2022-06-27T18:35:03.641277Z",
      "url": "https://files.pythonhosted.org/packages/4b/52/74fdd917a1cf1b614d3c140633d090b559da8b738d42721d72d9a34264ae/ServerPy-0.0.2-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "08902c0c836730e34105183e702f3d0baeed788a9519373c2b3a2bf362457bd3",
        "md5": "93d79b11091be18df077db4e56c2a807",
        "sha256": "d757c731ea96c4361560ffe7f513a9c457969955fad42b1b6048608c00d73cfb"
      },
      "downloads": -1,
      "filename": "ServerPy-0.0.2.tar.gz",
      "has_sig": false,
      "md5_digest": "93d79b11091be18df077db4e56c2a807",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": ">=3.6",
      "size": 24594,
      "upload_time": "2022-06-27T18:35:05",
      "upload_time_iso_8601": "2022-06-27T18:35:05.690720Z",
      "url": "https://files.pythonhosted.org/packages/08/90/2c0c836730e34105183e702f3d0baeed788a9519373c2b3a2bf362457bd3/ServerPy-0.0.2.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}