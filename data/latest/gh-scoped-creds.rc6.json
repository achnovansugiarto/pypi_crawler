{
  "info": {
    "author": "Yuvi Panda",
    "author_email": "yuvipanda@gmail.com",
    "bugtrack_url": null,
    "classifiers": [],
    "description": "# gh-scoped-creds\n\nProvide finely scoped push access to GitHub from a JupyterHub or\nHPC system.\n\n## Goals\n\n1. Allow users on a JupyterHub to grant push access to only *specific\n   repositories* rather than *all* the repositories they have access to.\n2. Do not store long-term credentials (like personal access tokens or\n   ssh-keys) on disk, as they may get archived / fall into the wrong\n   hands in the future.\n3. Allow GitHub organization admins visibility and control over what\n   repos users can push to from remote systems (like JupyterHub or a\n   shared cluster), where other admins of the remote system might\n   be able to access the files of users with push access to repos. This\n   has serious implications for supply chain security, as credentials\n   might be stolen or lost and serious vulnerabilities be pushed to\n   the repo.\n\nThese goals are accomplished by:\n\n1. Creating a [GitHub app](https://docs.github.com/en/developers/apps)\n   specific to the remote service (JupyterHub, HPC cluster, etc). Users\n   and GitHub organization admins can then provide fine grained, repo\n   level access to this GitHub app - Users can only push to repos that have the\n   app installed.\n2. A commandline tool (`gh-scoped-creds`) that lets specific users\n   authorize push access to the selected repositories temporarily - a token\n   that expires after 8 hours.\n3. An IPython Magic (`%ghscopedcreds`) that provides a convenient wrapper to call\n   `gh-scoped-creds` from inside a Jupyter Notebook.\n\nIn the future, an optional web app might also be provided to aid in\nauthentication.\n\n## Installation\n\nYou can install `gh-scoped-creds` from PyPI.\n\n```bash\npip install gh-scoped-creds\n```\n\n## GitHub App configuration\n\n1. Create a [GitHub app](https://docs.github.com/en/developers/apps) for\n   use by the service (JupyterHub, HPC cluster, etc). You can either create\n   it under your [personal account](https://github.com/settings/apps/new),\n   or preferably under a GitHub organization account (Go to Settings ->\n   Developer Settings -> GitHub Apps -> New GitHub app from the organization's\n   GitHub page).\n\n2. Give it a descriptive name and description, as your users will see this\n   when they authenticate. Provide a link to a descriptive page explaining your\n   service (if you are using a JupyterHub, this could be just your JupyterHub URL).\n\n3. Select 'Enable Device Flow', as we rely on the [device flow](https://docs.github.com/en/enterprise-server@3.3/developers/apps/building-oauth-apps/authorizing-oauth-apps#device-flow)\n   authentication method.\n\n4. Disable webhooks (uncheck the 'Active' checkbox under 'Webhooks'). All other\n   textboxes can be left empty.\n\n5. Under 'Repository permissions', select 'Read & write' for 'Contents'. This\n   will provide users authenticating via the app just enough permissions to push\n   and pull from repositories.\n\n6. Under 'Where can this GitHub App be installed?', select 'Any account'. This will\n   enable users to push to their own user repositories or other organization repositaries,\n   rather than just the repos of the user or organization owning this GitHub app.\n\n7. Save the `Client ID` provided in the information page of the app. You'll need this\n   in the client. Save the `Public link` as well, as users will need to use this to grant\n   access to particular repositories.\n\n## Client configuration\n\n1. `gh-scoped-creds` will need to know the \"Client ID\" of the created GitHub app to\n    perform authentication. This can be either set with the environment variable\n\t`GH_SCOPED_CREDS_CLIENT_ID`, or be passed in as a commandline parameter `--client-id` to\n\tthe `gh-scoped-creds` script when users use it to authenticate.\n\n2. Users will need to explicitly grant access to the repos they want to push to from\n   this particular JupyterHub or HPC system (see Usage section below). Admins can set\n   the `GH_SCOPED_CREDS_APP_URL` environment variable to inform users where to go\n   to manage this access - `gh-scoped-creds` will print this out after authentication.\n\n## Usage\n\n### Grant access to the GitHub app\n\nUsers will first need to go to the public page of the GitHub app, and\n'Install' the app on their account and in organizations with repos they\nwant to push to. We *highly* recommend allowing access only to selected\nrepositories, and explicitly select the repositories this hosted service\n(JupyterHub, HPC cluster, etc) should be able to push to. You can modify\nthis list afterwards, to make sure you only grant the required permissions.\n\nGiven the common usage pattern where you are only pushing to a limited\nset of repositories from a particular hosted service, this should hopefully\nnot be too cumborsome.\n\nAdmins can set the `GH_SCOPED_CREDS_APP_URL` to the *Public Link* of the GitHub\napp to make it easier for users to know where to go.\n\n### Authenticate to GitHub\n\nThe hosted service must have `gh-scoped-creds` installed.\n\n1. Open a terminal, and type `gh-scoped-creds`. If you're in a Python based\n   Jupyter Notebook, you can also do:\n\n   ```python\n   import gh_scoped_creds\n\n   %ghscopedcreds\n   ```\n\n   This will offer to open the page in a new window for you, and conveniently\n   copy the code you need to paste in the new window too.\n\n   If you're on a non-containerized system (like a HPC), you must\n   also specify the path to put the credentials files in explicitly\n   with `--git-credentials-path`. The same path must be used in the\n   `gitconfig` configuration mentioned earlier.\n\n2. It should give you a link to go to, and a code to input into the web page\n   when that link is opened. Open the link, enter the code there (the page accepts\n   pasting, so you can copy it from the output).\n\n3. Grant access to the device in the web page, and you're done!\n\nAuthentication is valid for **8 hours**, and once it expires, this\nprocess will need to be repeated. In the future, we might have a\nweb app or other process to make this less painful. However, keeping\nthe length of this session limited drastically helps with security too.\n\n## Alternatives\n\n1. Create an ssh key specifically for the hosted service (JupyterHub, HPC cluster, etc)\n   and add it to your GitHub account. If the key doesn't have a passphrase, this is\n   very insecure - anyone who can exfiltrate your key once can keep it and use it\n   whenever they wish. Even with a passphrase, the key can still be exfiltrated and\n   passphrase stolen when used. There's also no way to restrict which repositories\n   this can push to, which is a big issue.\n\n2. Create a [Personal Access Token](https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token)\n   and use that. This is a little *more* insecure than the ssh key, as it can be used\n   to make requests on your behalf too after being stolen! There is also no way to\n   restrict which repositories you can push to.\n\n3. Create a [GitHub deploy key](https://docs.github.com/en/developers/overview/managing-deploy-keys)\n   for each repository you want to push to, for each hosted service you want to push\n   from. While this lets you control which repos this ssh key can access, it is still\n   stored long term at risk and can be exfiltrated.\n\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/yuvipanda/gh-scoped-creds",
    "keywords": "",
    "license": "3-clause BSD",
    "maintainer": "",
    "maintainer_email": "",
    "name": "gh-scoped-creds",
    "package_url": "https://pypi.org/project/gh-scoped-creds/",
    "platform": "any",
    "project_url": "https://pypi.org/project/gh-scoped-creds/",
    "project_urls": {
      "Homepage": "https://github.com/yuvipanda/gh-scoped-creds"
    },
    "release_url": "https://pypi.org/project/gh-scoped-creds/4.1/",
    "requires_dist": [
      "requests"
    ],
    "requires_python": "",
    "summary": "Temporary, well scoped credentials for pushing to GitHub",
    "version": "4.1",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 14986749,
  "releases": {
    "2.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "d6a8fd4247770658b0ba5b203aafb9c1e9594733778d37d1ce462358bd170959",
          "md5": "8f87361a26b4885ed6a0a4c81aad04a0",
          "sha256": "3f766f1d5e85c2414c46b64b5260908c0f34246e06fa63d64eeb28b15e47ba3e"
        },
        "downloads": -1,
        "filename": "gh_scoped_creds-2.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "8f87361a26b4885ed6a0a4c81aad04a0",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 7589,
        "upload_time": "2022-04-17T02:17:45",
        "upload_time_iso_8601": "2022-04-17T02:17:45.189318Z",
        "url": "https://files.pythonhosted.org/packages/d6/a8/fd4247770658b0ba5b203aafb9c1e9594733778d37d1ce462358bd170959/gh_scoped_creds-2.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "eb7214a74d5d938722fd14efc4b9347d687529b5508687b0388a861c67ae92cc",
          "md5": "56644a6021427fd731e654031eb7f9cc",
          "sha256": "bd594175defc0eb1f28156dcebb9cddb61f9c9a6a74c0a970a9d4687abfac0bc"
        },
        "downloads": -1,
        "filename": "gh-scoped-creds-2.0.tar.gz",
        "has_sig": false,
        "md5_digest": "56644a6021427fd731e654031eb7f9cc",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 7161,
        "upload_time": "2022-04-17T02:17:46",
        "upload_time_iso_8601": "2022-04-17T02:17:46.863608Z",
        "url": "https://files.pythonhosted.org/packages/eb/72/14a74d5d938722fd14efc4b9347d687529b5508687b0388a861c67ae92cc/gh-scoped-creds-2.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "2.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "b15cf87bf52b3e44377aa92770e3a346270832ba9d8825196e9f8cc84527f7f2",
          "md5": "83d5074d1d164316b1a399f41b7d39b1",
          "sha256": "61e5f1c4e8d5e6b7d1c89baf4e8f3e2792f2f164f9a63766e3ecd9ce7bd18ee5"
        },
        "downloads": -1,
        "filename": "gh_scoped_creds-2.1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "83d5074d1d164316b1a399f41b7d39b1",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 7583,
        "upload_time": "2022-04-17T02:20:53",
        "upload_time_iso_8601": "2022-04-17T02:20:53.600645Z",
        "url": "https://files.pythonhosted.org/packages/b1/5c/f87bf52b3e44377aa92770e3a346270832ba9d8825196e9f8cc84527f7f2/gh_scoped_creds-2.1-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "e448f31852f6c9d586d9428b5e86ca13974df2bf95fb81fd1b0be2a08d16bfcb",
          "md5": "aa695fc356ec496bf377e54fdaf3f318",
          "sha256": "eb3dea8f27f605b262d4976324bc9b11d678bf574b3b6608a0b290c8c2424297"
        },
        "downloads": -1,
        "filename": "gh-scoped-creds-2.1.tar.gz",
        "has_sig": false,
        "md5_digest": "aa695fc356ec496bf377e54fdaf3f318",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 7140,
        "upload_time": "2022-04-17T02:20:55",
        "upload_time_iso_8601": "2022-04-17T02:20:55.370632Z",
        "url": "https://files.pythonhosted.org/packages/e4/48/f31852f6c9d586d9428b5e86ca13974df2bf95fb81fd1b0be2a08d16bfcb/gh-scoped-creds-2.1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "2.2": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "8576754c164ccd1e94868114f507a7edfc78ea641090c60d8e6cb3c17106f7c2",
          "md5": "a71b48d20ca57df2eb0e51e8002297bd",
          "sha256": "7cff89529c92fd07e83e85d899a84b4face663581d228e68e5f93f72d0057ff2"
        },
        "downloads": -1,
        "filename": "gh_scoped_creds-2.2-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "a71b48d20ca57df2eb0e51e8002297bd",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 7482,
        "upload_time": "2022-04-17T07:22:47",
        "upload_time_iso_8601": "2022-04-17T07:22:47.769755Z",
        "url": "https://files.pythonhosted.org/packages/85/76/754c164ccd1e94868114f507a7edfc78ea641090c60d8e6cb3c17106f7c2/gh_scoped_creds-2.2-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "d98e87345b976078dfe2a11619d9ffc9fd9b70883a1ed7b0edcda56de2568b9e",
          "md5": "f4e98ce407b2a3f6b1d4f394e298a247",
          "sha256": "6fa418da0522a65a44d4aaf56ed33fa51e4a5ffa15d698c3231981b77b37c0c8"
        },
        "downloads": -1,
        "filename": "gh-scoped-creds-2.2.tar.gz",
        "has_sig": false,
        "md5_digest": "f4e98ce407b2a3f6b1d4f394e298a247",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 7057,
        "upload_time": "2022-04-17T07:22:49",
        "upload_time_iso_8601": "2022-04-17T07:22:49.326095Z",
        "url": "https://files.pythonhosted.org/packages/d9/8e/87345b976078dfe2a11619d9ffc9fd9b70883a1ed7b0edcda56de2568b9e/gh-scoped-creds-2.2.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "3.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "cd27ef19f14393dbca10875c4457fc0aed1628abb188285eb71b0a81cbc46e4b",
          "md5": "bca5d99548cd1bcd95e82ad1f94b16b5",
          "sha256": "8fd254ab6679ea4acdac92e47993dd4f58e6b7e1939c3a54f69cbb37c1944c81"
        },
        "downloads": -1,
        "filename": "gh_scoped_creds-3.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "bca5d99548cd1bcd95e82ad1f94b16b5",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 7511,
        "upload_time": "2022-04-18T07:32:45",
        "upload_time_iso_8601": "2022-04-18T07:32:45.043787Z",
        "url": "https://files.pythonhosted.org/packages/cd/27/ef19f14393dbca10875c4457fc0aed1628abb188285eb71b0a81cbc46e4b/gh_scoped_creds-3.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "af78702bb92fcb7d1f11ac37e05ff80f48e0bdfe6286a50c10e03f1bf771d8b9",
          "md5": "9a5e592bb66174d647f4f420173fbf43",
          "sha256": "a396799b7a6adacd78764cc877f0a21c5d497d84fed4f89d02bcb7b984139c10"
        },
        "downloads": -1,
        "filename": "gh-scoped-creds-3.0.tar.gz",
        "has_sig": false,
        "md5_digest": "9a5e592bb66174d647f4f420173fbf43",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 7051,
        "upload_time": "2022-04-18T07:32:46",
        "upload_time_iso_8601": "2022-04-18T07:32:46.491223Z",
        "url": "https://files.pythonhosted.org/packages/af/78/702bb92fcb7d1f11ac37e05ff80f48e0bdfe6286a50c10e03f1bf771d8b9/gh-scoped-creds-3.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "4.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "36933725788dae2a978b545df83f84b2ba7f9c057869f9274333d6faa9e99a8b",
          "md5": "7c3776834a12d412c7fe80227eb74d41",
          "sha256": "72ea8316d3686c6198fa0a7f4a0a17f7e0bd52bcab3c2e5f3032d3d820c1860d"
        },
        "downloads": -1,
        "filename": "gh_scoped_creds-4.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "7c3776834a12d412c7fe80227eb74d41",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 7382,
        "upload_time": "2022-04-19T08:09:06",
        "upload_time_iso_8601": "2022-04-19T08:09:06.439680Z",
        "url": "https://files.pythonhosted.org/packages/36/93/3725788dae2a978b545df83f84b2ba7f9c057869f9274333d6faa9e99a8b/gh_scoped_creds-4.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "be25860f907e2140375d1bf09250e5b3f31d811118cf72417c077e749c30d165",
          "md5": "24672c065a94abe4126a172cc1e947dd",
          "sha256": "23316842a135a14d2e0df7a99e2710d10590e04635f1536c351572d2bfff11ef"
        },
        "downloads": -1,
        "filename": "gh-scoped-creds-4.0.tar.gz",
        "has_sig": false,
        "md5_digest": "24672c065a94abe4126a172cc1e947dd",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 6931,
        "upload_time": "2022-04-19T08:09:07",
        "upload_time_iso_8601": "2022-04-19T08:09:07.977933Z",
        "url": "https://files.pythonhosted.org/packages/be/25/860f907e2140375d1bf09250e5b3f31d811118cf72417c077e749c30d165/gh-scoped-creds-4.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "4.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "1135835e33b7db515e0df540ed6af21950555ac084a3b76104c0ae33f1f0e387",
          "md5": "165df7331f2b9420d747771e0ff38191",
          "sha256": "3e3c29949c3de0f877b7bbbc1017d41fe627935efb9814a60689be0777a03cda"
        },
        "downloads": -1,
        "filename": "gh_scoped_creds-4.1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "165df7331f2b9420d747771e0ff38191",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 7438,
        "upload_time": "2022-04-20T18:18:00",
        "upload_time_iso_8601": "2022-04-20T18:18:00.857668Z",
        "url": "https://files.pythonhosted.org/packages/11/35/835e33b7db515e0df540ed6af21950555ac084a3b76104c0ae33f1f0e387/gh_scoped_creds-4.1-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "13a26eb0a46e129aae936ef03def754aa5fbfbaaa4284e6f07d830f5ebc7cdaf",
          "md5": "291e3330746525f09990cb0e0dbd27f2",
          "sha256": "b2595929b86d39d67172f98747de5afb722ce66483823e09aeaf65f1c7b02b87"
        },
        "downloads": -1,
        "filename": "gh-scoped-creds-4.1.tar.gz",
        "has_sig": false,
        "md5_digest": "291e3330746525f09990cb0e0dbd27f2",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 6999,
        "upload_time": "2022-04-20T18:18:02",
        "upload_time_iso_8601": "2022-04-20T18:18:02.073993Z",
        "url": "https://files.pythonhosted.org/packages/13/a2/6eb0a46e129aae936ef03def754aa5fbfbaaa4284e6f07d830f5ebc7cdaf/gh-scoped-creds-4.1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "1135835e33b7db515e0df540ed6af21950555ac084a3b76104c0ae33f1f0e387",
        "md5": "165df7331f2b9420d747771e0ff38191",
        "sha256": "3e3c29949c3de0f877b7bbbc1017d41fe627935efb9814a60689be0777a03cda"
      },
      "downloads": -1,
      "filename": "gh_scoped_creds-4.1-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "165df7331f2b9420d747771e0ff38191",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": null,
      "size": 7438,
      "upload_time": "2022-04-20T18:18:00",
      "upload_time_iso_8601": "2022-04-20T18:18:00.857668Z",
      "url": "https://files.pythonhosted.org/packages/11/35/835e33b7db515e0df540ed6af21950555ac084a3b76104c0ae33f1f0e387/gh_scoped_creds-4.1-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "13a26eb0a46e129aae936ef03def754aa5fbfbaaa4284e6f07d830f5ebc7cdaf",
        "md5": "291e3330746525f09990cb0e0dbd27f2",
        "sha256": "b2595929b86d39d67172f98747de5afb722ce66483823e09aeaf65f1c7b02b87"
      },
      "downloads": -1,
      "filename": "gh-scoped-creds-4.1.tar.gz",
      "has_sig": false,
      "md5_digest": "291e3330746525f09990cb0e0dbd27f2",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": null,
      "size": 6999,
      "upload_time": "2022-04-20T18:18:02",
      "upload_time_iso_8601": "2022-04-20T18:18:02.073993Z",
      "url": "https://files.pythonhosted.org/packages/13/a2/6eb0a46e129aae936ef03def754aa5fbfbaaa4284e6f07d830f5ebc7cdaf/gh-scoped-creds-4.1.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}