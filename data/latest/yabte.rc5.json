{
  "info": {
    "author": "Blair Azzopardi",
    "author_email": "blairuk@gmail.com",
    "bugtrack_url": null,
    "classifiers": [
      "License :: OSI Approved :: MIT License",
      "Programming Language :: Python :: 3",
      "Programming Language :: Python :: 3.10",
      "Programming Language :: Python :: 3.11"
    ],
    "description": "# yabte - Yet Another BackTesting Engine\n\nPython module for backtesting trading strategies.\n\nSupport event driven backtesting, ie `on_open`, `on_close`, etc. Also supports multiple assets.\n\nVery basic statistics like book cash, mtm and total value. Currently, everything else needs to be deferred to a 3rd party module like `empyrical`.\n\nThere are some basic tests but use at your own peril. It's not production level code.\n\n## Core dependencies\n\nThe core module uses pandas and scipy.\n\n## Installation\n\n```bash\npip install yatbe\n```\n\n## Usage\n\nBelow is an example usage (the performance of the example strategy won't be good).\n\n```python\nimport pandas as pd\n\nfrom yabte.backtest import Strategy, StrategyRunner, Order, Book\nfrom yabte.utilities.plot.matplotlib.strategy_runner import plot_strategy_runner\nfrom yabte.utilities.strategy_helpers import crossover\nfrom yabte.tests._helpers import generate_nasdaq_dataset\n\n\nclass SMAXO(Strategy):\n    def init(self):\n        # enhance data with simple moving averages\n\n        p = self.params\n        days_short = p.get(\"days_short\", 10)\n        days_long = p.get(\"days_long\", 20)\n\n        close_sma_short = (\n            self.data.loc[:, (slice(None), \"Close\")]\n            .rolling(days_short)\n            .mean()\n            .rename({\"Close\": \"CloseSMAShort\"}, axis=1, level=1)\n        )\n        close_sma_long = (\n            self.data.loc[:, (slice(None), \"Close\")]\n            .rolling(days_long)\n            .mean()\n            .rename({\"Close\": \"CloseSMALong\"}, axis=1, level=1)\n        )\n        self.data = pd.concat(\n            [self.data, close_sma_short, close_sma_long], axis=1\n        ).sort_index(axis=1)\n\n    def on_close(self):\n        # create some orders\n\n        for symbol in [\"GOOG\", \"MSFT\"]:\n            df = self.data[symbol]\n            ix_2d = df.index[-2:]\n            data = df.loc[ix_2d, (\"CloseSMAShort\", \"CloseSMALong\")].dropna()\n            if len(data) == 2:\n                if crossover(data.CloseSMAShort, data.CloseSMALong):\n                    self.orders.append(Order(asset_name=symbol, size=-100))\n                elif crossover(data.CloseSMALong, data.CloseSMAShort):\n                    self.orders.append(Order(asset_name=symbol, size=100))\n\n\n# load some data\nassets, df_combined = generate_nasdaq_dataset()\n\n# create a book with 100000 cash\nbook = Book(name=\"Main\", cash=\"100000\")\n\n# run our strategy\nsr = StrategyRunner(\n    data=df_combined,\n    assets=assets,\n    strat_classes=[SMAXO],\n    books=[book],\n)\nsr.run()\n\n# see the trades or book history\nth = sr.transaction_history\nbch = sr.book_history.loc[:, (slice(None), \"cash\")]\n\n# plot the trades against book value\nplot_strategy_runner(sr);\n\n```\n\n![Output from code](https://raw.githubusercontent.com/bsdz/yabte/main/readme_image.png)\n\n## Examples\n\nJupyter notebook examples can be found under the [notebooks folder](https://github.com/bsdz/yabte/tree/main/notebooks).\n\n## Documentation\n\nDocumentation can be found on [Read the Docs](https://yabte.readthedocs.io/en/latest/).\n\n\n## Development\n\nBefore commit run following format commands in project folder:\n\n```bash\npoetry run black .\npoetry run isort . --profile black\npoetry run docformatter . --recursive --in-place\n```\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/bsdz/yabte",
    "keywords": "",
    "license": "MIT",
    "maintainer": "",
    "maintainer_email": "",
    "name": "yabte",
    "package_url": "https://pypi.org/project/yabte/",
    "platform": null,
    "project_url": "https://pypi.org/project/yabte/",
    "project_urls": {
      "Homepage": "https://github.com/bsdz/yabte",
      "Repository": "https://github.com/bsdz/yabte"
    },
    "release_url": "https://pypi.org/project/yabte/0.3.4/",
    "requires_dist": [
      "pandas (>=1.5.2,<2.0.0)",
      "scipy (>=1.10.0,<2.0.0)"
    ],
    "requires_python": ">=3.10,<3.12",
    "summary": "Yet another backtesting engine",
    "version": "0.3.4",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 17453264,
  "releases": {
    "0.1.2": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "f9325b620d309efeb3834dcebc5f9b6152153daefe5c2ce3d38e93b3fe755d15",
          "md5": "52b3b2fc9ccb9eeddeff0aba8952eda2",
          "sha256": "67f8a81f482085bebcc0a6c3500bd236f908895389b1f67b4a26dd43ff4b770e"
        },
        "downloads": -1,
        "filename": "yabte-0.1.2-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "52b3b2fc9ccb9eeddeff0aba8952eda2",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.10,<4.0",
        "size": 9292,
        "upload_time": "2023-01-18T23:55:37",
        "upload_time_iso_8601": "2023-01-18T23:55:37.354634Z",
        "url": "https://files.pythonhosted.org/packages/f9/32/5b620d309efeb3834dcebc5f9b6152153daefe5c2ce3d38e93b3fe755d15/yabte-0.1.2-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "3836a46ca343a12c7f5effacd73b0aa932b2330b3b03b84bcd5e16191eca1359",
          "md5": "dea1eec48eb1a579e69d2654533ab546",
          "sha256": "27f5da46d348ce11a4e238d0a790b7b9bba058de1d4eb8b5df7932d499e57642"
        },
        "downloads": -1,
        "filename": "yabte-0.1.2.tar.gz",
        "has_sig": false,
        "md5_digest": "dea1eec48eb1a579e69d2654533ab546",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.10,<4.0",
        "size": 8410,
        "upload_time": "2023-01-18T23:55:38",
        "upload_time_iso_8601": "2023-01-18T23:55:38.805101Z",
        "url": "https://files.pythonhosted.org/packages/38/36/a46ca343a12c7f5effacd73b0aa932b2330b3b03b84bcd5e16191eca1359/yabte-0.1.2.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.2.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "ca3b71d5e887fff1ab92418caa8320b9b9ce3fa15f09cb02dc38d16bbf034496",
          "md5": "4e039d47bced3890a74305d9fb222750",
          "sha256": "889143f2381b6370aab1580a021796b2d0273c886a8712ef5d0b463074edfeb2"
        },
        "downloads": -1,
        "filename": "yabte-0.2.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "4e039d47bced3890a74305d9fb222750",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.10,<3.12",
        "size": 16339,
        "upload_time": "2023-02-08T23:14:16",
        "upload_time_iso_8601": "2023-02-08T23:14:16.765260Z",
        "url": "https://files.pythonhosted.org/packages/ca/3b/71d5e887fff1ab92418caa8320b9b9ce3fa15f09cb02dc38d16bbf034496/yabte-0.2.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "e93abe0c2ee407c771561487257ad45dfacd07443f32653f849da8a456579f56",
          "md5": "de72a420c9b40c59fa984e3c798e0c5d",
          "sha256": "906ef6c706f0eddbbd07cb25e84a019a6253fd1984169c5f0b292591035af2f7"
        },
        "downloads": -1,
        "filename": "yabte-0.2.0.tar.gz",
        "has_sig": false,
        "md5_digest": "de72a420c9b40c59fa984e3c798e0c5d",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.10,<3.12",
        "size": 14155,
        "upload_time": "2023-02-08T23:14:18",
        "upload_time_iso_8601": "2023-02-08T23:14:18.274592Z",
        "url": "https://files.pythonhosted.org/packages/e9/3a/be0c2ee407c771561487257ad45dfacd07443f32653f849da8a456579f56/yabte-0.2.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.3.2": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "00ce6a7ab633810351dfcb238ae25f7cb2e5263499d278eaca509ecf77a1a079",
          "md5": "1054215caf49d55a4f02c9e09c9999c9",
          "sha256": "063bc7cd2e4d99706ae13aee7f6feb2337c4d528acf67c7fad541778ee32e6c9"
        },
        "downloads": -1,
        "filename": "yabte-0.3.2-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "1054215caf49d55a4f02c9e09c9999c9",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.10,<3.12",
        "size": 20066,
        "upload_time": "2023-02-25T00:26:24",
        "upload_time_iso_8601": "2023-02-25T00:26:24.622271Z",
        "url": "https://files.pythonhosted.org/packages/00/ce/6a7ab633810351dfcb238ae25f7cb2e5263499d278eaca509ecf77a1a079/yabte-0.3.2-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "07d9fff453dc458889f5660de88d59f1ef1684e83491db27eaad67007482a75f",
          "md5": "943732e7897754b78d8ff1cd187a40fc",
          "sha256": "c8e5fc695d2f00d80d0dd26aa5dbe3284034f7d49e5ed4770b9a3ce97d642860"
        },
        "downloads": -1,
        "filename": "yabte-0.3.2.tar.gz",
        "has_sig": false,
        "md5_digest": "943732e7897754b78d8ff1cd187a40fc",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.10,<3.12",
        "size": 17192,
        "upload_time": "2023-02-25T00:26:26",
        "upload_time_iso_8601": "2023-02-25T00:26:26.480702Z",
        "url": "https://files.pythonhosted.org/packages/07/d9/fff453dc458889f5660de88d59f1ef1684e83491db27eaad67007482a75f/yabte-0.3.2.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.3.3": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "b1434207f715f373b2dcc2102f2ffe28929dd35575918c7a19edaee80c4b38f4",
          "md5": "b3e0feb65da5e7183f7932e5f14afee3",
          "sha256": "83549e3e7f6f77a003cd74840b48ee545746677807c8a7cd0ad9dbb6b4d8e4d3"
        },
        "downloads": -1,
        "filename": "yabte-0.3.3-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "b3e0feb65da5e7183f7932e5f14afee3",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.10,<3.12",
        "size": 22667,
        "upload_time": "2023-03-07T23:27:29",
        "upload_time_iso_8601": "2023-03-07T23:27:29.437633Z",
        "url": "https://files.pythonhosted.org/packages/b1/43/4207f715f373b2dcc2102f2ffe28929dd35575918c7a19edaee80c4b38f4/yabte-0.3.3-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "126ee3245e3496850ebdc2a84d1dd36ed480bcb924c3cf832e2294551ca8a220",
          "md5": "9b0591c91afff9f78ab94f3f4dee7c3f",
          "sha256": "98d12ed241441ec5c2ef5a411373afe73f580dd95e4a0197d6231453848f6b2e"
        },
        "downloads": -1,
        "filename": "yabte-0.3.3.tar.gz",
        "has_sig": false,
        "md5_digest": "9b0591c91afff9f78ab94f3f4dee7c3f",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.10,<3.12",
        "size": 18504,
        "upload_time": "2023-03-07T23:27:31",
        "upload_time_iso_8601": "2023-03-07T23:27:31.038429Z",
        "url": "https://files.pythonhosted.org/packages/12/6e/e3245e3496850ebdc2a84d1dd36ed480bcb924c3cf832e2294551ca8a220/yabte-0.3.3.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.3.4": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "5704ae8c35062bbcf6e382e26652d6141f35e258560eab8623d4aad9e0189140",
          "md5": "a73ed8ff9a34cf6f28fe5efb6a5605dc",
          "sha256": "e783a023db645757e7030487b40db11ecab5563da5059462529805c5ce5ba61b"
        },
        "downloads": -1,
        "filename": "yabte-0.3.4-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "a73ed8ff9a34cf6f28fe5efb6a5605dc",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.10,<3.12",
        "size": 287802,
        "upload_time": "2023-03-26T22:13:09",
        "upload_time_iso_8601": "2023-03-26T22:13:09.046226Z",
        "url": "https://files.pythonhosted.org/packages/57/04/ae8c35062bbcf6e382e26652d6141f35e258560eab8623d4aad9e0189140/yabte-0.3.4-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "56449388aecb72f68ace2f7798d30e236b71ef00734248975518059574c68a8d",
          "md5": "28fc7f411072dddfcabab6d10da4eafb",
          "sha256": "e4367e2c73e41e7fd3e2823ac048e40c1cc8f8bdb1e6591b799dcf8292e1fbac"
        },
        "downloads": -1,
        "filename": "yabte-0.3.4.tar.gz",
        "has_sig": false,
        "md5_digest": "28fc7f411072dddfcabab6d10da4eafb",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.10,<3.12",
        "size": 281798,
        "upload_time": "2023-03-26T22:13:10",
        "upload_time_iso_8601": "2023-03-26T22:13:10.784917Z",
        "url": "https://files.pythonhosted.org/packages/56/44/9388aecb72f68ace2f7798d30e236b71ef00734248975518059574c68a8d/yabte-0.3.4.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "5704ae8c35062bbcf6e382e26652d6141f35e258560eab8623d4aad9e0189140",
        "md5": "a73ed8ff9a34cf6f28fe5efb6a5605dc",
        "sha256": "e783a023db645757e7030487b40db11ecab5563da5059462529805c5ce5ba61b"
      },
      "downloads": -1,
      "filename": "yabte-0.3.4-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "a73ed8ff9a34cf6f28fe5efb6a5605dc",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": ">=3.10,<3.12",
      "size": 287802,
      "upload_time": "2023-03-26T22:13:09",
      "upload_time_iso_8601": "2023-03-26T22:13:09.046226Z",
      "url": "https://files.pythonhosted.org/packages/57/04/ae8c35062bbcf6e382e26652d6141f35e258560eab8623d4aad9e0189140/yabte-0.3.4-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "56449388aecb72f68ace2f7798d30e236b71ef00734248975518059574c68a8d",
        "md5": "28fc7f411072dddfcabab6d10da4eafb",
        "sha256": "e4367e2c73e41e7fd3e2823ac048e40c1cc8f8bdb1e6591b799dcf8292e1fbac"
      },
      "downloads": -1,
      "filename": "yabte-0.3.4.tar.gz",
      "has_sig": false,
      "md5_digest": "28fc7f411072dddfcabab6d10da4eafb",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": ">=3.10,<3.12",
      "size": 281798,
      "upload_time": "2023-03-26T22:13:10",
      "upload_time_iso_8601": "2023-03-26T22:13:10.784917Z",
      "url": "https://files.pythonhosted.org/packages/56/44/9388aecb72f68ace2f7798d30e236b71ef00734248975518059574c68a8d/yabte-0.3.4.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}