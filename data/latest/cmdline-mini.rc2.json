{
  "info": {
    "author": "David Nugent",
    "author_email": "david.nugent@news.com.au",
    "bugtrack_url": null,
    "classifiers": [
      "License :: OSI Approved :: MIT License",
      "Programming Language :: Python :: 3",
      "Programming Language :: Python :: 3.10",
      "Programming Language :: Python :: 3.9"
    ],
    "description": "# cmdline\n- a tiny unsophisticated partial  command line parser\n\n## Objective\nThis package was written to allow parsing of parts of a command line, just pre-commandline arguments to a command.\n\nIt is originally written as a front-end command pre-processor for arguments passed to Django's `manage.py`, not \nswallowing the entire command line but allowing some options to be parsed and actioned before the main show, \nwithout interfering with the specific command being executed.\n\nThis allows, for example, setting internal or environment variables, modifying or setting the \nDJANGO_SETTINGS_MODULE variable or any other use that can be imagined.\n\nParsing rules are a simplified version of what are accepted as POSIX rules for command line processing.\n- Both short '-x' and long '--xoption' are supported\n- Short options can be concatenated, but to avoid ambiguity any option that requires an argument are consumed\n  consecutively from subsequent arguments and cannot be appended to the short opt itself\n- The form --longopt=argument is supported\n- Optional arguments are not supported \n- Evaluation order is significant and is exactly as specified on the command line.\n- You can't mix arguments with command arguments, the parser quits when a command is encountered and\n  preserves all arguments following that command\n\nThe Option class used in option specifications are NamedTuples which is very compact. \n\nExample (based on Django manage.py generated by cookiecutter-django):\n ```python3\n#!/usr/bin/env python3\n\"\"\"\nUsage: manage.py [-e <env>] [-d] [-o] [-h] <other manage.py args>\n  -e --env <environment>   set runtime environment local, production\n  -d --docker              set internal configuration for docker\n  -o --dotenv              enhanced configuration via .env\n  -h --help                display this help\n\"\"\"\nimport os\nimport sys\nfrom cmdline import Option, system_args\n\n\nif __name__ == \"__main__\":\n    opts = [\n        Option('e', 'env', has_arg=True),   # -e or --env switch\n        Option('d', 'docker'),              # -d or --docker\n        Option('o', 'dotenv'),              # -o or --dotenv\n        Option('h', 'help'),                # -h or --help\n    ]\n    environ = 'local'   # default\n    docker = False\n    read_dotenv = '0'\n    settings = dict(prog=sys.argv[0])\n\n    def process_args(option: Option, key, arg):\n        if not option:  # use 2nd arg to do something based on command invoked\n            settings['prog'] = key\n        elif option.short == 'e':\n            settings['environ'] = arg\n        elif option.short == 'd':\n            settings['docker'] = True\n        elif option.short == 'o':\n            settings['read_dotenv'] = '1'\n        elif option.short == 'h':\n            print(__doc__)\n            exit(0)\n\n    def export(var, val):\n        os.environ[var] = val\n\n    system_args(opts, process_args)\n    vars().update(settings)   \n\n    default_settings = f'config.settings.{environ}'\n    export('USE_DOCKER', 'yes' if docker else 'no')\n    export('DOCKER_READ_DOT_ENV_FILE', read_dotenv)\n            \n    os.environ.setdefault(\"DJANGO_SETTINGS_MODULE\", default_settings)\n\n    try:\n        from django.core.management import execute_from_command_line\n    except ImportError:\n        # The above import may fail for some other reason. Ensure that the\n        # issue is really that Django is missing to avoid masking other\n        # exceptions on Python 2.\n        try:\n            import django  # noqa\n        except ImportError:\n            raise ImportError(\n                \"Couldn't import Django. Are you sure it's installed and \"\n                \"available on your PYTHONPATH environment variable? Did you \"\n                \"forget to activate a virtual environment?\"\n            )\n\n        raise\n\n    execute_from_command_line(sys.argv)\n```\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "",
    "keywords": "",
    "license": "MIT",
    "maintainer": "",
    "maintainer_email": "",
    "name": "cmdline-mini",
    "package_url": "https://pypi.org/project/cmdline-mini/",
    "platform": "",
    "project_url": "https://pypi.org/project/cmdline-mini/",
    "project_urls": null,
    "release_url": "https://pypi.org/project/cmdline-mini/1.0.2/",
    "requires_dist": null,
    "requires_python": ">=3.9,<4.0",
    "summary": "Partial command line handler",
    "version": "1.0.2",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 12428639,
  "releases": {
    "1.0.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "3910abad28004f3675b3f588ef28a214c5802630f57ab87d9fb0d432208cbbb0",
          "md5": "5b5b7a79290b593a7d86cab7b8f84eae",
          "sha256": "5b7a53e6a65eec7e5a15897996e65a760469f3b2e80398a87da944e9bd681e26"
        },
        "downloads": -1,
        "filename": "cmdline_mini-1.0.1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "5b5b7a79290b593a7d86cab7b8f84eae",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.9,<4.0",
        "size": 3775,
        "upload_time": "2021-12-29T04:29:34",
        "upload_time_iso_8601": "2021-12-29T04:29:34.677084Z",
        "url": "https://files.pythonhosted.org/packages/39/10/abad28004f3675b3f588ef28a214c5802630f57ab87d9fb0d432208cbbb0/cmdline_mini-1.0.1-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "c9a9a068b704a779f9b34e0cabe21340ce2d76cc4866b8d9f2a915d5849a8b43",
          "md5": "7fe3c5b1138686f91c0001f42dbea33f",
          "sha256": "89858c52d5d57207d90ad3b5c92763852c5d0063554eca36803635ff5abaa7a0"
        },
        "downloads": -1,
        "filename": "cmdline-mini-1.0.1.tar.gz",
        "has_sig": false,
        "md5_digest": "7fe3c5b1138686f91c0001f42dbea33f",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.9,<4.0",
        "size": 3260,
        "upload_time": "2021-12-29T04:29:33",
        "upload_time_iso_8601": "2021-12-29T04:29:33.419591Z",
        "url": "https://files.pythonhosted.org/packages/c9/a9/a068b704a779f9b34e0cabe21340ce2d76cc4866b8d9f2a915d5849a8b43/cmdline-mini-1.0.1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.0.2": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "eb97638b51330137874d0d9c44f60fb7d7721e2c3f40f3df4fe8de6d8d1ee751",
          "md5": "150657b8801d03fa2adf40bd74ea8e4e",
          "sha256": "e9b4a38e1aef004439c51dbf1cbe0470483b8533deb2b1a102ff3b8c076acb95"
        },
        "downloads": -1,
        "filename": "cmdline_mini-1.0.2-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "150657b8801d03fa2adf40bd74ea8e4e",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.9,<4.0",
        "size": 5430,
        "upload_time": "2021-12-29T04:30:53",
        "upload_time_iso_8601": "2021-12-29T04:30:53.761376Z",
        "url": "https://files.pythonhosted.org/packages/eb/97/638b51330137874d0d9c44f60fb7d7721e2c3f40f3df4fe8de6d8d1ee751/cmdline_mini-1.0.2-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "2b551f60486448bbb04361b550aaad141bd74cb8d91f4d7b64766d3ac7ac4d81",
          "md5": "144748f7055af15f716f3c6d142a6261",
          "sha256": "f0d98e330a1b0305145bff4cc86f02f03776d74f9d426f1f988d527162ef8819"
        },
        "downloads": -1,
        "filename": "cmdline-mini-1.0.2.tar.gz",
        "has_sig": false,
        "md5_digest": "144748f7055af15f716f3c6d142a6261",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.9,<4.0",
        "size": 5511,
        "upload_time": "2021-12-29T04:30:52",
        "upload_time_iso_8601": "2021-12-29T04:30:52.500401Z",
        "url": "https://files.pythonhosted.org/packages/2b/55/1f60486448bbb04361b550aaad141bd74cb8d91f4d7b64766d3ac7ac4d81/cmdline-mini-1.0.2.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "eb97638b51330137874d0d9c44f60fb7d7721e2c3f40f3df4fe8de6d8d1ee751",
        "md5": "150657b8801d03fa2adf40bd74ea8e4e",
        "sha256": "e9b4a38e1aef004439c51dbf1cbe0470483b8533deb2b1a102ff3b8c076acb95"
      },
      "downloads": -1,
      "filename": "cmdline_mini-1.0.2-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "150657b8801d03fa2adf40bd74ea8e4e",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": ">=3.9,<4.0",
      "size": 5430,
      "upload_time": "2021-12-29T04:30:53",
      "upload_time_iso_8601": "2021-12-29T04:30:53.761376Z",
      "url": "https://files.pythonhosted.org/packages/eb/97/638b51330137874d0d9c44f60fb7d7721e2c3f40f3df4fe8de6d8d1ee751/cmdline_mini-1.0.2-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "2b551f60486448bbb04361b550aaad141bd74cb8d91f4d7b64766d3ac7ac4d81",
        "md5": "144748f7055af15f716f3c6d142a6261",
        "sha256": "f0d98e330a1b0305145bff4cc86f02f03776d74f9d426f1f988d527162ef8819"
      },
      "downloads": -1,
      "filename": "cmdline-mini-1.0.2.tar.gz",
      "has_sig": false,
      "md5_digest": "144748f7055af15f716f3c6d142a6261",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": ">=3.9,<4.0",
      "size": 5511,
      "upload_time": "2021-12-29T04:30:52",
      "upload_time_iso_8601": "2021-12-29T04:30:52.500401Z",
      "url": "https://files.pythonhosted.org/packages/2b/55/1f60486448bbb04361b550aaad141bd74cb8d91f4d7b64766d3ac7ac4d81/cmdline-mini-1.0.2.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}