{
  "info": {
    "author": "yujieshui",
    "author_email": "a1178615156@gmail.com",
    "bugtrack_url": null,
    "classifiers": [
      "License :: OSI Approved :: MIT License",
      "Operating System :: OS Independent",
      "Programming Language :: Python :: 3"
    ],
    "description": "# pyamis\n\n目的: 在`python`中生成`amis`的`json`配置  \n解决问题:\n\n1. 手写json配置太累了,配置复制粘贴重用性不好,减少手写json拼写出错概率\n2. 可以在python中通过代码快速生成json配置\n3. 要能和python的dict混用\n\n### install\n```\ngit clone https://github.com/1178615156/pyamis\npip install --editable .\n```\n### 示例\n\n#### 生成Form组件\n\n```python\n# 首先import下\nfrom pyamis.components import *\n\nform = Form(\n    target='target',\n    mode=\"horizontal\",\n    # 可以看到属性能够直接插入dict\n    controls=[\n        {\n            \"type\": \"submit\",\n            \"label\": \"登录\"\n        }\n    ]\n)\n```\n\n这样就生成了个Form配置了,然后转成json看看\n\n```python\nimport json\n\njson.dumps(form)\n```\n\n转成json\n\n```json\n{\n  \"type\": \"form\",\n  \"mode\": \"horizontal\",\n  \"controls\": [\n    {\n      \"type\": \"submit\",\n      \"label\": \"\\u767b\\u5f55\"\n    }\n  ],\n  \"target\": \"target\"\n}\n```\n\n#### 和dict进一步结合示例\n\n```python\nform_default_options = dict(\n    title='条件',\n    mode='horizontal',\n    horizontal={\n        \"leftFixed\": \"sm\"\n    },\n    submitOnInit=False,\n    autoFocus=False,\n)\nform = Form(**form_default_options, #可以直接插入dict\n            target='target')\n\n# 直接设置属性也可以\nform['controls'] = [\n    {\n        \"type\": \"submit\",\n        \"label\": \"提交\"\n    }\n]\n```\n\n---\n\n\n目前有的组件有:\n\n- [Page](pyamis/components/page.py)\n- [Chart](pyamis/components/chart.py)\n- [Crud](pyamis/components/crud.py)\n- [Action](pyamis/components/action.py)\n- 如果想用的组件不在上面的话可以直接写dict\n\n### 快速启动示例\n\n```python\nfrom flask import Flask, send_file\nfrom pyamis.components import *\nimport json\n\napp = Flask(\"pyamis-test\")\n\n\n# app-pages配置\ndef site():\n    return [\n        # 第一个page\n        AppPage(\n            label='page-1',\n            url='1',\n            # 第一个page有2个子页\n            children=[\n                # 子页1\n                AppPage(\n                    label=\"page-1-1\",\n                    url='page-1-1',\n                    schema_body=[\n                        Form(controls=[\n                            {\n                                'type': 'text',\n                                'name': \"email\",\n                                'label': \"email\",\n                                \"required\": True\n                            },\n                        ]),\n                        \"hello world 1 - 1\"\n                    ]\n                ),\n                # 子页2\n                AppPage(\n                    label=\"page-1-2\",\n                    url='page-1-2',\n                    # schema_body=[...] 等价于\n                    schema=Page(body=[\n                        'hello page 1 - 2 '\n                    ]),\n                ),\n            ]\n        ),\n        # 第二个page\n        AppPage(\n            label='page-2',\n            url='2',\n            #如果想用的组件没有的话,可以直接写json\n            schema_body=[\n                {\n                    \"type\": \"service\",\n                    \"api\": \"https://3xsw4ap8wah59.cfc-execute.bj.baidubce.com/api/amis-mock/mock2/page/initData\",\n                    \"body\": {\n                        \"type\": \"panel\",\n                        \"title\": \"$title\",\n                        \"body\": \"现在是：${date}\"\n                    }\n                }\n            ],\n        )\n    ]\n\n# print下生成的json配置\nprint(json.dumps(site(),indent=2))\n\n@app.route('/')\ndef root():\n    return send_file('test_index.html')\n\n\n# 分页的json\n@app.route(\"/pages/site.json\")\ndef site_json():\n    return {\n        'data': {\n            'pages': [\n                dict(label='Home', url='/'),\n                dict(children=site())\n            ]\n        }\n    }\n\n\nif __name__ == '__main__':\n    app.run(port=8080, debug=True)\n\n```\n\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/1178615156/pyamis",
    "keywords": "",
    "license": "",
    "maintainer": "",
    "maintainer_email": "",
    "name": "py-amis",
    "package_url": "https://pypi.org/project/py-amis/",
    "platform": "",
    "project_url": "https://pypi.org/project/py-amis/",
    "project_urls": {
      "Homepage": "https://github.com/1178615156/pyamis"
    },
    "release_url": "https://pypi.org/project/py-amis/0.0.1/",
    "requires_dist": null,
    "requires_python": "",
    "summary": "python gen amis json options",
    "version": "0.0.1",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 10228380,
  "releases": {
    "0.0.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "51c88a912938b4e64cc01bf32eb148f935c099232babd1d79bf1977536913b33",
          "md5": "6380df51e560f1dbf5ccaf61d3bd9c31",
          "sha256": "39078fa3e2e0703b77b2bdbf287d29b40429a1ab71e937d23c7c9f9cfa8fcbbc"
        },
        "downloads": -1,
        "filename": "py_amis-0.0.1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "6380df51e560f1dbf5ccaf61d3bd9c31",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 31132,
        "upload_time": "2021-05-01T15:06:41",
        "upload_time_iso_8601": "2021-05-01T15:06:41.384620Z",
        "url": "https://files.pythonhosted.org/packages/51/c8/8a912938b4e64cc01bf32eb148f935c099232babd1d79bf1977536913b33/py_amis-0.0.1-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "b1aea2e702e4ef120ac0205f64af4fdc3c21ba25fbc3982237098c9ae8b493dc",
          "md5": "1f01a0d0a9503b1983e276dd9af63012",
          "sha256": "4267d0f54e396cd2a37421d1227078c76c52530aac32a023735996365a04805f"
        },
        "downloads": -1,
        "filename": "py-amis-0.0.1.tar.gz",
        "has_sig": false,
        "md5_digest": "1f01a0d0a9503b1983e276dd9af63012",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 13300,
        "upload_time": "2021-05-01T15:06:42",
        "upload_time_iso_8601": "2021-05-01T15:06:42.969270Z",
        "url": "https://files.pythonhosted.org/packages/b1/ae/a2e702e4ef120ac0205f64af4fdc3c21ba25fbc3982237098c9ae8b493dc/py-amis-0.0.1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "51c88a912938b4e64cc01bf32eb148f935c099232babd1d79bf1977536913b33",
        "md5": "6380df51e560f1dbf5ccaf61d3bd9c31",
        "sha256": "39078fa3e2e0703b77b2bdbf287d29b40429a1ab71e937d23c7c9f9cfa8fcbbc"
      },
      "downloads": -1,
      "filename": "py_amis-0.0.1-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "6380df51e560f1dbf5ccaf61d3bd9c31",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": null,
      "size": 31132,
      "upload_time": "2021-05-01T15:06:41",
      "upload_time_iso_8601": "2021-05-01T15:06:41.384620Z",
      "url": "https://files.pythonhosted.org/packages/51/c8/8a912938b4e64cc01bf32eb148f935c099232babd1d79bf1977536913b33/py_amis-0.0.1-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "b1aea2e702e4ef120ac0205f64af4fdc3c21ba25fbc3982237098c9ae8b493dc",
        "md5": "1f01a0d0a9503b1983e276dd9af63012",
        "sha256": "4267d0f54e396cd2a37421d1227078c76c52530aac32a023735996365a04805f"
      },
      "downloads": -1,
      "filename": "py-amis-0.0.1.tar.gz",
      "has_sig": false,
      "md5_digest": "1f01a0d0a9503b1983e276dd9af63012",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": null,
      "size": 13300,
      "upload_time": "2021-05-01T15:06:42",
      "upload_time_iso_8601": "2021-05-01T15:06:42.969270Z",
      "url": "https://files.pythonhosted.org/packages/b1/ae/a2e702e4ef120ac0205f64af4fdc3c21ba25fbc3982237098c9ae8b493dc/py-amis-0.0.1.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}