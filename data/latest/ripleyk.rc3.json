{
  "info": {
    "author": "Sam Ingram",
    "author_email": "sp_ingram12@yahoo.co.uk",
    "bugtrack_url": null,
    "classifiers": [
      "License :: OSI Approved :: MIT License",
      "Operating System :: OS Independent",
      "Programming Language :: Python :: 3"
    ],
    "description": "# RipleyK\nCalculation of the Ripley K ([spatial statistics](https://en.wikipedia.org/wiki/Spatial_descriptive_statistics)) value in python. This project is still being developed and currently only supports 'circle' based bounding regions for automated boundary correction. Can support 'rectangle' based bounding regions if you do not require boundary corrections. This package allows quick calculation (using [kd-trees](https://en.wikipedia.org/wiki/K-d_tree)) the RipleyK values for 1D-3D systems. \n\n## Installation\nYou can install the RipleyK package using the following pip command:\n```\npip install ripleyk\n```\n\nTo get started from source quickly follow these steps:\n\n1. Clone or download this repository and launch python within the folder.\n\n2. Make a python environment to run in. Always recommend the use of virtual environments for safety. Must be Python3 and currently only tested with Python 3.8.\n\n3. Install requirement.txt file into your new python environment\n```\npip install -r requirements.txt\n```\n\n## Theory\nThe mathematical equations for the calculated Ripley K value and normalised L value at each dimension is as follows:\n\n### 1D Equations:\n\n<img src=\"https://render.githubusercontent.com/render/math?math=K(r) = D \\frac{\\sum_{i=1}^{n} \\sum_{i\\ne j} I[D(i,j)\\leq r]}{\\omega n^{2}}\">\n\n<br/>\n<img src=\"https://render.githubusercontent.com/render/math?math=L(r) = D \\frac{\\sum_{i=1}^{n} \\sum_{i\\ne j} I[D(i,j)\\leq r]}{\\omega n^{2}} - 2r\">\n\n### 2D Equations: \n\n<img src=\"https://render.githubusercontent.com/render/math?math=K(r) = A \\frac{\\sum_{i=1}^{n} \\sum_{i\\ne j} I[D(i,j)\\leq r]}{\\omega n^{2}}\">\n\n<br/>\n<img src=\"https://render.githubusercontent.com/render/math?math=L(r) = A \\frac{\\sum_{i=1}^{n} \\sum_{i\\ne j} I[D(i,j)\\leq r]}{\\omega n^{2}} - \\pi r^{2}\">\n\n### 3D Equations: \n\n<img src=\"https://render.githubusercontent.com/render/math?math=K(r) = V \\frac{\\sum_{i=1}^{n} \\sum_{i\\ne j} I[D(i,j)\\leq r]}{\\omega n^{2}}\">\n<br/>\n\n<img src=\"https://render.githubusercontent.com/render/math?math=L(r) = V \\frac{\\sum_{i=1}^{n} \\sum_{i\\ne j} I[D(i,j)\\leq r]}{\\omega n^{2}} - \\frac{4}{3} \\pi r^{3}\">\n\nNote the term \"region\" is being used interchangeably for distance, area and volume for the 1D, 2D and 3D descriptions respectively. r is the line (1D) or radius (2D/3D) of the search region. ω is the ratio of overlap of the search region with the whole sample region, this is 1 if the search region is entirely within the sample region and <1 if some of the search region is outside of the sample region. If all of the search region is outside of the sample region this is 0 and the Ripley value will not be calculated. I is the indicator function which will be either 1 if the condition D(i,j)≤r is true or will be 0, where D(i,j) is the euclidean distance between points i and j. The size of the sample region is defined as a distance (D), area (A) or volume (V) within the 1D, 2D and 3D equations respectively.\n\n## Code Example\n\nFor these examples lets create a random subset of points in a sphere of radius 1:\n```python\nimport random\nxs = []\nys = []\nzs = []\nradius = 1\nrandom.seed(0)\nfor i in range(0,10000):\n    positioned = False\n    while positioned is False:\n        x = random.uniform(-radius, radius)\n        y = random.uniform(-radius, radius)\n        z = random.uniform(-radius, radius)\n        if (x**2)+(y**2)+(z**2) < radius**2:\n            xs.append(x)\n            ys.append(y)\n            zs.append(z)\n            positioned = True\nxs = np.array(xs)\nys = np.array(ys)\nzs = np.array(zs)\n```\n\nNow we can use our list of points within the RipleyK calculation method. Note that all point list are numpy arrays.\n\n### Single radius calculation (2D)\nLet us start simply. We shall calculate the Ripley K value for the circle (r=1) bounding space. As it is a circle we only require two dimensions (d1 and d2). The ```calculate_ripley``` method should be given the radius and bounding space as it's first two inputs. The points should be given as a numpy list for each dimension, where the spatial location of point[0] would be xs[0], ys[0].\n\n```python\nimport ripleyk\n\nradius = 0.5\nbounding_radius = 1\nk = ripleyk.calculate_ripley(radius, bounding_radius, d1=xs, d2=ys)\nprint(k)\n```\n\nYou should get a value of ```0.7573``` as k.\n\nBy default this will not include any boundary correction. To add this simply add ```boundary_correct=True``` to the above function. This should always increase the value. Now we get a value of ```0.8646``` as k.\n\nFinally, there is a normalisation which can be applied to evaluate the clustering of the k-value in comparison to a completely spatially random (CSR). If the distribution is close to CSR the value should tend to 0. Below is the same calculation, but now includes boundary correction and normalisation:\n\n```python\nimport ripleyk\n\nradius = 0.5\nbounding_radius = 1\nk = ripleyk.calculate_ripley(radius, bounding_radius, d1=xs, d2=ys, boundary_correct=True, CSR_Normalise=True)\nprint(k)\n```\n\nAs we generated the points randomly, we see that this normalisation does make the value much closer to 0, here we got ```0.0792```. For non randomly distributed points a postive value indicates clustering and a negative value indicates dispersion.\n\n### Multiple radii calculation (3D)\n\nIt is also possible to use this function to evaluate multiple radii for their Ripley K values. This is the predominant way to evaluate the distribution, by looking over a range of radii and plotting the k value or normalised k value against radius. Below is an example of doing this for the 3D dataset we generated:\n\n```python\nimport ripleyk\n\nradii = [0.1,0.2,0.3,0.4,0.5,0.6,0.7,0.8,0.9,1.0]\nk = ripleyk.calculate_ripley(radii, 1, d1=xs, d2=ys, d3=zs,boundary_correct=True, CSR_Normalise=True)\nprint(k)\n```\n\nYou should get the following results: \n```\n[0.0037195948778340066, 0.014366257675743288, 0.030708853373073164, 0.052335948982649816, 0.07924991777047796, 0.11106598410605262, 0.14776949809916906, 0.18756665481659018, 0.22661330217618136, 0.2603647483110927]\n```\n\nThis can be simply plotted against the radii inputted as seen below (would require installation of [matplotlib](https://pypi.org/project/matplotlib/)):\n\n```python\nimport ripleyk\nimport matplotlib.pyplot as plt\n\nradii = [0.1,0.2,0.3,0.4,0.5,0.6,0.7,0.8,0.9,1.0]\nk = ripleyk.calculate_ripley(radii, 1, d1=xs, d2=ys, d3=zs,boundary_correct=True, CSR_Normalise=True)\n\nplt.plot(radii, k, 'bo')\nplt.show()\n```\n\n\n## Dependencies\n- [Numpy](https://numpy.org/)\n- [Scipy](https://www.scipy.org/)\n\n\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/SamPIngram/RipleyK",
    "keywords": "",
    "license": "",
    "maintainer": "",
    "maintainer_email": "",
    "name": "ripleyk",
    "package_url": "https://pypi.org/project/ripleyk/",
    "platform": "",
    "project_url": "https://pypi.org/project/ripleyk/",
    "project_urls": {
      "Homepage": "https://github.com/SamPIngram/RipleyK"
    },
    "release_url": "https://pypi.org/project/ripleyk/0.0.3/",
    "requires_dist": [
      "numpy (>=1.19.2)",
      "scipy (>=1.5.2)"
    ],
    "requires_python": ">=3.5",
    "summary": "Calculation of the Ripley K (spatial statistics) value in python",
    "version": "0.0.3",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 8195064,
  "releases": {
    "0.0.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "945ba02aba29afe9fdd89f9aa6f6aa8bde30f038ba1f8d285c83b906a66843a3",
          "md5": "79bfafb89d9f9f5eab4449cbdd81b382",
          "sha256": "598690eb1994fcb35b7b53978fc445e99abe60b621ff1b85aa98dcba9e7014d9"
        },
        "downloads": -1,
        "filename": "ripleyk-0.0.1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "79bfafb89d9f9f5eab4449cbdd81b382",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.5",
        "size": 5256,
        "upload_time": "2020-09-13T19:42:02",
        "upload_time_iso_8601": "2020-09-13T19:42:02.378917Z",
        "url": "https://files.pythonhosted.org/packages/94/5b/a02aba29afe9fdd89f9aa6f6aa8bde30f038ba1f8d285c83b906a66843a3/ripleyk-0.0.1-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "823980dca8d76ee0e3295bef327715f61f76f3e54747b0ea357fc62bd2d2fa34",
          "md5": "6ce92e790344b997fe71b0b3c6d7365a",
          "sha256": "ba74fc5dda9eb53509c5e6e0cd134f8da8d36151c8ce3c937dce0c6b579cb5b8"
        },
        "downloads": -1,
        "filename": "ripleyk-0.0.1.tar.gz",
        "has_sig": false,
        "md5_digest": "6ce92e790344b997fe71b0b3c6d7365a",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.5",
        "size": 4496,
        "upload_time": "2020-09-13T19:42:04",
        "upload_time_iso_8601": "2020-09-13T19:42:04.481361Z",
        "url": "https://files.pythonhosted.org/packages/82/39/80dca8d76ee0e3295bef327715f61f76f3e54747b0ea357fc62bd2d2fa34/ripleyk-0.0.1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.0.2": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "7aff2bef54e3f1a0296b4ec8992cebdeac93eed19da1020f382ded4b827797de",
          "md5": "2c10b5b767cd7a6e154267ba8e863ed1",
          "sha256": "2d8478a184c3fd1711dc8561e37679d415217bc984b77405b7722b2dec72c5ec"
        },
        "downloads": -1,
        "filename": "ripleyk-0.0.2-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "2c10b5b767cd7a6e154267ba8e863ed1",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.5",
        "size": 5389,
        "upload_time": "2020-09-13T20:00:41",
        "upload_time_iso_8601": "2020-09-13T20:00:41.187635Z",
        "url": "https://files.pythonhosted.org/packages/7a/ff/2bef54e3f1a0296b4ec8992cebdeac93eed19da1020f382ded4b827797de/ripleyk-0.0.2-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "6a50bf17c9342e47d56ba3ba5480e949b9f95655d63f6d9f18269aad84cd45c9",
          "md5": "7ea08c440683ff530116ef3645162151",
          "sha256": "f339d729974affbfb78df1e1f636ba0c134676d7d394ad59e27b2b9c130b4c59"
        },
        "downloads": -1,
        "filename": "ripleyk-0.0.2.tar.gz",
        "has_sig": false,
        "md5_digest": "7ea08c440683ff530116ef3645162151",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.5",
        "size": 4671,
        "upload_time": "2020-09-13T20:00:43",
        "upload_time_iso_8601": "2020-09-13T20:00:43.236880Z",
        "url": "https://files.pythonhosted.org/packages/6a/50/bf17c9342e47d56ba3ba5480e949b9f95655d63f6d9f18269aad84cd45c9/ripleyk-0.0.2.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.0.3": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "9cd6d15989e965e9dd3a50ba12aa3109ae3d891161ec81fea965b55986190d53",
          "md5": "6ccf496d4ca96d61ba1c012b47a43593",
          "sha256": "227d57cdad5dc7e2be990b71450841d941d2ca4a5128a6415bfb4dc976a22bb4"
        },
        "downloads": -1,
        "filename": "ripleyk-0.0.3-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "6ccf496d4ca96d61ba1c012b47a43593",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.5",
        "size": 5963,
        "upload_time": "2020-09-15T22:01:26",
        "upload_time_iso_8601": "2020-09-15T22:01:26.513484Z",
        "url": "https://files.pythonhosted.org/packages/9c/d6/d15989e965e9dd3a50ba12aa3109ae3d891161ec81fea965b55986190d53/ripleyk-0.0.3-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "9384867a8b7eec3ad13ad8b26a81abc6cc074916e87df8031b6f9584d2a1564a",
          "md5": "15c8ba767636d52b91ed3ec6e5db89c2",
          "sha256": "82a3858242a03f617fcf8edc2e37ca4f7516f8dc077012e5fab604a72587abcb"
        },
        "downloads": -1,
        "filename": "ripleyk-0.0.3.tar.gz",
        "has_sig": false,
        "md5_digest": "15c8ba767636d52b91ed3ec6e5db89c2",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.5",
        "size": 5346,
        "upload_time": "2020-09-15T22:01:27",
        "upload_time_iso_8601": "2020-09-15T22:01:27.914293Z",
        "url": "https://files.pythonhosted.org/packages/93/84/867a8b7eec3ad13ad8b26a81abc6cc074916e87df8031b6f9584d2a1564a/ripleyk-0.0.3.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "9cd6d15989e965e9dd3a50ba12aa3109ae3d891161ec81fea965b55986190d53",
        "md5": "6ccf496d4ca96d61ba1c012b47a43593",
        "sha256": "227d57cdad5dc7e2be990b71450841d941d2ca4a5128a6415bfb4dc976a22bb4"
      },
      "downloads": -1,
      "filename": "ripleyk-0.0.3-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "6ccf496d4ca96d61ba1c012b47a43593",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": ">=3.5",
      "size": 5963,
      "upload_time": "2020-09-15T22:01:26",
      "upload_time_iso_8601": "2020-09-15T22:01:26.513484Z",
      "url": "https://files.pythonhosted.org/packages/9c/d6/d15989e965e9dd3a50ba12aa3109ae3d891161ec81fea965b55986190d53/ripleyk-0.0.3-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "9384867a8b7eec3ad13ad8b26a81abc6cc074916e87df8031b6f9584d2a1564a",
        "md5": "15c8ba767636d52b91ed3ec6e5db89c2",
        "sha256": "82a3858242a03f617fcf8edc2e37ca4f7516f8dc077012e5fab604a72587abcb"
      },
      "downloads": -1,
      "filename": "ripleyk-0.0.3.tar.gz",
      "has_sig": false,
      "md5_digest": "15c8ba767636d52b91ed3ec6e5db89c2",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": ">=3.5",
      "size": 5346,
      "upload_time": "2020-09-15T22:01:27",
      "upload_time_iso_8601": "2020-09-15T22:01:27.914293Z",
      "url": "https://files.pythonhosted.org/packages/93/84/867a8b7eec3ad13ad8b26a81abc6cc074916e87df8031b6f9584d2a1564a/ripleyk-0.0.3.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}