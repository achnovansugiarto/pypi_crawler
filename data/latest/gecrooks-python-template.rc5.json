{
  "info": {
    "author": "Gavin E. Crooks",
    "author_email": "gec@threeplusone.com",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 4 - Beta",
      "Intended Audience :: Developers",
      "Intended Audience :: Science/Research",
      "Natural Language :: English",
      "Operating System :: OS Independent",
      "Programming Language :: Python",
      "Programming Language :: Python :: 3",
      "Programming Language :: Python :: 3.7",
      "Programming Language :: Python :: 3.8",
      "Programming Language :: Python :: 3.9",
      "Topic :: Scientific/Engineering",
      "Topic :: Software Development",
      "Topic :: Software Development :: Libraries",
      "Topic :: Software Development :: Libraries :: Python Modules",
      "Typing :: Typed"
    ],
    "description": "# gecrooks-python-template: Minimal viable setup for an open source, github hosted, python package\n\n\n![Build Status](https://github.com/gecrooks/gecrooks-python-template/workflows/Build/badge.svg) [![Documentation Status](https://readthedocs.org/projects/gecrooks-python-template/badge/?version=latest)](https://gecrooks-python-template.readthedocs.io/en/latest/?badge=latest)\n\n[Source](https://github.com/gecrooks/gecrooks-python-template)\n\n\n## Installation for development\n\n```\n$ git clone https://github.com/gecrooks/gecrooks-python-template.git\n$ cd gecrooks-python-template\n$ pip install -e .[dev]\n```\n\n\n## About: On the creation and crafting of a python project\n\nThis is a discussion of the steps needed to setup an open source, github hosted, python package ready for further development.\n\n## Naming\n\nThe first decision to make is the name of the project. And for python packages the most important criteria is that the name isn't already taken on [pypi](https://pypi.org/), the repository from which we install python packages with `pip`. So we should do a quick Internet search: This name is available on pypi, there are no other repos of that name on github, and a google search doesn't pull up anything relevant. So we're good to go. \n\nNote that github repo and pypi packages are named using dashes (`-`), but that the corresponding python module are named with underscores (`_`). (The reason for this dichotomy appears to be that underscores don't work well in URLs, but dashes are frowned upon in filenames.)\n\n## License\n\nThe next decision is which of the plethora of [Open Source](https://opensource.org/licenses) licenses to use. We'll use the [Apache License](https://opensource.org/licenses/Apache-2.0), a perfectly reasonable, and increasingly popular choice. \n\n(If you want to use a different license, replace the `LICENSE` file, update the `License` field in `setup.cfg`, and change the blurb at the top of each file of python code.)\n\n## Create repo\n\nNext we need to initialize a git repo. It's easiest to create the repo on github and clone to our local machine (This way we don't have to mess around setting the origin and such like). Github will helpfully add a `README.md`, the license, and a python `.gitignore` for us. On Github, add a description, website url (typically pointing at readthedocs), project tags, and review the rest of github's settings. \n\n\nNote that MacOS likes to scatter `.DS_Store` folders around (they store the finder icon display options). We don't want to accidentally add these to our repo. But this is a machine/developer issue, not a project issue. So if you're on a mac you should configure git to ignore `.DS_Store` globally.\n\n```\n    # specify a global exclusion list\n    git config --global core.excludesfile ~/.gitignore\n    # adding .DS_Store to that list\n    echo .DS_Store >> ~/.gitignore\n```\n\n## Clone repo \n\nOn our local machine the first thing we do is create a new conda environment. (You have conda installed, right?) This way if we balls up the installation of some dependency (which happens distressingly often) we can nuke the environment and start again. \n```\n    $ conda create --name GPT\n    $ source activate GPT\n    (GPT) $ python --version\n    Python 3.8.3\n```\n\nNow we clone the repo locally.\n\n```\n    (GPT) $ git clone https://github.com/gecrooks/gecrooks-python-template.git\n    Cloning into 'gecrooks-python-template'...\n    remote: Enumerating objects: 4, done.\n    remote: Counting objects: 100% (4/4), done.\n    remote: Compressing objects: 100% (3/3), done.\n    remote: Total 4 (delta 0), reused 0 (delta 0), pack-reused 0\n    Unpacking objects: 100% (4/4), done.\n    (GPT) $ cd gecrooks-python-template\n```\n\nLets tag this initial commit for posterities sake (And so I can [link](https://github.com/gecrooks/gecrooks-python-template/releases/tag/v0.0.0) to the code at this instance).\n```\n  (GPT) $ git tag v0.0.0\n  (GPT) $ git push origin v0.0.0\n```\nFor reasons that are unclear to me the regular `git push` doesn't push tags. We have push the tags explicitly by name. Note we need to specify a full MAJOR.MINOR.PATCH version number, and not just e.g. '0.1', for technical reasons that have to do with how we're going to manage package versions.\n\n\n## Branch\nIt's always best to craft code in a branch, and then merge that code into the master branch.\n```\n$ git branch gec001-init\n$ git checkout gec001-init\nSwitched to branch 'gec001-init'\n```\nI tend to name branches with my initials (so I know it's my branch on multi-developer projects), a serial number (so I can keep track of the chronological order of branches), and a keyword (if I know ahead of time what the branch is for).\n\n\n## Packaging\n\nLet's complete the minimum viable python project. We need the actual python module, signaled by a (currently) blank `__init__.py` file. \n```\n    (GPT) $ mkdir gecrooks_python_template\n    (GPT) $ touch gecrooks_python_template/__init__.py\n```\n\nPython standards for packaging and distribution seems to be in flux (again...). So following what I think the current standard is we need 3 files, `setup.py`, `pyproject.toml`, and `setup.cfg`. \n\nThe modern `setup.py` is just a husk:\n\n```\n#!/usr/bin/env python\n\nimport setuptools\n\nif __name__ == \"__main__\":\n    setuptools.setup(use_scm_version=True)\n```\nOur only addition is `use_scm_version=True`, which activates versioning with git tags. More on that anon. Don't forget to set executable permissions on the setup.py script.\n```\n $ chmod a+x setup.py\n```\nThe [pyproject.toml](https://snarky.ca/what-the-heck-is-pyproject-toml/) file (written in [toml](https://github.com/toml-lang/toml) format) is a recent addition to the canon. It specifies the tools used to build the project.\n```\n# pyproject.toml\n[build-system]\nrequires = [\"setuptools>=42\", \"wheel\", \"setuptools_scm[toml]>=3.4\"]\nbuild-backend = \"setuptools.build_meta\"\n\n\n# pyproject.toml\n[tool.setuptools_scm]\n\n```\nAgain, the parts with `setuptools_scm` are additions. \n\n\nAll of the rest of the metadata goes in `setup.cfg` (in INI format).\n```\n# Setup Configuration File\n# https://docs.python.org/3/distutils/configfile.html\n# [INI](https://docs.python.org/3/install/index.html#inst-config-syntax) file format.\n\n[metadata]\n# https://packaging.python.org/specifications/core-metadata/\n# https://www.python.org/dev/peps/pep-0639/\n# SPDX license short-form identifier, https://spdx.org/licenses/\n\nMetadata-Version: 2.2\nName = gecrooks_python_template\nSummary = Minimal viable setup for an open source, github hosted, python package\nLong-Description = file:README.md\nLong-Description-Content-Type = text/markdown\nKeywords = python,template\nHome-page = https://github.com/gecrooks/gecrooks-python-template/\nAuthor = Gavin E. Crooks\nAuthor-email = gec@threeplusone.com\nLicense = Apache-2.0\nLicense-File = LICENSE\n\n# https://pypi.org/classifiers/\nClassifiers=\n    Development Status :: 4 - Beta\n    Intended Audience :: Developers\n    Intended Audience :: Science/Research\n    Programming Language :: Python\n    Natural Language :: English\n    Operating System :: OS Independent    \n    Programming Language :: Python :: 3\n    Programming Language :: Python :: 3.7\n    Programming Language :: Python :: 3.8\n    Programming Language :: Python :: 3.9\n    Topic :: Scientific/Engineering\n    Topic :: Software Development\n    Topic :: Software Development :: Libraries\n    Topic :: Software Development :: Libraries :: Python Modules\n    Typing :: Typed\n\n[options]\nzip_safe = True\npython_requires = >= 3.7\npackages = find:\n\ninstall_requires =\n    importlib_metadata   # required for python 3.7\n    numpy                # example\n\nsetup_requires =\n  setuptools_scm\n\n\n[options.extras_require]\ndev =\n    pytest >= 4.6\n    pytest-cov\n    flake8\n    mypy\n    black\n    isort\n    sphinx\n    sphinxcontrib-bibtex\n    setuptools_scm\n\n\n```\n\nIt's good practice to support at least two consecutive versions of python. Starting with 3.9, python is moving to an annual [release schedule](https://www.python.org/dev/peps/pep-0602/). The initial 3.x.0 release will be in early October and the first bug patch 3.x.1 in early December, second in February, and so on.  Since it takes many important packages some time to upgrade (e.g. numpy and tensorflow are often bottlenecks), one should probably plan to upgrade python support by February each year. Upgrading involves changing the python version numbers in the tests and `config.cfg`, and then cleaning up any `__future__` or conditional imports, or other hacks added to maintain compatibility with older python releases. \n\n\nWe can now install our package (as editable -e, so that the code in our repo is live).\n```\n   $ pip install -e .[dev] \n``` \nThe optional `[dev]` will install all of the extra packages we need for test and development, listed under `[options.extras_require]` above.\n\n\n\n## Versioning\nOur project needs a version number (e.g. '3.1.4'). We'll try and follow the [semantic versioning](https://semver.org/) conventions. But as long as the major version number is '0' we're allowed to break things.\n\nThere should be a \n[single source of truth](https://packaging.python.org/guides/single-sourcing-package-version/) for this number.\nMy favored approach is use git tags as the source of truth (Option 7 in the above linked list). We're going to tag releases anyways, so if we also hard code the version number into the python code we'd violate the single source of truth principle. We use the [setuptools_scm](https://github.com/pypa/setuptools_scm) package to automatically construct a version number from the latest git tag during installation.\n\nThe convention is that the version number of a python packages should be available as `packagename.__version__`. \nSo we add the following code to `gecrooks_python_template/config.py` to extract the version number metadata.\n```\ntry:\n    # python >= 3.8\n    from importlib import metadata as importlib_metadata  # type: ignore\nexcept ImportError:  # pragma: no cover\n    # python == 3.7\n    import importlib_metadata  # type: ignore  # noqa: F401\n\n\n__all__ = [\"__version__\", \"about\"]\n\n\npackage_name = \"gecrooks_python_template\"\n\ntry:\n    __version__ = importlib_metadata.version(package_name)  # type: ignore\nexcept Exception:  # pragma: no cover\n    # package is not installed\n    __version__ = \"?.?.?\"\n\n\n```\nand then in `gecrooks_python_template/__init__.py`, we import this version number.\n```\nfrom .config import __version__ as __version__                      # noqa: F401\n```\nWe put the code to extract the version number in `config.py` and not `__init__.py`, because we don't want to pollute our top level package namespace. \n\nThe various pragmas in the code above (\"pragma: no cover\" and \"type: ignore\") are there because the conditional import needed for python 3.7 compatibility confuses both our type checker and code coverage tools.\n\n## about\n\nOne of my tricks is to add a function to print the versions of the core upstream dependencies. This can be extremely helpful when debugging configuration or system dependent bugs, particularly when running continuous integration tests.\n\n```\n# Configuration (> python -m gecrooks_python_template.about)\nplatform                 macOS-10.13.6-x86_64-i386-64bit\ngecrooks-python-template 0.0.1\npython                   3.8.3\nnumpy                    1.18.5\npytest                   5.4.3\npytest-cov               2.10.0\nflake8                   3.8.3\nmypy                     0.780\nsphinx                   3.1.1\nsphinxcontrib-bibtex     1.0.0\nsetuptools_scm           4.1.2\n```\nThe `about()` function to print this information is placed in `config.py`. The file `about.py` contains the standard python command line interface (CLI), \n```\nif __name__ == '__main__':\n    import gecrooks_python_template\n    gecrooks_python_template.about()\n```\nIt's important that `about.py` isn't imported by any other code in the package, else we'll get multiple import warnings when we try to run the CLI. \n\n\n## Unit tests\n\nWay back when I worked as a commercial programmer, the two most important things that I learned were source control and unit tests. Both were largely unknown in the academic world at the time.\n\n(I was once talking to a chap who was developing a new experimental platform. The plan was to build several dozens of these gadgets, and sell them to other research groups so they didn't have to build their own. A couple of grad students wandered in. They were working with one of the prototypes, and they'd found some minor bug. Oh yes, says the chap, who goes over to his computer, pulls up the relevant file, edits the code, and gives the students a new version of that file. He didn't run any tests, because there were no tests. And there was no source control, so there was no record of the change he'd just made. That was it. The horror.)\n\nCurrently, the two main options for python unit tests appear to be `unittest` from the standard library and `pytest`. To me `unittest` feels very javonic. There's a lot of boiler plate code and I believe it's a direct descendant of an early java unit testing framework. Pytest, on the other hand, feels pythonic. In the basic case all we have to do is to write functions (whose names are prefixed with 'test_'), within which we test code with `asserts`. Easy.\n\nThere's two common ways to organize tests. Either we place tests in a separate directory, or they live in the main package along with the rest of the code. In the past I've used the former approach. It keeps the test organized and separate from the production code. But I'm going to try the second approach for this project. The advantage is that the unit tests for a piece of code live right next to the code being tested.\n\nLet's test that we can access the version number (There is no piece of code too trivial that it shouldn't have a unit test.) In `gecrooks_python_template/config_test.py` we add\n\n```\nimport gecrooks_python_template\n\ndef test_version():\n    assert gecrooks_python_template.__version__\n```\nand run our test. (The 'python -m' prefix isn't strictly necessary, but it helps ensure that pytest is running under the correct copy of python.)\n```\n\n(GTP) $ python -m pytest\n========================================================================================== test session starts ===========================================================================================\nplatform darwin -- Python 3.8.3, pytest-5.4.3, py-1.8.2, pluggy-0.13.1\nrootdir: /Users/work/Work/Projects/gecrooks_python_template\ncollected 1 item                                                                                                                                                                                         \n\ngecrooks_python_template/config_test.py .                                                                                                                                                                            [100%]\n\n=========================================================================================== 1 passed in 0.02s ============================================================================================\n```\n\nNote that in the main code we'll access the package with relative imports, e.g.\n```\nfrom . import __version__\n```\nBut in the test code we use absolute imports. \n```\nfrom gecrooks_python_template import __version__\n```\nIn tests we want to access our code in the same way we would access it from the outside as an end user.\n\n\n## Test coverage\n\nAt a bare minimum the unit tests should run (almost) every line of code. If a line of code never runs, then how do you know it works at all?\n\nSo we want to monitor the test coverage. The [pytest-cov](https://pypi.org/project/pytest-cov/) plugin to pytest will do this for us. Configuration is placed in the setup.cfg file (Config can also be placed in a separate `.coveragerc`, but I think its better to avoid a proliferation of configuration files.)\n```\n# pytest configuration\n[tool:pytest]\ntestpaths =\n    gecrooks_python_template\n\n\n# Configuration for test coverage\n#\n# https://coverage.readthedocs.io/en/latest/config.html\n#\n# python -m pytest --cov\n\n[coverage:paths]\nsource =\n    gecrooks_python_template\n\n[coverage:run]\nomit =\n    *_test.py\n\n[coverage:report]\n# Use ``# pragma: no cover`` to exclude specific lines\nexclude_lines =\n    pragma: no cover\n```\n\nWe have to explicitly omit the unit tests since we have placed the test files in the same directories as the code to test.\n\nThe pragam `pragma: no cover` is used to mark untestable lines. This often happens with conditional imports used for backwards compatibility between python versions. \n\n\n## Linting\n\nWe need to lint our code before pushing any commits. I like [flake8](https://flake8.pycqa.org/en/latest/). It's faster than pylint, and I think better error messages. I will hereby declare:\n\n    The depth of the indentation shall be 4 spaces. \n    And 4 spaces shall be the depth of the indentation. \n    Two spaces thou shall not use. \n    And tabs are right out. \n\nFour spaces is standard. [Tabs are evil](https://www.emacswiki.org/emacs/TabsAreEvil). I've worked on a project with 2-space indents, and I see the appeal, but I found it really weird. \n\nMost of flake8's defaults are perfectly reasonable and in line with [PEP8](https://www.python.org/dev/peps/pep-0008/) guidance. But even [Linus](https://lkml.org/lkml/2020/5/29/1038) agrees that the old standard of 80 columns of text is too restrictive. (Allegedly, 2-space indents was [Google's](https://www.youtube.com/watch?v=wf-BqAjZb8M&feature=youtu.be&t=260) solution to the problem that 80 character lines are too short. Just make the indents smaller!) Raymond Hettinger suggests 90ish (without a hard cutoff), and [black](https://black.readthedocs.io/en/stable/the_black_code_style.html) uses 88. So let's try 88.\n\n\nThe configuration also lives in `setup.cfg`.\n```\n# flake8 linter configuration\n[flake8]\nmax-line-length = 88\nignore = E203, W503\n```\nWe need to override the linter on occasion. We add pragma such as `# noqa: F401` to assert that no, really, in this case we do know what we're doing.\n\n\nTwo other python code format tools to consider using are [isort](https://pypi.org/project/isort/) and [black, The uncompromising code formatter](https://black.readthedocs.io/en/stable/). Isort sorts your import statements into a canonical order. And Black is the Model-T Ford of code formatting -- any format you want, so long as it's Black. I could quibble about some of Black's code style, but in the end it's just easier to blacken your code and accept black's choices, and thereby gain a consistent coding style across developers. \n\nThe command `make delint` will run these `isort` and `black` on your code, with the right magic incantations so that they are compatible.\n\n\n## Copyright\nIt's common practice to add a copyright and license notice to the top of every source file -- something like this:\n```\n\n# Copyright 2019-, Gavin E. Crooks and contributors\n#\n# This source code is licensed under the Apache License, Version 2.0 found in\n# the LICENSE.txt file in the root directory of this source tree.\n\n```\n\nI tend to forget to add these lines. So let's add a unit test `gecrooks_python_template/config_test.py::test_copyright` to make sure we don't.\n```\ndef test_copyright():\n    \"\"\"Check that source code files contain a copyright line\"\"\"\n    exclude = set(['gecrooks_python_template/version.py'])\n    for fname in glob.glob('gecrooks_python_template/**/*.py', recursive=True):\n        if fname in exclude:\n            continue\n        print(\"Checking \" + fname + \" for copyright header\")\n\n        with open(fname) as f:\n            for line in f.readlines():\n                if not line.strip():\n                    continue\n                assert line.startswith('# Copyright')\n                break\n```\n\n\n## API Documentation\n[Sphinx](https://www.sphinx-doc.org/en/master/usage/quickstart.html) is the standard \ntool used to generate API documentation from the python source. Use the handy quick start tools. \n```\n$ mkdir docs\n$ cd docs\n$ sphinx-quickstart\n```\nThe defaults are reasonable. Enter the project name and author when prompted. \n\nEdit the conf.py, and add the following collection of extensions.\n```\nextensions = [\n    'sphinx.ext.autodoc',\n    'sphinx.ext.napoleon',\n]\n```\n[Autodoc](https://www.sphinx-doc.org/en/master/usage/extensions/autodoc.html) automatically extracts documentation from docstrings, and [napolean](https://sphinxcontrib-napoleon.readthedocs.io/en/latest/example_google.html) enables [Google style](http://google.github.io/styleguide/pyguide.html) python docstrings.\n\nWe also add a newline at the end of `conf.py`, since the lack of a blank line at the end upsets our linter.\n\nGo ahead and give it a whirl. This won't do anything interesting yet, but it's a start.\n```\n$ make html\n```\n\nOne problem is that sphinx creates three (initially) empty directories, `_build`, `_static`, and `_templates`. But we can't add empty directories to git, since git only tracks files. The workaround is to add an empty `.gitignore` file to each of the `_static` and `_templates` directories. (Sphinx will create the `_build` directory when it needs it.)\n\n```\n$ touch _templates/.gitignore _build/.gitignore _static/.gitignore\n$ git add -f _templates/.gitignore _build/.gitignore _static/.gitignore\n$ git add Makefile *.*\n# cd ..\n```\n\n\n\n## Makefile\nI like to add a Makefile with targets for all of the common development tools I need to run. This is partially for convenience, and partially as documentation, i.e. here are all the commands you need to run to test, lint, typecheck, and build the code (and so on.) I use a [clever hack](https://marmelab.com/blog/2016/02/29/auto-documented-makefile.html) so that the makefile self documents.\n\n```\n(GTP) $ make\nall          Run all tests\ntest         Run unittests\ncoverage     Report test coverage\nlint         Lint check python source\ndelint       Run isort and black to delint project\ntypecheck    Static typechecking \ndocs         Build documentation\ndocs-open    Build documentation and open in webbrowser\ndocs-clean   Clean documentation build\npragmas      Report all pragmas in code\nabout        Report versions of dependent packages\nstatus       git status -uno\nbuild        Setuptools build\nclean        Clean up after setuptools\n```\n\nThe pragmas target searches the code and lists all of the pragmas that occur. Common uses of [pragmas](https://en.wikipedia.org/wiki/Directive_(programming)) are to override the linter, tester, or typechecker. I also tend to scatter other keywords throughout my code: TODO (For things that need doing), FIXME (For code that's broken, but I can't fix right this moment), DOCME (code that needs more documentation), and TESTME (for code that needs more tests). In principle, production code shouldn't have these pragmas. Either the problem should be fixed, or if it can't be immediately fixed, it should become a github issue. \n\n\n## Readthedocs\nWe'll host our API documentation on [Read the Docs](readthedocs.org). We'll need a basic configuration file, `.readthedocs.yml`.\n```\nversion: 2\nformats: []\nsphinx:\n  configuration: docs/conf.py\npython:\n  version: 3.8\n```\nI've already got a readthedocs account, so setting up a new project takes but a few minutes. \n\n\n## README.md\n\nWe add some basic information and installation instructions to `README.mb`. Github displays this file on your project home page (but under the file list, so if you have a lot of files at the top level of your project, people might not notice your README.)\n\nA handy trick is to add Build Status and Documentation Status badges for Github actions tests and readthedocs. These will proudly declare that your tests are passing (hopefully). (See top of this file)\n\n\n## Continuous Integration\n\nAnother brilliant advance to software engineering practice is continuous integration (CI). The basic idea is that all code gets thoroughly tested before it's added to the master branch.\n\nGithub now makes this very easy to setup with Github actions. They even provide basic templates. This testing workflow lives in `.github/workflows/python-build.yml`, and is a modification of Github's  `python-package.yml` workflow.\n```\n# This workflow will install Python dependencies, run tests and lint with a variety of Python versions\n# For more information see: https://help.github.com/actions/language-and-framework-guides/using-python-with-github-actions\n\nname: Python package\n\non:\n  push:\n    branches: [ master ]\n  pull_request:\n    branches: [ master ]\n  schedule:\n    - cron: \"0 13 * * *\"  # Every day at 1pm UTC (6am PST)    \n\njobs:\n  build:\n\n    runs-on: ubuntu-latest\n    strategy:\n      matrix:\n        python-version: ['3.7', '3.8']\n\n    steps:\n    - uses: actions/checkout@v2\n    - name: Set up Python ${{ matrix.python-version }}\n      uses: actions/setup-python@v2\n      with:\n        python-version: ${{ matrix.python-version }}\n    - name: Install dependencies\n      run: |\n        python -m pip install --upgrade pip\n        python -m pip install flake8 pytest\n        if [ -f requirements.txt ]; then pip install -r requirements.txt; fi\n        python -m pip install -e .[dev]  # install package + test dependencies\n    - name: About\n      run: |\n        python -m $(python -Wi setup.py --name).about\n    - name: Lint with flake8\n      run: |\n        flake8 .\n    - name: Test with pytest\n      run: |\n        python -m pytest --cov-fail-under 100\n    - name: Typecheck with mypy\n      run: |\n        mypy\n    - name: Build documentation with sphinx\n      run: |\n        sphinx-build -M html docs docs/_build\n\n```\nNote that these tests are picky. Not only must the unit tests pass, but test coverage must be 100%, the code must be delinted, blackened, isorted, and properly typed, and the docs have to build without error.\n\nIt's a good idea to set a cron job to run the test suite against the main branch on a regular basis (the `schedule` block above). This will alert you of problems caused by your dependencies updating. (For instance, one of my other projects just broke, apparently because flake8 updated it's rules.)\n\nLet's add, commit, and push our changes. \n```\n$ git status\nOn branch gec001-init\nChanges to be committed:\n  (use \"git reset HEAD <file>...\" to unstage)\n\n    new file:   .readthedocs.yml\n    new file:   .github/workflows/python-package.yml\n    new file:   Makefile\n    modified:   README.md\n    new file:   docs/Makefile\n    new file:   docs/_build/.gitignore\n    new file:   docs/_static/.gitignore\n    new file:   docs/_templates/.gitignore\n    new file:   docs/conf.py\n    new file:   docs/index.rst\n    new file:   pyproject.toml\n    new file:   gecrooks_python_template/__init__.py\n    new file:   gecrooks_python_template/about.py\n    new file:   gecrooks_python_template/config.py\n    new file:   gecrooks_python_template/config_test.py\n    new file:   setup.cfg\n    new file:   setup.py\n\n$ git commit -m \"Minimum viable package\"\n...\n$ git push --set-upstream origin gec001-init\n...\n```\nIf all goes well Github will see our push, and build and test the code in the branch. Probably all the tests won't pass on the first try. It's easy to forget something (which is why we have automatic tests). So tweak the code, and push another commit until the tests pass.\n\n\n\n## PyPi\n\nWe should now be ready to do a test submission to PyPI, The Python Package Index (PyPI).\nFollow the directions laid out in the [python packaging](https://packaging.python.org/tutorials/packaging-projects/) documentation.\n\n```\n$ pip install -q wheel setuptools twine\n...\n$ git tag v0.1.0rc1\n$ python setup.py sdist bdist_wheel \n...\n```\nWe tag our release candidate so that we get a clean version number (pypi will object to the development version numbers setuptools_scm generates if the tag or git repo isn't up to date).\n\nFirst we push to the pypi's test repository.\n```\n(GTP) $ python -m twine upload --repository testpypi dist/*\n```\nYou'll need to create a pypi account if you don't already have one. \n\nLet's make sure it worked by installing from pypi into a fresh conda environment.\n```\n(GTP) $ conda deactivate\n$ conda create --name tmp\n$ conda activate tmp\n(tmp) $ pip install --index-url https://test.pypi.org/simple/ --no-deps gecrooks-python-template\n(tmp) $ python -m gecrooks_python_template.about\n(tmp) $ conda activate GTP\n```\n\n\n## Merge and Tag\n\nOver on github we create a pull request, wait for the github action checks to give us the green light once all the tests have passed, and then squash and merge. \n\nThe full developer sequence goes something like this\n\n1.) Sync the master branch. \n```\n$ git checkout master\n$ git pull origin master\n```\n(If we're working on somebody else's project, this step is a little more complicated. We fork the project on github, clone our fork to the local machine, and then set git's 'upstream' to be the original repo. We then sync our local master branch with the upstream master branch\n```\n$ git checkout master\n$ git fetch upstream\n$ git merge upstream/master\n```\nThis should go smoothly as long as you never commit directly to your local master branch.)\n\n\n2.) Create a working branch.\n```\n$ git branch BRANCH\n$ git checkout BRANCH\n```\n\n3.) Do a bunch of development on the branch, committing incremental changes as we go along.\n\n4.) Sync the master branch with github (since other development may be ongoing.) (i.e. repeat step 1)\n\n5.) Rebase our branch to master. \n```\n$ git checkout BRANCH\n$ git rebase master\n```\nIf there are conflicts, resolve them, and then go back to step 4.\n\n6.) Sync our branch to github\n\n```\n$ git push\n```\n\n7.) Over on github, create a pull request to merge into the master branch\n\n8.) Wait for the integration tests to pass. If they don't, fix them, and then go back to step 4.\n\n9.) Squash and merge into the master branch on github. Squashing merges all of our commits on the branch into a single commit to merge into the master branch. We generally don't want to pollute the master repo history with lots of micro commits. (On multi-developer projects, code should be reviewed. Somebody other than the branch author approves the changes before the final merge into master.)\n\n10.) Goto step 1. Back on our local machine, we resync master, create a new branch, and continue developing. \n\n\n## Tag and release\n\nAssuming everything went well, you can now upload a release to pypi proper. We can add a [github workflow](.github/workflows/python-publish.yml) to automatically upload new releases tagged on github. The only additional configuration is to upload `PYPI_USERNAME` and `PYPI_PASSWORD` to github as secrets (under you repo settings). \n\n\n\n## Conclusion\n\nBy my count we have 13 configuration files (In python, toml, yaml, INI, gitignore, Makefile, and plain text formats), 2 documentation files, one file of unit tests, and 3 files of code (containing 31 lines of code). We're now ready to create a new git branch and start coding in earnest.\n\n\n## License\n\nThis software template is public domain. The included open-source software license `LICENSE.txt` and copyright lines are for illustrative purposes only. If you wish to use this template as the basis of your own project, you should feel free to assert your own copyrights (at the top of the python source code files) and substitute your own choice of software license.\n\nGavin E. Crooks (2020)\n\n    This is free and unencumbered software released into the public domain.\n\n    Anyone is free to copy, modify, publish, use, compile, sell, or\n    distribute this software, either in source code form or as a compiled\n    binary, for any purpose, commercial or non-commercial, and by any\n    means.\n\n    In jurisdictions that recognize copyright laws, the author or authors\n    of this software dedicate any and all copyright interest in the\n    software to the public domain. We make this dedication for the benefit\n    of the public at large and to the detriment of our heirs and\n    successors. We intend this dedication to be an overt act of\n    relinquishment in perpetuity of all present and future rights to this\n    software under copyright law.\n\n    THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n    EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n    MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n    IN NO EVENT SHALL THE AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR\n    OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,\n    ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n    OTHER DEALINGS IN THE SOFTWARE.\n\n\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/gecrooks/gecrooks-python-template/",
    "keywords": "python,template",
    "license": "Apache-2.0",
    "maintainer": "",
    "maintainer_email": "",
    "name": "gecrooks-python-template",
    "package_url": "https://pypi.org/project/gecrooks-python-template/",
    "platform": "",
    "project_url": "https://pypi.org/project/gecrooks-python-template/",
    "project_urls": {
      "Homepage": "https://github.com/gecrooks/gecrooks-python-template/"
    },
    "release_url": "https://pypi.org/project/gecrooks-python-template/1.1.2/",
    "requires_dist": [
      "importlib-metadata",
      "numpy",
      "pytest (>=4.6) ; extra == 'dev'",
      "pytest-cov ; extra == 'dev'",
      "flake8 ; extra == 'dev'",
      "mypy ; extra == 'dev'",
      "black ; extra == 'dev'",
      "isort ; extra == 'dev'",
      "sphinx ; extra == 'dev'",
      "sphinxcontrib-bibtex ; extra == 'dev'",
      "setuptools-scm ; extra == 'dev'"
    ],
    "requires_python": ">=3.7",
    "summary": "Minimal viable setup for an open source, github hosted, python package",
    "version": "1.1.2",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 8883056,
  "releases": {
    "0.1.2": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "9b44a8bbaf23cbc3cb4232124335ef9b3edf02b31baa274faae59189879c8491",
          "md5": "419f64b2d418c94633c3c0968635e61c",
          "sha256": "e503e25a8c8016b49851c1b51018c85c3c165acc34d3bdde862e224abce4d4db"
        },
        "downloads": -1,
        "filename": "gecrooks_python_template-0.1.2-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "419f64b2d418c94633c3c0968635e61c",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.7",
        "size": 16939,
        "upload_time": "2020-12-08T10:58:07",
        "upload_time_iso_8601": "2020-12-08T10:58:07.395843Z",
        "url": "https://files.pythonhosted.org/packages/9b/44/a8bbaf23cbc3cb4232124335ef9b3edf02b31baa274faae59189879c8491/gecrooks_python_template-0.1.2-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "0673d9aedff76e5f3ae48d1e67cdf0af0dcb96ae754cdcb216bad81dcf47b32f",
          "md5": "744f04fea89e6b2e92518210b2dd9c86",
          "sha256": "bc9880e32a4cbaba085187315041d8ef0757d48c4388966a49e4e9b348c556c0"
        },
        "downloads": -1,
        "filename": "gecrooks_python_template-0.1.2.tar.gz",
        "has_sig": false,
        "md5_digest": "744f04fea89e6b2e92518210b2dd9c86",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.7",
        "size": 43729,
        "upload_time": "2020-12-08T10:58:08",
        "upload_time_iso_8601": "2020-12-08T10:58:08.905207Z",
        "url": "https://files.pythonhosted.org/packages/06/73/d9aedff76e5f3ae48d1e67cdf0af0dcb96ae754cdcb216bad81dcf47b32f/gecrooks_python_template-0.1.2.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.0.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "19f957eb4ecf5175b6f6413f3b8e62992f456821a41c7f7d3a76a9b744077e96",
          "md5": "be4f76630b47a4a84cb019b53df912da",
          "sha256": "05367e4e800bc92c14dc0f1ced87f80ade4afc535a4cc757ba27b6e3b2fc9962"
        },
        "downloads": -1,
        "filename": "gecrooks_python_template-1.0.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "be4f76630b47a4a84cb019b53df912da",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.7",
        "size": 16951,
        "upload_time": "2020-12-08T11:07:58",
        "upload_time_iso_8601": "2020-12-08T11:07:58.291025Z",
        "url": "https://files.pythonhosted.org/packages/19/f9/57eb4ecf5175b6f6413f3b8e62992f456821a41c7f7d3a76a9b744077e96/gecrooks_python_template-1.0.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "9d09a92d4b332ee7b9d297094339de9692544b776096b68d49282358567ba171",
          "md5": "06e6f70897054cdc301b9abcba8891a1",
          "sha256": "d3b3b5bd84b2783d9470c1e81b7543d490cdeff344607374ea3501a67fabac1f"
        },
        "downloads": -1,
        "filename": "gecrooks_python_template-1.0.0.tar.gz",
        "has_sig": false,
        "md5_digest": "06e6f70897054cdc301b9abcba8891a1",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.7",
        "size": 43782,
        "upload_time": "2020-12-08T11:07:59",
        "upload_time_iso_8601": "2020-12-08T11:07:59.515440Z",
        "url": "https://files.pythonhosted.org/packages/9d/09/a92d4b332ee7b9d297094339de9692544b776096b68d49282358567ba171/gecrooks_python_template-1.0.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.1.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "a125985d4151be76f70dd4e3ee3d8ebea309e6b88b422184b21b07379ba57980",
          "md5": "4dd6c469b0f58ca7eceab7be47d6cfa4",
          "sha256": "618d487b4f5766127b3e06947ce0e3e5d1c6bc64096ae4b4f5b08623fa045af6"
        },
        "downloads": -1,
        "filename": "gecrooks_python_template-1.1.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "4dd6c469b0f58ca7eceab7be47d6cfa4",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.7",
        "size": 20434,
        "upload_time": "2020-12-12T03:25:45",
        "upload_time_iso_8601": "2020-12-12T03:25:45.725708Z",
        "url": "https://files.pythonhosted.org/packages/a1/25/985d4151be76f70dd4e3ee3d8ebea309e6b88b422184b21b07379ba57980/gecrooks_python_template-1.1.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "d4dc99782b414abbb11f7972285614fa46c1950a57cd5c1b1268d6b1b7351fc0",
          "md5": "fdb26068b9a8e21fef2e032732be2ad1",
          "sha256": "69bfeca02c12f9e42bc74bdae877fc198dc61d3170d15602feeb5d766a8c846a"
        },
        "downloads": -1,
        "filename": "gecrooks_python_template-1.1.0.tar.gz",
        "has_sig": false,
        "md5_digest": "fdb26068b9a8e21fef2e032732be2ad1",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.7",
        "size": 46857,
        "upload_time": "2020-12-12T03:25:47",
        "upload_time_iso_8601": "2020-12-12T03:25:47.085118Z",
        "url": "https://files.pythonhosted.org/packages/d4/dc/99782b414abbb11f7972285614fa46c1950a57cd5c1b1268d6b1b7351fc0/gecrooks_python_template-1.1.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.1.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "241c01fcf2c50001a5b732d94c2283b9e9d82ff02bfd6c8c4ae4928f9be62785",
          "md5": "af4f0728c4fcad59cb9602120a346b14",
          "sha256": "495bfeedaa91456c3740bd8bd6ae625c21027b0df2f6d841a74bba42d76a729b"
        },
        "downloads": -1,
        "filename": "gecrooks_python_template-1.1.1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "af4f0728c4fcad59cb9602120a346b14",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.7",
        "size": 20443,
        "upload_time": "2020-12-12T06:08:19",
        "upload_time_iso_8601": "2020-12-12T06:08:19.186787Z",
        "url": "https://files.pythonhosted.org/packages/24/1c/01fcf2c50001a5b732d94c2283b9e9d82ff02bfd6c8c4ae4928f9be62785/gecrooks_python_template-1.1.1-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "18db8ddcb251850c7edd1bf817206c14661c2291d45dd5dd5ba12077dce7fb57",
          "md5": "9a42dd71693d8c253a37553bee99961a",
          "sha256": "cf92e73a8da23796b82f81bfbf74595818329e0f94e4f87b2feed5f81079948a"
        },
        "downloads": -1,
        "filename": "gecrooks_python_template-1.1.1.tar.gz",
        "has_sig": false,
        "md5_digest": "9a42dd71693d8c253a37553bee99961a",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.7",
        "size": 46907,
        "upload_time": "2020-12-12T06:08:20",
        "upload_time_iso_8601": "2020-12-12T06:08:20.474736Z",
        "url": "https://files.pythonhosted.org/packages/18/db/8ddcb251850c7edd1bf817206c14661c2291d45dd5dd5ba12077dce7fb57/gecrooks_python_template-1.1.1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.1.2": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "c689e4903df2b2c77388df939735fd7410680de511c4d15f770a512d6ca2ab59",
          "md5": "ecd176ad2c1e7dd31bb3cc9f4e08f0f7",
          "sha256": "4170f2a66d49cd738c5ae7b24a2629520a5686e738af5049189a4e2d1253d7d0"
        },
        "downloads": -1,
        "filename": "gecrooks_python_template-1.1.2-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "ecd176ad2c1e7dd31bb3cc9f4e08f0f7",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.7",
        "size": 20596,
        "upload_time": "2020-12-12T06:29:54",
        "upload_time_iso_8601": "2020-12-12T06:29:54.743268Z",
        "url": "https://files.pythonhosted.org/packages/c6/89/e4903df2b2c77388df939735fd7410680de511c4d15f770a512d6ca2ab59/gecrooks_python_template-1.1.2-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "9cf75548c3e7293eb651ea94049d595c20d7b7af6a04642e533887596f51eb41",
          "md5": "cbdcefa85a084f3f0dc04760659d3a2e",
          "sha256": "d4b3bfad4ddc0e0fb25579154a72ad2acc5745efb1579e8c4e12e797d3517f84"
        },
        "downloads": -1,
        "filename": "gecrooks_python_template-1.1.2.tar.gz",
        "has_sig": false,
        "md5_digest": "cbdcefa85a084f3f0dc04760659d3a2e",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.7",
        "size": 47449,
        "upload_time": "2020-12-12T06:29:55",
        "upload_time_iso_8601": "2020-12-12T06:29:55.882761Z",
        "url": "https://files.pythonhosted.org/packages/9c/f7/5548c3e7293eb651ea94049d595c20d7b7af6a04642e533887596f51eb41/gecrooks_python_template-1.1.2.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "c689e4903df2b2c77388df939735fd7410680de511c4d15f770a512d6ca2ab59",
        "md5": "ecd176ad2c1e7dd31bb3cc9f4e08f0f7",
        "sha256": "4170f2a66d49cd738c5ae7b24a2629520a5686e738af5049189a4e2d1253d7d0"
      },
      "downloads": -1,
      "filename": "gecrooks_python_template-1.1.2-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "ecd176ad2c1e7dd31bb3cc9f4e08f0f7",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": ">=3.7",
      "size": 20596,
      "upload_time": "2020-12-12T06:29:54",
      "upload_time_iso_8601": "2020-12-12T06:29:54.743268Z",
      "url": "https://files.pythonhosted.org/packages/c6/89/e4903df2b2c77388df939735fd7410680de511c4d15f770a512d6ca2ab59/gecrooks_python_template-1.1.2-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "9cf75548c3e7293eb651ea94049d595c20d7b7af6a04642e533887596f51eb41",
        "md5": "cbdcefa85a084f3f0dc04760659d3a2e",
        "sha256": "d4b3bfad4ddc0e0fb25579154a72ad2acc5745efb1579e8c4e12e797d3517f84"
      },
      "downloads": -1,
      "filename": "gecrooks_python_template-1.1.2.tar.gz",
      "has_sig": false,
      "md5_digest": "cbdcefa85a084f3f0dc04760659d3a2e",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": ">=3.7",
      "size": 47449,
      "upload_time": "2020-12-12T06:29:55",
      "upload_time_iso_8601": "2020-12-12T06:29:55.882761Z",
      "url": "https://files.pythonhosted.org/packages/9c/f7/5548c3e7293eb651ea94049d595c20d7b7af6a04642e533887596f51eb41/gecrooks_python_template-1.1.2.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}