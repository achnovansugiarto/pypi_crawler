{
  "info": {
    "author": "Chad Laing, Kyrylo Bessonov, Sam Sung, Camille La Rose,",
    "author_email": "chad.laing@canada.ca, kyrylo.bessonov@canada.ca, sam.sung@canada.ca, claro100@uottawa.ca",
    "bugtrack_url": null,
    "classifiers": [],
    "description": "[![European Galaxy server](https://img.shields.io/badge/usegalaxy-.eu-brightgreen?logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAASCAYAAABB7B6eAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACXBIWXMAAAsTAAALEwEAmpwYAAACC2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOlJlc29sdXRpb25Vbml0PjI8L3RpZmY6UmVzb2x1dGlvblVuaXQ+CiAgICAgICAgIDx0aWZmOkNvbXByZXNzaW9uPjE8L3RpZmY6Q29tcHJlc3Npb24+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlBob3RvbWV0cmljSW50ZXJwcmV0YXRpb24+MjwvdGlmZjpQaG90b21ldHJpY0ludGVycHJldGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KD0UqkwAAAn9JREFUOBGlVEuLE0EQruqZiftwDz4QYT1IYM8eFkHFw/4HYX+GB3/B4l/YP+CP8OBNTwpCwFMQXAQPKtnsg5nJZpKdni6/6kzHvAYDFtRUT71f3UwAEbkLch9ogQxcBwRKMfAnM1/CBwgrbxkgPAYqlBOy1jfovlaPsEiWPROZmqmZKKzOYCJb/AbdYLso9/9B6GppBRqCrjSYYaquZq20EUKAzVpjo1FzWRDVrNay6C/HDxT92wXrAVCH3ASqq5VqEtv1WZ13Mdwf8LFyyKECNbgHHAObWhScf4Wnj9CbQpPzWYU3UFoX3qkhlG8AY2BTQt5/EA7qaEPQsgGLWied0A8VKrHAsCC1eJ6EFoUd1v6GoPOaRAtDPViUr/wPzkIFV9AaAZGtYB568VyJfijV+ZBzlVZJ3W7XHB2RESGe4opXIGzRTdjcAupOK09RA6kzr1NTrTj7V1ugM4VgPGWEw+e39CxO6JUw5XhhKihmaDacU2GiR0Ohcc4cZ+Kq3AjlEnEeRSazLs6/9b/kh4eTC+hngE3QQD7Yyclxsrf3cpxsPXn+cFdenF9aqlBXMXaDiEyfyfawBz2RqC/O9WF1ysacOpytlUSoqNrtfbS642+4D4CS9V3xb4u8P/ACI4O810efRu6KsC0QnjHJGaq4IOGUjWTo/YDZDB3xSIxcGyNlWcTucb4T3in/3IaueNrZyX0lGOrWndstOr+w21UlVFokILjJLFhPukbVY8OmwNQ3nZgNJNmKDccusSb4UIe+gtkI+9/bSLJDjqn763f5CQ5TLApmICkqwR0QnUPKZFIUnoozWcQuRbC0Km02knj0tPYx63furGs3x/iPnz83zJDVNtdP3QAAAABJRU5ErkJggg==)](https://usegalaxy.eu/root?tool_id=ectyper)\n[![Master branch build status](https://api.travis-ci.org/phac-nml/ecoli_serotyping.svg?branch=master \"Master Build Status\")](https://travis-ci.org/phac-nml/ecoli_serotyping)\n![GitHub release (latest SemVer)](https://img.shields.io/github/v/release/phac-nml/ecoli_serotyping)\n![Conda](https://img.shields.io/conda/dn/bioconda/ectyper)\n[![PyPI version](https://badge.fury.io/py/ectyper.svg)](https://badge.fury.io/py/ectyper)\n![GitHub issues](https://img.shields.io/github/issues/phac-nml/ecoli_serotyping)\n![Docker Pulls](https://img.shields.io/docker/pulls/kbessonov/ectyper)\n\n# ECTyper (an easy typer)\n`ECTyper` is a standalone versatile serotyping module for _Escherichia coli_. It supports both _fasta_ (assembled) and _fastq_ (raw reads) file formats.\nThe tool provides convenient species identification coupled to quality control module giving a complete, transparent and reference laboratories suitable report on E.coli serotyping.\n\n\n# Dependencies:\n- python >= 3.5\n- bcftools >= 1.8\n- blast == 2.7.1\n- seqtk >= 1.2\n- samtools >= 1.8\n- bowtie2 >= 2.3.4.1\n- mash >= 2.0\n\n# Python packages:\n- biopython >= 1.70\n- pandas >= 0.23.1\n- requests >= 2.0\n\n\n# Installation\n\n## Option 1: As a conda package\n1. If you do not have conda environment, get and install `miniconda` or `anaconda`:\n\n    ```wget https://repo.continuum.io/miniconda/Miniconda3-latest-Linux-x86_64.sh -O miniconda.sh\n    bash miniconda.sh -b -p $HOME/miniconda\n    echo \". $HOME/miniconda/etc/profile.d/conda.sh\" >> ~/.bashrc\n    source ~/.bashrc```\n    \n2. Install conda package from `bioconda` channel \n\t```conda install -c bioconda ectyper```\n\n## Option 2: From the source directly\nSecond option is to install from the source.\n1. Install dependencies. On Ubuntu distro run\n```\napt install samtools bowtie2 mash bcftools ncbi-blast+ seqtk\n```\n1. Install python dependencies via `pip`:\n\n```\npip3 install pandas biopython\n```\n\n1. Clone the repository or checkout a particular release (e.g v1.0.0, etc.):\n\n```\ngit clone https://github.com/phac-nml/ecoli_serotyping.git\ngit checkout v1.0.0 #optionally checkout release version\n```\n   \n1. Install ectyper: `python3 setup.py install`\n\n# Basic Usage\n1. Put the fasta/fastq files for serotyping analyses in one folder (concatenate paired raw reads files if you would like them to be considered a single entity)\n1. `ectyper -i [file path] -o [output_dir]`\n1. View the results on the console or in `cat [output folder]/output.csv`\n\n# Example Usage\n* `ectyper -i ecoliA.fasta`  for a single file\n* `ectyper -i ecoliA.fasta -o output_dir` for a single file, results stored in `output_dir`\n* `ectyper -i ecoliA.fasta,ecoliB.fastq,ecoliC.fna`\tfor multiple files  (comma-delimited)\n* `ectyper -i ecoli_folder`\tfor a folder (all files in the folder will be checked by the tool)\n\n# Advanced Usage\n```\nusage: ectyper [-h] [-V] -i INPUT [-c CORES] [-opid PERCENTIDENTITYOTYPE]\n               [-hpid PERCENTIDENTITYHTYPE] [-oplen PERCENTLENGTHOTYPE]\n               [-hplen PERCENTLENGTHHTYPE] [--verify] [-o OUTPUT] [-r REFSEQ] [-s] [--debug]\n               [--dbpath DBPATH]\n\nectyper v1.0 database v1.0 Prediction of Escherichia coli serotype from raw reads or assembled\ngenome sequences. The default settings are recommended.\n\noptional arguments:\n  -h, --help            show this help message and exit\n  -V, --version         show program's version number and exit\n  -i INPUT, --input INPUT\n                        Location of E. coli genome file(s). Can be a single file, a comma-\n                        separated list of files, or a directory\n  -c CORES, --cores CORES\n                        The number of cores to run ectyper with\n  -opid PERCENTIDENTITYOTYPE, --percentIdentityOtype PERCENTIDENTITYOTYPE\n                        Percent identity required for an O antigen allele match [default 90]\n  -hpid PERCENTIDENTITYHTYPE, --percentIdentityHtype PERCENTIDENTITYHTYPE\n                        Percent identity required for an H antigen allele match [default 95]\n  -oplen PERCENTLENGTHOTYPE, --percentLengthOtype PERCENTLENGTHOTYPE\n                        Percent length required for an O antigen allele match [default 95]\n  -hplen PERCENTLENGTHHTYPE, --percentLengthHtype PERCENTLENGTHHTYPE\n                        Percent length required for an H antigen allele match [default 50]\n  --verify              Enable E. coli species verification\n  -o OUTPUT, --output OUTPUT\n                        Directory location of output files\n  -r REFSEQ, --refseq REFSEQ\n                        Location of pre-computed MASH RefSeq sketch. If provided, genomes\n                        identified as non-E. coli will have their species identified using MASH.\n                        For best results the pre-sketched RefSeq archive\n                        https://gembox.cbcb.umd.edu/mash/refseq.genomes.k21s1000.msh is\n                        recommended\n  -s, --sequence        Prints the allele sequences if enabled as the final columns of the\n                        output\n  --debug               Print more detailed log including debug messages\n  --dbpath DBPATH       Path to a custom database of O and H antigen alleles in JSON format. Check\n                        Data/ectyper_database.json for more information\n```\n\n# Fine-tunning parameters\n`ECTyper` requires minimum options to run (`-i` and `-o`) but allows for extensive configuration to accomodate wide variaty of typing scenarios\n\n| Parameter|      Explanation                                                 | Usage scenario                                                                    |\n|----------|:----------------------------------------------------------------:|:----------------------------------------------------------------------------------:\n| `-opid`  |  Specify minimum `%identity` threshold just for O antigen match| Poor coverage of O antigen genes or for exploratory work (recommended value is 90)  |\n| `-opcov` |  Minimum `%covereage` threshold for a valid match against reference O antigen alleles | Poor coverage of O antigen genes and a user wants to get O antigen call regardless (recommend value is 95)|\n| `-hpid`  |  Specify minimum `%identity` threshold just for H antigen match| Poor coverage of O antigen genes or for exploratory work (recommend value is 95)    |\n| `-hpcov` |  Minimum `%covereage` threshold for a valid match against reference H antigen alleles | Poor coverage of O antigen genes and a user wants to get O antigen call regardless (recommend value is 95)|\n|`--verify`|  Verify species of the input and run QC module providing information on the reliability of the result and any typing issues | User not sure if sample is E.coli and wants to obtain if serotype prediction is of sufficient quality for reporting purposes|\n| `-r`     |  Specify custom MASH sketch of reference genomes that will be used for species inference | User has a new assembled genome that is not available in NCBI RefSeq database. Make sure to add metadata to `assembly_summary_refseq.txt` and provide custom accession number that start with `GCF_` prefix|\n|`--dbpath`|  Provide custom appended database of O and H antigen reference alleles in JSON format following structure and field names as default database `ectyper_alleles_db.json` | User wants to add new alleles to the alleles database to improve typing performance |\n\n\n# Quality Control (QC) module\nTo provide an easier interpretation of the results and typing metrics, following QC codes were developed. \nThese codes allow to quickly filter \"reportable\" and \"non-reportable\" samples. The QC module is tightly linked to ECTyper allele database, specifically, `MinPident` and `MinPcov` fields.\nFor each reference allele minimum `%identity` and `%coverage` values were determined as a function of potential \"cross-talk\" between antigens (i.e. multiple potential antigen calls at a given setting).\nThe QC module covers the following serotyping scenarios. More scenarios might be added in future versions depending on user needs.\n\n| QC flag          |      Explanation                                          | \n|------------------|:-----------------------------------------------------------------|\n|PASS (REPORTABLE) |Both O and H antigen alleles meet min `%identity` or `%coverage` thresholds (ensuring no antigen cross-talk) and single antigen predicted for O and H|\n|FAIL (-:- TYPING) |Sample is E.coli and O and H antigens are not typed. Serotype:  -:- |\n|WARNING MIXED O-TYPE|A mixed O antigen call is predicted requiring wet-lab confirmation |\n|WARNING (WRONG SPECIES)| A sample is non-E.coli (e.g. E.albertii, Shigella, etc.) based on RefSeq assemblies|\n|WARNING (-:H TYPING)| A sample is E.coli and O antigen is not predicted (e.g. -:H18)|\n|WARNING (O:- TYPING)| A sample is E.coli and O antigen is not predicted (e.g. O17:-)|\n|WARNING (O NON-REPORT)|O antigen alleles do not meet min %identity or %coverage thresholds|\n|WARNING (H NON-REPORT)|H antigen alleles do not meet min %id or %cov thresholds|\n|WARNING (O and H NON-REPORT)| Both O and H antigen alleles do not meet min %identity or %coverage thresholds|\n \n# Report format\n`ECTyper` capitalizes on a concise minimum output coupled to easy results interpretation and reporting. `ECTyper v1.0` serotyping results are available in a tab-delimited `output.tsv` file consisting of the 16 columns listed below:\n\n1. **Name**: Sample name (usually a unique identifier) \n2. **Species**: the species column provides valuable species identification information in case of inadvertent sample contamination or mislabelling events\n3. **O-type**: O antigen\n4. **H-type**: H antigen\n5. **Serotype**: Predicted O and H antigen(s)\n6. **QC**: The Quality Control value summarizing the overall quality of prediction\n7. **Evidence**: How many alleles in total used to both call O and H antigens\n8. **GeneScores**: ECTyper O and H antigen gene scores in 0 to 1 range\n9. **AllelesKeys**: Best matching `ECTyper` database allele keys used to call the serotype  \n10. **GeneIdentities(%)**: `%identity` values of the query alleles\n11. **GeneCoverages(%)**: `%coverage` values of the query alleles\n12. **GeneContigNames**: the contig names where the query alleles were found\n13. **GeneRanges**: genomic coordinates of the query alleles\n14. **GeneLengths**: allele lengths of the query alleles\n15. **Database**: database release version and date\n16. **Warnings**: any additional warnings linked to the quality control status or any other error message(s). \n\n\nSelected columns from the `ECTyper` typical report are shown below. \n\n|Name|Species|Serotype|Evidence|QC|GeneScores|AlleleKeys|GeneIdentities(%)   |    GeneCoverages(%)   |     GeneContigNames| GeneRanges   |   GeneLengths  |   Database |        Warnings|\n|------|:------|:-------|:--|:---------|:------------|:-----|:-----|:----|:----|:----|:----|:---|:--|\n|15-520|Escherichia coli|O174:H21|Based on 3 allele(s)|PASS (REPORTABLE)|wzx:1; wzy:1; fliC:1;|O104-5-wzx-origin;O104-13-wzy;H7-6-fliC-origin;|100;100;100;|    100;100;100;|contig00049;contig00001;contig00019;|   22302-23492;178-1290;6507-8264;| 1191;1113;1758;| v1.0 (2020-05-07)  |     -  |\nEC20151709|Escherichia coli|O157:H43|Based on 3 allele(s)|PASS (REPORTABLE)|wzx:1;wzy:0.999;fliC:1|O157-5-wzx-origin;O157-9-wzy-origin;H43-1-fliC-origin;|100;99.916;99.934;   |   100;100;100;  |  contig00002;contig00002;contig00003; |   62558-63949;64651-65835;59962-61467;   | 1392;1185;1506; |v1.0 (2020-05-07)  |     - |\n\n\n\n\n# Availability\n\n|Resource|Description|Type|\n|--------|:----------|:---|\n|[PyPI](https://pypi.org/project/ectyper/)| PyPI pacakge that could be installed via `pip` utility|Terminal|\n|[Conda](https://anaconda.org/bioconda/ectyper)   | Conda package available from BioConda channel|Terminal|\n|[Docker](https://hub.docker.com/r/kbessonov/ectyper)| Images containing completely initialized ECTyper with all dependencies |Terminal|\n|[Singluarity](https://biocontainers.pro/tools/ectyper) | Images containing completely initialized ECTyper with all dependencies |Terminal|\n|[GitHub](https://github.com/phac-nml/ecoli_serotyping) | Install source code as any Python package|Terminal|\n|[Galaxy ToolShed](https://toolshed.g2.bx.psu.edu/view/nml/ectyper/)| Galaxy wrapper available for installation on a private/public instance|Web-based|\n|[Galaxy Europe](https://usegalaxy.eu/root?tool_id=ectyper)| Galaxy public server to execute your analysis from anywhere|Web-based| \n|[IRIDA plugin](https://github.com/phac-nml/irida-plugin-ectyper)| IRIDA instances could easily install additional pipeline|Web-based|",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/phac-nml/ecoli_serotyping",
    "keywords": "",
    "license": "Apache 2",
    "maintainer": "",
    "maintainer_email": "",
    "name": "ectyper",
    "package_url": "https://pypi.org/project/ectyper/",
    "platform": "",
    "project_url": "https://pypi.org/project/ectyper/",
    "project_urls": {
      "Homepage": "https://github.com/phac-nml/ecoli_serotyping"
    },
    "release_url": "https://pypi.org/project/ectyper/1.0.0rc1/",
    "requires_dist": null,
    "requires_python": "",
    "summary": "Escherichia coli fast serotyping using both raw reads and assemblies with automatic species identification",
    "version": "1.0.0rc1",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 10158072,
  "releases": {
    "1.0.0rc1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "01886f93f129fc3092c6993739f5bfc51661a82079a1ec9f1eadf9f6b731625e",
          "md5": "d2e08e188ee6197f78593cb2542664c0",
          "sha256": "29131dfeb245c371c64b8d039a182f8924f628b3b410530e1d67be966574c63c"
        },
        "downloads": -1,
        "filename": "ectyper-1.0.0rc1-py3.6.egg",
        "has_sig": false,
        "md5_digest": "d2e08e188ee6197f78593cb2542664c0",
        "packagetype": "bdist_egg",
        "python_version": "1.0.0rc1",
        "requires_python": null,
        "size": 565693,
        "upload_time": "2021-04-24T06:16:09",
        "upload_time_iso_8601": "2021-04-24T06:16:09.085432Z",
        "url": "https://files.pythonhosted.org/packages/01/88/6f93f129fc3092c6993739f5bfc51661a82079a1ec9f1eadf9f6b731625e/ectyper-1.0.0rc1-py3.6.egg",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "18e9a014b14f292a99b5d3c8c81d6c733bb20a2a71c95695055beb372ba027de",
          "md5": "5976eebda13f6e683c3805fb6be163a2",
          "sha256": "e1519b4a872db03f6d2940c5d635dd5bca8a408b6a54bc77d824be19471530ad"
        },
        "downloads": -1,
        "filename": "ectyper-1.0.0rc1.tar.gz",
        "has_sig": false,
        "md5_digest": "5976eebda13f6e683c3805fb6be163a2",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 510419,
        "upload_time": "2021-04-24T06:16:10",
        "upload_time_iso_8601": "2021-04-24T06:16:10.789096Z",
        "url": "https://files.pythonhosted.org/packages/18/e9/a014b14f292a99b5d3c8c81d6c733bb20a2a71c95695055beb372ba027de/ectyper-1.0.0rc1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "01886f93f129fc3092c6993739f5bfc51661a82079a1ec9f1eadf9f6b731625e",
        "md5": "d2e08e188ee6197f78593cb2542664c0",
        "sha256": "29131dfeb245c371c64b8d039a182f8924f628b3b410530e1d67be966574c63c"
      },
      "downloads": -1,
      "filename": "ectyper-1.0.0rc1-py3.6.egg",
      "has_sig": false,
      "md5_digest": "d2e08e188ee6197f78593cb2542664c0",
      "packagetype": "bdist_egg",
      "python_version": "1.0.0rc1",
      "requires_python": null,
      "size": 565693,
      "upload_time": "2021-04-24T06:16:09",
      "upload_time_iso_8601": "2021-04-24T06:16:09.085432Z",
      "url": "https://files.pythonhosted.org/packages/01/88/6f93f129fc3092c6993739f5bfc51661a82079a1ec9f1eadf9f6b731625e/ectyper-1.0.0rc1-py3.6.egg",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "18e9a014b14f292a99b5d3c8c81d6c733bb20a2a71c95695055beb372ba027de",
        "md5": "5976eebda13f6e683c3805fb6be163a2",
        "sha256": "e1519b4a872db03f6d2940c5d635dd5bca8a408b6a54bc77d824be19471530ad"
      },
      "downloads": -1,
      "filename": "ectyper-1.0.0rc1.tar.gz",
      "has_sig": false,
      "md5_digest": "5976eebda13f6e683c3805fb6be163a2",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": null,
      "size": 510419,
      "upload_time": "2021-04-24T06:16:10",
      "upload_time_iso_8601": "2021-04-24T06:16:10.789096Z",
      "url": "https://files.pythonhosted.org/packages/18/e9/a014b14f292a99b5d3c8c81d6c733bb20a2a71c95695055beb372ba027de/ectyper-1.0.0rc1.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}