{
  "info": {
    "author": "Adam Johnson",
    "author_email": "me@adamj.eu",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 5 - Production/Stable",
      "Framework :: Pytest",
      "Intended Audience :: Developers",
      "License :: OSI Approved :: MIT License",
      "Natural Language :: English",
      "Operating System :: OS Independent",
      "Programming Language :: Python :: 3",
      "Programming Language :: Python :: 3 :: Only",
      "Programming Language :: Python :: 3.10",
      "Programming Language :: Python :: 3.11",
      "Programming Language :: Python :: 3.7",
      "Programming Language :: Python :: 3.8",
      "Programming Language :: Python :: 3.9"
    ],
    "description": "==================\npytest-flake8-path\n==================\n\n.. image:: https://img.shields.io/github/workflow/status/adamchainz/pytest-flake8-path/CI/main?style=for-the-badge\n   :target: https://github.com/adamchainz/pytest-flake8-path/actions?workflow=CI\n\n.. image:: https://img.shields.io/pypi/v/pytest-flake8-path.svg?style=for-the-badge\n   :target: https://pypi.org/project/pytest-flake8-path/\n\n.. image:: https://img.shields.io/badge/code%20style-black-000000.svg?style=for-the-badge\n   :target: https://github.com/psf/black\n\n.. image:: https://img.shields.io/badge/pre--commit-enabled-brightgreen?logo=pre-commit&logoColor=white&style=for-the-badge\n   :target: https://github.com/pre-commit/pre-commit\n   :alt: pre-commit\n\nA pytest fixture for testing flake8 plugins.\n\nA quick example:\n\n.. code-block:: python\n\n    def test_simple_run(flake8_path):\n        (flake8_path / \"example.py\").write_text(\"x  = 1\\n\")\n\n        result = flake8_path.run_flake8()\n\n        assert result.out_lines == [\n            \"./example.py:1:2: E221 multiple spaces before operator\"\n        ]\n\nInstallation\n============\n\nUse **pip**:\n\n.. code-block:: sh\n\n    python -m pip install pytest-flake8-path\n\nPython 3.7 to 3.11 supported.\n\n----\n\n**Working on a Django project?**\nCheck out my book `Speed Up Your Django Tests <https://adamchainz.gumroad.com/l/suydt>`__ which covers loads of ways to write faster, more accurate tests.\n\n----\n\nAPI\n===\n\n``flake8_path`` fixture\n-----------------------\n\nA pytest fixture that wraps Pytest's built-in ``tmp_path`` fixture\n(`docs <https://docs.pytest.org/en/latest/how-to/tmp_path.html>`__), to create\na temporary directory, allow adding files, and running flake8. It acts like a\n`pathlib.Path <https://docs.python.org/3/library/pathlib.html#pathlib.Path>`__\nobject, with one extra method.\n\nIf you're using this to test a flake8 plugin, make sure flake8 is picking up\nyour plugin during tests. Normally this is done with a ``setup.cfg``\nentrypoint, which makes ``tox`` the easiest way to guarantee this is ready as\nit will install your project before running tests.\n\n``flake8dir.run_flake8(extra_args: list[str] | None = None) -> Flake8Result``\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\nRuns flake8 and returns a ``Flake8Result`` representing the results.\n\n``extra_args`` may be a list of extra flags to pass to flake8, for example\npassing ``[\"--ignore\", \"E101\"]``. Note some arguments are already passed to\nensure Flake8 runs in an isolated manner - see source.\n\n``Flake8Result``\n----------------\n\nRepresents the parsed output of a flake8 run.\n\n``Flake8Result.out: str``\n~~~~~~~~~~~~~~~~~~~~~~~~~\n\nThe full string of output (stdout) generated by flake8.\n\n``Flake8Result.err: str``\n~~~~~~~~~~~~~~~~~~~~~~~~~\n\nThe full string of error output (stderr) generated by flake8.\n\n``Flake8Result.exit_code: int``\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\nThe exit code that the flake8 run exited with.\n\n``Flake8Result.out_lines: list[str]``\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\nA list of individual lines of output, without trailing newlines.\nThis is the most useful tool for making assertions against.\n\nOn Windows, file paths are normalized into the Unix format (``\\`` is replaced\nwith ``/``). This allows test suites to run the same on all operating systems.\n\nFor example, given a result you can check for a particular line being output:\n\n.. code-block:: python\n\n    result = flake8_path.run_flake8()\n    expected = \"./example.py:1:2: E221 multiple spaces before operator\"\n    assert expected in result.out_lines\n\n``Flake8Result.err_lines: list[str]``\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\nLike ``out_lines``, but for error output.\n\nExamples\n========\n\nBasic\n-----\n\nUsing ``Path.write_text()`` (`docs <https://docs.python.org/3/library/pathlib.html#pathlib.Path.write_text>`__) we can create an ``example.py`` file with code.\nThen with ``flake8_path.run_flake8()`` we can run flake8 and check for an expected error:\n\n.. code-block:: python\n\n    def test_simple(flake8_path):\n        (flake8_path / \"example.py\").write_text(\"x  = 1\\n\")\n\n        result = flake8_path.run_flake8()\n\n        assert result.out_lines == [\n            \"./example.py:1:2: E221 multiple spaces before operator\"\n        ]\n        assert result.err_lines == []\n        assert result.exit_code == 1\n\nWith dedent\n-----------\n\nThe standard library’s ``textwrap.dedent()`` (`docs <https://docs.python.org/3/library/textwrap.html#textwrap.dedent>`__) is useful for including multi-line files.\nUse a triple quoted multi-line string, with an initial backslash to prevent a blank first line:\n\n.. code-block:: python\n\n    def test_multi_line(flake8_path):\n        (flake8_path / \"example.py\").write_text(\n            dedent(\n                \"\"\"\\\n                x  = 1\n                y  = 2\n                \"\"\"\n            )\n        )\n\n        result = flake8_path.run_flake8()\n\n        assert result.out_lines == [\n            \"./example.py:1:2: E221 multiple spaces before operator\",\n            \"./example.py:2:2: E221 multiple spaces before operator\",\n        ]\n        assert result.err_lines == []\n        assert result.exit_code == 1\n\nConfiguring flake8\n------------------\n\nWrite a ``setup.cfg`` file to configure flake8 before running it:\n\n.. code-block:: python\n\n    def test_with_setup_cfg(flake8_path):\n        (flake8_path / \"setup.cfg\").write_text(\n            dedent(\n                \"\"\"\\\n                [flake8]\n                ignore = E221\n                \"\"\"\n            )\n        )\n        (flake8_path / \"example.py\").write_text(\"x  = 1\\n\")\n\n        result = flake8_path.run_flake8()\n\n        assert result.out_lines == []\n        assert result.err_lines == []\n        assert result.exit_code == 0\n\nHistory\n=======\n\npytest-flake8-path is the successor to `pytest-flake8dir <https://pypi.org/project/pytest-flake8dir/>`__.\npytest-flake8dir was based upon pytest’s ``tmpdir`` fixture, which returned a legacy ``py.path.local`` object.\nSince version 3.9.0, pytest has provided the ``tmp_path`` fixture, which returns a standard library ``pathlib.Path`` object.\npytest-flake8-path is a rewrite of pytest-flake8dir to use ``tmp_path`` instead of ``tmpdir``.\n",
    "description_content_type": "text/x-rst",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/adamchainz/pytest-flake8-path",
    "keywords": "pytest,flake8",
    "license": "MIT",
    "maintainer": "",
    "maintainer_email": "",
    "name": "pytest-flake8-path",
    "package_url": "https://pypi.org/project/pytest-flake8-path/",
    "platform": null,
    "project_url": "https://pypi.org/project/pytest-flake8-path/",
    "project_urls": {
      "Changelog": "https://github.com/adamchainz/pytest-flake8-path/blob/main/HISTORY.rst",
      "Homepage": "https://github.com/adamchainz/pytest-flake8-path",
      "Twitter": "https://twitter.com/adamchainz"
    },
    "release_url": "https://pypi.org/project/pytest-flake8-path/1.3.0/",
    "requires_dist": [
      "flake8",
      "pytest"
    ],
    "requires_python": ">=3.7",
    "summary": "A pytest fixture for testing flake8 plugins.",
    "version": "1.3.0",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 13782625,
  "releases": {
    "1.0.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "1b5a1b8f08e24bf2196b0c9db6654c5c8aa71548f01c0becc939aceab72b8a29",
          "md5": "e78ea63009b0fd002d8e8d1b725170d6",
          "sha256": "db1aca97d5f99a5e4da6a2656984a719aa7c466c5c14d34c06cf7722ec676705"
        },
        "downloads": -1,
        "filename": "pytest_flake8_path-1.0.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "e78ea63009b0fd002d8e8d1b725170d6",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.6",
        "size": 5394,
        "upload_time": "2021-08-10T09:36:14",
        "upload_time_iso_8601": "2021-08-10T09:36:14.967890Z",
        "url": "https://files.pythonhosted.org/packages/1b/5a/1b8f08e24bf2196b0c9db6654c5c8aa71548f01c0becc939aceab72b8a29/pytest_flake8_path-1.0.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "9489030629c776342e0fa067a31b9fcd8244a8d148d12b838f1223d3da673208",
          "md5": "4c25127cc8c4f01872b05ffcebd707c7",
          "sha256": "0799e85cd9e0c90f006abcb3fc935438f285d7d31ce40ccbd324332294573138"
        },
        "downloads": -1,
        "filename": "pytest-flake8-path-1.0.0.tar.gz",
        "has_sig": false,
        "md5_digest": "4c25127cc8c4f01872b05ffcebd707c7",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6",
        "size": 5762,
        "upload_time": "2021-08-10T09:36:16",
        "upload_time_iso_8601": "2021-08-10T09:36:16.753447Z",
        "url": "https://files.pythonhosted.org/packages/94/89/030629c776342e0fa067a31b9fcd8244a8d148d12b838f1223d3da673208/pytest-flake8-path-1.0.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.1.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "adbd21437ba8f0847ae154687a2b49a2d48ac0d59c1c3efbe5a63a04f28fffc1",
          "md5": "338f85d04b7872a46b12c3971436f44a",
          "sha256": "7e55d16c7d26031bebff282283e02326c780e9314a1b4567f04bf0495e4d9a8f"
        },
        "downloads": -1,
        "filename": "pytest_flake8_path-1.1.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "338f85d04b7872a46b12c3971436f44a",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.6",
        "size": 5652,
        "upload_time": "2021-08-11T09:25:08",
        "upload_time_iso_8601": "2021-08-11T09:25:08.145767Z",
        "url": "https://files.pythonhosted.org/packages/ad/bd/21437ba8f0847ae154687a2b49a2d48ac0d59c1c3efbe5a63a04f28fffc1/pytest_flake8_path-1.1.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "f4b73d03932dcef173ca4a59d8fba087f5c36d8a161635c7b3d521bf142fce4c",
          "md5": "5e086dcc98f3e2169594a59ca6ce7367",
          "sha256": "d86248a3f7d7be4eb18f28fa27f31a31a43f07ce8d348c30055cfddc7339f58e"
        },
        "downloads": -1,
        "filename": "pytest-flake8-path-1.1.0.tar.gz",
        "has_sig": false,
        "md5_digest": "5e086dcc98f3e2169594a59ca6ce7367",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6",
        "size": 6124,
        "upload_time": "2021-08-11T09:25:09",
        "upload_time_iso_8601": "2021-08-11T09:25:09.786939Z",
        "url": "https://files.pythonhosted.org/packages/f4/b7/3d03932dcef173ca4a59d8fba087f5c36d8a161635c7b3d521bf142fce4c/pytest-flake8-path-1.1.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.2.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "3ee1f8af6e53bb24f3b23c9f2195a54478ccffc7c25e184a93ff6daf518a09cb",
          "md5": "4dd5699868e9ad692a4cc100f29190a5",
          "sha256": "cc9252310fb42e8530447aeacd4adf087e24f90b2cca6daeebf04e33d2b492ab"
        },
        "downloads": -1,
        "filename": "pytest_flake8_path-1.2.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "4dd5699868e9ad692a4cc100f29190a5",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.7",
        "size": 5584,
        "upload_time": "2022-01-10T17:15:04",
        "upload_time_iso_8601": "2022-01-10T17:15:04.035828Z",
        "url": "https://files.pythonhosted.org/packages/3e/e1/f8af6e53bb24f3b23c9f2195a54478ccffc7c25e184a93ff6daf518a09cb/pytest_flake8_path-1.2.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "4774ce9c8a0abc3cf31924bc6211d907de90f64c84950dc9e261c40b465c96f6",
          "md5": "b5cef9278d124949685764dd30e52214",
          "sha256": "74055e7f71d65f137e308f9d0b516f1de06997d988fab938edaf3a71f4d24d88"
        },
        "downloads": -1,
        "filename": "pytest-flake8-path-1.2.0.tar.gz",
        "has_sig": false,
        "md5_digest": "b5cef9278d124949685764dd30e52214",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.7",
        "size": 6085,
        "upload_time": "2022-01-10T17:15:05",
        "upload_time_iso_8601": "2022-01-10T17:15:05.248944Z",
        "url": "https://files.pythonhosted.org/packages/47/74/ce9c8a0abc3cf31924bc6211d907de90f64c84950dc9e261c40b465c96f6/pytest-flake8-path-1.2.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.3.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "e298470dcec73d873b306c1bd3ee2736d702c48bec211fb1b3ffc5995753cc16",
          "md5": "9cec89483ffb1caabc8b5f7eb456d739",
          "sha256": "a1f6a7f045e73b3400a59ad1a874dad39636a8d6bedef6e962396f863e05a4ac"
        },
        "downloads": -1,
        "filename": "pytest_flake8_path-1.3.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "9cec89483ffb1caabc8b5f7eb456d739",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.7",
        "size": 5573,
        "upload_time": "2022-05-11T13:47:41",
        "upload_time_iso_8601": "2022-05-11T13:47:41.943027Z",
        "url": "https://files.pythonhosted.org/packages/e2/98/470dcec73d873b306c1bd3ee2736d702c48bec211fb1b3ffc5995753cc16/pytest_flake8_path-1.3.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "41bfa4b6a87d21e08a663f9cd70941c47f15a03e52c7874a13a0795e540089d6",
          "md5": "23fbb4509bd0404e9b622832742fb47a",
          "sha256": "a3ddf053b56dbd1981f0e74ca02041e18f4e9f82435052358ffd2c147bf5a461"
        },
        "downloads": -1,
        "filename": "pytest-flake8-path-1.3.0.tar.gz",
        "has_sig": false,
        "md5_digest": "23fbb4509bd0404e9b622832742fb47a",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.7",
        "size": 6062,
        "upload_time": "2022-05-11T13:47:43",
        "upload_time_iso_8601": "2022-05-11T13:47:43.277313Z",
        "url": "https://files.pythonhosted.org/packages/41/bf/a4b6a87d21e08a663f9cd70941c47f15a03e52c7874a13a0795e540089d6/pytest-flake8-path-1.3.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "e298470dcec73d873b306c1bd3ee2736d702c48bec211fb1b3ffc5995753cc16",
        "md5": "9cec89483ffb1caabc8b5f7eb456d739",
        "sha256": "a1f6a7f045e73b3400a59ad1a874dad39636a8d6bedef6e962396f863e05a4ac"
      },
      "downloads": -1,
      "filename": "pytest_flake8_path-1.3.0-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "9cec89483ffb1caabc8b5f7eb456d739",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": ">=3.7",
      "size": 5573,
      "upload_time": "2022-05-11T13:47:41",
      "upload_time_iso_8601": "2022-05-11T13:47:41.943027Z",
      "url": "https://files.pythonhosted.org/packages/e2/98/470dcec73d873b306c1bd3ee2736d702c48bec211fb1b3ffc5995753cc16/pytest_flake8_path-1.3.0-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "41bfa4b6a87d21e08a663f9cd70941c47f15a03e52c7874a13a0795e540089d6",
        "md5": "23fbb4509bd0404e9b622832742fb47a",
        "sha256": "a3ddf053b56dbd1981f0e74ca02041e18f4e9f82435052358ffd2c147bf5a461"
      },
      "downloads": -1,
      "filename": "pytest-flake8-path-1.3.0.tar.gz",
      "has_sig": false,
      "md5_digest": "23fbb4509bd0404e9b622832742fb47a",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": ">=3.7",
      "size": 6062,
      "upload_time": "2022-05-11T13:47:43",
      "upload_time_iso_8601": "2022-05-11T13:47:43.277313Z",
      "url": "https://files.pythonhosted.org/packages/41/bf/a4b6a87d21e08a663f9cd70941c47f15a03e52c7874a13a0795e540089d6/pytest-flake8-path-1.3.0.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}