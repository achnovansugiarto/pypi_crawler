{
  "info": {
    "author": "Guido Falk von Rudorff",
    "author_email": "guido@vonrudorff.de",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 2 - Pre-Alpha",
      "Intended Audience :: Developers",
      "License :: OSI Approved :: MIT License",
      "Natural Language :: English",
      "Programming Language :: Python :: 3",
      "Programming Language :: Python :: 3.7",
      "Programming Language :: Python :: 3.8"
    ],
    "description": "contextshare\n============\n\nSimple context manager to share numpy arrays in python multiprocessing. Installation on **Python >= 3.8**:\n\n```\npip install contextshare\n```\n\nExample\n-------\n\nThe following code example is complete and compares a `serial()` implementation  with the `parallel()` version thereof implemented with `contextshare`.\n\n```python\n#!/usr/bin/env python\nimport contextshare as shared\nimport numpy as np\n\n\ndef serial(sigmas):\n    alphas = []\n    for sigma in sigmas:\n        K = np.exp(-0.5 * D / (sigma * sigma))\n        alphas.append(np.linalg.solve(K, b))\n    return alphas\n\n\ndef parallel(sigmas):\n    with shared.SharedMemory({\"D\": D, \"b\": b}, nworkers=11) as sm:\n\n        @sm.register\n        def one_sigma(sigma):\n            K = np.exp(-0.5 * D / (sigma * sigma))\n            return np.linalg.solve(K, b)\n\n        for sigma in sigmas:\n            one_sigma(sigma)\n\n        return sm.evaluate(progress=True)\n\n\nif __name__ == \"__main__\":\n    N = 2000\n    D = np.random.random((N, N))\n    b = np.random.random(N)\n\n    sigmas = 2.0 ** np.arange(1, 12)\n\n    s = serial(sigmas)\n    p = parallel(sigmas)\n\n```\n\nDocumentation\n-------------\nThe context manager `shared.SharedMemory` takes two arguments: the dictionary of numpy arrays to make available on all parallel workers and the number of workers to create.\n\n```python\n# makes variables D and b available under the same name on 11 workers\nwith shared.SharedMemory({\"D\": D, \"b\": b}, nworkers=11) as sm:\n```\n\nThe workers are spawned upon entering the context and are stopped upon exiting. Shared memory references are cleaned up automatically. Note that only numpy arrays are supported for sharing. Other arguments should be placed in the arguments of the function below. The function to call (i.e. the body of the serial for loop) needs to be placed in a function and either decorated or called explicitly:\n\n```python\n# decorator\n@sm.register\ndef one_sigma(sigma):\n    pass\n\n# or, equivalently, an explicit call\nsm.register(one_sigma)        \n```\nCalling this decorated function returns immediately and enqueues a function call. Calling \n\n```python\nsm.evaluate(progress=True)\n```\nstarts the calculations and returns the results in order. With `progress=True` a progress bar is shown, default is to be silent.\n\n\n\nCredits\n-------\n\nThis package was created with [Cookiecutter](https://github.com/audreyr/cookiecutter) using the [audreyr/cookiecutter-pypackage](https://github.com/audreyr/cookiecutter-pypackage)` template.\n\n\n=======\nHistory\n=======\n\n0.1.0 (2021-02-23)\n------------------\n\n* First release on PyPI.\n\n\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/ferchault/contextshare",
    "keywords": "contextshare",
    "license": "MIT license",
    "maintainer": "",
    "maintainer_email": "",
    "name": "contextshare",
    "package_url": "https://pypi.org/project/contextshare/",
    "platform": "",
    "project_url": "https://pypi.org/project/contextshare/",
    "project_urls": {
      "Homepage": "https://github.com/ferchault/contextshare"
    },
    "release_url": "https://pypi.org/project/contextshare/0.1.1/",
    "requires_dist": null,
    "requires_python": ">=3.8",
    "summary": "Simple interface for numpy arrays in multiprocessing contexts.",
    "version": "0.1.1",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 9504992,
  "releases": {
    "0.1.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "827e52c949ca6d19ce973d607280b72e96365b3c38ad03b1096c8e3d759b33dd",
          "md5": "ed325ddff36fcadc0f17243d9926dcc8",
          "sha256": "57883989d5c2fe5055c9f7ca790f8ab8b408f6fbd2a3aeec2f52527c8a0c5eb6"
        },
        "downloads": -1,
        "filename": "contextshare-0.1.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "ed325ddff36fcadc0f17243d9926dcc8",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.8",
        "size": 4505,
        "upload_time": "2021-02-23T22:06:12",
        "upload_time_iso_8601": "2021-02-23T22:06:12.444246Z",
        "url": "https://files.pythonhosted.org/packages/82/7e/52c949ca6d19ce973d607280b72e96365b3c38ad03b1096c8e3d759b33dd/contextshare-0.1.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "cc6c10096077e12bf8a83a295048a394732c918fa68615b6adc3992d206e2787",
          "md5": "e8b38ef7945702a03b280afb7b299918",
          "sha256": "6bbb15240fb5f0bf1d2fa73dd5686607a5fa416fa879143cfdf1ab2698362fbf"
        },
        "downloads": -1,
        "filename": "contextshare-0.1.0.tar.gz",
        "has_sig": false,
        "md5_digest": "e8b38ef7945702a03b280afb7b299918",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.8",
        "size": 10200,
        "upload_time": "2021-02-23T22:06:13",
        "upload_time_iso_8601": "2021-02-23T22:06:13.817963Z",
        "url": "https://files.pythonhosted.org/packages/cc/6c/10096077e12bf8a83a295048a394732c918fa68615b6adc3992d206e2787/contextshare-0.1.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.1.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "186fed2e1dd3e900b5573546ed2d482c32a8084a3e61582508ae512e37113137",
          "md5": "c12ad24e99899bdea8a92f18b05fbeb9",
          "sha256": "f47bfaa7aff5212afdbcfa472e227e0045d40284d64f9318c9cd5cbababf8df1"
        },
        "downloads": -1,
        "filename": "contextshare-0.1.1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "c12ad24e99899bdea8a92f18b05fbeb9",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.8",
        "size": 4547,
        "upload_time": "2021-02-23T22:27:11",
        "upload_time_iso_8601": "2021-02-23T22:27:11.109781Z",
        "url": "https://files.pythonhosted.org/packages/18/6f/ed2e1dd3e900b5573546ed2d482c32a8084a3e61582508ae512e37113137/contextshare-0.1.1-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "95c1ff49210997caacc316ff47a70e1277f5bec1fe17c2b559039515cfa6c5b5",
          "md5": "7a8be58a228e7232087e967625bf3d6d",
          "sha256": "cc4fc581ad15838cce66530a6ab01241ac500e7e82a638b5ce6cfbb44562dffa"
        },
        "downloads": -1,
        "filename": "contextshare-0.1.1.tar.gz",
        "has_sig": false,
        "md5_digest": "7a8be58a228e7232087e967625bf3d6d",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.8",
        "size": 10266,
        "upload_time": "2021-02-23T22:27:12",
        "upload_time_iso_8601": "2021-02-23T22:27:12.115414Z",
        "url": "https://files.pythonhosted.org/packages/95/c1/ff49210997caacc316ff47a70e1277f5bec1fe17c2b559039515cfa6c5b5/contextshare-0.1.1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "186fed2e1dd3e900b5573546ed2d482c32a8084a3e61582508ae512e37113137",
        "md5": "c12ad24e99899bdea8a92f18b05fbeb9",
        "sha256": "f47bfaa7aff5212afdbcfa472e227e0045d40284d64f9318c9cd5cbababf8df1"
      },
      "downloads": -1,
      "filename": "contextshare-0.1.1-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "c12ad24e99899bdea8a92f18b05fbeb9",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": ">=3.8",
      "size": 4547,
      "upload_time": "2021-02-23T22:27:11",
      "upload_time_iso_8601": "2021-02-23T22:27:11.109781Z",
      "url": "https://files.pythonhosted.org/packages/18/6f/ed2e1dd3e900b5573546ed2d482c32a8084a3e61582508ae512e37113137/contextshare-0.1.1-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "95c1ff49210997caacc316ff47a70e1277f5bec1fe17c2b559039515cfa6c5b5",
        "md5": "7a8be58a228e7232087e967625bf3d6d",
        "sha256": "cc4fc581ad15838cce66530a6ab01241ac500e7e82a638b5ce6cfbb44562dffa"
      },
      "downloads": -1,
      "filename": "contextshare-0.1.1.tar.gz",
      "has_sig": false,
      "md5_digest": "7a8be58a228e7232087e967625bf3d6d",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": ">=3.8",
      "size": 10266,
      "upload_time": "2021-02-23T22:27:12",
      "upload_time_iso_8601": "2021-02-23T22:27:12.115414Z",
      "url": "https://files.pythonhosted.org/packages/95/c1/ff49210997caacc316ff47a70e1277f5bec1fe17c2b559039515cfa6c5b5/contextshare-0.1.1.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}