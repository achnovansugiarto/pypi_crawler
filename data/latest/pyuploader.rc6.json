{
  "info": {
    "author": "Daniel Nurkowski",
    "author_email": "danieln@cmclinnovations.com",
    "bugtrack_url": null,
    "classifiers": [],
    "description": "# Description #\n\nThe `pyuploader` package provides a simple python API for uploading files into file servers and triples, in form of owl files, into triple stores. The package aims to simplify and unify data uploads while working on the [TheWorldAvatar](https://github.com/cambridge-cares/TheWorldAvatar) project.\n\n# Installation #\nThese instructions will get you a copy of the project up and running on your local machine for development and testing purposes.\n\n## Virtual environment setup\n\nIt is highly recommended to use a [virtual environment](https://docs.python.org/3/tutorial/venv.html) for the `pyuploader` installation. The virtual environment can be created as follows:\n\n`(Windows)`\n\n```cmd\n$ python -m venv <venv_name>\n$ <venv_name>\\Scripts\\activate.bat\n(<venv_name>) $\n```\n\n`(Linux)`\n```sh\n$ python3 -m venv <venv_name>\n$ source <venv_name>/bin/activate\n(<venv_name>) $\n```\n\nThe above commands will create and activate the virtual environment `<venv_name>` in the current directory.\n\n## Installation via pip\n\nTo install the `pyuploader` simply run the following command:\n\n```sh\n(<venv_name>) $ pip install pyuploader\n```\n\n# File server and triple store API requirements #\n\nIn order to use the `pyuploader` tool for uploading files into the file server and triples into the triple store, both endpoints must accept the standard post requests. In case of the file server, if one wishes the `--subdirs` option to work, the request header must contain the following key value pair: `{'subDir': subdirs}` and the extra logic on how to handle this option needs to be provided on the server side. The `pyuploader` also expects the file server to return the uploaded file url in the server response `header['file']`. If that is missing, the `pyuploader` would simply return the server url.\n\n# Command line interface usage #\n\n## Uploaders CLI\n\n```bash\nUsage:\n    pyuploader ts_upload <file_or_dir> [options]\n    pyuploader fs_upload <file_or_dir> [options]\n\nOptions:\n--url=<url>             Upload endpoint. If not specified, the code\n                        will try to read it from a file whose location\n                        should be specified in an environment variable:\n                            KG_FILE_SERVER_SPECS - for file server uploads\n                            TRIPLE_STORE_SPECS - for triple store uploads\n--auth-file=<file>      File path to the secrets file containing the user\n                        authorization string of the following form:\n                        \"username:password\". If not specified, the code will\n                        try to read the secrets file path from an environment\n                        variable:\n                            KG_FILE_SERVER_SECRETS - for file server uploads\n                            TRIPLE_STORE_SECRETS - for triple store uploads\n                        DO NOT store your secrets directly in environment\n                        variables, only store the secrets file path.\n--no-auth               Disables reading credentials from the environment\n                        variables and sending it to the upload endpoint.\n--file-ext=<ext>        List of extensions used to select files\n                        that will be uploaded to the file server.\n                        Example: --file-ext='log,txt'\n                        Defaults to:\n                            all - for file server uploads\n                            owl - for triple store uploads\n--subdirs=<dir>         Optional subdirectories to be created on\n                        the file server to upload your files into.\n                        Example: --subdirs='dir1/dir2/'\n--log-file-name=<name>  Name of the generated log file.\n                        Defaults to:\n                            fs_uploader.log - for file server uploads\n                            ts_uploader.log - for triple store uploads\n--log-file-dir=<dir>    Path to the log file storing information of\n                        what has been uploaded and where. Defaults\n                        to the <file_or_dir> directory.\n--no-file-logging       No logging to a file flag.\n--dry-run               Run the file uploader tool in a dry\n                        run without uploading any files.\n```\n\n```bash\n# Example file server uploader usage\n# - upload single file,\n#   read the server url and auth from env variables\n$ pyuploader fs_upload file1.log\n# - upload single file,\n#   read the server auth from env variables\n$ pyuploader fs_upload file1.log --url=\"http://<server_url>\"\n# - upload single file,\n#   read the server url from env variables, do not use authorisation\n$ pyuploader fs_upload file1.log --url=\"http://<server_url>\" --no-auth\n# - upload all log, txt and tiff files in my_directory,\n#   read the server url and auth from env variables\n$ pyuploader fs_upload my_directory --file-ext=\"log,txt,tiff\"\n# - similar to the previous example, but it does not upload the files\n$ pyuploader fs_upload my_directory --file-ext=\"log,txt,tiff\" --dry-run\n```\n\n```bash\n# Example triple store uploader usage\n# - upload triples from a single file,\n#   read the triple store endpoint and auth from env variables\n$ pyuploader ts_upload file1.owl\n# - upload triples from a single file,\n#   read the triple store auth from env variables\n$ pyuploader ts_upload file1.owl --url=\"http://<triple_store_endpoint>\"\n# - upload triples from a single file,\n#   read the triple store endpoint from env variables, do not use authorisation\n$ pyuploader ts_upload file1.owl --url=\"http://<triple_store_endpoint>\" --no-auth\n# - upload triples from all owl files in my_directory,\n#   read the triple store endpoint and auth from env variables\n$ pyuploader ts_upload my_directory --file-ext=\"owl\"\n# - similar to the previous example, but it does not upload the triples\n$ pyuploader ts_upload my_directory --file-ext=\"owl\" --dry-run\n```\n# Module usage #\n\nApart from using `pyuploader` via its command line interface it is also possible to use it as a python module. The recommended way is to add the following import statement in your code:\n\n```python\nimport pyuploader as pyuploader\n```\n\nThe `pyuploader.get_uploader` is a factory function for creating file or triple store uploaders. The function's signature is as follows:\n\n```python\n#------------------------------------------------\n# SIGNATURE\ndef get_uploader(\n    uploader_type: str,                     # pass either pyuploader.FS_UPLOADER\n                                            # or pyuploader.TS_UPLOADER\n    url: Optional[str] = None,              # optional\n    auth_file: Optional[str] = None,        # optional\n    no_auth: bool = False,                  # optional\n    subdirs: Optional[str] = None,          # optional, pyuploader.FS_UPLOADER only\n    url_env_var: Optional[str] = None,      # optional, name of the env variable that stores the uploader\n                                            # url, if not provided, defaults will be used\n    auth_file_env_var: Optional[str] = None # optional, name of the env variable that stores the uploader\n                                            # auth file path, if not provided, defaults will be used\n    ) -> Uploader:\n\n    ...\n#------------------------------------------------\n\n# Example creation of the file uploader,\n# url and auth details to be read from\n# the system env variables\nfile_uploader = pyuploader.get_uploader(\n    uploader_type=pyuploader.FS_UPLOADER)\n\n# Example creation of the triple store uploader,\n# triple store endpoint and auth details to be read from\n# the system env variables\ntriple_store_uploader = pyuploader.get_uploader(\n    uploader_type=pyuploader.TS_UPLOADER)\n\nuploaded_locations = uploader.upload(\n    file_or_dir=file_or_dir,\n    file_ext=file_ext,\n    dry_run=dry_run\n    )\n# where the \"uploaded_locations\" return value will contain:\n# - file uploader case\n#    *  {file_path: file_url} key - value pairs\n#       if file server supports it\n#    *  {file_path: server_url} key - value pairs\n#       if file server does not support it\n#\n# - triple store uploader case\n#    *  {file_path: triple_store_upload_endpoint} key - value pairs.\n```\n\n# Authors #\nDaniel Nurkowski (danieln@cmclinnovations.com), 09 December 2021\n\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/cambridge-cares/TheWorldAvatar/tree/develop/JPS_BASE_LIB/python_uploader",
    "keywords": "",
    "license": "MIT",
    "maintainer": "",
    "maintainer_email": "",
    "name": "pyuploader",
    "package_url": "https://pypi.org/project/pyuploader/",
    "platform": null,
    "project_url": "https://pypi.org/project/pyuploader/",
    "project_urls": {
      "Homepage": "https://github.com/cambridge-cares/TheWorldAvatar/tree/develop/JPS_BASE_LIB/python_uploader"
    },
    "release_url": "https://pypi.org/project/pyuploader/1.2.0/",
    "requires_dist": [
      "py4jps (>=1.0.18)",
      "docopt",
      "requests"
    ],
    "requires_python": ">=3.5",
    "summary": "pyuploader is a simple command line tool for uploading data to a triple store and a file server.",
    "version": "1.2.0",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 13421800,
  "releases": {
    "1.0.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "0fd9ac6442ff7b02e3fad342c1d8c5cf074f539833be418363704f0a409c26b1",
          "md5": "b4c545aa3d1d11299b74ac6970850047",
          "sha256": "a784e816264207827f16ab8aa0a32507d0b8d4b59b7dd200405d8ca3459e0a83"
        },
        "downloads": -1,
        "filename": "pyuploader-1.0.1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "b4c545aa3d1d11299b74ac6970850047",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.5",
        "size": 13945,
        "upload_time": "2021-12-09T17:04:57",
        "upload_time_iso_8601": "2021-12-09T17:04:57.998305Z",
        "url": "https://files.pythonhosted.org/packages/0f/d9/ac6442ff7b02e3fad342c1d8c5cf074f539833be418363704f0a409c26b1/pyuploader-1.0.1-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "e5146223f563014a43ebd2a0616a74193bc783be8460497c008d3cbb8c169104",
          "md5": "ade2bd6fcd5e50cd765dc96bbde32c3e",
          "sha256": "7666c6bf92f6c5cf641f422aafe59b1f8476f415396a2a191f28743d94e7c574"
        },
        "downloads": -1,
        "filename": "pyuploader-1.0.1.tar.gz",
        "has_sig": false,
        "md5_digest": "ade2bd6fcd5e50cd765dc96bbde32c3e",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.5",
        "size": 9849,
        "upload_time": "2021-12-09T17:04:59",
        "upload_time_iso_8601": "2021-12-09T17:04:59.782622Z",
        "url": "https://files.pythonhosted.org/packages/e5/14/6223f563014a43ebd2a0616a74193bc783be8460497c008d3cbb8c169104/pyuploader-1.0.1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.0.3": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "118dc39b9dd53d7a7fa1c712e5a88cea3fd736928b5969f056851b0017f9a300",
          "md5": "4932dd88fcc6b7a7c14673379264d7d4",
          "sha256": "fbcb53fd1a63672ff6332b2d210781bd73bff2e3043593d82cc7a0b35a0a633d"
        },
        "downloads": -1,
        "filename": "pyuploader-1.0.3-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "4932dd88fcc6b7a7c14673379264d7d4",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.5",
        "size": 14252,
        "upload_time": "2021-12-10T10:52:05",
        "upload_time_iso_8601": "2021-12-10T10:52:05.280843Z",
        "url": "https://files.pythonhosted.org/packages/11/8d/c39b9dd53d7a7fa1c712e5a88cea3fd736928b5969f056851b0017f9a300/pyuploader-1.0.3-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "1395334e727bbdf05e9c393cff7fab00537702b1cce737c84e64a0a4c1f04359",
          "md5": "8e6495543ed89e589a81d58bc64715dc",
          "sha256": "07ddf4152a05077f7bcaf69513570c89a7bffa0e9aab76401985d2ea752230e7"
        },
        "downloads": -1,
        "filename": "pyuploader-1.0.3.tar.gz",
        "has_sig": false,
        "md5_digest": "8e6495543ed89e589a81d58bc64715dc",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.5",
        "size": 10503,
        "upload_time": "2021-12-10T10:52:06",
        "upload_time_iso_8601": "2021-12-10T10:52:06.593978Z",
        "url": "https://files.pythonhosted.org/packages/13/95/334e727bbdf05e9c393cff7fab00537702b1cce737c84e64a0a4c1f04359/pyuploader-1.0.3.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.0.7": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "5727fcb1420801b619ae73925c009c7aa12ecc58780d16a0dddd377d5b1e6ef6",
          "md5": "a0825830d3e21659664feef72e2b679e",
          "sha256": "349c037188af492299d536ff4afc1bea6680c95c4c04b4bdf09a9b0a7d09599d"
        },
        "downloads": -1,
        "filename": "pyuploader-1.0.7-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "a0825830d3e21659664feef72e2b679e",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.5",
        "size": 14252,
        "upload_time": "2021-12-10T13:05:56",
        "upload_time_iso_8601": "2021-12-10T13:05:56.272962Z",
        "url": "https://files.pythonhosted.org/packages/57/27/fcb1420801b619ae73925c009c7aa12ecc58780d16a0dddd377d5b1e6ef6/pyuploader-1.0.7-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "429701acde88f7c9a1436439a4c5f859d294aca6de1f6537237f1155a86d61b0",
          "md5": "5a6d57efce4d1a4febe7aac57a0fa49b",
          "sha256": "8de8d80c3e2ef72dcfdba37c65f75a34ef58ffb6b552117c75db0c22883cc2ab"
        },
        "downloads": -1,
        "filename": "pyuploader-1.0.7.tar.gz",
        "has_sig": false,
        "md5_digest": "5a6d57efce4d1a4febe7aac57a0fa49b",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.5",
        "size": 10508,
        "upload_time": "2021-12-10T13:05:57",
        "upload_time_iso_8601": "2021-12-10T13:05:57.589091Z",
        "url": "https://files.pythonhosted.org/packages/42/97/01acde88f7c9a1436439a4c5f859d294aca6de1f6537237f1155a86d61b0/pyuploader-1.0.7.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.0.8": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "8b6089afff871a8eddfd63caab2d14962c3733785b5211bc96dc9fd2390fe44c",
          "md5": "23d5c8b6ccc8f7dfc154360bb0162b70",
          "sha256": "bfe8c98a6f0aa1c79398d73eccd89e1d8da168d567082a19b06f0865a79f0a78"
        },
        "downloads": -1,
        "filename": "pyuploader-1.0.8-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "23d5c8b6ccc8f7dfc154360bb0162b70",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.5",
        "size": 13108,
        "upload_time": "2022-03-15T13:31:33",
        "upload_time_iso_8601": "2022-03-15T13:31:33.402524Z",
        "url": "https://files.pythonhosted.org/packages/8b/60/89afff871a8eddfd63caab2d14962c3733785b5211bc96dc9fd2390fe44c/pyuploader-1.0.8-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "4ac215330b47663817d86af6e378887e1a4f6c7cadffea642edfe0ca0f9cf135",
          "md5": "262fcb24c8b19dc4f65cea613d684d9b",
          "sha256": "eccc32f69509c46f20d83d422c72475a0ca94366d909b511248d376dd69f1863"
        },
        "downloads": -1,
        "filename": "pyuploader-1.0.8.tar.gz",
        "has_sig": false,
        "md5_digest": "262fcb24c8b19dc4f65cea613d684d9b",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.5",
        "size": 10271,
        "upload_time": "2022-03-15T13:31:35",
        "upload_time_iso_8601": "2022-03-15T13:31:35.073629Z",
        "url": "https://files.pythonhosted.org/packages/4a/c2/15330b47663817d86af6e378887e1a4f6c7cadffea642edfe0ca0f9cf135/pyuploader-1.0.8.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.1.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "43eb621645cae46221752959ccebea33ba155b9fbc58df60127de0e0f9d5749a",
          "md5": "84a672e4939d254576d4a10c7b5dd149",
          "sha256": "3c3a61285e0ea0c6d07020ee616af1203939460c26a149295c3cd93573866f58"
        },
        "downloads": -1,
        "filename": "pyuploader-1.1.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "84a672e4939d254576d4a10c7b5dd149",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.5",
        "size": 13405,
        "upload_time": "2022-03-17T15:08:37",
        "upload_time_iso_8601": "2022-03-17T15:08:37.533147Z",
        "url": "https://files.pythonhosted.org/packages/43/eb/621645cae46221752959ccebea33ba155b9fbc58df60127de0e0f9d5749a/pyuploader-1.1.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "49d96529722b0b21c8a469199c2980dec869154040fff814eba63d50eca46d28",
          "md5": "4d81409fc11e07e7663c60cb3bb99bfc",
          "sha256": "eeefca224706921beff0204c1568bfe4c127ca6ddf42ecb6fe060578daa895a7"
        },
        "downloads": -1,
        "filename": "pyuploader-1.1.0.tar.gz",
        "has_sig": false,
        "md5_digest": "4d81409fc11e07e7663c60cb3bb99bfc",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.5",
        "size": 10503,
        "upload_time": "2022-03-17T15:08:39",
        "upload_time_iso_8601": "2022-03-17T15:08:39.484140Z",
        "url": "https://files.pythonhosted.org/packages/49/d9/6529722b0b21c8a469199c2980dec869154040fff814eba63d50eca46d28/pyuploader-1.1.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.2.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "aeeeb24323f20533131cc7c17dbe1f035526f3ba7efc53dcd5bd8624f7b3d3f0",
          "md5": "420f6121a55a04f2ff6b8987b5544541",
          "sha256": "fe8c796f8d6e1ebf272a2fb3cdc86354bb904086b5da3db4a037983b94aacd64"
        },
        "downloads": -1,
        "filename": "pyuploader-1.2.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "420f6121a55a04f2ff6b8987b5544541",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.5",
        "size": 13467,
        "upload_time": "2022-04-05T22:45:34",
        "upload_time_iso_8601": "2022-04-05T22:45:34.066065Z",
        "url": "https://files.pythonhosted.org/packages/ae/ee/b24323f20533131cc7c17dbe1f035526f3ba7efc53dcd5bd8624f7b3d3f0/pyuploader-1.2.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "011b468bdbd9494a9c915df8f9c19f56a10ad3ae882aaf4348fc8308c4fe5094",
          "md5": "fc410fdea9c653dc8497cb94864e5592",
          "sha256": "4d069cbe22b285296b965b76c6b492c90088c7da83fbfc063fbbd7c56bb5ff4f"
        },
        "downloads": -1,
        "filename": "pyuploader-1.2.0.tar.gz",
        "has_sig": false,
        "md5_digest": "fc410fdea9c653dc8497cb94864e5592",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.5",
        "size": 10434,
        "upload_time": "2022-04-05T22:45:35",
        "upload_time_iso_8601": "2022-04-05T22:45:35.917162Z",
        "url": "https://files.pythonhosted.org/packages/01/1b/468bdbd9494a9c915df8f9c19f56a10ad3ae882aaf4348fc8308c4fe5094/pyuploader-1.2.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "aeeeb24323f20533131cc7c17dbe1f035526f3ba7efc53dcd5bd8624f7b3d3f0",
        "md5": "420f6121a55a04f2ff6b8987b5544541",
        "sha256": "fe8c796f8d6e1ebf272a2fb3cdc86354bb904086b5da3db4a037983b94aacd64"
      },
      "downloads": -1,
      "filename": "pyuploader-1.2.0-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "420f6121a55a04f2ff6b8987b5544541",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": ">=3.5",
      "size": 13467,
      "upload_time": "2022-04-05T22:45:34",
      "upload_time_iso_8601": "2022-04-05T22:45:34.066065Z",
      "url": "https://files.pythonhosted.org/packages/ae/ee/b24323f20533131cc7c17dbe1f035526f3ba7efc53dcd5bd8624f7b3d3f0/pyuploader-1.2.0-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "011b468bdbd9494a9c915df8f9c19f56a10ad3ae882aaf4348fc8308c4fe5094",
        "md5": "fc410fdea9c653dc8497cb94864e5592",
        "sha256": "4d069cbe22b285296b965b76c6b492c90088c7da83fbfc063fbbd7c56bb5ff4f"
      },
      "downloads": -1,
      "filename": "pyuploader-1.2.0.tar.gz",
      "has_sig": false,
      "md5_digest": "fc410fdea9c653dc8497cb94864e5592",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": ">=3.5",
      "size": 10434,
      "upload_time": "2022-04-05T22:45:35",
      "upload_time_iso_8601": "2022-04-05T22:45:35.917162Z",
      "url": "https://files.pythonhosted.org/packages/01/1b/468bdbd9494a9c915df8f9c19f56a10ad3ae882aaf4348fc8308c4fe5094/pyuploader-1.2.0.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}