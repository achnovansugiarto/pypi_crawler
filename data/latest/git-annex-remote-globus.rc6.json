{
  "info": {
    "author": "Giulia Ippoliti",
    "author_email": "giuly.ippoliti@gmail.com",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 3 - Alpha",
      "Intended Audience :: Developers",
      "Programming Language :: Python :: 3 :: Only",
      "Programming Language :: Python :: 3.4",
      "Programming Language :: Python :: 3.5",
      "Programming Language :: Python :: 3.6",
      "Topic :: Software Development :: Libraries"
    ],
    "description": "# git-annex special remote for Globus \n\ngit-annex-remote-globus adds to git-annex the ability to retrieve files present in [Globus.org](https://www.globus.org/).\n\n\n## Requirements\n\n* Datalad\n* Git annex\n\n\n## How to use \n\n1. Initialize a virtual environment\n2. Install the repository with ``` pip install git-annex-remote-globus```\n3. Install the dataset to be retrieved via the remote ```datalad install -r <dataset>```and ```cd <dataset>```. \n4. If it is the first time a user uses globus remote, authentication to Globus.ors must take place to continue\n    Thus run ```git-annex-remote-globus setup``` anf follow the steps. Gmail and ORCHID are supported\n5. If the dataset was previously registered, which is expected, it is enough to enable the globus remote by running:\n\n    ```git annex enableremote globus```\n\n6. Try to download the desired file with\n\n    ```datalad get path/to/file```\n\nIf every step was followed correctly, it will get successfully downloaded !\n\n\n## Procedure for testing changes in the globus remote\n\nThis procedure is only for testing purposes:\n\n1. git clone this repository: ``` git clone https://github.com/CONP-PCNO/git-annex-remote-globus.git``` and checkout the branch you want to test\n    with `git checkout -a <branch>`. Using a virtual environment is suggested\n2. In a different folder, install the following dataset: ```datalad install -r <dataset>```and ```cd <dataset>```. \nFrom now on we are going to work from the dataset repo location where you cd'ed\n3. Add the path of your git-annex-remote-globus location to your current dataset PATH\n4. In the repository, run `git-annex-remote-globus setup` and follow the instructions to authenticate. Gmail and ORCHID are supported\n    If may you need in a fresh virtual env, install dependencies specified. It will work after that\n5. Run `git annex enableremote globus`. This command should initialize the remote successfully if everything went all right\n6. Try to download any file with `git annex get path/to/file`\n\n\n## Manually registering a dataset with globus remote (internals)\n\nNote: this procedure is a demonstration of how a dataset file present in Globus.org can be retrieved by git-annex. The following steps can\nbe performed manually or can be automated as described in [globus tools](https://github.com/CONP-PCNO/globus-tools-for-dataset-addition). \nThe latter repo provides dataset administrators with an automated and efficient way to register globus datasets with git annex so that git annex can \nretrieve their content from Globus.org. Once a dataset is registered for the first time, \nusers will be able to access the dataset files via git annex or datalad following the 'How to use' procedure above. \n\nIn order to understand how the globus remote works internally and how to register a globus file with git-annex, we can use an example dataset file currently present in Globus.org. \nThe content of the dataset file is not available to us because the file on github consists in a symlink generated by annex. The symlink was generated once\nthe file dataset was added to CONP following thi [procedure] ()\nFirst the globus remote must be initialized to start the process. Then the file (whose content is in Globus) can be registered with git annex\nwhich will then be able to get access to its Globus location to retrieve the file content and send it to us. Therefore we can access the file content!\n\nThe following steps are usually performed when datasets files get registered with a git annex remote \nfor the first time. Dedicated tools, i.e. [globus tools](https://github.com/CONP-PCNO/globus-tools-for-dataset-addition) automate this process, but the point of this section is to explain in details what\nhappens when datasets are registered in the first place. So initialization first. \nWe use [this](https://github.com/conpdatasets/FRDR-multimodal.git) repository as an example and install it with ``datalad``\n\n```\ncd FRDR-multimodal\n```\n\n```\ngit annex initremote globus type=external externaltype=globus encryption=none endpoint=FRDR_Prod_2 fileprefix=/5/published/publication_170/submitted_data/\n```\nTo debug `git-annex initremote --debug`.\n\nThe endpoint and prefix are obtained from the globus location of the file available in Globus.org\n\nRun the following to find the file symlink, which includes the file hash\n\n```\nll 2015_11_18_cortex/mask/mask.mat\n```\n\nThe last command will allow you to visualize the symlink which contains the [MD6 hash](https://en.wikipedia.org/wiki/MD5) of the file content.\nAt this point, globus does not know anything about this file and its symlink, as you can see running the following command\n\n```\ngit annex whereis 2015_11_18_cortex/mask/mask.mat\n```\n\nGlobus is not listed indeed. We now need to tell globus of the existence of the file based on its hash, which we call key.\nWhen initialized, globus was given a location ID by annex which distributes one to every remote it communicates with.\nWe can find Globus location ID by running the following command from the dataset root location:\n\n```\ncat .git/config\n```\n\nThis file shows the remote \"globus\" which we just initialized, and the globus remote location ID given by annex. \nTherefore we need to make this location know about the file we want to retrieve.\n\nTo do that, run:\n\n```\ngit annex setpresentkey <file_hash> <annex-uuid> 1\n```\n\nFor example, for the file we are working with 2015_11_18_cortex/mask/mask.mat we would run:\n\n```\ngit annex setpresentkey MD5E-s572--1e5e0b0c5896d16ac14170c8f546d4e1.mat 056ae102-61ce-4417-9180-b45eecc45082 1\n```\n\nThe 1 at the end tells globus about the existence of this file with its given key. A 0 would remove knowledge of the file\n\nNow, to make sure globus knows about this file, we can run the command below.\n\n``` \ngit annex whereis 2015_11_18_cortex/mask/mask.mat\n```\n\nAt this point we can go ahead and register a url to be associated with the given file key. In this way, we will connect the points and tell annex where in globus\nthe file is located, so it can reach it. Therefore we will add a globus url which will contain the endpoint name and fileprefix:\n\n```\ngit annex registerurl MD5E-s572--1e5e0b0c5896d16ac14170c8f546d4e1.mat globus://frdr_prod_2/5/published/publication_170/submitted_data/2015_11_18_cortex/mask/mask.mat\n```\n\nAt this point we can finally obtain the file running the command below\n```\ngit annex get 2015_11_18_cortex/mask/mask.mat\n```\n\nThis is the point where the file becomes available on your machine\n\nYou can run whereis again to check that\n\n``` \ngit annex whereis 2015_11_18_cortex/mask/mask.mat\n```\n\n\nMoreover you can always run the following command if you want to mack sure the file has not been modified in globus compared to your previously downloaded version\nby using the annex-uuid again\n\n```\ngit annex checkpresentkey MD5E-s572--1e5e0b0c5896d16ac14170c8f546d4e1.mat 056ae102-61ce-4417-9180-b45eecc45082\n```\n\nIt will return Success if the file in Globus has not change\n\n\n## Issues, Contributing\n\nIf you run into any problems, please check for issues on [GitHub](https://github.com/CONP-PCNO/git-annex-remote-globus/issues).\nPlease submit a pull request or create a new issue for problems or potential improvements.\n\n## License\n\nMIT\n\n\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/CONP-PCNO/git-annex-remote-globus",
    "keywords": "git-annex remote globus",
    "license": "MIT",
    "maintainer": "",
    "maintainer_email": "",
    "name": "git-annex-remote-globus",
    "package_url": "https://pypi.org/project/git-annex-remote-globus/",
    "platform": "",
    "project_url": "https://pypi.org/project/git-annex-remote-globus/",
    "project_urls": {
      "Homepage": "https://github.com/CONP-PCNO/git-annex-remote-globus"
    },
    "release_url": "https://pypi.org/project/git-annex-remote-globus/1.2.3/",
    "requires_dist": [
      "annexremote (==1.3.1)",
      "fair-research-login",
      "globus-sdk"
    ],
    "requires_python": "",
    "summary": "git annex special remote for Globus",
    "version": "1.2.3",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 8006547,
  "releases": {
    "1.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "42ba1efc4eb38b1460fcbfa790e58d567af763cc4198869a1dd6d98f70e62221",
          "md5": "cd6371ca504ea9d3adc273f4499ca6cd",
          "sha256": "3e519c539fc4af314ee63b212111d7be0aa37ea7a9ecf434190cf293c612f44c"
        },
        "downloads": -1,
        "filename": "git_annex_remote_globus-1.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "cd6371ca504ea9d3adc273f4499ca6cd",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 9426,
        "upload_time": "2020-01-23T17:02:54",
        "upload_time_iso_8601": "2020-01-23T17:02:54.353128Z",
        "url": "https://files.pythonhosted.org/packages/42/ba/1efc4eb38b1460fcbfa790e58d567af763cc4198869a1dd6d98f70e62221/git_annex_remote_globus-1.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "9255c54b407406d0c71c7eef35bc2d6e4d2639a6133e5c465353e72a80ccd6ba",
          "md5": "e9d85951109df5f54f8c2e9668481afa",
          "sha256": "c769891ec407e1427202f624185ec7e2d0718d24feec25b2a1474ca518d20e20"
        },
        "downloads": -1,
        "filename": "git-annex-remote-globus-1.0.tar.gz",
        "has_sig": false,
        "md5_digest": "e9d85951109df5f54f8c2e9668481afa",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 11488,
        "upload_time": "2020-01-23T17:02:56",
        "upload_time_iso_8601": "2020-01-23T17:02:56.907746Z",
        "url": "https://files.pythonhosted.org/packages/92/55/c54b407406d0c71c7eef35bc2d6e4d2639a6133e5c465353e72a80ccd6ba/git-annex-remote-globus-1.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "4c0332a52c139f43c7c5a6fae3e2f2c48fb7925d70485c6f84617928ac7caa3b",
          "md5": "559538a7bd0ecf537d26ac961b79ddb8",
          "sha256": "403c1a093a17ce615dea79535f3eb1801c0a6083d35d13182cf6d6721216340c"
        },
        "downloads": -1,
        "filename": "git_annex_remote_globus-1.1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "559538a7bd0ecf537d26ac961b79ddb8",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 9368,
        "upload_time": "2020-03-26T15:56:24",
        "upload_time_iso_8601": "2020-03-26T15:56:24.878956Z",
        "url": "https://files.pythonhosted.org/packages/4c/03/32a52c139f43c7c5a6fae3e2f2c48fb7925d70485c6f84617928ac7caa3b/git_annex_remote_globus-1.1-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "4c2b0fdb97a3c7e1b262b39af91f234cf48adda052dfaa6a512f3ca5240399ef",
          "md5": "f7941a242f298e573d993d3da3ff88ef",
          "sha256": "3fe4e2f26bc3151413034097307b81c79e1aab32ea61bcca48c7ed033684b269"
        },
        "downloads": -1,
        "filename": "git-annex-remote-globus-1.1.tar.gz",
        "has_sig": false,
        "md5_digest": "f7941a242f298e573d993d3da3ff88ef",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 11140,
        "upload_time": "2020-03-26T15:56:26",
        "upload_time_iso_8601": "2020-03-26T15:56:26.233589Z",
        "url": "https://files.pythonhosted.org/packages/4c/2b/0fdb97a3c7e1b262b39af91f234cf48adda052dfaa6a512f3ca5240399ef/git-annex-remote-globus-1.1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.2": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "aa2df1ec2ca922a1cc46ba7acbcd44602c988ccdf74f4ff4aa6e31e7398f9fed",
          "md5": "97493a98dd84d20ac7ad5e7daba562dc",
          "sha256": "28573f2a3776deeb3124b61b9c22558d0820bb4d7f4e8184ed423d950561f3e6"
        },
        "downloads": -1,
        "filename": "git_annex_remote_globus-1.2-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "97493a98dd84d20ac7ad5e7daba562dc",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 9396,
        "upload_time": "2020-04-02T18:00:07",
        "upload_time_iso_8601": "2020-04-02T18:00:07.891528Z",
        "url": "https://files.pythonhosted.org/packages/aa/2d/f1ec2ca922a1cc46ba7acbcd44602c988ccdf74f4ff4aa6e31e7398f9fed/git_annex_remote_globus-1.2-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "237728651cb6967885ffed7e0d900143293a933660afbb97280c3829aed82045",
          "md5": "221829021c12b63b906a01c8d7a934ea",
          "sha256": "05a71c308633f9a73cc1a1cb9f1e117ca5c90986d6beaf30b560b2bfc25d0075"
        },
        "downloads": -1,
        "filename": "git-annex-remote-globus-1.2.tar.gz",
        "has_sig": false,
        "md5_digest": "221829021c12b63b906a01c8d7a934ea",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 11183,
        "upload_time": "2020-04-02T18:00:09",
        "upload_time_iso_8601": "2020-04-02T18:00:09.300061Z",
        "url": "https://files.pythonhosted.org/packages/23/77/28651cb6967885ffed7e0d900143293a933660afbb97280c3829aed82045/git-annex-remote-globus-1.2.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.2.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "2ab98392d79259a80861e5f4db80f2fe77969fb195d438fbcd0372339f8c1a8f",
          "md5": "79f68d1cab3013e9573d8a5d6c822a45",
          "sha256": "3336cfcb8dba636a4598d63f366c9aad8626eb28cc292984802bb01c551f4a69"
        },
        "downloads": -1,
        "filename": "git_annex_remote_globus-1.2.1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "79f68d1cab3013e9573d8a5d6c822a45",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 9422,
        "upload_time": "2020-04-02T18:33:44",
        "upload_time_iso_8601": "2020-04-02T18:33:44.834907Z",
        "url": "https://files.pythonhosted.org/packages/2a/b9/8392d79259a80861e5f4db80f2fe77969fb195d438fbcd0372339f8c1a8f/git_annex_remote_globus-1.2.1-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "f087ff398974d652bb327e0064ddce3e931cd0b88e77cd92452dcd37aa92c4ed",
          "md5": "385d79c2f59805fba803c1ed20ff9e24",
          "sha256": "afa91ecac123c41f8a3687dab3e0a907bebcb63990ae20153aa18960b379955c"
        },
        "downloads": -1,
        "filename": "git-annex-remote-globus-1.2.1.tar.gz",
        "has_sig": false,
        "md5_digest": "385d79c2f59805fba803c1ed20ff9e24",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 11190,
        "upload_time": "2020-04-02T18:33:46",
        "upload_time_iso_8601": "2020-04-02T18:33:46.114763Z",
        "url": "https://files.pythonhosted.org/packages/f0/87/ff398974d652bb327e0064ddce3e931cd0b88e77cd92452dcd37aa92c4ed/git-annex-remote-globus-1.2.1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.2.2": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "6e415275ac2f2248fc44cc607458f13123906462a2ff1ff174a66b5fd626d16e",
          "md5": "8db540829dbc5c6a1e556fc1b3912e75",
          "sha256": "7edd74272665ff5e2d506af9692978bb45e46be4f49b95a9ee732729d105ab11"
        },
        "downloads": -1,
        "filename": "git_annex_remote_globus-1.2.2-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "8db540829dbc5c6a1e556fc1b3912e75",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 9433,
        "upload_time": "2020-04-03T16:41:47",
        "upload_time_iso_8601": "2020-04-03T16:41:47.503141Z",
        "url": "https://files.pythonhosted.org/packages/6e/41/5275ac2f2248fc44cc607458f13123906462a2ff1ff174a66b5fd626d16e/git_annex_remote_globus-1.2.2-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "8b01d5be1a0f7b2648d8137a00570b27a2ef4301ba00aed16bc26254e7e25edf",
          "md5": "b5e068013b640eac12729aa1ec0d70ed",
          "sha256": "b987d7743ca7bd5344388918fae6a4f6ccd902c5b136db5826f47d01a52d4ed4"
        },
        "downloads": -1,
        "filename": "git-annex-remote-globus-1.2.2.tar.gz",
        "has_sig": false,
        "md5_digest": "b5e068013b640eac12729aa1ec0d70ed",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 11202,
        "upload_time": "2020-04-03T16:41:48",
        "upload_time_iso_8601": "2020-04-03T16:41:48.813634Z",
        "url": "https://files.pythonhosted.org/packages/8b/01/d5be1a0f7b2648d8137a00570b27a2ef4301ba00aed16bc26254e7e25edf/git-annex-remote-globus-1.2.2.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.2.3": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "c424e2b2d1d7b63f403dc514e1d5c53e621bfe0b0fc32aca0fde12db7826875c",
          "md5": "d8bdb0a5bd76bbeb3e388c4419a97aae",
          "sha256": "65192a1a7865a7825036999019b942b54e6158cde30aab55af2a07f61cfc2e0a"
        },
        "downloads": -1,
        "filename": "git_annex_remote_globus-1.2.3-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "d8bdb0a5bd76bbeb3e388c4419a97aae",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 9688,
        "upload_time": "2020-08-20T18:28:22",
        "upload_time_iso_8601": "2020-08-20T18:28:22.078404Z",
        "url": "https://files.pythonhosted.org/packages/c4/24/e2b2d1d7b63f403dc514e1d5c53e621bfe0b0fc32aca0fde12db7826875c/git_annex_remote_globus-1.2.3-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "53827d178ae7553300990566722f90a54696923de3ccc0fcb65b0a35ef754c40",
          "md5": "cdc2a93cc2fc73e8cab06e8cb7491f2a",
          "sha256": "d196ba8fbad6397dda03a8a8274fa5d76bdb406b6b674551ccc112badf6db4a8"
        },
        "downloads": -1,
        "filename": "git-annex-remote-globus-1.2.3.tar.gz",
        "has_sig": false,
        "md5_digest": "cdc2a93cc2fc73e8cab06e8cb7491f2a",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 11835,
        "upload_time": "2020-08-20T18:28:23",
        "upload_time_iso_8601": "2020-08-20T18:28:23.348501Z",
        "url": "https://files.pythonhosted.org/packages/53/82/7d178ae7553300990566722f90a54696923de3ccc0fcb65b0a35ef754c40/git-annex-remote-globus-1.2.3.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "c424e2b2d1d7b63f403dc514e1d5c53e621bfe0b0fc32aca0fde12db7826875c",
        "md5": "d8bdb0a5bd76bbeb3e388c4419a97aae",
        "sha256": "65192a1a7865a7825036999019b942b54e6158cde30aab55af2a07f61cfc2e0a"
      },
      "downloads": -1,
      "filename": "git_annex_remote_globus-1.2.3-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "d8bdb0a5bd76bbeb3e388c4419a97aae",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": null,
      "size": 9688,
      "upload_time": "2020-08-20T18:28:22",
      "upload_time_iso_8601": "2020-08-20T18:28:22.078404Z",
      "url": "https://files.pythonhosted.org/packages/c4/24/e2b2d1d7b63f403dc514e1d5c53e621bfe0b0fc32aca0fde12db7826875c/git_annex_remote_globus-1.2.3-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "53827d178ae7553300990566722f90a54696923de3ccc0fcb65b0a35ef754c40",
        "md5": "cdc2a93cc2fc73e8cab06e8cb7491f2a",
        "sha256": "d196ba8fbad6397dda03a8a8274fa5d76bdb406b6b674551ccc112badf6db4a8"
      },
      "downloads": -1,
      "filename": "git-annex-remote-globus-1.2.3.tar.gz",
      "has_sig": false,
      "md5_digest": "cdc2a93cc2fc73e8cab06e8cb7491f2a",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": null,
      "size": 11835,
      "upload_time": "2020-08-20T18:28:23",
      "upload_time_iso_8601": "2020-08-20T18:28:23.348501Z",
      "url": "https://files.pythonhosted.org/packages/53/82/7d178ae7553300990566722f90a54696923de3ccc0fcb65b0a35ef754c40/git-annex-remote-globus-1.2.3.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}