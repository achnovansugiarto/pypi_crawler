{
  "info": {
    "author": "Benoit Hamelin",
    "author_email": "benoit@benoithamelin.com",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 3 - Alpha",
      "Intended Audience :: Developers",
      "License :: OSI Approved :: MIT License",
      "Programming Language :: Python :: 3",
      "Topic :: Software Development :: Interpreters"
    ],
    "description": "# Article-HTML exporter and template for nbconvert\n\nThis package provides an exporter and template to render a Jupyter notebook into a self-contained HTML file whose layout is similar to a LaTeX article.\nSuch documents are presented so as to facilitate their reading and perusal both on a print-out and a screen,\nall in an economical text format whose low-level inspection and repair is easy.\nSee an [example](examples/Demonstration%20EN.html) to get the gist.\n\n## Installing\n\nFrom PyPI:\n\n```sh\npip install nbconvert-article-html\n```\n\n## Usage\n\nThe simplest way to use this package is to invoke nbconvert from the command line:\n\n```bash\njupyter nbconvert --to article-html my-notebook.ipynb\n```\n\nAs is [well known](https://nbconvert.readthedocs.io/en/latest/nbconvert_library.html), one may also run this from Python code:\n\n```python\nfrom nbconvert_article_html import ArticleHTMLExporter\n\nexporter = ArticleHTMLExporter()\nhtml, resources = exporter.from_filename(\"examples/Demonstration FR.html\")\n```\n\n## Writing the source notebook\n\nThe source document for the final article is a single Jupyter notebook, mainly composed of Markdown cells, as well as the odd code cells.\nThe exporter and template make heavy use of notebook and cell metadata.\nIf anything below feels unclear, please take a look at either the demonstration notebook in [English](examples/Demonstration%20EN.html) or [French](examples/Demonstration%20FR.html).\n\n### Language, title, authors and date\n\nFour fields of the metadata of the notebook get rendered into a header for the final document:\n\n`language`\n\n> The [ISO 639-1](https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes) two-letter code for the language in which the notebook is written.\n> This is used to internationalize the rendering of the final article, so that the abstract's heading is rendered as *Abstract* in English, *Résumé* in French, and so on.\n> So far, only languages `en` and `fr` are supported.\n\n`title`\n\n> The title of the document.\n\n`authors`\n\n> The list of authors of the document.\n> To make way for future versions of this notebook that may leverage further information about authors,\n> each author in the list should be written up as an object, with at least a `name` field indicating their name.\n\n`date`\n\n> The date used to timestamp the document just below the author list.\n> Any string can be used here.\n> If no date is provided, the current day's date is used, formatted like `yyyy-mm-dd`.\n\n### Abstract\n\nThe document can be given a short abstract.\nIt is written up in cells given the tag `abstract`.\nThese tagged cells are taken out of the document's body and rendered at the top of the document, just below its opening header.\n\n### Labels and references\n\nThis exporter and template favor an authoring style where each paragraph and \"spacy\" component of the document is written in its own cell.\nThis facilitates the labeling and referencing of every component.\n\nThe LaTeX typesetting system has set the standard for internal references, through its `\\label` and `\\ref` constructs.\nWe take inspiration from these constructs, leveraging the features of the Jupyter notebook used as a source document.\nThe way a `\\label` numbers artifacts in context in a LaTeX file,\n`article-html` labels specific notebook cells.\nTo do so, one adds a `label` metadata field to a cell to mark,\nassociated to an object that indicates the marking context and unique name to give it.\n\nAnywhere in the document, a labeled component can be referenced using a small extension to the Markdown syntax.\nAssuming that the component was marked in context `ctx` and was given the unique name `name`,\none refers to this component with the construct\n\n```\n^[](ctx:name)\n```\n\nThis will render a context-specific link to an internal [HTML anchor](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a) associated to the component that will include the number.\nTo determine the text of this link, one can write\n\n```\n^[component no {}](ctx:name)\n```\n\nThe `{}` placeholder will be substituted with the number associated to the component.\nThe following details the components whose labeling was implemented, and the conventions that facilitate the best rendering of their automatic numbering.\n\n#### Headings\n\nThe system assumes that a heading cell starts with a heading line (e.g. `# Heading`).\nIt is labeled by adding the following to the metadata:\n\n```json\n\"label\": {\"sec\": \"unique-name\"}\n```\n\nSuch a labeled heading cell can then be refered to with the syntax `^[](sec:unique-name)`.\nIt will then be rendered in HTML as\n\n```html\n<a name=\"sec-unique-name\"></a>\n\n<h#>[NUMBER]. Heading</h#>\n```\n\nHeadings are numbered hierarchically, with each sub-heading number being prepended with the parent section's number, separated with a dot.\nOnly labeled headings are numbered.\nIf one omits labeling a certain heading, it is rendered unnumbered, and the next labeled one continues the sequence.\n\n#### Notes\n\nIt is perhaps poor writing style, but I use footnotes a lot.\nIn HTML, one does not have pages, so footnotes become end notes, and all go at the end of the document.\nThis is also the preferred place for an author to document their references.\nThis stands in contrast to the inline referencing style of hyperlinked documents, whose reading is typically intended to be online and on-screen.\nThis template preconises rather the classic approach of documenting references with end notes, even with hyperlinks written up explicitly.\nThis effectively enables the offline reader to follow up on the references when they go online eventually.\n\nThe document's end notes are authored on the fly, amongst the text of the document.\nThey are identified by labeling them thus:\n\n```json\n\"label\": {\"note\": \"unique-name\"}\n```\n\nThe text of the note is extracted during the exportation process, and rendered in a list at the end of the document.\nEach note is associated to an anchor named `note-unique-name`.\nOne refers to such a note using the construct `^[](note:unique-name)`.\nBy default, the reference is rendered as the hyperlinked note number, in exponent.\n\n#### Equations\n\nJupyter notebooks already make mathematics typesetting availabel when they are authored using [MathJax](https://www.mathjax.org/).\nThis extension to HTML 5 is provided also in exported HTML, and `article-html` adds automatic numbering of labeled expressions.\nIt is assumed that any cell labeled as mathematics contains only one expression, typeset in *display mode* (e.g. `$$<equation>$$`).\n\n```json\n\"label\": {\"eq\": \"unique-name\"}\n```\n\nSimilarly as for headings and notes, one refers to a labeled equation with the notation `^[](eq:unique-name)` .\nAs in LaTeX, the numbered displayed equations are rendered with their equation number on the right margin of the document, between parentheses.\nThe equation is prepended with an anchor named `eq-unique-name`.\n\n#### Figures and tables\n\nThis template enables the rendering of images and tabular data anywhere, inline if one must.\nHowever, it is so convenient to be able to refer to a figure or table, and have a *legend* (a [*caption*](https://en.wikibooks.org/wiki/LaTeX/Floats,_Figures_and_Captions#Captions) in LaTeX lingo) underneath explaining what's going on there.\n\nAny cell can be labeled as being a figure or a table, using the following alternative notations:\n\n```json\n\"label\": {\"fig\": \"unique-name\"}\n\"label\": {\"tab\": \"unique-name\"}\n```\n\nThe cell that follows the labeled one is expected to be its legend:\na short paragraph describing the figure or table.\nTo be recognized as the legend, the author must add `legend` to that cell's tags.\nThe legend cell will be rendered with either prefix `Figure {} &mdash;` or `Table {} &mdash;`,\nwith the placeholder `{}` substituted with the number of the figure or table.\nBoth the figure and its legend also have some styling associated to make centered in the reading area, and put some emphasis on it.\nIt is also prepended with an anchor named either `fig-unique-name` or `tab-unique-name`.\nRegardless of whether a legend is provided, one refers to tables and images using the notations `^[](fig:unique-name)` or `^[](tab:unique-name)`.\n\n### Excluding cells\n\nWhen authoring a document through a notebook, one would sometimes choose to drop some material from the document, or to add comments *in petto*.\nI personally find it very useful to use `---` in cells here and there to visualize the sections of a notebook better,\nbut I would not want these horizontal rules to be present in my final document.\nTo exclude a cell from the rendering, one can add `drop` to its tags.\n\n## Customization\n\nThe system is implemented as a thin wrapper around nbconvert's stock [`HTMLExporter`](https://github.com/jupyter/nbconvert/blob/3b21cba86c4cadc2bdabb237219d23a32be22f70/nbconvert/exporters/html.py), coupled with several preprocessors and a custom template.\nThese preprocessors don't offer anything in terms of customization yet, but one may easily tailor the styling of the document by extending the template named `article-html`.\n\nFor instance, let's have a custom template named **article-airy** that adds more space between the abstract and the rest of the article. In one of the directories listed under `data:` when running `jupyter --paths`, add the directory `article-airy`. In that directory, add these file:\n\n`.../article-airy/conf.json`:\n\n```json\n{\n    \"base_template\": \"article-html\",\n    \"mimetypes\": {\"text/html\": true}\n}\n```\n\n`.../article-airy/index.html.j2`:\n\n```jinja2\n{% extends 'article-html/index.html.j2' %}\n\n{%- block notebook_css -%}\n{{ super() }}\n<style type=\"text/css\">\ndiv.abstract {\n    margin-bottom: 1.5in;\n}\n</style>\n{%- endblock notebook_css -%}\n```\n\n\n## Development\n\n### Setup\n\nMy favored development environment uses Conda.\nGit-clone the project, then run\n\n```sh\nconda env create\nconda activate nbconvert-article-html\n```\n\n### Code quality checks\n\nI use [Flake8](https://github.com/pycqa/flake8) and type annotations ([mypy](http://mypy-lang.org/)) to track code issues statically,\nas well unit tests (run with [pytest](https://docs.pytest.org/en/7.1.x/)) to ensure some baseline code properties.\nTo run all these:\n\n```\npython script/checks.py\n```\n\n### Organization\n\nAs suggested [here](https://nbconvert.readthedocs.io/en/latest/external_exporters.html#writing-a-custom-exporter), I have rolled my extensive custom package into a custom nbconvert exporter.\nThis turned out to be more than just a packaging trick, as late in development I discovered I needed to tweak some code-based functionality of the `HTMLExporter` base class.\nHowever, pretty much all features of this package are driven by a sequence of notebook preprocessors configured through the [`conf.json`](nbconvert_article_html/template/article-html/conf.json) core template file.\n\n#### Intended exportation workflow\n\nThe usage of a sequence of preprocessing steps facilitates the reading of the code:\nthe intents pursued are not all tangled in one long and messy preprocessor.\nHere is the sequence of preprocessors and how we intend they respectively transform the input notebook prior to HTML rendering.\nRemark that the sequence of preprocessors all share a free-form dictionary called `resources`, which enables passing data between them.\n\n1. `CollectorLanguage`: picks up the language of the notebook and initializes resources with proper string translations.\n1. `CollectorLabels`: maps into the resource dictionary the cell labels to their computed numbers.\n1. `SolverReferences`: replaces all instances of the `^[...](...)` notation in the Markdown cells with proper Markdown internal links to the appropriate anchors.\n1. `RendererAnnotations`: visits labeled cells and changes their text in order to incorporate the number of the component in a specific manner.\n1. `CollectorAbstract`: captures the text of the abstract into .\n1. We then configure the standard by-tag cell removal preprocessor so that it discards cells tagged `drop` or `abstract`.\n\nThe exportation then proceeds with a core HTML template that replaces a lot of Jupyter's own styling material\n(which I find bloated and excessive).\nThis template provides the rendering of the header and the abstract prior to the document's own core, which is followed with a level-1 section of end notes.\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/hamelin/nbconvert-article-html",
    "keywords": "",
    "license": "",
    "maintainer": "",
    "maintainer_email": "",
    "name": "nbconvert-article-html",
    "package_url": "https://pypi.org/project/nbconvert-article-html/",
    "platform": null,
    "project_url": "https://pypi.org/project/nbconvert-article-html/",
    "project_urls": {
      "Homepage": "https://github.com/hamelin/nbconvert-article-html"
    },
    "release_url": "https://pypi.org/project/nbconvert-article-html/0.9.1/",
    "requires_dist": [
      "nbconvert",
      "bs4"
    ],
    "requires_python": ">=3.8",
    "summary": "Tools based on nbconvert to render a Jupyter notebook into a self-contained HTML file whose layout is similar to a LaTeX article.",
    "version": "0.9.1",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 14656672,
  "releases": {
    "0.9": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "356ea19a516a7edb50acdd918caf5a59eb006af959e57f252ffe85a6dbc4c222",
          "md5": "9baade558ed345223682ab0e61b71594",
          "sha256": "4d9a6117023d1ac797428996fb2996c1d2ac58c931ab4d98b83793cae15c3f46"
        },
        "downloads": -1,
        "filename": "nbconvert_article_html-0.9-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "9baade558ed345223682ab0e61b71594",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.8",
        "size": 11297,
        "upload_time": "2022-07-26T17:20:49",
        "upload_time_iso_8601": "2022-07-26T17:20:49.701877Z",
        "url": "https://files.pythonhosted.org/packages/35/6e/a19a516a7edb50acdd918caf5a59eb006af959e57f252ffe85a6dbc4c222/nbconvert_article_html-0.9-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "ba07b859c0aab5773771172151659f7a9460b7390fb2884bbd57ef527f192867",
          "md5": "c50df688c13df8dfbc9bd35c1e48cdd0",
          "sha256": "e59bde589cbc574dcb3e53689c880d4699ea006cb766390cffa6bf15fc6f5014"
        },
        "downloads": -1,
        "filename": "nbconvert_article_html-0.9.tar.gz",
        "has_sig": false,
        "md5_digest": "c50df688c13df8dfbc9bd35c1e48cdd0",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.8",
        "size": 13121,
        "upload_time": "2022-07-26T17:20:51",
        "upload_time_iso_8601": "2022-07-26T17:20:51.703724Z",
        "url": "https://files.pythonhosted.org/packages/ba/07/b859c0aab5773771172151659f7a9460b7390fb2884bbd57ef527f192867/nbconvert_article_html-0.9.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.9.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "73fb2e83ae803bbdf1a884dab9efa51f53c84690da8c05b902b995597bd32c3d",
          "md5": "93d24f2322fadafd75def52348967f29",
          "sha256": "39fd78ef070e786991d927daa47e795af38770ee2ea8ec66ff39de21340aa435"
        },
        "downloads": -1,
        "filename": "nbconvert_article_html-0.9.1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "93d24f2322fadafd75def52348967f29",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.8",
        "size": 13237,
        "upload_time": "2022-08-04T18:12:39",
        "upload_time_iso_8601": "2022-08-04T18:12:39.979788Z",
        "url": "https://files.pythonhosted.org/packages/73/fb/2e83ae803bbdf1a884dab9efa51f53c84690da8c05b902b995597bd32c3d/nbconvert_article_html-0.9.1-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "a53dff64a57e52a135734b54772ecd34bf7943d807de8e16e856e6b7d9e9872a",
          "md5": "4290e482b2bd1119692985742c42cee9",
          "sha256": "9fd9f9705deb0ba58ac644d94a4dfc3ead3d45e2181d817cd54fc0b88cd5b8a3"
        },
        "downloads": -1,
        "filename": "nbconvert_article_html-0.9.1.tar.gz",
        "has_sig": false,
        "md5_digest": "4290e482b2bd1119692985742c42cee9",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.8",
        "size": 19013,
        "upload_time": "2022-08-04T18:12:41",
        "upload_time_iso_8601": "2022-08-04T18:12:41.834269Z",
        "url": "https://files.pythonhosted.org/packages/a5/3d/ff64a57e52a135734b54772ecd34bf7943d807de8e16e856e6b7d9e9872a/nbconvert_article_html-0.9.1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "73fb2e83ae803bbdf1a884dab9efa51f53c84690da8c05b902b995597bd32c3d",
        "md5": "93d24f2322fadafd75def52348967f29",
        "sha256": "39fd78ef070e786991d927daa47e795af38770ee2ea8ec66ff39de21340aa435"
      },
      "downloads": -1,
      "filename": "nbconvert_article_html-0.9.1-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "93d24f2322fadafd75def52348967f29",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": ">=3.8",
      "size": 13237,
      "upload_time": "2022-08-04T18:12:39",
      "upload_time_iso_8601": "2022-08-04T18:12:39.979788Z",
      "url": "https://files.pythonhosted.org/packages/73/fb/2e83ae803bbdf1a884dab9efa51f53c84690da8c05b902b995597bd32c3d/nbconvert_article_html-0.9.1-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "a53dff64a57e52a135734b54772ecd34bf7943d807de8e16e856e6b7d9e9872a",
        "md5": "4290e482b2bd1119692985742c42cee9",
        "sha256": "9fd9f9705deb0ba58ac644d94a4dfc3ead3d45e2181d817cd54fc0b88cd5b8a3"
      },
      "downloads": -1,
      "filename": "nbconvert_article_html-0.9.1.tar.gz",
      "has_sig": false,
      "md5_digest": "4290e482b2bd1119692985742c42cee9",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": ">=3.8",
      "size": 19013,
      "upload_time": "2022-08-04T18:12:41",
      "upload_time_iso_8601": "2022-08-04T18:12:41.834269Z",
      "url": "https://files.pythonhosted.org/packages/a5/3d/ff64a57e52a135734b54772ecd34bf7943d807de8e16e856e6b7d9e9872a/nbconvert_article_html-0.9.1.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}