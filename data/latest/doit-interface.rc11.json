{
  "info": {
    "author": "",
    "author_email": "",
    "bugtrack_url": null,
    "classifiers": [],
    "description": "ðŸŽ¯ doit interface\n=================\n\n.. image:: https://github.com/tillahoffmann/doit_interface/actions/workflows/main.yml/badge.svg\n  :target: https://github.com/tillahoffmann/doit_interface/actions/workflows/main.yml\n.. image:: https://img.shields.io/pypi/v/doit_interface.svg?style=flat\n   :target: https://pypi.python.org/pypi/doit_interface\n.. image:: https://readthedocs.org/projects/doit-interface/badge/?version=latest\n   :target: https://doit-interface.readthedocs.io/en/latest/?badge=latest\n\nThis package provides a functional interface for reducing boilerplate in :code:`dodo.py` of the `pydoit <https://pydoit.org>`__ build system. In short, all tasks are created and managed using a :code:`.Manager`. Most :code:`features<features>` are exposed using python context manager, e.g., grouping tasks.\n\nBasic usage\n-----------\n\n.. code-block:: python\n\n  >>> import doit_interface as di\n\n\n  >>> # Get a default manager (or create your own to use as a context manager).\n  >>> manager = di.Manager.get_instance()\n\n  >>> # Create a single task.\n  >>> manager(basename=\"create_foo\", actions=[\"touch foo\"], targets=[\"foo\"])\n  {'basename': 'create_foo', 'actions': ['touch foo'], 'targets': ['foo'], ...}\n\n  >>> # Group multiple tasks.\n  >>> with di.group_tasks(\"my_group\") as my_group:\n  ...     member = manager(basename=\"member\")\n  >>> my_group\n  <doit_interface.contexts.group_tasks object at 0x...> named `my_group` with 1 task\n\n.. note::\n\n  The default manager obtained by calling :code:`.Manager.get_instance` has a number of default contexts enabled:\n\n  1. :code:`.SubprocessAction.use_as_default` to use :code:`.SubprocessAction` by default for string actions.\n  2. :code:`.create_target_dirs` to create target directories if they are missing.\n  3. :code:`.normalize_dependencies` such that task objects can be used as file and task dependencies.\n\n  It also injects a default :code:`DOIT_CONFIG` configuration variable if the filename is :code:`dodo.py`.\n\n  If you want to override this default behavior, you can create a dedicated manager and call :code:`.Manager.set_default_instance` or modify the :code:`.Manager.context_stack` of the default manager.\n\n\n.. _features:\n\nFeatures\n--------\n\nTraceback for failed tasks\n^^^^^^^^^^^^^^^^^^^^^^^^^^\n\nThe :code:`.DoitInterfaceReporter` provides more verbose progress reports and points you to the location where a failing task was defined. The :code:`DOIT_CONFIG` is used by default if you use :code:`.Manager.get_instance` to get a :code:`.Manager`.\n\n.. code-block:: python\n\n  >>> DOIT_CONFIG = {\"reporter\": DoitInterfaceReporter}\n  >>> manager(basename=\"false\", actions=[\"false\"])\n  {'basename': 'false', 'actions': ['false'], 'meta': {'filename': '...', 'lineno': 1}}\n\n.. code-block:: bash\n\n  $ doit\n  EXECUTE: false\n  FAILED: false (declared at ...:1)\n  ...\n\nGroup tasks\n^^^^^^^^^^^\n\nGroup tasks to easily execute all of them using :code:`.group_tasks`. Tasks can be added to groups using a context manager (as shown below) or by calling the group to add an existing task. Groups can be nested arbitrarily.\n\n.. code-block:: python\n\n  >>> with group_tasks(\"vgg16\") as vgg16:\n  ...     train = manager(basename=\"train\", actions=[...])\n  ...     validate = manager(basename=\"validate\", actions=[...])\n  >>> vgg16\n  <doit_interface.contexts.group_tasks object at 0x...> named `vgg16` with 2 tasks\n\nAutomatically create target directories\n^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\nUse :code:`.create_target_dirs` to automatically create directories for each of your targets. This can be particularly useful if you generate nested data structures, e.g., for machine learning results based on different architectures, seeds, optimizers, learning rates, etc.\n\n.. code-block:: python\n\n  >>> with create_target_dirs():\n  ...     task = manager(basename=\"bar\", targets=[\"foo/bar\"], actions=[...])\n  >>> task[\"actions\"]\n  [(<function create_folder at 0x...>, ['foo']), ...]\n\nShare default values across tasks\n^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\nUse :code:`.defaults` to share default values across tasks, such as :code:`file_dep`.\n\n.. code-block:: python\n\n  >>> with defaults(file_dep=[\"data.pt\"]):\n  ...     train = manager(basename=\"train\", actions=[...])\n  ...     validate = manager(basename=\"validate\", actions=[...])\n  >>> train[\"file_dep\"]\n  ['data.pt']\n  >>> validate[\"file_dep\"]\n  ['data.pt']\n\nUse tasks as :code:`file_dep` or :code:`task_dep`\n^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n:code:`.normalize_dependencies` normalizes file and task dependencies such that task objects can be used as dependencies (in addition file and task names).\n\n.. code-block:: python\n\n  >>> with normalize_dependencies():\n  ...     base_task = manager(basename=\"base\", name=\"output\", targets=[\"output.txt\"])\n  ...     file_dep_task = manager(basename=\"file_dep_task\", file_dep=[base_task])\n  ...     task_dep_task = manager(basename=\"task_dep_task\", task_dep=[base_task])\n  >>> file_dep_task[\"file_dep\"]\n  ['output.txt']\n  >>> task_dep_task[\"task_dep\"]\n  ['base:output']\n\nAdd prefixes to paths or other attributes\n^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\nPath prefixes can be added using the :code:`.path_prefix` context if file dependencies or targets share common directories. General prefixes are also available using :code:`.prefix`.\n\n.. code-block:: python\n\n  >>> with path_prefix(targets=\"outputs\", file_dep=\"inputs\"):\n  ...     manager(basename=\"task\", targets=[\"out.txt\"], file_dep=[\"in1.txt\", \"in2.txt\"])\n  {'basename': 'task', 'targets': ['outputs/out.txt'], 'file_dep': ['inputs/in1.txt', 'inputs/in2.txt'], ...}\n\nSubprocess action\n^^^^^^^^^^^^^^^^^\n\nThe :code:`.SubprocessAction` lets you spawn subprocesses akin to :code:`doit.action.CmdAction` yet with a few small differences. First, it does not capture output of the subprocess which is helpful for development but may add too much noise for deployment. Second, it supports `Makefile <https://www.gnu.org/software/make/manual/html_node/Automatic-Variables.html>`__ style variable substitutions and f-string substitutions for any attribute of the parent task. Third, it allows for global environment variables to be set that are shared across all, e.g., to limit the number of `OpenMP <https://www.openmp.org>`__ threads. You can use it by default for string-actions using the :code:`.SubprocessAction.use_as_default` context.\n\nInterface\n---------\n\n.. code-block::\n\n doit_interface\n  :members:\n",
    "description_content_type": "text/x-rst",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/tillahoffmann/doit_interface",
    "keywords": "",
    "license": "",
    "maintainer": "",
    "maintainer_email": "",
    "name": "doit-interface",
    "package_url": "https://pypi.org/project/doit-interface/",
    "platform": null,
    "project_url": "https://pypi.org/project/doit-interface/",
    "project_urls": {
      "Homepage": "https://github.com/tillahoffmann/doit_interface"
    },
    "release_url": "https://pypi.org/project/doit-interface/0.1.10/",
    "requires_dist": null,
    "requires_python": "",
    "summary": "A functional interface for creating doit tasks",
    "version": "0.1.10",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 15809167,
  "releases": {
    "0.1.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "a9bcbf74b76179de41601c4208e80b23f378c2487709e95927ea742bdaa87ed1",
          "md5": "3363ba890b75a5514aeb8f56934a95f0",
          "sha256": "7a89612148ee2ee6cd627ad787043a670e1de9e31231fc2a66e41002947e6397"
        },
        "downloads": -1,
        "filename": "doit_interface-0.1.0.tar.gz",
        "has_sig": false,
        "md5_digest": "3363ba890b75a5514aeb8f56934a95f0",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 6297,
        "upload_time": "2022-07-06T21:37:40",
        "upload_time_iso_8601": "2022-07-06T21:37:40.897009Z",
        "url": "https://files.pythonhosted.org/packages/a9/bc/bf74b76179de41601c4208e80b23f378c2487709e95927ea742bdaa87ed1/doit_interface-0.1.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.1.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "f9e12b817a311d0bd797be29f7a3c75276108904f733568476737bacb262b301",
          "md5": "f9397fb047f759de4ddcf95842a2d760",
          "sha256": "9b6668b9bc9d0076425ed534b858dfed8ff7945e074c402b39b86dab048f8f4d"
        },
        "downloads": -1,
        "filename": "doit_interface-0.1.1.tar.gz",
        "has_sig": false,
        "md5_digest": "f9397fb047f759de4ddcf95842a2d760",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 7282,
        "upload_time": "2022-07-07T19:36:18",
        "upload_time_iso_8601": "2022-07-07T19:36:18.924319Z",
        "url": "https://files.pythonhosted.org/packages/f9/e1/2b817a311d0bd797be29f7a3c75276108904f733568476737bacb262b301/doit_interface-0.1.1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.1.10": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "19af8103d22c7826e5169796618b5be27589543308e5d4978bb6a99681e6d495",
          "md5": "c0365e4b2a990807c8b42f115a4338a0",
          "sha256": "077ad8a9fecf3a6c74384e6a10c6bb7558a7341ffa3391eb109dc725d3f0a7a6"
        },
        "downloads": -1,
        "filename": "doit_interface-0.1.10.tar.gz",
        "has_sig": false,
        "md5_digest": "c0365e4b2a990807c8b42f115a4338a0",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 16775,
        "upload_time": "2022-11-18T00:54:55",
        "upload_time_iso_8601": "2022-11-18T00:54:55.652865Z",
        "url": "https://files.pythonhosted.org/packages/19/af/8103d22c7826e5169796618b5be27589543308e5d4978bb6a99681e6d495/doit_interface-0.1.10.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.1.2": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "9bc8a52a185b7625c26c9dc50d1bc3fce255d5cfd692a5c952d9b3fc7e977693",
          "md5": "c6a95c00c93f58c02e579da733717762",
          "sha256": "4fbcfbce2cd471d771e724fb2c7c6c97a0da7eae40ee0745699e407b2b451915"
        },
        "downloads": -1,
        "filename": "doit_interface-0.1.2.tar.gz",
        "has_sig": false,
        "md5_digest": "c6a95c00c93f58c02e579da733717762",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 8521,
        "upload_time": "2022-07-08T19:45:33",
        "upload_time_iso_8601": "2022-07-08T19:45:33.547703Z",
        "url": "https://files.pythonhosted.org/packages/9b/c8/a52a185b7625c26c9dc50d1bc3fce255d5cfd692a5c952d9b3fc7e977693/doit_interface-0.1.2.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.1.3": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "509a6689ef632fc1854261035c231e6668c06459e562a575836617e849e636ec",
          "md5": "9ddd78a97a81e9bfb9a8cb729facd158",
          "sha256": "27fba8125e7cce859b89967d9c7c2f2850ac94e2f01b595f5c11fbfe20edb6f3"
        },
        "downloads": -1,
        "filename": "doit_interface-0.1.3.tar.gz",
        "has_sig": false,
        "md5_digest": "9ddd78a97a81e9bfb9a8cb729facd158",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 9725,
        "upload_time": "2022-07-11T21:58:23",
        "upload_time_iso_8601": "2022-07-11T21:58:23.177176Z",
        "url": "https://files.pythonhosted.org/packages/50/9a/6689ef632fc1854261035c231e6668c06459e562a575836617e849e636ec/doit_interface-0.1.3.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.1.4": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "89ae2fb8b108b8c4996a413b84ae3d47e53179841a8f7e5662cf18ab9ba9d668",
          "md5": "561d947d6948ec4148f3c60738f58e3f",
          "sha256": "57865c7ab339d67689098f56504d38af0c9aff04a2f80126292a65378ae23865"
        },
        "downloads": -1,
        "filename": "doit_interface-0.1.4.tar.gz",
        "has_sig": false,
        "md5_digest": "561d947d6948ec4148f3c60738f58e3f",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 9843,
        "upload_time": "2022-07-12T17:31:12",
        "upload_time_iso_8601": "2022-07-12T17:31:12.984890Z",
        "url": "https://files.pythonhosted.org/packages/89/ae/2fb8b108b8c4996a413b84ae3d47e53179841a8f7e5662cf18ab9ba9d668/doit_interface-0.1.4.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.1.5": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "fccb6785bfdb2dee5e9eb552157750499b0dabd53aa7463025b1a15df169949d",
          "md5": "88134b4a9ee2eb5925f91c7eb49b3100",
          "sha256": "036d86e22d996e33ff492fa66555da4092c1b10fd73fe23bdfb2a9afea785a23"
        },
        "downloads": -1,
        "filename": "doit_interface-0.1.5.tar.gz",
        "has_sig": false,
        "md5_digest": "88134b4a9ee2eb5925f91c7eb49b3100",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 10094,
        "upload_time": "2022-07-14T16:09:13",
        "upload_time_iso_8601": "2022-07-14T16:09:13.701434Z",
        "url": "https://files.pythonhosted.org/packages/fc/cb/6785bfdb2dee5e9eb552157750499b0dabd53aa7463025b1a15df169949d/doit_interface-0.1.5.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.1.6": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "4cbe9fe6f0cf4fd1a63d346fb279983b9aae2b6402a0dbbd4c93306f95d461d5",
          "md5": "d4b499abebc74bddcaf847c97a5b0ec3",
          "sha256": "22585792e47e43caf59b737d39287ba53271a133644950c4654cc0c9c87877af"
        },
        "downloads": -1,
        "filename": "doit_interface-0.1.6.tar.gz",
        "has_sig": false,
        "md5_digest": "d4b499abebc74bddcaf847c97a5b0ec3",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 10156,
        "upload_time": "2022-07-15T14:44:16",
        "upload_time_iso_8601": "2022-07-15T14:44:16.427459Z",
        "url": "https://files.pythonhosted.org/packages/4c/be/9fe6f0cf4fd1a63d346fb279983b9aae2b6402a0dbbd4c93306f95d461d5/doit_interface-0.1.6.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.1.7": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "0927b7d3bb5a8156987100e85248cb3d5d9b758ace5c8e079c92541c735b8d49",
          "md5": "af6e76d46091932671111892b0ef11a3",
          "sha256": "f0d63f56ecd2cc45bd9ea0f9900f34d796a6d3cdc6d5c1946f80b90af428b82e"
        },
        "downloads": -1,
        "filename": "doit_interface-0.1.7.tar.gz",
        "has_sig": false,
        "md5_digest": "af6e76d46091932671111892b0ef11a3",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 10198,
        "upload_time": "2022-08-16T14:59:21",
        "upload_time_iso_8601": "2022-08-16T14:59:21.662643Z",
        "url": "https://files.pythonhosted.org/packages/09/27/b7d3bb5a8156987100e85248cb3d5d9b758ace5c8e079c92541c735b8d49/doit_interface-0.1.7.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.1.8": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "f1429e2f7869a8376a0e2c1b406ecf9e852989389edd3d481d30008d6ea3779b",
          "md5": "822b5cf4d65a324a736203ba5a474fa0",
          "sha256": "7392fb6abc615c3bcaf680c0f4e65b4700f11b6ac3bc5ea13c35d982d77bbb6a"
        },
        "downloads": -1,
        "filename": "doit_interface-0.1.8.tar.gz",
        "has_sig": false,
        "md5_digest": "822b5cf4d65a324a736203ba5a474fa0",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 16245,
        "upload_time": "2022-08-26T23:02:55",
        "upload_time_iso_8601": "2022-08-26T23:02:55.943679Z",
        "url": "https://files.pythonhosted.org/packages/f1/42/9e2f7869a8376a0e2c1b406ecf9e852989389edd3d481d30008d6ea3779b/doit_interface-0.1.8.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.1.9": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "92b276ac67248943d07e4ce43bf5c7c2deef2996d83e3b5539b132d96e8d8547",
          "md5": "cae1d9ac813476e4e2e20299b4c204d2",
          "sha256": "a69ea3c0ef196b27d39ab36d1919bf98a8af5811031e440a4b6efb3b4c006469"
        },
        "downloads": -1,
        "filename": "doit_interface-0.1.9.tar.gz",
        "has_sig": false,
        "md5_digest": "cae1d9ac813476e4e2e20299b4c204d2",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 16417,
        "upload_time": "2022-11-18T00:04:13",
        "upload_time_iso_8601": "2022-11-18T00:04:13.960891Z",
        "url": "https://files.pythonhosted.org/packages/92/b2/76ac67248943d07e4ce43bf5c7c2deef2996d83e3b5539b132d96e8d8547/doit_interface-0.1.9.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "19af8103d22c7826e5169796618b5be27589543308e5d4978bb6a99681e6d495",
        "md5": "c0365e4b2a990807c8b42f115a4338a0",
        "sha256": "077ad8a9fecf3a6c74384e6a10c6bb7558a7341ffa3391eb109dc725d3f0a7a6"
      },
      "downloads": -1,
      "filename": "doit_interface-0.1.10.tar.gz",
      "has_sig": false,
      "md5_digest": "c0365e4b2a990807c8b42f115a4338a0",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": null,
      "size": 16775,
      "upload_time": "2022-11-18T00:54:55",
      "upload_time_iso_8601": "2022-11-18T00:54:55.652865Z",
      "url": "https://files.pythonhosted.org/packages/19/af/8103d22c7826e5169796618b5be27589543308e5d4978bb6a99681e6d495/doit_interface-0.1.10.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}