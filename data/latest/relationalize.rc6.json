{
  "info": {
    "author": "Henry Jones",
    "author_email": "Henry Jones <henry.jones@tulip.co>",
    "bugtrack_url": null,
    "classifiers": [
      "Operating System :: OS Independent",
      "Programming Language :: Python :: 3"
    ],
    "description": "# Relationalize\nRelationalize is a Python library for transforming collections of JSON objects, into a relational-friendly format.\nIt draws inspiration from the [AWS Glue Relationalize transform](https://docs.aws.amazon.com/glue/latest/dg/aws-glue-api-crawler-pyspark-transforms-Relationalize.html).\n\n## JSON Object Collections\nWhen working with JSON often there are collections of objects with the same or similar structure. For example, in a NoSQL database there may be a collection describing users with the following two documents/objects:\n```javascript\n//Document 1\n{\n    \"username\": \"jsmith123\",\n    \"created_at\": \"2022-12-15T20:24:26.637Z\",\n    \"contact\": {\n        \"email_address\": \"jsmith123@gmail.com\",\n        \"phone_number\": 1234567890\n    },\n    \"connections\": [\n        \"jdoe456\",\n        \"elowry789\"\n    ]\n}\n// Document 2\n{\n    \"username\": \"jdoe456\",\n    \"created_at\": 1671135896468,\n    \"contact\": {\n        \"email_address\": \"jdoe899@yahoo.com\",\n        \"address\": {\n            \"address_1\": \"77 Middlesex Avenue\",\n            \"address_2\": \"Suite A\",\n            \"city\": \"Somerville\",\n            \"state\": \"MA\",\n            \"zip_code\": \"02145\"\n        }\n    },\n    \"connections\": [\n        \"jsmith123\",\n        \"hjones99\"\n    ]\n}\n```\nThere are a number of challenges that must be overcome to move this data into a relational-database friendly format:\n1. Nested Objects (ex: \"contact\" field)\n2. Different data types in the same column (ex: \"created_at\" field)\n3. Sparse columns (ex: \"contact.phone_number\" & \"contact.address\" field)\n4. Sub-Arrays (ex: \"connections\" field)\n\nThis package provides a solutution to all of these challenges with more portability and flexibility, and less limitations than AWS Glue relationalize.\n\n## How Relationalize works\nThe relationalize function recursively navigates the JSON object and splits out new ojects/collections whenever an array is encountered and provides a connection/relation between the objects. You provide the Relationalize class a function which will determine where to write the transformed content. This could be a local file object, a remote (s3) file object, or an in memory buffer. Additionally any nested objects are flattened. Each object that is output by relationalize is a flat JSON object.\n\nThis package also provides a `Schema` class which can generate a schema for a collection of flat JSON objects. This schema can be used to handle type ambigouity and generate SQL DDL.\n\nFor example, the schemas generated by relationalizing and schema generating the above collection's objects would be:\n```javascript\n// users\n{\n    \"username\": \"str\",\n    \"created_at\": \"c-int-str\",\n    \"contact_email_address\": \"str\",\n    \"contact_phone_number\": \"int\",\n    \"contact_address_address_1\": \"str\",\n    \"contact_address_address_2\": \"str\",\n    \"contact_address_city\": \"str\",\n    \"contact_address_state\": \"str\",\n    \"contact_address_zip_code\": \"str\",\n    \"connections\": \"str\"\n\n}\n//users_connections\n{\n    \"connections__rid_\": \"str\",\n    \"connections__index_\": \"int\",\n    \"connection__val_\": \"str\"\n}\n```\n\nWhen processing a collection of JSON objects, the schema is not known, so we must provide a way for the relationalize class to store the new collections it will potentially create. This could be a local or remote file, an in memory buffer, etc...\n\nThe relationalize class constructor takes in a function with the signature `(identifier: str) -> TextIO` as an argument (`create_output`). This function is used to create the outputs.\n\nThe relationalize class constructor also takes in an optional function that will be called whenever an object is written to a file that was created via the `create_output` function. This method can be utilized to generate the schemas as the objects are encountered, reducing the number of iterations needed over the objects.\n\nFor example:\n```python\nschemas: Dict[str, Schema] = {}\n\ndef on_object_write(schema: str, object: dict):\n  if schema not in schemas:\n      schemas[schema] = Schema()\n  schemas[schema].read_object(object)\n\nwith Relationalize('object_name', on_object_write=on_object_write) as r:\n    r.relationalize([{...}, {...}])\n```\n\nOnce the collection has been relationalized and the schemas have been generated, you can utilize the `convert_object` method to create the final json object, which could be loaded into a database. The `convert_object` method will break out any ambigously typed columns into seperate columns.\n\nFor example the first document in the users collection would output the following three documents after being processed by `relationalize` and `convert_object`:\n```javascript\n// users\n{\n    \"username\": \"jsmith123\",\n    \"created_at_str\": \"2022-12-15T20:24:26.637Z\",\n    \"contact_email_address\": \"jsmith123@gmail.com\",\n    \"contact_phone_number\": 1234567890,\n    \"connections\": \"R_969c799a3177437d98074d985861242b\"\n}\n// users_connections\n{\n    \"connections__rid_\": \"R_969c799a3177437d98074d985861242b\",\n    \"connections__index_\": 0,\n    \"connection__val_\": \"jdoe456\"\n}\n{\n    \"connections__rid_\": \"R_969c799a3177437d98074d985861242b\",\n    \"connections__index_\": 1,\n    \"connection__val_\": \"elowry789\"\n}\n```\n\n\n## Installation\n\nUse the package manager [pip](https://pip.pypa.io/en/stable/) to install relationalize.\n\n```bash\npip install relationalize\n```\n\n## Examples\nExamples are placed in the `examples/` folder.\nThese examples are intended to be run from the working directory of `examples`.\n\nWe recommend starting with the `local_fs_example.py` and then moving to the `memory_example.py`.\n\nFor a complete API to database pipeline check out the `full_pokemon_s3_redshift_pipeline.py` example.\n\n## Contributing\n\nPull requests are welcome. For major changes, please open an issue first\nto discuss what you would like to change.\n\nPlease make sure to update tests as appropriate.\n\n## License\n\n[MIT](https://choosealicense.com/licenses/mit/)\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/tulip/relationalize",
    "keywords": "tulip,relationalize,json,relational,array",
    "license": "",
    "maintainer": "",
    "maintainer_email": "",
    "name": "relationalize",
    "package_url": "https://pypi.org/project/relationalize/",
    "platform": null,
    "project_url": "https://pypi.org/project/relationalize/",
    "project_urls": {
      "Homepage": "https://github.com/tulip/relationalize"
    },
    "release_url": "https://pypi.org/project/relationalize/0.1.7/",
    "requires_dist": null,
    "requires_python": ">=3.6",
    "summary": "A utility for converting/transporting arbitrary JSON data collections into a relational database",
    "version": "0.1.7",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 17276975,
  "releases": {
    "0.1.2": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "f4599363f9a0600e917b90f270216c5593e24670e25cbc9e2594318e1a561b6b",
          "md5": "202931bb7142bb0ca520e1420dc8fceb",
          "sha256": "d95a0a19ab0f378719333f6eaa8786c9922f3f5b7fd9417b8addc95d226d57f9"
        },
        "downloads": -1,
        "filename": "relationalize-0.1.2-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "202931bb7142bb0ca520e1420dc8fceb",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.6",
        "size": 8909,
        "upload_time": "2022-12-15T22:09:07",
        "upload_time_iso_8601": "2022-12-15T22:09:07.260463Z",
        "url": "https://files.pythonhosted.org/packages/f4/59/9363f9a0600e917b90f270216c5593e24670e25cbc9e2594318e1a561b6b/relationalize-0.1.2-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "cab3221adbf6732c3c1a8e0bcd65d7464931416a4dab7a1b3e68123fb395b571",
          "md5": "54548f473a06077aed54e32574d915e4",
          "sha256": "c4d67bc124d7a630c2e4d414418ed788c763839f76c28293ed9b69e6497d85e6"
        },
        "downloads": -1,
        "filename": "relationalize-0.1.2.tar.gz",
        "has_sig": false,
        "md5_digest": "54548f473a06077aed54e32574d915e4",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6",
        "size": 10030,
        "upload_time": "2022-12-15T22:09:08",
        "upload_time_iso_8601": "2022-12-15T22:09:08.776707Z",
        "url": "https://files.pythonhosted.org/packages/ca/b3/221adbf6732c3c1a8e0bcd65d7464931416a4dab7a1b3e68123fb395b571/relationalize-0.1.2.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.1.3": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "523d8276e91b2504bbb3e198d78645b7d4e80a3ec2f14d21dc20974121e09238",
          "md5": "fd9a107ef0cbbaa3f82d88d5b5d323b6",
          "sha256": "d2849a971f2ab8c70bed2e0c5a0f1b67ff3758d770b107aaeef8d804986c11c6"
        },
        "downloads": -1,
        "filename": "relationalize-0.1.3-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "fd9a107ef0cbbaa3f82d88d5b5d323b6",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.6",
        "size": 8903,
        "upload_time": "2022-12-15T22:16:31",
        "upload_time_iso_8601": "2022-12-15T22:16:31.899805Z",
        "url": "https://files.pythonhosted.org/packages/52/3d/8276e91b2504bbb3e198d78645b7d4e80a3ec2f14d21dc20974121e09238/relationalize-0.1.3-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "f3cf781842a8797a5b9ef0fa2daa2e82b09948e53dc410a0911fa3db4d13c7be",
          "md5": "9e9d33322418fea60ac1319f11c67660",
          "sha256": "239db628d39374294ef96a64186f7f87f6a0528903f94535723e92a69ec8a2b7"
        },
        "downloads": -1,
        "filename": "relationalize-0.1.3.tar.gz",
        "has_sig": false,
        "md5_digest": "9e9d33322418fea60ac1319f11c67660",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6",
        "size": 10021,
        "upload_time": "2022-12-15T22:16:32",
        "upload_time_iso_8601": "2022-12-15T22:16:32.912983Z",
        "url": "https://files.pythonhosted.org/packages/f3/cf/781842a8797a5b9ef0fa2daa2e82b09948e53dc410a0911fa3db4d13c7be/relationalize-0.1.3.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.1.4": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "8c27e67bf830982d9c46d18c64a899716fd850a4e101100d78cdefa834def51a",
          "md5": "9c855145c887839e991697a0381da740",
          "sha256": "8b13c7705885fc658c357e1ea6f75a13e7915963ac50893f51753f866be6edc8"
        },
        "downloads": -1,
        "filename": "relationalize-0.1.4-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "9c855145c887839e991697a0381da740",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.6",
        "size": 8956,
        "upload_time": "2023-01-03T17:57:42",
        "upload_time_iso_8601": "2023-01-03T17:57:42.852671Z",
        "url": "https://files.pythonhosted.org/packages/8c/27/e67bf830982d9c46d18c64a899716fd850a4e101100d78cdefa834def51a/relationalize-0.1.4-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "6f731907806fac7582641cb116b094527d7e46ee4bb6eb302f09781f2045ec07",
          "md5": "a2573c351761ad64cf438724fc4b1b55",
          "sha256": "7c6e15bbbee28e316e4d95ed11b55455df0395551ae474452216dd5bd88abd79"
        },
        "downloads": -1,
        "filename": "relationalize-0.1.4.tar.gz",
        "has_sig": false,
        "md5_digest": "a2573c351761ad64cf438724fc4b1b55",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6",
        "size": 10160,
        "upload_time": "2023-01-03T17:57:43",
        "upload_time_iso_8601": "2023-01-03T17:57:43.992732Z",
        "url": "https://files.pythonhosted.org/packages/6f/73/1907806fac7582641cb116b094527d7e46ee4bb6eb302f09781f2045ec07/relationalize-0.1.4.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.1.5": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "4a3a4049c4cb2d747b3154cdc94631ade829c9d9e040e1521b846194eab37e37",
          "md5": "74dfcd8e22f53eabbd9669e1153ddd6f",
          "sha256": "810c18c7ea7cb854a17b4d0c861fe95caff7e39998ff38750c832b5b3dcae2bb"
        },
        "downloads": -1,
        "filename": "relationalize-0.1.5-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "74dfcd8e22f53eabbd9669e1153ddd6f",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.6",
        "size": 9999,
        "upload_time": "2023-02-28T18:08:58",
        "upload_time_iso_8601": "2023-02-28T18:08:58.691152Z",
        "url": "https://files.pythonhosted.org/packages/4a/3a/4049c4cb2d747b3154cdc94631ade829c9d9e040e1521b846194eab37e37/relationalize-0.1.5-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "dd904a5ca42402d044f6d9c17fbe3de20792bb12dc1a36b79dca85f380ecba4b",
          "md5": "41841335ff02ae0a04ce71b528223b4b",
          "sha256": "bf04f4ba336ee32a874735ad9e975aea1b94bf75a87fee591106f766ed6c6d72"
        },
        "downloads": -1,
        "filename": "relationalize-0.1.5.tar.gz",
        "has_sig": false,
        "md5_digest": "41841335ff02ae0a04ce71b528223b4b",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6",
        "size": 11118,
        "upload_time": "2023-02-28T18:09:00",
        "upload_time_iso_8601": "2023-02-28T18:09:00.428377Z",
        "url": "https://files.pythonhosted.org/packages/dd/90/4a5ca42402d044f6d9c17fbe3de20792bb12dc1a36b79dca85f380ecba4b/relationalize-0.1.5.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.1.6": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "fcab87ce2ea0b56f93bc6f769f6f89f70f8e34524a922d60b87044574383ffa4",
          "md5": "84bf0cf8d97db35e386a9a54897bbb26",
          "sha256": "ff75261a64a5ab03e4de4e6d00c0c4769a826b723d2d31ed42c4b5ec64d6de0c"
        },
        "downloads": -1,
        "filename": "relationalize-0.1.6-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "84bf0cf8d97db35e386a9a54897bbb26",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.6",
        "size": 10080,
        "upload_time": "2023-03-01T17:00:37",
        "upload_time_iso_8601": "2023-03-01T17:00:37.247754Z",
        "url": "https://files.pythonhosted.org/packages/fc/ab/87ce2ea0b56f93bc6f769f6f89f70f8e34524a922d60b87044574383ffa4/relationalize-0.1.6-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "fcade1c1a2109f541f09389063e363f1d169ed7f7de212ed17c21f20f7cc627a",
          "md5": "9645667aa06a4b38d71c86726ea2d7c5",
          "sha256": "09ca9a695c455c6a12d83474234a95cb69a5b2fb36d53f34c8a2c2bd2d034829"
        },
        "downloads": -1,
        "filename": "relationalize-0.1.6.tar.gz",
        "has_sig": false,
        "md5_digest": "9645667aa06a4b38d71c86726ea2d7c5",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6",
        "size": 11286,
        "upload_time": "2023-03-01T17:00:38",
        "upload_time_iso_8601": "2023-03-01T17:00:38.315187Z",
        "url": "https://files.pythonhosted.org/packages/fc/ad/e1c1a2109f541f09389063e363f1d169ed7f7de212ed17c21f20f7cc627a/relationalize-0.1.6.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.1.7": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "9f0e8e0122cfa4fbbd1e022492cc10968a7cfef345fc0f59521d35c940cbb29d",
          "md5": "915ba082f43509863d27c4c635c66831",
          "sha256": "21988ebe1a63b710c51f8ec6609abefeb59a3b10dd8b9aa4899d55705218cf8f"
        },
        "downloads": -1,
        "filename": "relationalize-0.1.7-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "915ba082f43509863d27c4c635c66831",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.6",
        "size": 10094,
        "upload_time": "2023-03-13T21:14:37",
        "upload_time_iso_8601": "2023-03-13T21:14:37.314688Z",
        "url": "https://files.pythonhosted.org/packages/9f/0e/8e0122cfa4fbbd1e022492cc10968a7cfef345fc0f59521d35c940cbb29d/relationalize-0.1.7-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "bdb70cead617443d9afe276b772532934683ce510a3c50217f6c6cf7fdda84f8",
          "md5": "8be8cff34cf3d8a42cfe225fc94f6cde",
          "sha256": "96501df76414b6e30b7e20ea7d680fa8203d316e4a555c328b0c5de3e5ad78dd"
        },
        "downloads": -1,
        "filename": "relationalize-0.1.7.tar.gz",
        "has_sig": false,
        "md5_digest": "8be8cff34cf3d8a42cfe225fc94f6cde",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6",
        "size": 11222,
        "upload_time": "2023-03-13T21:14:39",
        "upload_time_iso_8601": "2023-03-13T21:14:39.184105Z",
        "url": "https://files.pythonhosted.org/packages/bd/b7/0cead617443d9afe276b772532934683ce510a3c50217f6c6cf7fdda84f8/relationalize-0.1.7.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "9f0e8e0122cfa4fbbd1e022492cc10968a7cfef345fc0f59521d35c940cbb29d",
        "md5": "915ba082f43509863d27c4c635c66831",
        "sha256": "21988ebe1a63b710c51f8ec6609abefeb59a3b10dd8b9aa4899d55705218cf8f"
      },
      "downloads": -1,
      "filename": "relationalize-0.1.7-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "915ba082f43509863d27c4c635c66831",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": ">=3.6",
      "size": 10094,
      "upload_time": "2023-03-13T21:14:37",
      "upload_time_iso_8601": "2023-03-13T21:14:37.314688Z",
      "url": "https://files.pythonhosted.org/packages/9f/0e/8e0122cfa4fbbd1e022492cc10968a7cfef345fc0f59521d35c940cbb29d/relationalize-0.1.7-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "bdb70cead617443d9afe276b772532934683ce510a3c50217f6c6cf7fdda84f8",
        "md5": "8be8cff34cf3d8a42cfe225fc94f6cde",
        "sha256": "96501df76414b6e30b7e20ea7d680fa8203d316e4a555c328b0c5de3e5ad78dd"
      },
      "downloads": -1,
      "filename": "relationalize-0.1.7.tar.gz",
      "has_sig": false,
      "md5_digest": "8be8cff34cf3d8a42cfe225fc94f6cde",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": ">=3.6",
      "size": 11222,
      "upload_time": "2023-03-13T21:14:39",
      "upload_time_iso_8601": "2023-03-13T21:14:39.184105Z",
      "url": "https://files.pythonhosted.org/packages/bd/b7/0cead617443d9afe276b772532934683ce510a3c50217f6c6cf7fdda84f8/relationalize-0.1.7.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}