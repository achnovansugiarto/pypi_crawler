{
  "info": {
    "author": "Klas Leino",
    "author_email": "kleino@cs.cmu.edu",
    "bugtrack_url": null,
    "classifiers": [
      "License :: OSI Approved :: MIT License",
      "Operating System :: OS Independent",
      "Programming Language :: Python :: 3"
    ],
    "description": "# DB-ify\nDecorate functions to write their outputs and given parameters to a MySQL database. \n\n## Installation / Set-up\n\nFirst, navigate to the root folder of this repo, and activate the virtual environment you would like to install in. Then install dbify:\n```\npip install -e .\n```\n\nIn order to use `dbify`, you will need a MySQL server set up.\n\n## Usage\n\nThis library provides a decorator, `dbify`, that modifies the function it decorates to store its output to a MySQL database, along with each of the function's given parameters. The function must return a dictionary mapping column names to the values that will be stored in the database.\n\n_Note that MySQL database is limited in the types of objects it can store. Right now all return values and arguments to db-ified functions must be of type `int`, `float`, `str`, `bool`, or `None`._\n\nConsider the following example:\n```python\nfrom dbify import dbify\n\n@dbify('test_database', 'test_table')\ndef example(a, b, c=0):\n    return {\n        'x': a + b + c,\n        'y': a * b * c,\n        'z': a > b\n    }\n    \nexample(2, 3, 2)\n```\n\nIn this example we assume that there is a database named `'test_database'`. Within this database, we will insert into a table called `'test_table'`, which will be created if it doesn't exist. We also assume that the user has set up a configuration file for connecting to their MySQL server (see more on this below). Executing this code will result in adding the following row to `'test_table'`:\n\n```\nid           | modified        | a | b | c | x | y  | z\n-------------+-----------------+---+---+---+---+----+----------\n<unique id>  | <date/time run> | 2 | 3 | 1 | 7 | 12 | 0 (False)\n```\n\n### Connecting to a MySQL server\n\nThe `dbify` decorator uses an instance of `dbify.connections.DbServer` in order to connect to a MySQL server. A `DbServer` object keeps track of the host name, port, user credentials, etc., required to connect to the database server. There are two options for connecting: (1) directly by host name, and (2) via SSH tunneling. Use the former if your server is accessible over the internet or running on the same machine your code is running on; use the latter if you have a local MySQL server running on another machine that you would like to connect to via SSH.\n\nTo connect to the server using method (1), the example code above could read as follows:\n```python\nfrom dbify import dbify\nfrom dbify.connections import DbServer\n\n@dbify(\n    'test_database', \n    'test_table',\n    db_server=DbServer(\n        db_name='test_database',\n        db_user='root',\n        db_password='password',\n        db_host='127.0.0.1',\n        db_port=3306))\ndef example(a, b, c=0):\n    return {\n        'x': a + b + c,\n        'y': a * b * c,\n        'z': a > b\n    }\n    \nexample(2, 3, 2)\n```\n\nTo connect to the server using method (2), the example code above could read as follows:\n```python\n@dbify(\n    'test_database', \n    'test_table',\n    db_server=DbServer(\n        db_name='test_database',\n        db_user='root',\n        db_password='password',\n        db_host='127.0.0.1',\n        db_port=3306,\n        ssh_address='name-of-remote-server.com',\n        ssh_user='user',\n        ssh_keyfile='~/.ssh/keyfile',\n        local_bind_host='0.0.0.0',\n        local_bind_port=3307))\ndef example(a, b, c=0):\n    return {\n        'x': a + b + c,\n        'y': a * b * c,\n        'z': a > b\n    }\n    \nexample(2, 3, 2)\n```\n\nThe easiest way to connect to a MySQL database server is using a configuration file. By creating a configuration file, you can avoid using an instance of `DbServer` directly. To create a configuration file, create a file called `~/.dbify_config`, and include in it the parameters passed to the `DbServer` constructor above, e.g., to connect using method (1), the contents of `~/.dbify_config` could be:\n```\ndb_user = root\ndb_password = password\ndb_host = 127.0.0.1\ndb_port = 3306\n```\n\n### Tip on viewing your databases\n\nTo view your databases on Mac OS, you can use sequel pro. If using a modern version of MySQL, you may need the nightly version.\n```\nbrew cask install homebrew/cask-versions/sequel-pro-nightly\n```\n\n\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "",
    "keywords": "",
    "license": "",
    "maintainer": "",
    "maintainer_email": "",
    "name": "dbify",
    "package_url": "https://pypi.org/project/dbify/",
    "platform": "",
    "project_url": "https://pypi.org/project/dbify/",
    "project_urls": null,
    "release_url": "https://pypi.org/project/dbify/0.0.1/",
    "requires_dist": [
      "mysql-connector-python",
      "decorator",
      "sshtunnel"
    ],
    "requires_python": ">=3.6",
    "summary": "decorator for storing function results in a database",
    "version": "0.0.1",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 10954274,
  "releases": {
    "0.0.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "9763188caec1e57908620acd807034361a7b5cb6bbc1de13728b5e71c1ac1545",
          "md5": "087fa58ba8141b391e801a58331964db",
          "sha256": "b369baf49d0493159764ee97529830ab583e2671d49cac2cb030901fba26e7a8"
        },
        "downloads": -1,
        "filename": "dbify-0.0.1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "087fa58ba8141b391e801a58331964db",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.6",
        "size": 7490,
        "upload_time": "2021-07-20T08:01:04",
        "upload_time_iso_8601": "2021-07-20T08:01:04.820782Z",
        "url": "https://files.pythonhosted.org/packages/97/63/188caec1e57908620acd807034361a7b5cb6bbc1de13728b5e71c1ac1545/dbify-0.0.1-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "666640e767089385ef00144b5b6acc750fe08173d817b00fbbdcc2deccc781ea",
          "md5": "ca90d811ec876318fb133e2108717c82",
          "sha256": "fde66871b5e051aa47f5a6831a8a82334c428fa74e2ec1514d1e91b9c7a66911"
        },
        "downloads": -1,
        "filename": "dbify-0.0.1.tar.gz",
        "has_sig": false,
        "md5_digest": "ca90d811ec876318fb133e2108717c82",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6",
        "size": 8198,
        "upload_time": "2021-07-20T08:01:06",
        "upload_time_iso_8601": "2021-07-20T08:01:06.040175Z",
        "url": "https://files.pythonhosted.org/packages/66/66/40e767089385ef00144b5b6acc750fe08173d817b00fbbdcc2deccc781ea/dbify-0.0.1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "9763188caec1e57908620acd807034361a7b5cb6bbc1de13728b5e71c1ac1545",
        "md5": "087fa58ba8141b391e801a58331964db",
        "sha256": "b369baf49d0493159764ee97529830ab583e2671d49cac2cb030901fba26e7a8"
      },
      "downloads": -1,
      "filename": "dbify-0.0.1-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "087fa58ba8141b391e801a58331964db",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": ">=3.6",
      "size": 7490,
      "upload_time": "2021-07-20T08:01:04",
      "upload_time_iso_8601": "2021-07-20T08:01:04.820782Z",
      "url": "https://files.pythonhosted.org/packages/97/63/188caec1e57908620acd807034361a7b5cb6bbc1de13728b5e71c1ac1545/dbify-0.0.1-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "666640e767089385ef00144b5b6acc750fe08173d817b00fbbdcc2deccc781ea",
        "md5": "ca90d811ec876318fb133e2108717c82",
        "sha256": "fde66871b5e051aa47f5a6831a8a82334c428fa74e2ec1514d1e91b9c7a66911"
      },
      "downloads": -1,
      "filename": "dbify-0.0.1.tar.gz",
      "has_sig": false,
      "md5_digest": "ca90d811ec876318fb133e2108717c82",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": ">=3.6",
      "size": 8198,
      "upload_time": "2021-07-20T08:01:06",
      "upload_time_iso_8601": "2021-07-20T08:01:06.040175Z",
      "url": "https://files.pythonhosted.org/packages/66/66/40e767089385ef00144b5b6acc750fe08173d817b00fbbdcc2deccc781ea/dbify-0.0.1.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}