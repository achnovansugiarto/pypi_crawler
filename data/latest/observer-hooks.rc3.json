{
  "info": {
    "author": "Ryan McConnell",
    "author_email": "",
    "bugtrack_url": null,
    "classifiers": [
      "License :: OSI Approved :: MIT License",
      "Operating System :: OS Independent",
      "Programming Language :: Python :: 3"
    ],
    "description": "# observer_hooks\nAn easy way to attach side effects to functions and methods.\nIntended to accomplish something similar to the \"observer pattern\" in simple context.\n\nFor methods, an instance member to hold weak references to functions and methods is automatically created. By default\nthe instance member is the same name as the method with an underscore prepended. This can be changed with the event_name\nargument.\n\nSide effects can be chained normally.\n\n## Install\n```\npip install observer-hooks\n```\n\n[Documentation](https://ilikescaviar.github.io/ObserverHooks/) (wip)\n\n## Usage\n\nAttach a side effect to a function:\n```python\nfrom observer_hooks import notify\n\n@notify()\ndef some_function(param):\n    return f\"param: {param}\"\n\n\ndef side_effect(param):\n    print(param)\n\n\nsome_function.subscribe(side_effect)\nassert some_function(1) == 'param: 1'\n# this will print \"1\"\n```\n\nAttach a side effect to a method:\n```python\nfrom observer_hooks import notify\n\nclass A:\n    @notify()\n    def notify_some_action(self):\n        pass\n\nclass B:\n    def __init__(self, a:A):\n        self.a = a\n        a.notify_some_action.subscribe(self.a_some_action)\n    \n    def a_some_action(self):\n        print('received')\n\nb = B(A())\nb.a.notify_some_action()\n# this will print \"received\"\n```\n\nExample with __slots__:\n```python\nfrom observer_hooks import notify\n\nclass A:\n    __slots__ = '_notify_some_action',\n    \n    @notify()\n    def notify_some_action(self):\n        pass\n\ndef a_some_action():\n    print('received')\n\na = A()\na.notify_some_action.subscribe(a_some_action)\na.notify_some_action()\n# this will print \"received\"\n```\n\nBlock certain side effects from firing:\n\n```python\nfrom observer_hooks import notify\nfrom observer_hooks.block_events import BlockSideEffects\n\n\nclass A:\n    __slots__ = '_notify_some_action',\n\n    @notify()\n    def notify_some_action(self):\n        pass\n\n\ndef a_some_action():\n    print('blocked')\n\n\ndef a_some_action2():\n    print('not blocked')\n\n\na = A()\na.notify_some_action.subscribe(a_some_action)\na.notify_some_action.subscribe(a_some_action2)\nwith BlockSideEffects(a.notify_some_action, only=(a_some_action,)):\n    a.notify_some_action()\n```\n\nThe HardRefEventHandler will hold non-weak references to lambda and partial functions\n```python\nfrom observer_hooks import notify, HardRefEventHandler\n\n@notify(handler_t=HardRefEventHandler)\ndef notify_some_action():\n    return 'return value'\n\ndef some_action():\n    print('Hi')\n\ndef scope():\n    notify_some_action.subscribe(lambda: some_action())\n\nscope()\nprint(notify_some_action())\n```\n\nThe \"pass_ref\" parameter will pass the \"self\" reference to side-effect functions and the switch_event_handler method on descriptors will switch the event handler type\n```python\nfrom observer_hooks import notify, HardRefEventHandler\nclass SomeClass:\n    @notify(pass_ref=True)\n    def method(self):\n        pass\n\ns = SomeClass()\n\ndef method(other):\n    assert other is s\n\ns.method.switch_event_handler(HardRefEventHandler())\ns.method.subscribe(method)\ns.method()\n```\n\nInherit or copy parameters from a superclasses descriptor with 'notify_copy_super'\n\n```python\nfrom observer_hooks import notify, notify_copy_super\n\n\nclass A:\n    @notify(pass_ref=True, no_origin=True, auto_fire=False)\n    def method(self):\n        print('this wont print')\n\n\nclass B(A):\n    pass\n\n\nclass C(B):\n    @notify_copy_super(auto_fire=True)\n    def method(self):\n        print('neither will this')\n\n\ndef side_effect(x):\n    print('hi', x)\n\n\nc = C()\nc.method.subscribe(side_effect)\nc.method()\n```\n\n\nNotes:\n- The parameter \"auto_fire\", when set to false, will disable all side effects and instead the .emit() function can be used to manually trigger the side effects\n- Redefined methods in child classes also need a decorator to retain the behavior and will override behavior to the specifications of the new decorator\n- Inherited methods will only fire once even if they are re-defined and super is called\n- Inherited methods do not need to be re-defined\n\n# Future plans\n\n- Implement access to the originating functions return value\n  - Either a member of the object that replaces the function for non-thread safe applications or a special parameter\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/ILikesCaviar/ObserverHooks",
    "keywords": "",
    "license": "",
    "maintainer": "",
    "maintainer_email": "",
    "name": "observer-hooks",
    "package_url": "https://pypi.org/project/observer-hooks/",
    "platform": null,
    "project_url": "https://pypi.org/project/observer-hooks/",
    "project_urls": {
      "Homepage": "https://github.com/ILikesCaviar/ObserverHooks"
    },
    "release_url": "https://pypi.org/project/observer-hooks/1.3.0/",
    "requires_dist": [
      "ordered-set (>=4.1.0)"
    ],
    "requires_python": ">=3.0",
    "summary": "Easy, minimalist tools for function side-effects and observer pattern with weak references",
    "version": "1.3.0",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 16509468,
  "releases": {
    "1.0.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "d9e9d2dd2ac78e431423d270dc289ce718d5e35cb20ccc41a8a37a9f5aa212ae",
          "md5": "e413d3c5d9dfd771f04e7fd427f9c87e",
          "sha256": "4d2fc89a1dffb48b895a4a7962ab43ac25c566114c309326eedbd21ba5ecdf86"
        },
        "downloads": -1,
        "filename": "observer_hooks-1.0.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "e413d3c5d9dfd771f04e7fd427f9c87e",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.0",
        "size": 7164,
        "upload_time": "2022-08-02T01:37:10",
        "upload_time_iso_8601": "2022-08-02T01:37:10.838910Z",
        "url": "https://files.pythonhosted.org/packages/d9/e9/d2dd2ac78e431423d270dc289ce718d5e35cb20ccc41a8a37a9f5aa212ae/observer_hooks-1.0.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "ad749f6c159a9689dd7c411cec045646aa5e3fe6c151382e67c244d71077a4d5",
          "md5": "94b3681836fb49b3478787357bc4c350",
          "sha256": "0845469693130ddf2964be12b5b2607a12a9d48ec7e1f48078292081581a037b"
        },
        "downloads": -1,
        "filename": "observer-hooks-1.0.0.tar.gz",
        "has_sig": false,
        "md5_digest": "94b3681836fb49b3478787357bc4c350",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.0",
        "size": 7511,
        "upload_time": "2022-08-02T01:37:12",
        "upload_time_iso_8601": "2022-08-02T01:37:12.995804Z",
        "url": "https://files.pythonhosted.org/packages/ad/74/9f6c159a9689dd7c411cec045646aa5e3fe6c151382e67c244d71077a4d5/observer-hooks-1.0.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.2.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "91508b7e9f858e9653e06cfe32b2d5552cd110f4e4b18d04264be26ef46b55b5",
          "md5": "af74c0b681b206e5442d12bec587c62a",
          "sha256": "c15cf44c07ba008eb4f5d6e65a4fab88d7c71ed0ca7069c8b2f4430e5488e133"
        },
        "downloads": -1,
        "filename": "observer_hooks-1.2.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "af74c0b681b206e5442d12bec587c62a",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.0",
        "size": 8329,
        "upload_time": "2023-01-13T12:58:04",
        "upload_time_iso_8601": "2023-01-13T12:58:04.832990Z",
        "url": "https://files.pythonhosted.org/packages/91/50/8b7e9f858e9653e06cfe32b2d5552cd110f4e4b18d04264be26ef46b55b5/observer_hooks-1.2.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "ebb9d67a0259b7afc992e4ebd37d0d8711b75e36e49632914baf9d85c92f1e88",
          "md5": "f3bafdba1bd3d14c6455cc966ce2efd1",
          "sha256": "38a8ac7d545841e20cff78a7668370c540582f27e95392269328678a3655b64d"
        },
        "downloads": -1,
        "filename": "observer-hooks-1.2.0.tar.gz",
        "has_sig": false,
        "md5_digest": "f3bafdba1bd3d14c6455cc966ce2efd1",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.0",
        "size": 8326,
        "upload_time": "2023-01-13T12:58:06",
        "upload_time_iso_8601": "2023-01-13T12:58:06.739358Z",
        "url": "https://files.pythonhosted.org/packages/eb/b9/d67a0259b7afc992e4ebd37d0d8711b75e36e49632914baf9d85c92f1e88/observer-hooks-1.2.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.3.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "e9e3cb73c6a99e5b6cca6064a417bf55c3e03db4d0a2cf591efe3df691565192",
          "md5": "fb68f3c4f5a50a69136ff1a779b546fe",
          "sha256": "3fd8c490139693cde65941a7bcb26e45eca6485d7c17d1967f3fc518db105fc6"
        },
        "downloads": -1,
        "filename": "observer_hooks-1.3.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "fb68f3c4f5a50a69136ff1a779b546fe",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.0",
        "size": 8810,
        "upload_time": "2023-01-21T03:11:44",
        "upload_time_iso_8601": "2023-01-21T03:11:44.953347Z",
        "url": "https://files.pythonhosted.org/packages/e9/e3/cb73c6a99e5b6cca6064a417bf55c3e03db4d0a2cf591efe3df691565192/observer_hooks-1.3.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "e30dbf4f1d7ed8307d1c88f9d5784b2d63b9a7e8a45cbe699185e40f8f937711",
          "md5": "a9038d9ccf5d92bdd1a9ccf379bab9ca",
          "sha256": "6c4a366c0d926201be93a25ee8322d8e7aab9b2120daaea3261b5afb7d29777f"
        },
        "downloads": -1,
        "filename": "observer-hooks-1.3.0.tar.gz",
        "has_sig": false,
        "md5_digest": "a9038d9ccf5d92bdd1a9ccf379bab9ca",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.0",
        "size": 8708,
        "upload_time": "2023-01-21T03:11:47",
        "upload_time_iso_8601": "2023-01-21T03:11:47.095473Z",
        "url": "https://files.pythonhosted.org/packages/e3/0d/bf4f1d7ed8307d1c88f9d5784b2d63b9a7e8a45cbe699185e40f8f937711/observer-hooks-1.3.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "e9e3cb73c6a99e5b6cca6064a417bf55c3e03db4d0a2cf591efe3df691565192",
        "md5": "fb68f3c4f5a50a69136ff1a779b546fe",
        "sha256": "3fd8c490139693cde65941a7bcb26e45eca6485d7c17d1967f3fc518db105fc6"
      },
      "downloads": -1,
      "filename": "observer_hooks-1.3.0-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "fb68f3c4f5a50a69136ff1a779b546fe",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": ">=3.0",
      "size": 8810,
      "upload_time": "2023-01-21T03:11:44",
      "upload_time_iso_8601": "2023-01-21T03:11:44.953347Z",
      "url": "https://files.pythonhosted.org/packages/e9/e3/cb73c6a99e5b6cca6064a417bf55c3e03db4d0a2cf591efe3df691565192/observer_hooks-1.3.0-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "e30dbf4f1d7ed8307d1c88f9d5784b2d63b9a7e8a45cbe699185e40f8f937711",
        "md5": "a9038d9ccf5d92bdd1a9ccf379bab9ca",
        "sha256": "6c4a366c0d926201be93a25ee8322d8e7aab9b2120daaea3261b5afb7d29777f"
      },
      "downloads": -1,
      "filename": "observer-hooks-1.3.0.tar.gz",
      "has_sig": false,
      "md5_digest": "a9038d9ccf5d92bdd1a9ccf379bab9ca",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": ">=3.0",
      "size": 8708,
      "upload_time": "2023-01-21T03:11:47",
      "upload_time_iso_8601": "2023-01-21T03:11:47.095473Z",
      "url": "https://files.pythonhosted.org/packages/e3/0d/bf4f1d7ed8307d1c88f9d5784b2d63b9a7e8a45cbe699185e40f8f937711/observer-hooks-1.3.0.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}