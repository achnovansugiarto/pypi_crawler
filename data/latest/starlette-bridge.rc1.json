{
  "info": {
    "author": "",
    "author_email": "Tiago Silva <tiago.arasilva@gmail.com>",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 4 - Beta",
      "Environment :: Web Environment",
      "Framework :: AnyIO",
      "Framework :: AsyncIO",
      "Intended Audience :: Developers",
      "Intended Audience :: Information Technology",
      "Intended Audience :: System Administrators",
      "License :: OSI Approved :: MIT License",
      "Operating System :: OS Independent",
      "Programming Language :: Python",
      "Programming Language :: Python :: 3",
      "Programming Language :: Python :: 3 :: Only",
      "Programming Language :: Python :: 3.10",
      "Programming Language :: Python :: 3.11",
      "Programming Language :: Python :: 3.8",
      "Programming Language :: Python :: 3.9",
      "Topic :: Internet",
      "Topic :: Internet :: WWW/HTTP",
      "Topic :: Internet :: WWW/HTTP :: HTTP Servers",
      "Topic :: Software Development",
      "Topic :: Software Development :: Libraries",
      "Topic :: Software Development :: Libraries :: Application Frameworks",
      "Topic :: Software Development :: Libraries :: Python Modules",
      "Typing :: Typed"
    ],
    "description": "# Starlette Bridge\n\n<p align=\"center\">\n  <a href=\"https://starlette-bridge.tarsild.io\"><img width=\"420px\" src=\"https://www.starlette.io/img/starlette.png\" alt='Starlette Bridge'></a>\n</p>\n\n<p align=\"center\">\n    <em>ðŸš€ The Starlette events bridge that you need. ðŸš€</em>\n</p>\n\n<p align=\"center\">\n<a href=\"https://github.com/tarsil/starlette-bridge/workflows/Test%20Suite/badge.svg?event=push&branch=main\" target=\"_blank\">\n    <img src=\"https://github.com/tarsil/starlette-bridge/workflows/Test%20Suite/badge.svg?event=push&branch=main\" alt=\"Test Suite\">\n</a>\n\n<a href=\"https://pypi.org/project/starlette-bridge\" target=\"_blank\">\n    <img src=\"https://img.shields.io/pypi/v/starlette-bridge?color=%2334D058&label=pypi%20package\" alt=\"Package version\">\n</a>\n\n<a href=\"https://pypi.org/project/starlette-bridge\" target=\"_blank\">\n    <img src=\"https://img.shields.io/pypi/pyversions/starlette-bridge.svg?color=%2334D058\" alt=\"Supported Python versions\">\n</a>\n</p>\n\n---\n\n**Documentation**: [https://starlette-bridge.tarsild.io](https://starlette-bridge.tarsild.io) ðŸ“š\n\n**Source Code**: [https://github.com/tarsil/starlette-bridge](https://github.com/tarsil/starlette-bridge)\n\n---\n\n## Motivation\n\nStarlette has evolved and it will keep on growing. In the release 0.26+ it was announced the\n`on_startup` and `on_shutdown` events would be removed in favour of the newly `lifepsan` and those\nwould be officially removed in the release 1.0.\n\nThe problem is the fact that there are a lof od packages out there still using the old ways of\nusing the events and this change will introduce breaking changes.\n\nThis bridge will make sure that doesn't happen and you can still use the old form of using the\n`on_startup` and `on_shutdown` without breaking the `lifespan` from Starlette.\n\nWhat `Starlette Bridge` does for you is simple. It gets the `on_startup` and `on_shutdown` events\nin the same fashion you could do before and internally generates the newly `lifespan` for starlette.\n\nThat simple. Keeping the old syntax intact and using the newly `lifespan`.\n\n## Installation\n\nTo install Starlette Bridge, simply run:\n\n```shell\n$ pip install starlette-bridge\n```\n\n## How to use\n\nThis is actually very simple to do it. You don't need to do anything particularly difficult, in\nfact, you only need to update where your Starlette object comes from.\n\n```python hl_lines=\"1\"\nfrom starlette_bridge import Starlette\n\napp = Starlette()\n```\n\nAnd that is pretty much it.\n\n### How does it work\n\nStarlette bridge simply maps your `on_startup` and `on_shutdown` events and converts them into\nthe new `lifespan` async generator from `Starlette`.\n\nThis way you can continue to use your preferred way of assembling the events while maintaining\nthe new structure required by Starlette for managing events.\n\n### on_event and add_event_handler\n\nThese two pieces of functionality are also supported by the bridge making sure that what you had\nin the past, still remains working as is without changing the syntax.\n\nLet us see an example how it works. We will be using [Starlette Bridge](https://saffier.tarsild.io) because\nalready contains events we want to use.\n\n#### on_startup/on_shutdown\n\nUsing the `on_startup` and `on_shutdown`.\n\n```python hl_lines=\"3 10-11\"\nfrom saffier import Database, Registry\n\nfrom starlette_bridge import Starlette\n\ndatabase = Database(\"sqlite:///db.sqlite\")\nmodels = Registry(database=database)\n\n\napp = Starlette(\n    on_startup=[database.connect],\n    on_shutdown=[database.disconnect],\n)\n```\n\n#### Lifespan\n\nYou can, of course, use the lifespan as well.\n\n```python hl_lines=\"5 20\"\nfrom contextlib import asynccontextmanager\n\nfrom saffier import Database, Registry\n\nfrom starlette_bridge import Starlette\n\ndatabase = Database(\"sqlite:///db.sqlite\")\nmodels = Registry(database=database)\n\n\n@asynccontextmanager\nasync def lifespan(app: Starlette):\n    # On startup\n    await database.connect()\n    yield\n    # On shutdown\n    await database.disconnect()\n\n\napp = Starlette(lifespan=lifespan)\n```\n\n#### on_event and add_event_handler\n\nAs mentioned before, those two functionalities are also available.\n\n##### on_event\n\n```python hl_lines=\"3 12 17\"\nfrom saffier import Database, Registry\n\nfrom starlette_bridge import Starlette\n\ndatabase = Database(\"sqlite:///db.sqlite\")\nmodels = Registry(database=database)\n\n\napp = Starlette()\n\n\n@app.on_event(\"startup\")\nasync def start_database():\n    await database.connect()\n\n\n@app.on_event(\"shutdown\")\nasync def close_database():\n    await database.disconnect()\n```\n\n##### add_event_handler\n\n```python hl_lines=\"3 10-11\"\nfrom saffier import Database, Registry\n\nfrom starlette_bridge import Starlette\n\ndatabase = Database(\"sqlite:///db.sqlite\")\nmodels = Registry(database=database)\n\n\napp = Starlette()\napp.add_event_handler(\"startup\", database.connect)\napp.add_event_handler(\"shutdown\", database.disconnect)\n```\n\n## Notes\n\nThis is from the same author of [Esmerald](https://esmerald.dev),\n[Starlette Bridge](https://saffier.tarsild.io) and [Asyncz](https://asyncz.tarsild.io). Have a look around\nthose techologies as well ðŸ˜„.\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "",
    "keywords": "api,asgi,esmerald,fastapi,framework,http,machine learning,ml,openapi,pydantic,rest,starlette,websocket",
    "license": "",
    "maintainer": "",
    "maintainer_email": "",
    "name": "starlette-bridge",
    "package_url": "https://pypi.org/project/starlette-bridge/",
    "platform": null,
    "project_url": "https://pypi.org/project/starlette-bridge/",
    "project_urls": {
      "Changelog": "https://starlette-bridge.tarsild.io/release-notes/",
      "Documentation": "https://starlette-bridge.tarsild.io/",
      "Funding": "https://github.com/sponsors/tarsil",
      "Homepage": "https://github.com/tarsil/starlette-bridge",
      "Source": "https://github.com/tarsil/starlette-bridge"
    },
    "release_url": "https://pypi.org/project/starlette-bridge/0.1.0/",
    "requires_dist": [
      "starlette>=0.26.1",
      "mdx-include<2.0.0,>=1.4.1; extra == 'doc'",
      "mkautodoc<0.3.0,>=0.2.0; extra == 'doc'",
      "mkdocs-markdownextradata-plugin<0.3.0,>=0.1.7; extra == 'doc'",
      "mkdocs-material==9.1.3; extra == 'doc'",
      "mkdocs<2.0.0,>=1.4.2; extra == 'doc'",
      "mkdocstrings<0.21.0,>=0.19.0; extra == 'doc'",
      "pyyaml<7.0.0,>=5.3.1; extra == 'doc'",
      "anyio<4,>=3.0.0; extra == 'test'",
      "anyio[trio]<4.0.0,>=3.2.1; extra == 'test'",
      "asyncio[trio]<4.0.0,>=3.4.3; extra == 'test'",
      "black==23.1.0; extra == 'test'",
      "flake8>=5.0.4; extra == 'test'",
      "httpx>=0.22.0; extra == 'test'",
      "isort<6.0.0,>=5.0.6; extra == 'test'",
      "mock==5.0.1; extra == 'test'",
      "mypy==1.1.1; extra == 'test'",
      "pytest-asyncio>=0.19.0; extra == 'test'",
      "pytest-cov<5.0.0,>=2.12.0; extra == 'test'",
      "pytest<8.0.0,>=7.1.3; extra == 'test'",
      "ruff<1.0.0,>=0.0.256; extra == 'test'",
      "types-orjson==3.6.2; extra == 'test'"
    ],
    "requires_python": ">=3.8",
    "summary": "The Starlette events bridge that you need.",
    "version": "0.1.0",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 17334866,
  "releases": {
    "0.1.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "1cbbfa2c2e029d3d8b7b9f0aad1fadf1e017532023b3c2ba2106134d51ded569",
          "md5": "0d54cabe9b0b5a7a5a88b3bdc6743064",
          "sha256": "84fa483725a12db748c42b189fd8472087b3bcf5482c6000ce73309eea6d91f7"
        },
        "downloads": -1,
        "filename": "starlette_bridge-0.1.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "0d54cabe9b0b5a7a5a88b3bdc6743064",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.8",
        "size": 7151,
        "upload_time": "2023-03-17T13:19:42",
        "upload_time_iso_8601": "2023-03-17T13:19:42.937740Z",
        "url": "https://files.pythonhosted.org/packages/1c/bb/fa2c2e029d3d8b7b9f0aad1fadf1e017532023b3c2ba2106134d51ded569/starlette_bridge-0.1.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "6b9aa42c289921ab4ae2c2f1a19609d8f2edcca77ba6f05af1ed7c5c54bf8e44",
          "md5": "070d733d393863dde09f488ed0303f8e",
          "sha256": "bb49f9aea8b38b0889fa7517cc1c97b4f3f7432becca3417651e8442cabd4030"
        },
        "downloads": -1,
        "filename": "starlette_bridge-0.1.0.tar.gz",
        "has_sig": false,
        "md5_digest": "070d733d393863dde09f488ed0303f8e",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.8",
        "size": 6296,
        "upload_time": "2023-03-17T13:19:44",
        "upload_time_iso_8601": "2023-03-17T13:19:44.740947Z",
        "url": "https://files.pythonhosted.org/packages/6b/9a/a42c289921ab4ae2c2f1a19609d8f2edcca77ba6f05af1ed7c5c54bf8e44/starlette_bridge-0.1.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "1cbbfa2c2e029d3d8b7b9f0aad1fadf1e017532023b3c2ba2106134d51ded569",
        "md5": "0d54cabe9b0b5a7a5a88b3bdc6743064",
        "sha256": "84fa483725a12db748c42b189fd8472087b3bcf5482c6000ce73309eea6d91f7"
      },
      "downloads": -1,
      "filename": "starlette_bridge-0.1.0-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "0d54cabe9b0b5a7a5a88b3bdc6743064",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": ">=3.8",
      "size": 7151,
      "upload_time": "2023-03-17T13:19:42",
      "upload_time_iso_8601": "2023-03-17T13:19:42.937740Z",
      "url": "https://files.pythonhosted.org/packages/1c/bb/fa2c2e029d3d8b7b9f0aad1fadf1e017532023b3c2ba2106134d51ded569/starlette_bridge-0.1.0-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "6b9aa42c289921ab4ae2c2f1a19609d8f2edcca77ba6f05af1ed7c5c54bf8e44",
        "md5": "070d733d393863dde09f488ed0303f8e",
        "sha256": "bb49f9aea8b38b0889fa7517cc1c97b4f3f7432becca3417651e8442cabd4030"
      },
      "downloads": -1,
      "filename": "starlette_bridge-0.1.0.tar.gz",
      "has_sig": false,
      "md5_digest": "070d733d393863dde09f488ed0303f8e",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": ">=3.8",
      "size": 6296,
      "upload_time": "2023-03-17T13:19:44",
      "upload_time_iso_8601": "2023-03-17T13:19:44.740947Z",
      "url": "https://files.pythonhosted.org/packages/6b/9a/a42c289921ab4ae2c2f1a19609d8f2edcca77ba6f05af1ed7c5c54bf8e44/starlette_bridge-0.1.0.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}