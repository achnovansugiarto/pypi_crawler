{
  "info": {
    "author": "Slash Gordon",
    "author_email": "slash.gordon.dev@gmail.com",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 5 - Production/Stable",
      "Intended Audience :: Developers",
      "License :: OSI Approved :: MIT License",
      "Natural Language :: English",
      "Operating System :: OS Independent",
      "Programming Language :: Python",
      "Programming Language :: Python :: 2",
      "Programming Language :: Python :: 2.6",
      "Programming Language :: Python :: 2.7",
      "Programming Language :: Python :: 3",
      "Programming Language :: Python :: 3.4",
      "Programming Language :: Python :: 3.5",
      "Topic :: Office/Business :: Financial :: Investment",
      "Topic :: Software Development :: Libraries :: Python Modules"
    ],
    "description": "# pystockfilter\n\n![Release Build](https://github.com/portfolioplus/pystockfilter/workflows/Release%20Build/badge.svg)\n![CI Build](https://github.com/portfolioplus/pystockfilter/workflows/CI/badge.svg)\n![PyPI - Downloads](https://img.shields.io/pypi/dm/pystockfilter?style=plastic)\n[![Coverage Status](https://coveralls.io/repos/github/portfolioplus/pystockfilter/badge.svg?branch=master)](https://coveralls.io/github/portfolioplus/pystockfilter?branch=master)\n[![Codacy Badge](https://app.codacy.com/project/badge/Grade/ac0c6fc68b74408c976007bd3db823f0)](https://www.codacy.com/gh/portfolioplus/pystockfilter/dashboard?utm_source=github.com&amp;utm_medium=referral&amp;utm_content=portfolioplus/pystockfilter&amp;utm_campaign=Badge_Grade)\n\nCreate your own fundamental or chart based stock filter. All you need is a database set up with [pystockdb](https://github.com/portfolioplus/pystockdb).\n\n## built-in filters\n\n### technical filters\n\n- [x] [ADX](https://en.wikipedia.org/wiki/Average_directional_movement_index)\n- [x] [RSI](https://en.wikipedia.org/wiki/Relative_strength_index)\n- [x] StockIsHot: Simple trend indicator\n- [x] StockIsHotSecure: improved StockIsHot version.\n\n### fundamental filters\n\n- [x] Lervermann\n- [x] [Piotroski F-Score](https://en.wikipedia.org/wiki/Piotroski_F-Score)\n- [x] Price Target Score: analysts price targets compared with actual price\n\n## install\n\n```shell\npip install pystockfilter\n```\n\n## quick start\n\nBuild internal filters:\n\n```python\nimport logging\nfrom pystockdb.db.schema.stocks import db\n\nfrom pystockfilter.tool.build_internal_filters import BuildInternalFilters\n\n# connect to database\narguments = {'db_args': {\n    'provider': 'sqlite',\n    'filename': db_path_test,\n    'create_db': False\n    }\n}\ndb.bind(**arguments[\"db_args\"])\ndb.generate_mapping()\n# create internal filters for Adidas AG and Infineon\narguments = {'symbols': ['ADS.F', 'IFX.F']}\nbuilder = BuildInternalFilters(arguments, logger)\nbuilder.build()\n# create internal filters for all stocks in database\narguments = {'symbols': ['ALL']}\nbuilder = BuildInternalFilters(arguments, logger)\nbuilder.build()\n```\n\nBuild custom filters:\n\n```python\nimport logging\nimport math\nfrom datetime import datetime\n\nimport numpy as np\nimport tulipy as ti\nimport yfinance as yf\nfrom dateutil.relativedelta import relativedelta\nfrom pony.orm import db_session, select\nfrom pystockdb.db.schema.stocks import Price, Tag\nfrom pystockfilter.filter.base_filter import BaseFilter\nfrom pystockfilter.base.base_helper import BaseHelper\nfrom pystockfilter.tool.build_filters import BuildFilters\n\n# custom filter \nclass DividendKings(BaseFilter):\n    \"\"\"\n    Calculates median of last dividends\n    \"\"\"\n\n    NAME = 'DividendKings'\n\n    def __init__(self, arguments: dict, logger: logging.Logger):\n        self.buy = arguments['args']['threshold_buy']\n        self.sell = arguments['args']['threshold_sell']\n        self.lookback = arguments['args']['lookback']\n        self.max_yield = arguments['args']['max_div_yield']\n        super(DividendKings, self).__init__(arguments, logger)\n\n    @db_session\n    def analyse(self):\n        symbol = select(sym.name for sym in self.stock.price_item.symbols\n                        if Tag.YAO in sym.item.tags.name).first()\n        try:\n            yao_item = yf.Ticker(symbol)\n            data = yao_item.dividends\n        except ValueError:\n            raise RuntimeError(\"Couldn't load dividends for {}\".format(symbol))\n\n        dates = data.index.array\n        drop = []\n        # let us calculate the dividend yield\n        for my_date in dates:\n            price = Price.select(\n                    lambda p: p.symbol.name == symbol\n                    and p.date.date() == my_date.date()\n                ).first()\n            if price:\n                div_yield = (data[my_date] / price.close) * 100\n                if div_yield > self.max_yield:\n                    drop.append(my_date)\n                    self.logger.error(\n                        '{} has a non plausible div yield at {} ({} = {} / {} * 100).'\n                        .format(symbol, my_date, div_yield, data[my_date], price.close)\n                    )\n                else:\n                    data[my_date] = div_yield\n            else:\n                drop.append(my_date)\n        data = data.drop(labels=drop)\n        self.calc = data.median(axis=0)\n        if self.calc is None or math.isnan(self.calc):\n            raise RuntimeError(\"Couldn't calculate dividend yield.\")\n        return super(DividendKings, self).analyse()\n\n    def get_calculation(self):\n        return self.calc\n\n    def look_back_date(self):\n        return self.now_date + relativedelta(months=-self.lookback)\n\nlogger = BaseHelper.setup_logger(\"custom filter\")\n\narguments_div = {\n    \"name\": \"DividendKings\",\n    \"bars\": False,\n    \"index_bars\": False,\n    \"args\": {\n        \"threshold_buy\": 3,\n        \"threshold_sell\": 0.2,\n        \"intervals\": None,\n        \"max_div_yield\": 9,\n        \"lookback\": 2,\n    },\n}\n\nsymbols = [\"ADS.F\", \"WDI.F\", \"BAYN.F\"]\n\nconfig_custom_filter = {\n    \"symbols\": symbols,\n    \"filters\": [DividendKings(arguments_div, logger)],\n}\n\ncustom = BuildFilters(config_custom_filter, logger)\ncustom.build()\n```\n\n## issue tracker\n\n[https://github.com/portfolioplus/pystockfilter/issuese](https://github.com/portfolioplus/pystockfilter/issues\")\n\n\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/portfolioplus/pystockfilter",
    "keywords": "",
    "license": "",
    "maintainer": "",
    "maintainer_email": "",
    "name": "pystockfilter",
    "package_url": "https://pypi.org/project/pystockfilter/",
    "platform": "",
    "project_url": "https://pypi.org/project/pystockfilter/",
    "project_urls": {
      "Homepage": "https://github.com/portfolioplus/pystockfilter"
    },
    "release_url": "https://pypi.org/project/pystockfilter/1.0.9/",
    "requires_dist": [
      "pystockdb (>=1.0.11)",
      "cython (==0.29.22)",
      "python-dateutil (==2.8.1)",
      "numpy (==1.20.3)",
      "tulipy (==0.4.0)"
    ],
    "requires_python": "",
    "summary": "Financial technical and fundamental analysis indicator library for pystockdb.",
    "version": "1.0.9",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 11149003,
  "releases": {
    "1.0.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "f1751ca1a0bc047d6a84d1aefdebea7ed4201e6bfaf40c8745721a9cb099181d",
          "md5": "e7310366ec3b336dc0fbf8fc8a495fb8",
          "sha256": "c0f9a778416e4819dce9ec605ec2f128057a3689e95a4dbc5535c2ed0de9114d"
        },
        "downloads": -1,
        "filename": "pystockfilter-1.0.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "e7310366ec3b336dc0fbf8fc8a495fb8",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 18314,
        "upload_time": "2019-08-14T19:28:27",
        "upload_time_iso_8601": "2019-08-14T19:28:27.996619Z",
        "url": "https://files.pythonhosted.org/packages/f1/75/1ca1a0bc047d6a84d1aefdebea7ed4201e6bfaf40c8745721a9cb099181d/pystockfilter-1.0.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.0.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "0d863b7f4a5814b67d9e55b10137f8a9a2a7da1bcd902cfb1f3fec08eb4654b8",
          "md5": "4feaccd2f0f2a4724f38fb416e94f168",
          "sha256": "15300c20cafb9529757a178efff085f1b226b1a2cdec6a0c6401013a262407a0"
        },
        "downloads": -1,
        "filename": "pystockfilter-1.0.1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "4feaccd2f0f2a4724f38fb416e94f168",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 18469,
        "upload_time": "2019-08-16T17:45:30",
        "upload_time_iso_8601": "2019-08-16T17:45:30.369902Z",
        "url": "https://files.pythonhosted.org/packages/0d/86/3b7f4a5814b67d9e55b10137f8a9a2a7da1bcd902cfb1f3fec08eb4654b8/pystockfilter-1.0.1-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.0.2": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "972f26fc814f3a8e11ed2d144956003b5ebc5145e8c0ae2f3d0425520ec9d158",
          "md5": "d3f1a641557558a2ad4aac8d60d7c265",
          "sha256": "3c2a4cc6392d6e65cbe13b113930587f543dd8fad33d0b1fbf6c368257579ec9"
        },
        "downloads": -1,
        "filename": "pystockfilter-1.0.2-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "d3f1a641557558a2ad4aac8d60d7c265",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 18020,
        "upload_time": "2019-08-18T13:59:32",
        "upload_time_iso_8601": "2019-08-18T13:59:32.580382Z",
        "url": "https://files.pythonhosted.org/packages/97/2f/26fc814f3a8e11ed2d144956003b5ebc5145e8c0ae2f3d0425520ec9d158/pystockfilter-1.0.2-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.0.3": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "b44756b7783a7e38dda9015e5726ed8c547e12edcc1e64e590416ff57e50a72b",
          "md5": "c016169a333ee9ddf588e14547ceff19",
          "sha256": "3e2bd4e421475e617db0fc44c4c89c37510e35abe8b875adec447ebb091b4814"
        },
        "downloads": -1,
        "filename": "pystockfilter-1.0.3-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "c016169a333ee9ddf588e14547ceff19",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 18307,
        "upload_time": "2019-08-27T13:35:29",
        "upload_time_iso_8601": "2019-08-27T13:35:29.836202Z",
        "url": "https://files.pythonhosted.org/packages/b4/47/56b7783a7e38dda9015e5726ed8c547e12edcc1e64e590416ff57e50a72b/pystockfilter-1.0.3-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.0.4": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "54d4ab69251d3e8919fc80480fea65781bd5f3e9674d1a441f1d6e6a3ce2279f",
          "md5": "7936e6d6656cea1a9f63b0f9ff1783bc",
          "sha256": "a8ce5cebe0abd8712dca2af6a05e7c6589c8fa2efff0574970fd25929b922fd8"
        },
        "downloads": -1,
        "filename": "pystockfilter-1.0.4-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "7936e6d6656cea1a9f63b0f9ff1783bc",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 18307,
        "upload_time": "2019-08-28T11:56:14",
        "upload_time_iso_8601": "2019-08-28T11:56:14.700043Z",
        "url": "https://files.pythonhosted.org/packages/54/d4/ab69251d3e8919fc80480fea65781bd5f3e9674d1a441f1d6e6a3ce2279f/pystockfilter-1.0.4-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.0.5": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "fc70192d0ebc1b58677d7be3ba361ff09613cbdbbdfb188560ade1567d6cfaa8",
          "md5": "ed9bd82a123b1d901a5a6c349b5bf9e9",
          "sha256": "d14f07b578b5dce2553cb332f1d76f67626c88f6026b04c285f93d0bf120dade"
        },
        "downloads": -1,
        "filename": "pystockfilter-1.0.5-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "ed9bd82a123b1d901a5a6c349b5bf9e9",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 18313,
        "upload_time": "2019-08-29T12:39:20",
        "upload_time_iso_8601": "2019-08-29T12:39:20.199667Z",
        "url": "https://files.pythonhosted.org/packages/fc/70/192d0ebc1b58677d7be3ba361ff09613cbdbbdfb188560ade1567d6cfaa8/pystockfilter-1.0.5-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.0.6": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "b61189aac8cabcaed1b025bb9a9d8885b719149a991d7706e76f8bb12f45a9e8",
          "md5": "01d07b279eb89eeb828f54c2b197752f",
          "sha256": "0743fefa36448f8c5152276a36ef399c0ffa140386c3a0f6ad6814a00139e5b3"
        },
        "downloads": -1,
        "filename": "pystockfilter-1.0.6-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "01d07b279eb89eeb828f54c2b197752f",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 18313,
        "upload_time": "2019-09-04T16:09:23",
        "upload_time_iso_8601": "2019-09-04T16:09:23.241607Z",
        "url": "https://files.pythonhosted.org/packages/b6/11/89aac8cabcaed1b025bb9a9d8885b719149a991d7706e76f8bb12f45a9e8/pystockfilter-1.0.6-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.0.7": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "0af9dfdb4fa980e837a41ca73edfa3976acce3cc8cafff8d2ba7f0fd3fc492c0",
          "md5": "1c80acb815395cdd3d4db9d83d2dc1eb",
          "sha256": "b59775752d9f0e878708484f94e34d3aa31ab7ddfb7f1f8816a083a00b44dc56"
        },
        "downloads": -1,
        "filename": "pystockfilter-1.0.7-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "1c80acb815395cdd3d4db9d83d2dc1eb",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 18316,
        "upload_time": "2019-09-06T18:24:29",
        "upload_time_iso_8601": "2019-09-06T18:24:29.833136Z",
        "url": "https://files.pythonhosted.org/packages/0a/f9/dfdb4fa980e837a41ca73edfa3976acce3cc8cafff8d2ba7f0fd3fc492c0/pystockfilter-1.0.7-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.0.8": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "4899e1bc19d0290251703d566253464aff3d40a30826b4a29f8d079cd6812f1a",
          "md5": "084830a1c2178931440b97e45021cc8a",
          "sha256": "f7f654534fd93c82ca9ba9a0555f3b4d05c2ae9d7461ae6c553b69ec3a42a560"
        },
        "downloads": -1,
        "filename": "pystockfilter-1.0.8-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "084830a1c2178931440b97e45021cc8a",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 18317,
        "upload_time": "2019-09-07T13:16:58",
        "upload_time_iso_8601": "2019-09-07T13:16:58.435979Z",
        "url": "https://files.pythonhosted.org/packages/48/99/e1bc19d0290251703d566253464aff3d40a30826b4a29f8d079cd6812f1a/pystockfilter-1.0.8-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.0.9": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "78d21eca62e0fcff49e46909044e7db8f8c2193311f46409356259ad8c665e78",
          "md5": "24fd63ca011d3b3ae936a055f5bbae9f",
          "sha256": "380f0bac1a88fb1f9fe11d0bb9efadacb92b798c1876f05fb72fe330bab7571c"
        },
        "downloads": -1,
        "filename": "pystockfilter-1.0.9-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "24fd63ca011d3b3ae936a055f5bbae9f",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 19415,
        "upload_time": "2021-08-11T10:32:13",
        "upload_time_iso_8601": "2021-08-11T10:32:13.675524Z",
        "url": "https://files.pythonhosted.org/packages/78/d2/1eca62e0fcff49e46909044e7db8f8c2193311f46409356259ad8c665e78/pystockfilter-1.0.9-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "1a971ace7530a76fc939fbb4783ec23271b6766921c5c3a407cdc9ee594c0c90",
          "md5": "f4e0aa1b38a95a41e4e642a607a6f861",
          "sha256": "c2aa39f2da10ad2acb71a492bdd07d1ea547366172f94765d5398f49186aaeb5"
        },
        "downloads": -1,
        "filename": "pystockfilter-1.0.9.tar.gz",
        "has_sig": false,
        "md5_digest": "f4e0aa1b38a95a41e4e642a607a6f861",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 14864,
        "upload_time": "2021-08-11T10:32:14",
        "upload_time_iso_8601": "2021-08-11T10:32:14.798794Z",
        "url": "https://files.pythonhosted.org/packages/1a/97/1ace7530a76fc939fbb4783ec23271b6766921c5c3a407cdc9ee594c0c90/pystockfilter-1.0.9.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "78d21eca62e0fcff49e46909044e7db8f8c2193311f46409356259ad8c665e78",
        "md5": "24fd63ca011d3b3ae936a055f5bbae9f",
        "sha256": "380f0bac1a88fb1f9fe11d0bb9efadacb92b798c1876f05fb72fe330bab7571c"
      },
      "downloads": -1,
      "filename": "pystockfilter-1.0.9-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "24fd63ca011d3b3ae936a055f5bbae9f",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": null,
      "size": 19415,
      "upload_time": "2021-08-11T10:32:13",
      "upload_time_iso_8601": "2021-08-11T10:32:13.675524Z",
      "url": "https://files.pythonhosted.org/packages/78/d2/1eca62e0fcff49e46909044e7db8f8c2193311f46409356259ad8c665e78/pystockfilter-1.0.9-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "1a971ace7530a76fc939fbb4783ec23271b6766921c5c3a407cdc9ee594c0c90",
        "md5": "f4e0aa1b38a95a41e4e642a607a6f861",
        "sha256": "c2aa39f2da10ad2acb71a492bdd07d1ea547366172f94765d5398f49186aaeb5"
      },
      "downloads": -1,
      "filename": "pystockfilter-1.0.9.tar.gz",
      "has_sig": false,
      "md5_digest": "f4e0aa1b38a95a41e4e642a607a6f861",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": null,
      "size": 14864,
      "upload_time": "2021-08-11T10:32:14",
      "upload_time_iso_8601": "2021-08-11T10:32:14.798794Z",
      "url": "https://files.pythonhosted.org/packages/1a/97/1ace7530a76fc939fbb4783ec23271b6766921c5c3a407cdc9ee594c0c90/pystockfilter-1.0.9.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}