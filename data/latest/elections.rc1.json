{
  "info": {
    "author": "Thor Whalen",
    "author_email": "",
    "bugtrack_url": null,
    "classifiers": [],
    "description": "Easy access to (US 2020, for now) election statistics.\n\n# How to use\n\n\n```python\nimport pandas as pd\nfrom elections import President2020TimeSeries, Races2020, Election2020RawJson\n\n```\n\n## President's race stats\n\n\n```python\ns = President2020TimeSeries()\nlen(s)\n```\n\n\n\n    51\n\n\n\n`s` is a dictionary-like interface to the presidential race. \n\nIt's keys are the states\n\n\n```python\nprint(*s)\n```\n\n    alabama alaska arizona arkansas california colorado connecticut delaware district-of-columbia florida georgia hawaii idaho illinois indiana iowa kansas kentucky louisiana maine maryland massachusetts michigan minnesota mississippi missouri montana nebraska nevada new-hampshire new-jersey new-mexico new-york north-carolina north-dakota ohio oklahoma oregon pennsylvania rhode-island south-carolina south-dakota tennessee texas utah vermont virginia washington west-virginia wisconsin wyoming\n\n\nIt's values are dataframes containing the stats.\n\n\n```python\nstate = 'georgia'\ndf = s[state]\ndf\n```\n\n\n\n\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>votes</th>\n      <th>eevp</th>\n      <th>eevp_source</th>\n      <th>trumpd</th>\n      <th>bidenj</th>\n    </tr>\n    <tr>\n      <th>timestamp</th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>2020-11-04T09:23:03Z</th>\n      <td>0</td>\n      <td>0</td>\n      <td>edison</td>\n      <td>0.000</td>\n      <td>0.000</td>\n    </tr>\n    <tr>\n      <th>2020-11-04T00:14:11Z</th>\n      <td>408</td>\n      <td>0</td>\n      <td>edison</td>\n      <td>0.674</td>\n      <td>0.326</td>\n    </tr>\n    <tr>\n      <th>2020-11-04T00:15:51Z</th>\n      <td>127106</td>\n      <td>2</td>\n      <td>edison</td>\n      <td>0.370</td>\n      <td>0.618</td>\n    </tr>\n    <tr>\n      <th>2020-11-04T00:19:55Z</th>\n      <td>173638</td>\n      <td>3</td>\n      <td>edison</td>\n      <td>0.431</td>\n      <td>0.557</td>\n    </tr>\n    <tr>\n      <th>2020-11-04T00:21:57Z</th>\n      <td>174006</td>\n      <td>3</td>\n      <td>edison</td>\n      <td>0.432</td>\n      <td>0.557</td>\n    </tr>\n    <tr>\n      <th>...</th>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <th>2020-11-06T23:14:40Z</th>\n      <td>4969860</td>\n      <td>99</td>\n      <td>edison</td>\n      <td>0.493</td>\n      <td>0.494</td>\n    </tr>\n    <tr>\n      <th>2020-11-06T23:17:43Z</th>\n      <td>4969869</td>\n      <td>99</td>\n      <td>edison</td>\n      <td>0.493</td>\n      <td>0.494</td>\n    </tr>\n    <tr>\n      <th>2020-11-06T23:36:39Z</th>\n      <td>4969873</td>\n      <td>99</td>\n      <td>edison</td>\n      <td>0.493</td>\n      <td>0.494</td>\n    </tr>\n    <tr>\n      <th>2020-11-06T23:41:44Z</th>\n      <td>4969880</td>\n      <td>99</td>\n      <td>edison</td>\n      <td>0.493</td>\n      <td>0.494</td>\n    </tr>\n    <tr>\n      <th>2020-11-06T23:45:40Z</th>\n      <td>4970093</td>\n      <td>99</td>\n      <td>edison</td>\n      <td>0.493</td>\n      <td>0.494</td>\n    </tr>\n  </tbody>\n</table>\n<p>456 rows × 5 columns</p>\n</div>\n\n\n\n\n```python\ndf['bidenj'].plot(figsize=(16, 6), grid=True, title=state);\n```\n\n\n\n![png](output_9_0.png)\n\n\n\n## Other races\n\nBut that's not the only race going on here. \n\n\n```python\ns = Races2020()\nlen(s)\n```\n\n\n\n\n    51\n\n\n\n\n```python\ndata = s['new-york']   # by the way, you can tab-complete this if you're working in a jupyter notebook\nprint(type(data))\nprint(f\"{len(data)} items... Here are the first 5:\")\nlist(data)[:5]\n```\n\n    <class 'py2store.base.Store'>\n    242 items... Here are the first 5:\n\n\n\n\n\n    ['president-general-2020-11-03',\n     'house-general-district-001-2020-11-03',\n     'house-general-district-002-2020-11-03',\n     'house-general-district-003-2020-11-03',\n     'house-general-district-004-2020-11-03']\n\n\n\nSo we see that now, instead of just getting the president's race, we get... 242 races (one of which is the president's race). \n\nWhat you need to know, as well, is that `President2020TimeSeries` just gave you one of the many datas available for the race (the 'timeseries' one), extracted and formated for your convenience, since it's probably the main information you're here for. \n\nBut there are other associated (raw) datas you may or may not be interested in. Here's what you got:\n\n\n```python\ndata['president-general-2020-11-03'].keys()  # you can tab complete here as well (you're welcome!)\n```\n\n\n\n\n    dict_keys(['race_id', 'race_slug', 'url', 'state_page_url', 'ap_polls_page', 'edison_exit_polls_page', 'race_type', 'election_type', 'election_date', 'runoff', 'race_name', 'office', 'officeid', 'race_rating', 'seat', 'seat_name', 'state_id', 'state_slug', 'state_name', 'state_nyt_abbrev', 'state_shape', 'party_id', 'uncontested', 'report', 'result', 'result_source', 'gain', 'lost_seat', 'votes', 'electoral_votes', 'absentee_votes', 'absentee_counties', 'absentee_count_progress', 'absentee_outstanding', 'absentee_max_ballots', 'provisional_outstanding', 'provisional_count_progress', 'poll_display', 'poll_countdown_display', 'poll_waiting_display', 'poll_time', 'poll_time_short', 'precincts_reporting', 'precincts_total', 'reporting_display', 'reporting_value', 'eevp', 'tot_exp_vote', 'eevp_source', 'eevp_value', 'eevp_display', 'county_data_source', 'incumbent_party', 'no_forecast', 'last_updated', 'candidates', 'has_incumbent', 'leader_margin_value', 'leader_margin_votes', 'leader_margin_display', 'leader_margin_name_display', 'leader_party_id', 'counties', 'votes2016', 'margin2016', 'clinton2016', 'trump2016', 'votes2012', 'margin2012', 'expectations_text', 'expectations_text_short', 'absentee_ballot_deadline', 'absentee_postmark_deadline', 'update_sentences', 'race_diff', 'winnerCalledTimestamp', 'timeseries'])\n\n\n\n\n```python\nt = data['president-general-2020-11-03']\nprint(t['trump2016'], t['clinton2016'])\n```\n\n    2819534 4556124\n\n\n## Election2020RawJson\n\nBut if you want even more, and even more raw than the above, we can give that to you. \n\nWith `Election2020RawJson` you get access to the original full json. \n\n\n```python\nraw_jsons = Election2020RawJson()\njson_data = raw_jsons['california']\njson_data.keys()\n```\n\n\n\n\n    dict_keys(['data', 'meta'])\n\n\n\n\n```python\njson_data['meta']\n```\n\n\n\n\n    {'version': 10403,\n     'track': '2020-11-03',\n     'timestamp': '2020-11-06T23:52:57.623Z'}\n\n\n\n\n```python\njson_data['data'].keys()\n```\n\n\n\n\n    dict_keys(['races', 'party_control', 'liveUpdates'])\n\n\n\n\n```python\npd.DataFrame(json_data['data']['party_control']).set_index('race_type').T\n```\n\n\n\n\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th>race_type</th>\n      <th>house</th>\n      <th>president</th>\n      <th>senate</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>state_id</th>\n      <td></td>\n      <td></td>\n      <td></td>\n    </tr>\n    <tr>\n      <th>needed_for_control</th>\n      <td>218</td>\n      <td>270</td>\n      <td>50</td>\n    </tr>\n    <tr>\n      <th>total</th>\n      <td>435</td>\n      <td>538</td>\n      <td>100</td>\n    </tr>\n    <tr>\n      <th>no_election</th>\n      <td>{}</td>\n      <td>{}</td>\n      <td>{'democrat': 35, 'republican': 30, 'other': 0}</td>\n    </tr>\n    <tr>\n      <th>winner</th>\n      <td>False</td>\n      <td>False</td>\n      <td>False</td>\n    </tr>\n    <tr>\n      <th>parties</th>\n      <td>{'democrat': {'party_id': 'democrat', 'name_di...</td>\n      <td>{'democrat': {'party_id': 'democrat', 'name_di...</td>\n      <td>{'democrat': {'party_id': 'democrat', 'name_di...</td>\n    </tr>\n    <tr>\n      <th>winnerCalledTimestamp</th>\n      <td>None</td>\n      <td>None</td>\n      <td>None</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n\n\n\n\n```python\npd.DataFrame(json_data['data']['liveUpdates'])\n```\n\n\n\n\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>id</th>\n      <th>author</th>\n      <th>author_title_or_location</th>\n      <th>text</th>\n      <th>link_url</th>\n      <th>link_text</th>\n      <th>linked_state_1</th>\n      <th>linked_state_2</th>\n      <th>linked_state_3</th>\n      <th>image_url</th>\n      <th>...</th>\n      <th>call_type</th>\n      <th>race_id</th>\n      <th>winner</th>\n      <th>party_id</th>\n      <th>candidate_last_name</th>\n      <th>candidate_name_display</th>\n      <th>candidate_id</th>\n      <th>race_call_party_winner</th>\n      <th>state_name</th>\n      <th>link</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>333</td>\n      <td>Nate Cohn</td>\n      <td>in New York</td>\n      <td>New ballots from Clark County (that’s Las Vega...</td>\n      <td></td>\n      <td></td>\n      <td>NV</td>\n      <td></td>\n      <td></td>\n      <td></td>\n      <td>...</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>332</td>\n      <td>Nate Cohn</td>\n      <td>in New York</td>\n      <td>The latest Arizona ballot releases aren’t look...</td>\n      <td></td>\n      <td></td>\n      <td>AZ</td>\n      <td></td>\n      <td></td>\n      <td></td>\n      <td>...</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>331</td>\n      <td>Nick Corasaniti</td>\n      <td>in Philadelphia</td>\n      <td>There are still 102,000 mail ballots to be cou...</td>\n      <td></td>\n      <td></td>\n      <td>PA</td>\n      <td></td>\n      <td></td>\n      <td></td>\n      <td>...</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>330</td>\n      <td>Dave Philipps</td>\n      <td>in Las Vegas</td>\n      <td>Biden nets 2,520 votes in the Las Vegas area, ...</td>\n      <td></td>\n      <td></td>\n      <td>NV</td>\n      <td></td>\n      <td></td>\n      <td></td>\n      <td>...</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>329</td>\n      <td>Katie Glueck</td>\n      <td>in Wilmington, Del.</td>\n      <td>I’m told Biden spent the day watching election...</td>\n      <td></td>\n      <td></td>\n      <td></td>\n      <td></td>\n      <td></td>\n      <td></td>\n      <td>...</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>...</th>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <th>444</th>\n      <td>5</td>\n      <td>Nate Cohn</td>\n      <td>in New York</td>\n      <td>Tonight, the needle will be back — sort of. We...</td>\n      <td>https://www.nytimes.com/2020/11/02/upshot/need...</td>\n      <td>Learn more about the needle</td>\n      <td></td>\n      <td></td>\n      <td></td>\n      <td></td>\n      <td>...</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>445</th>\n      <td>4</td>\n      <td>Sheera Frenkel</td>\n      <td>in Silicon Valley</td>\n      <td>Times tech reporters will be monitoring for mi...</td>\n      <td></td>\n      <td></td>\n      <td></td>\n      <td></td>\n      <td></td>\n      <td></td>\n      <td>...</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>446</th>\n      <td>3</td>\n      <td>Michael Barbaro</td>\n      <td>in New York</td>\n      <td>From 4 p.m. to 8 p.m. Eastern time, we’ll be t...</td>\n      <td>https://nytimes.com/thedaily</td>\n      <td>Listen here</td>\n      <td></td>\n      <td></td>\n      <td></td>\n      <td></td>\n      <td>...</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>447</th>\n      <td>2</td>\n      <td>Trip Gabriel</td>\n      <td>in Butler County, Pa.</td>\n      <td>A look at Trump and the G.O.P.’s closing strat...</td>\n      <td>https://www.nytimes.com/2020/11/02/us/politics...</td>\n      <td></td>\n      <td></td>\n      <td></td>\n      <td></td>\n      <td></td>\n      <td>...</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>448</th>\n      <td>1</td>\n      <td>Shane Goldmacher</td>\n      <td>in New Hope, Pa.</td>\n      <td>Here’s our recap of the final day of campaigni...</td>\n      <td>https://www.nytimes.com/2020/11/02/us/politics...</td>\n      <td></td>\n      <td></td>\n      <td></td>\n      <td></td>\n      <td></td>\n      <td>...</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n    </tr>\n  </tbody>\n</table>\n<p>449 rows × 31 columns</p>\n</div>\n\n\n\n\n```python\n\n```\n\n\n```python\n\n```\n\n\n\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/thorwhalen/elections",
    "keywords": "",
    "license": "mit",
    "maintainer": "",
    "maintainer_email": "",
    "name": "elections",
    "package_url": "https://pypi.org/project/elections/",
    "platform": "any",
    "project_url": "https://pypi.org/project/elections/",
    "project_urls": {
      "Homepage": "https://github.com/thorwhalen/elections"
    },
    "release_url": "https://pypi.org/project/elections/0.0.2/",
    "requires_dist": null,
    "requires_python": "",
    "summary": "There's a bit of an air of mystery around this project...",
    "version": "0.0.2",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 8601329,
  "releases": {
    "0.0.2": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "aab1f3b6dbac604e87a01d4b4f1cc822b9ff766770422f3a24f55b3815a5153b",
          "md5": "787d114a4781cd9179c8a235bb5969d0",
          "sha256": "3e2033242f93228443836d87650c86dbef76cffd8818334457cfd13ce83581ef"
        },
        "downloads": -1,
        "filename": "elections-0.0.2-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "787d114a4781cd9179c8a235bb5969d0",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 5434,
        "upload_time": "2020-11-07T00:27:20",
        "upload_time_iso_8601": "2020-11-07T00:27:20.088594Z",
        "url": "https://files.pythonhosted.org/packages/aa/b1/f3b6dbac604e87a01d4b4f1cc822b9ff766770422f3a24f55b3815a5153b/elections-0.0.2-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "251593f89b987646834621e37e7f820e190961b53202170d68c9aea7fc94df8a",
          "md5": "17cfa96192fc2946436b3e46ad5f69a7",
          "sha256": "f5d93ff3b02e43a66ff08bb78310dbe0252ece3eae8dea0a4c2d8aa91f569f7e"
        },
        "downloads": -1,
        "filename": "elections-0.0.2.tar.gz",
        "has_sig": false,
        "md5_digest": "17cfa96192fc2946436b3e46ad5f69a7",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 7056,
        "upload_time": "2020-11-07T00:27:22",
        "upload_time_iso_8601": "2020-11-07T00:27:22.432986Z",
        "url": "https://files.pythonhosted.org/packages/25/15/93f89b987646834621e37e7f820e190961b53202170d68c9aea7fc94df8a/elections-0.0.2.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "aab1f3b6dbac604e87a01d4b4f1cc822b9ff766770422f3a24f55b3815a5153b",
        "md5": "787d114a4781cd9179c8a235bb5969d0",
        "sha256": "3e2033242f93228443836d87650c86dbef76cffd8818334457cfd13ce83581ef"
      },
      "downloads": -1,
      "filename": "elections-0.0.2-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "787d114a4781cd9179c8a235bb5969d0",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": null,
      "size": 5434,
      "upload_time": "2020-11-07T00:27:20",
      "upload_time_iso_8601": "2020-11-07T00:27:20.088594Z",
      "url": "https://files.pythonhosted.org/packages/aa/b1/f3b6dbac604e87a01d4b4f1cc822b9ff766770422f3a24f55b3815a5153b/elections-0.0.2-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "251593f89b987646834621e37e7f820e190961b53202170d68c9aea7fc94df8a",
        "md5": "17cfa96192fc2946436b3e46ad5f69a7",
        "sha256": "f5d93ff3b02e43a66ff08bb78310dbe0252ece3eae8dea0a4c2d8aa91f569f7e"
      },
      "downloads": -1,
      "filename": "elections-0.0.2.tar.gz",
      "has_sig": false,
      "md5_digest": "17cfa96192fc2946436b3e46ad5f69a7",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": null,
      "size": 7056,
      "upload_time": "2020-11-07T00:27:22",
      "upload_time_iso_8601": "2020-11-07T00:27:22.432986Z",
      "url": "https://files.pythonhosted.org/packages/25/15/93f89b987646834621e37e7f820e190961b53202170d68c9aea7fc94df8a/elections-0.0.2.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}