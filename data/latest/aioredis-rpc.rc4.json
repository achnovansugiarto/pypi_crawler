{
  "info": {
    "author": "Mathew Utter",
    "author_email": "mcutter.svc@gmail.com",
    "bugtrack_url": null,
    "classifiers": [
      "Intended Audience :: Developers",
      "License :: OSI Approved :: MIT License",
      "Natural Language :: English",
      "Operating System :: MacOS :: MacOS X",
      "Operating System :: Microsoft :: Windows :: Windows 10",
      "Operating System :: Microsoft :: Windows :: Windows 7",
      "Operating System :: Microsoft :: Windows :: Windows 8",
      "Operating System :: Microsoft :: Windows :: Windows 8.1",
      "Operating System :: Microsoft :: Windows :: Windows Vista",
      "Operating System :: OS Independent",
      "Operating System :: POSIX :: BSD",
      "Operating System :: POSIX :: Linux",
      "Programming Language :: Python",
      "Programming Language :: Python :: 3",
      "Programming Language :: Python :: 3 :: Only",
      "Programming Language :: Python :: 3.10",
      "Programming Language :: Python :: 3.7",
      "Programming Language :: Python :: 3.8",
      "Programming Language :: Python :: 3.9",
      "Topic :: Software Development :: Build Tools",
      "Topic :: Software Development :: Libraries",
      "Topic :: System :: Filesystems",
      "Topic :: System :: Monitoring",
      "Topic :: Utilities"
    ],
    "description": "# aioredis-rpc\n\n[![ci](https://github.com/matutter/aioredis-rpc/workflows/CI/badge.svg?event=push)](https://github.com/matutter/aioredis-rpc/actions?query=event%3Apush+branch%3Amaster+workflow%3ACI)\n[![coverage](https://codecov.io/gh/matutter/aioredis-rpc/branch/master/graph/badge.svg)](https://codecov.io/gh/matutter/aioredis-rpc)\n[![pypi](https://img.shields.io/pypi/v/aioredis-rpc.svg)](https://pypi.python.org/pypi/aioredis-rpc)\n[![downloads](https://img.shields.io/pypi/dm/aioredis-rpc.svg)](https://pypistats.org/packages/aioredis-rpc)\n[![versions](https://img.shields.io/pypi/pyversions/aioredis-rpc.svg)](https://github.com/matutter/aioredis-rpc)\n[![license](https://img.shields.io/github/license/matutter/aioredis-rpc.svg)](https://github.com/matutter/aioredis-rpc/blob/master/LICENSE)\n\nA RPC interface using [aioredis](https://github.com/aio-libs/aioredis-py)\nand [pydantic](https://github.com/samuelcolvin/pydantic).\n\n## Usage\n\n```bash\npip install aioredis-rpc\n```\n\n`pydantic` is used to model complex objects which are transparently serialized\nand packed into messages using `msgpack`.\n\n```python\n# Define Pydantic models\nclass FileData(BaseModel):\n  filename: str\n  data: bytes\n```\n\nDefine a class using the `@endpoint` decorator to specify which methods will be\naccessible via rpc.\n\n```python\nfrom redisrpc import endpoint\n\n# Define an RPC class\nclass Dropbox:\n  files: Dict[str, FileData]\n  max_files: int\n\n  def __init__(self, max_files: int = 1000):\n    self.files = dict()\n    self.max_files = max_files\n\n  @endpoint\n  async def upload_file(self, file: FileData) -> int:\n    if len(self.files) >= self.max_files:\n      # Errors are propagated to the client-side\n      raise Exception('too many files')\n    self.files[file.name] = file\n    return len(file.data)\n\n  @endpoint\n  def get_file_names(self) -> List[str]:\n    return list(self.files.keys())\n\n  @endpoint\n  async def download_file(self, name: str) -> FileData:\n    return self.files[name]\n```\n\nUse the `create_server` function to make an instance of your server-side rpc\nclass. The server instance will be assigned an `rpc` attribute to access server\nfunctions like `connect` and `disconnect`. Once `connect` is called methods\ndecorated with `@endpoint` will be invoked automatically by remote calls from\nthe client.\n\n> _NOTE: The `RpcProvider.connect` method is non-blocking._\n\n```python\nserver = create_server(Dropbox, max_files=2)\n# Returns once connected to redis\nawait server.rpc.connect(dsn=\"redis://localhost\")\n# Wait forever\nwhile True:\n  await asyncio.sleep(1)\n```\n\nThe `create_client` function create a faux instance of the rpc class with only\nthe methods decorated by `@endpoint` present. When these methods are called by\nthe client the function arguments are serialized and published to redis.\n\n> _NOTE: If there are no subscribers to the redis channel then the client will\n> throw a `RpcNotConnectedError`._\n\n```python\nclient = create_client(Dropbox)\nawait client.rpc.connect(dsn=\"redis://localhost\")\n```\n\nNow that both ends are connected the `@endpoint` decorated methods may be called\nlike they are accessing the actual class passed to `create_client`.\n\n```python\nfile1 = FileData(name='file1', data=b'1234')\nsize = await client.upload_file(file1)\n```\n\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "http://github.com/matutter/aioredis-rpc",
    "keywords": "aioredis msgpack python redis rpc",
    "license": "MIT",
    "maintainer": "",
    "maintainer_email": "",
    "name": "aioredis-rpc",
    "package_url": "https://pypi.org/project/aioredis-rpc/",
    "platform": "",
    "project_url": "https://pypi.org/project/aioredis-rpc/",
    "project_urls": {
      "Homepage": "http://github.com/matutter/aioredis-rpc"
    },
    "release_url": "https://pypi.org/project/aioredis-rpc/1.1.0/",
    "requires_dist": [
      "pydantic (==1.8.2)",
      "msgpack (==1.0.2)",
      "aioredis (==2.0.0a1)",
      "hiredis (==2.0.0)"
    ],
    "requires_python": ">=3.6.1",
    "summary": "An RPC library based on aioredis, msgpack, and pydantic.",
    "version": "1.1.0",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 10940092,
  "releases": {
    "0.1.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "689d5011ac1cd5d8d7cde014e7f700564d12600105e5fece06d9e5bad84f40f9",
          "md5": "c6537774771e73c234071a02910653b9",
          "sha256": "b65ec6a6ab90ee20247da7f85273248b81d57d424703f1770820f237589e716f"
        },
        "downloads": -1,
        "filename": "aioredis_rpc-0.1.1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "c6537774771e73c234071a02910653b9",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.6.1",
        "size": 6869,
        "upload_time": "2021-06-05T20:20:51",
        "upload_time_iso_8601": "2021-06-05T20:20:51.685799Z",
        "url": "https://files.pythonhosted.org/packages/68/9d/5011ac1cd5d8d7cde014e7f700564d12600105e5fece06d9e5bad84f40f9/aioredis_rpc-0.1.1-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "25da87e1443485b59a99be3c81ffd86e52fb54765d1a86ad8633a65d7d8de4e3",
          "md5": "edc902f51cbbd151c977eff4d7fbfbb4",
          "sha256": "268aed372daf27d856fba23eccd013068a922a94b1332c9a67a9bc4eca4fb55d"
        },
        "downloads": -1,
        "filename": "aioredis-rpc-0.1.1.tar.gz",
        "has_sig": false,
        "md5_digest": "edc902f51cbbd151c977eff4d7fbfbb4",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6.1",
        "size": 7255,
        "upload_time": "2021-06-05T20:20:53",
        "upload_time_iso_8601": "2021-06-05T20:20:53.310782Z",
        "url": "https://files.pythonhosted.org/packages/25/da/87e1443485b59a99be3c81ffd86e52fb54765d1a86ad8633a65d7d8de4e3/aioredis-rpc-0.1.1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.2.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "d0029515177d035e1341d797017cb4624e92f99ab3ddef50afba61195a4845c0",
          "md5": "7ff04ad922dff04e5e57c7fa5e659b45",
          "sha256": "59e1af0b3553c4d64f00d82fe86781a7803270b4082f7c2023a45d819d27f20d"
        },
        "downloads": -1,
        "filename": "aioredis_rpc-0.2.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "7ff04ad922dff04e5e57c7fa5e659b45",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.6.1",
        "size": 7950,
        "upload_time": "2021-06-05T20:36:43",
        "upload_time_iso_8601": "2021-06-05T20:36:43.294495Z",
        "url": "https://files.pythonhosted.org/packages/d0/02/9515177d035e1341d797017cb4624e92f99ab3ddef50afba61195a4845c0/aioredis_rpc-0.2.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "bb6888a64c904cc169524b98506e4937fbc33ac8a8ceb4f745809175003e0426",
          "md5": "41d3145e87d62067bf8e5bb4b7a18e9f",
          "sha256": "f30e6d1d7b8a07c44fbc88875c7f38b92317919e26e09103ef8ee73705f972e3"
        },
        "downloads": -1,
        "filename": "aioredis-rpc-0.2.0.tar.gz",
        "has_sig": false,
        "md5_digest": "41d3145e87d62067bf8e5bb4b7a18e9f",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6.1",
        "size": 7942,
        "upload_time": "2021-06-05T20:36:44",
        "upload_time_iso_8601": "2021-06-05T20:36:44.467827Z",
        "url": "https://files.pythonhosted.org/packages/bb/68/88a64c904cc169524b98506e4937fbc33ac8a8ceb4f745809175003e0426/aioredis-rpc-0.2.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.0.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "1997ef6ffae71ec1315a7ead62dd19e2420dca50bb11bc08c7401e323f2696f5",
          "md5": "c0e34652c6b6ba6558d05a8ce92ed729",
          "sha256": "3f91f30656ca55e97fb04039c010df80d38762ff2a346c41532c5cf487db615c"
        },
        "downloads": -1,
        "filename": "aioredis_rpc-1.0.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "c0e34652c6b6ba6558d05a8ce92ed729",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.6.1",
        "size": 8835,
        "upload_time": "2021-07-18T15:26:39",
        "upload_time_iso_8601": "2021-07-18T15:26:39.477934Z",
        "url": "https://files.pythonhosted.org/packages/19/97/ef6ffae71ec1315a7ead62dd19e2420dca50bb11bc08c7401e323f2696f5/aioredis_rpc-1.0.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "aff5e936851f1d8b7e94d087d84f289366086c84c4f435ae7a256a3cf5b18d70",
          "md5": "f772417aa27f0ff7677f83f143081f0a",
          "sha256": "ed2af7b7546b1a5be23a24009f5062b932c889f6f3f0044be2a176a3eb592beb"
        },
        "downloads": -1,
        "filename": "aioredis-rpc-1.0.0.tar.gz",
        "has_sig": false,
        "md5_digest": "f772417aa27f0ff7677f83f143081f0a",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6.1",
        "size": 9104,
        "upload_time": "2021-07-18T15:26:40",
        "upload_time_iso_8601": "2021-07-18T15:26:40.807479Z",
        "url": "https://files.pythonhosted.org/packages/af/f5/e936851f1d8b7e94d087d84f289366086c84c4f435ae7a256a3cf5b18d70/aioredis-rpc-1.0.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.1.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "f887c2aa95e43cce19695f223f6afe33b8279ebd191aa921a4439eb6311a7ee2",
          "md5": "f3a5fa2a580e26d1acd09d3bafe1034d",
          "sha256": "c23cd5193988fa6a2442f6bfd43d9b0a2acb07bbf986f9bbafc5726eecfeb483"
        },
        "downloads": -1,
        "filename": "aioredis_rpc-1.1.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "f3a5fa2a580e26d1acd09d3bafe1034d",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.6.1",
        "size": 9058,
        "upload_time": "2021-07-18T17:10:21",
        "upload_time_iso_8601": "2021-07-18T17:10:21.427490Z",
        "url": "https://files.pythonhosted.org/packages/f8/87/c2aa95e43cce19695f223f6afe33b8279ebd191aa921a4439eb6311a7ee2/aioredis_rpc-1.1.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "39b21ca4233c318909aa4d1ab4f559015fa7223f82a4c3d5ae08e4e2567b1087",
          "md5": "8381e83c6b6e2a8acfe20f1503e7222f",
          "sha256": "993f3344d062e51098bbaa405e626edddb3216eae4f23f69f635dd86afa01b72"
        },
        "downloads": -1,
        "filename": "aioredis-rpc-1.1.0.tar.gz",
        "has_sig": false,
        "md5_digest": "8381e83c6b6e2a8acfe20f1503e7222f",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6.1",
        "size": 9321,
        "upload_time": "2021-07-18T17:10:23",
        "upload_time_iso_8601": "2021-07-18T17:10:23.109053Z",
        "url": "https://files.pythonhosted.org/packages/39/b2/1ca4233c318909aa4d1ab4f559015fa7223f82a4c3d5ae08e4e2567b1087/aioredis-rpc-1.1.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "f887c2aa95e43cce19695f223f6afe33b8279ebd191aa921a4439eb6311a7ee2",
        "md5": "f3a5fa2a580e26d1acd09d3bafe1034d",
        "sha256": "c23cd5193988fa6a2442f6bfd43d9b0a2acb07bbf986f9bbafc5726eecfeb483"
      },
      "downloads": -1,
      "filename": "aioredis_rpc-1.1.0-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "f3a5fa2a580e26d1acd09d3bafe1034d",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": ">=3.6.1",
      "size": 9058,
      "upload_time": "2021-07-18T17:10:21",
      "upload_time_iso_8601": "2021-07-18T17:10:21.427490Z",
      "url": "https://files.pythonhosted.org/packages/f8/87/c2aa95e43cce19695f223f6afe33b8279ebd191aa921a4439eb6311a7ee2/aioredis_rpc-1.1.0-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "39b21ca4233c318909aa4d1ab4f559015fa7223f82a4c3d5ae08e4e2567b1087",
        "md5": "8381e83c6b6e2a8acfe20f1503e7222f",
        "sha256": "993f3344d062e51098bbaa405e626edddb3216eae4f23f69f635dd86afa01b72"
      },
      "downloads": -1,
      "filename": "aioredis-rpc-1.1.0.tar.gz",
      "has_sig": false,
      "md5_digest": "8381e83c6b6e2a8acfe20f1503e7222f",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": ">=3.6.1",
      "size": 9321,
      "upload_time": "2021-07-18T17:10:23",
      "upload_time_iso_8601": "2021-07-18T17:10:23.109053Z",
      "url": "https://files.pythonhosted.org/packages/39/b2/1ca4233c318909aa4d1ab4f559015fa7223f82a4c3d5ae08e4e2567b1087/aioredis-rpc-1.1.0.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}