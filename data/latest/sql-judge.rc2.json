{
  "info": {
    "author": "MxBromelia",
    "author_email": "",
    "bugtrack_url": null,
    "classifiers": [],
    "description": "# SQL Judge, a tool for validation Relational Databases Schemas (SQL)\n\nAlso avaliable in [PT-BR](doc/pt-br/README_pt-br.md)\n\n## Goals\nSQL Judge has a goal to allow writing database schema validations that are easily testable and portable between different Database implementations (Postgres, MariaDB, MySQL, etc.)\n\nIt achieves the first by making the validations pure python functions that are executed as-is in the validation, needing only an decorator to being recognized as one, making the function testable through regular python unit testing tools (such as unittest and pytest).\n\nThe second is achieved by utilizing a independent, user-provided way to access the database (see [Adapters](#Adapters))\n\n## Install\n```\npip install sql_judge\n```\n\n## How to Use\nIn order to use the tool, the user must pass a configuration file in JSON format. For example, if you have the configuration in a file called ```config.json```, it would execute the tool with:\n\n```bash\nsql-judge config.json\n```\n\nCurrently, all configuration options must be passed through a configuration file. You can, however, pass multiple files, like this:\n\n```bash\nsql-judge config.json another_config.json\n```\n\nIn case of conflict between the two files, the latter has preference.\n\n### Setting up a configuration file\nThe configuration file must be formatted correctly in order to the program to execute properly. Here is a guide in how to fill it properly:\n\nThe SQL Judge configuration has the following format, with a more detailed information below it:\n```json\n{\n  \"adapter\": {\n    \"module\": \"adapter_module\",\n    \"class\": \"AdapterClass\",\n    \"params\": [\"posarg1\"],\n    \"named_params\": { \"namedarg1\": \"value1\"}  \n  },\n  \"validations\": {\n    \"module\": \"validations_module\"\n  },\n  \"ignore_tables\": [\"ignored_table\"],\n  \"export\": {\n    \"format\": \"\\\"CLI\\\" or \\\"CSV\\\"\"\n  }\n}\n```\n\n**adapter**: options regarding the adapter(see [Adapters](#Adapters) for more info), it has the following options:\n - module *(mandatory)*: The python module containing the adapter\n - class *(mandatory)*: The Adapter class presented in the module\n - params *(optional)*: unnamed parameters passed to the Adapter constuctor\n - named_params *(optional)*: named parameters passed to the Adapter constructor\n\n_Obs.: SQL Judge allows to create and use plug-ins for the Adapter. More info on how to develop and use in [Developing Adapter Plug-ins for SQL Judge](/doc/en/Adapter-Plugins.md)_\n\n**validations**: Options regarding the schema validations:\n - module *(mandatory)*: The module containing the validations functions\n\n**ignore_tables** (*optional, default: []*): Pass which tables should not be included in the module validation, dicriminated by the name and name only(i.e does not support pattern matching _yet_).\n\n**export**: The generated report format. *Currently it has no option but show te report in the stdout, not passing to a file*\n - format (*optional, options: [CLI, CSV], default: CLI*)\n\n _OBS: Since the tool deals with python modules instead of pure text files, the modules passed to the configuration file must be in the sys.PATH. If the files are in the same folder that the tool is invoked should cause no problems._\n\n## Adapters\nAdapters are the way SQL Judge has access to the database schema. The user provides through the configuration file a class that acts as it. This class must implement the same interface that ```AbstractAdapter``` present in ```src/sql_judge/adapter.py``` has. More information in how to implement such class is presented in the class and methods docstrings.\n\nThe idea is that, in the future, these adapters will be able to be passed through plug-ins.\n\n## Writing Validations\nIn order to have the validations tested against the schema, the user must create a python module containing the validations, and which entities they should validate against. A validation is recognized by the program when a function is decorated with ```validates```. The program assumes each validation follow this behavior:\n\n - A validation must be decorated with ```validates```, passing the entity it will be validated against(ex.: table, column)\n - The given function must have one, and only one, parameter, that will represent the entity to be validated.\n - When given entity follows the rule present in the validation, the function must return None\n - When given entity does not follow the rule present in the validation, the function must return a string, preferably detailing the reason it failed, since the string will be passed to the report\n\nHere's an example of a validation module\n\n```python\nfrom sql_judge import validates # Decorator that marks functions as validations\n\ndef not_a_validation(): # Since it does not have the decorator, it is not recognized as a validation\n  pass\n\n@validates('table') # Makes the function a validation of tables\ndef table_must_start_with_tbl(table):\n  if table.name[0:4] == 'tbl_':\n    return None # Return None if the entity follows the rule\n\n  # Return a string containing the error when it does not follow the rule\n  return 'Table must start with \"tbl_\"'\n```\n\n## Entities API\nSQL Judge's Schema builder supports the following databases entities:\n - Tables;\n - Functions;\n - Procedures;\n - Columns;\n - Triggers;\n - Indexes;\n - Constraints;\n - Sequences;\n\nBy default, each entity provides its name and its relation to others entities (columns associated to a table, for example). You can pass another details about a given entity through the adapter. The properties can be accessed by calling by the key provided in the adapter. So, if you passed in the columns an aditional key 'type', you would acces it by using ```column.type```. Note that all the properties are accessed through properties, not methods. Following, the minimal interface that each entity has that exists by default:\n\n### Schema\n|Property   |Return Type       |Description              |  \n|-----------|------------------|-------------------------|  \n|tables     |List[Table]       |Schema Tables            |  \n|functions  |List[Entity]      |Schema Functions         |  \n|procedures |List[Entity]      |Schema Procedures        |  \n|sequences  |List[Entity]      |Schema sequences         |  \n|columns    |List[Column]      |Schema Table Columns     |  \n|triggers   |List[TableEntity] |Schema Table Triggers    |  \n|indexes    |List[ColumnEntity]|Schema Column Indexes    |  \n|constraints|List[ColumnEntity]|Schema Column constraints|  \n\n### Properties commom to all Entities\n|Property|Return Type|Description                                                 |  \n|--------|-----------|------------------------------------------------------------|  \n|name    |str        |Entity name                                                 |  \n|schema  |Schema     |Main Object, able to access every schema entity             |  \n\n### Table\n|Property   |Return Type      |Description       |      \n|-----------|-----------------|------------------|  \n|columns    |List[Column]     |Table Columns     |  \n|triggers   |List[TableEntity]|Table Triggers    |  \n|primary key|Column           |Primary Key Column|\n\n### Properties commom to Column, Trigger, Constraint and Index\n|Property|Return Type|Description                   |      \n|--------|-----------|------------------------------|  \n|table   |Table      |Table that contains the entity|\n\n### Column\n|Property   |Return Type       |Description                                                                         |      \n|-----------|------------------|------------------------------------------------------------------------------------|  \n|primary_key|boolean           |True if the column is the primary key. False if not                                 |\n|references |Table             |If column has a foreign key constraint, returns the table it references. None if not|\n|indexes    |List[ColumnIndex] |Column Indexes                                                                      |\n|constraints|List[ColumnEntity]|Column Constraints                                                                  |\n\n### Properties commom to Index and Constraint\n|Property|Return Type|Description                    |      \n|--------|-----------|-------------------------------|  \n|column  |Column     |Column that contains the Entity|\n\n\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "",
    "keywords": "",
    "license": "",
    "maintainer": "",
    "maintainer_email": "",
    "name": "sql-judge",
    "package_url": "https://pypi.org/project/sql-judge/",
    "platform": "",
    "project_url": "https://pypi.org/project/sql-judge/",
    "project_urls": null,
    "release_url": "https://pypi.org/project/sql-judge/0.2.0/",
    "requires_dist": null,
    "requires_python": ">=3.7",
    "summary": "Validate SQL database Schemas using Python",
    "version": "0.2.0",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 9418610,
  "releases": {
    "0.1.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "ec09a68f03bd45e97886630986b3336ff3d11dab6b50e727e5f57f2bb1887979",
          "md5": "d2f98336eecd952224359c3244686548",
          "sha256": "36277cb5f3cd2e7ee21cd6a4a013bb3f1e9a26e94047a569b2a30f7edc23c9b5"
        },
        "downloads": -1,
        "filename": "sql_judge-0.1.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "d2f98336eecd952224359c3244686548",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 16845,
        "upload_time": "2020-10-10T16:40:26",
        "upload_time_iso_8601": "2020-10-10T16:40:26.186786Z",
        "url": "https://files.pythonhosted.org/packages/ec/09/a68f03bd45e97886630986b3336ff3d11dab6b50e727e5f57f2bb1887979/sql_judge-0.1.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "b084bde941a351606d5b49dd41f6ce7c5bbbbaf282ca437b89083b3fc7d53858",
          "md5": "5b2168365da48ada925f7061cf7a55dd",
          "sha256": "a56f22b0c16869cf4add0b026dda4ced812f73c18c5412f24d11fa25e93f0139"
        },
        "downloads": -1,
        "filename": "sql_judge-0.1.0.tar.gz",
        "has_sig": false,
        "md5_digest": "5b2168365da48ada925f7061cf7a55dd",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 14865,
        "upload_time": "2020-10-10T16:40:28",
        "upload_time_iso_8601": "2020-10-10T16:40:28.718613Z",
        "url": "https://files.pythonhosted.org/packages/b0/84/bde941a351606d5b49dd41f6ce7c5bbbbaf282ca437b89083b3fc7d53858/sql_judge-0.1.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.2.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "71a3232b3b3b07531af5a4c5737516139aafe8c3fadfbfa61923566bbc83d4df",
          "md5": "d794721d8b431fdbc29c05db6fa0d702",
          "sha256": "fee6fc9ed6e1b8c84fa254a9de3b12a4b52c9605898e69ce517bd01e5bb72555"
        },
        "downloads": -1,
        "filename": "sql_judge-0.2.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "d794721d8b431fdbc29c05db6fa0d702",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.7",
        "size": 19275,
        "upload_time": "2021-02-15T01:14:56",
        "upload_time_iso_8601": "2021-02-15T01:14:56.337433Z",
        "url": "https://files.pythonhosted.org/packages/71/a3/232b3b3b07531af5a4c5737516139aafe8c3fadfbfa61923566bbc83d4df/sql_judge-0.2.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "2c2f938aab3622317a10790ac10955ad57da04ac4d085c9b193fb440a3bb93c6",
          "md5": "5ca1e4465f1ff2c93c8941485918499b",
          "sha256": "81425c7f72c3236722d100fb9c2956a09015609f3c51b95391b31c7c2acc7fb7"
        },
        "downloads": -1,
        "filename": "sql_judge-0.2.0.tar.gz",
        "has_sig": false,
        "md5_digest": "5ca1e4465f1ff2c93c8941485918499b",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.7",
        "size": 16311,
        "upload_time": "2021-02-15T01:14:57",
        "upload_time_iso_8601": "2021-02-15T01:14:57.381670Z",
        "url": "https://files.pythonhosted.org/packages/2c/2f/938aab3622317a10790ac10955ad57da04ac4d085c9b193fb440a3bb93c6/sql_judge-0.2.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "71a3232b3b3b07531af5a4c5737516139aafe8c3fadfbfa61923566bbc83d4df",
        "md5": "d794721d8b431fdbc29c05db6fa0d702",
        "sha256": "fee6fc9ed6e1b8c84fa254a9de3b12a4b52c9605898e69ce517bd01e5bb72555"
      },
      "downloads": -1,
      "filename": "sql_judge-0.2.0-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "d794721d8b431fdbc29c05db6fa0d702",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": ">=3.7",
      "size": 19275,
      "upload_time": "2021-02-15T01:14:56",
      "upload_time_iso_8601": "2021-02-15T01:14:56.337433Z",
      "url": "https://files.pythonhosted.org/packages/71/a3/232b3b3b07531af5a4c5737516139aafe8c3fadfbfa61923566bbc83d4df/sql_judge-0.2.0-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "2c2f938aab3622317a10790ac10955ad57da04ac4d085c9b193fb440a3bb93c6",
        "md5": "5ca1e4465f1ff2c93c8941485918499b",
        "sha256": "81425c7f72c3236722d100fb9c2956a09015609f3c51b95391b31c7c2acc7fb7"
      },
      "downloads": -1,
      "filename": "sql_judge-0.2.0.tar.gz",
      "has_sig": false,
      "md5_digest": "5ca1e4465f1ff2c93c8941485918499b",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": ">=3.7",
      "size": 16311,
      "upload_time": "2021-02-15T01:14:57",
      "upload_time_iso_8601": "2021-02-15T01:14:57.381670Z",
      "url": "https://files.pythonhosted.org/packages/2c/2f/938aab3622317a10790ac10955ad57da04ac4d085c9b193fb440a3bb93c6/sql_judge-0.2.0.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}