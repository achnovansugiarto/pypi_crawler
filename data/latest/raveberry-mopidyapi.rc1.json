{
  "info": {
    "author": "AsbjÃ¸rn Olling",
    "author_email": "asbjornolling@gmail.com",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 4 - Beta",
      "Intended Audience :: Developers",
      "License :: OSI Approved :: GNU General Public License v3 or later (GPLv3+)",
      "Programming Language :: Python :: 3 :: Only",
      "Programming Language :: Python :: 3.6",
      "Topic :: Multimedia :: Sound/Audio :: Players",
      "Topic :: Software Development :: Libraries"
    ],
    "description": "MopidyAPI\n=========\n\n`MopidyAPI` is a Python (3.6+) library for interacting with\n[Mopidy](https://www.mopidy.com/) via its [JSON RPC\nAPI](https://docs.mopidy.com/en/latest/api/http/).\n\n`MopidyAPI` uses HTTP to call RPC methods, and websockets to listen for events.\n\nIt is compatible with all functions present in Mopidy 3.0.1.\n\n## Installation\n\n```\npip install mopidyapi\n```\n\n## Usage\n\n`MopidyAPI` contains functions mapping to each of [the Mopidy v3.0.1 core API functions.](https://docs.mopidy.com/en/latest/api/core/)\n\nFor example `mopidy.core.PlaybackController.pause()` in the documentation maps to `MopidyAPI.playback.pause()` here.\n\n### Quick example\n\n```python\n>>> from mopidyapi import MopidyAPI\n>>> m = MopidyAPI()\n>>> tracks = m.tracklist.get_tracks()\n>>> tracks[0].name\n\n\t'I've Seen Footage'\n\n>>> tracks[0].artists\n\n\t[Artist(name='Death Grips', uri='spotify:artist:5RADpgYLOuS2ZxDq7ggYYH')]\n\n>>> tracks[0]._fields\n\n\t('album',\n\t 'name',\n\t 'disc_no',\n\t 'uri',\n\t 'length',\n\t 'track_no',\n\t 'artists',\n\t 'date',\n\t 'bitrate')\n```\n\n\n### Connecting to Mopidy\n\nTo connect to Mopidy, you need to instantiate a `MopidyAPI` object.\nBy default, it will connect to Mopidy at `localhost:6680`,\nso you might not need to give the constructor any arguments.\n\n```python\nfrom mopidyapi import MopidyAPI\nm = MopidyAPI(host='my.mopidy.host.com', port=6680)\n```\n\nYou can also pass `use_websockets=False`, to prevent starting the websocket listener,\nwhich runs in a separate thread. However, event listening (described below) won't work with this set.\n\n\n### Calling Mopidy functions\n\nAll of the functions described in the\n[Mopidy 3.0.1 core API documentation](http://docs.mopidy.com/en/latest/api/core/)\nare available in `MopidyAPI`.\n\nFunctions named in the Mopidy docs as `core.<ControllerName>Controller.<functionname>()`,\nwill be under the name `MopidyAPI.<controllername>.<functionname>()`\n\nFor example, you can pause the music by calling `m.playback.pause()`,\nor you could search for a song by calling e.g. `m.library.search(artist='Rick Astley')`, where `m = MopidyAPI()`.\n\nFunctions will return\n[Python native `namedtuple`](https://docs.python.org/3.7/library/collections.html#collections.namedtuple)\nrepresentations of the returned data.\n\n\n### Event listening\n\nYou can use function decorators to mark specific functions to be called when an event arrives. See example below.\n\nThe events used are described in [Mopidy's core events documentation.](https://docs.mopidy.com/en/latest/api/core/#core-events)\n\n```python\nfrom mopidyapi import MopidyAPI\nm = MopidyAPI()\n\n@m.on_event('volume_changed')\ndef print_volume(event):\n    print(f\"Volume changed to: {event.volume}\")\n\n@m.on_event('track_playback_started')\ndef print_newtracks(event):\n    print(f\"Started playing track: {event.track.name}\")\n\n```\n\nLike with function calls, the events passed are [namedtuples.](https://docs.python.org/3.7/library/collections.html#collections.namedtuple)\n\nIf you need to add and remove callbacks more dynamically, you can use the `add_callback` and `del_callback` functions.\n\n`del_callback` accepts two keyword arguments:\n- `event`: an event name string to remove all callbacks for\n- `f`: a callback function to remove\n\nYou can use one or both. Here's an example of passing a function to `del_callback`:\n\n```python\nfrom mopidyapi import MopidyAPI\nm = MopidyAPI()\n\ndef print_volume(event):\n    \"\"\" Print volume only once. Delete callback after first call \"\"\"\n    print(f\"Volume changed to: {event.volume}\")\n    m.del_callback(f=print_volume)\n\nm.add_callback('volume_changed', print_volume)\n```\n\nAn important caveat with both the event listener decorators and add methods,\nis that it will not warn you in any way, if you use an invalid event name (e.g. you misspell the event name).\n\n## Note on the choice of `namedtuples`\n\n### Why `namedtuples`?\n\nThe choice of namedtuples might seem unusual (or even inconvenient),\nbut they have a number of advantages over dictionaries for this application:\n\n**1. Less verbose than dicts.**\n\n`event.tl_track.track.album.name`\n\nis shorter and easier on the eyes than\n\n`event['tl_track']['track']['album']['name']`\n\n**2. They print much more neatly.**\n\n`Artist(name='Death Grips', uri='spotify:artist:5RADpgYLOuS2ZxDq7ggYYH')`\n\nis much better than\n\n`{'name': 'Death Grips', 'uri': 'spotify:artist:5RADpgYLOuS2ZxDq7ggYYH'}`.\n\n**3. `namedtuples` accurately represent the immutable nature of the data.**\n\nBeing allowed to mutate the data coming from Mopidy might give one the idea that this would change the data inside Mopidy, which is obviously not the case.\n\n\n### ...but, I know dicts!\n\nOkay, so if you need `.keys()`, you can use `._fields()` instead,\nand if you absolutely need a dict, you can use `._asdict()`,\nwhich will return an actual dict.\n\n\n## Contributing\n\nPlease do tell me about bugs via the [github issue tracker](https://github.com/AsbjornOlling/mopidyapi).\n\nAlso feel free to write, if you're just in the mood to help me improve this project. I don't bite :)\n\n\n## License\n\nThis project is licensed under the GPLv3.\nSee the `LICENSE` file for details.\n\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/raveberry/mopidyapi",
    "keywords": "",
    "license": "",
    "maintainer": "",
    "maintainer_email": "",
    "name": "raveberry-mopidyapi",
    "package_url": "https://pypi.org/project/raveberry-mopidyapi/",
    "platform": "",
    "project_url": "https://pypi.org/project/raveberry-mopidyapi/",
    "project_urls": {
      "Homepage": "https://github.com/raveberry/mopidyapi"
    },
    "release_url": "https://pypi.org/project/raveberry-mopidyapi/1.0.2/",
    "requires_dist": [
      "requests",
      "websockets"
    ],
    "requires_python": ">=3.6",
    "summary": "MopidyAPI",
    "version": "1.0.2",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 12678258,
  "releases": {
    "1.0.2": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "487efd435d9a1b54408f095d89142e15e665bf379ca725730bba36d15ec0d020",
          "md5": "a8ce81d8512bb3b26304d7be91f19325",
          "sha256": "74015d7e4e5b04eb59beea9bca74164623d0be191c92e2843b049f228c6d5c6c"
        },
        "downloads": -1,
        "filename": "raveberry_mopidyapi-1.0.2-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "a8ce81d8512bb3b26304d7be91f19325",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.6",
        "size": 27441,
        "upload_time": "2022-01-24T17:34:22",
        "upload_time_iso_8601": "2022-01-24T17:34:22.508361Z",
        "url": "https://files.pythonhosted.org/packages/48/7e/fd435d9a1b54408f095d89142e15e665bf379ca725730bba36d15ec0d020/raveberry_mopidyapi-1.0.2-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "81c43c8a71c1c45ceb77909ff6fc84ef7d0ffad38f695052afb049c9cd41501f",
          "md5": "2c7a00935e19d92efa31f962c36f087b",
          "sha256": "9505565f60135a0b0230c27ad9432d0f7b77704a67ef864ff2dbdf62bad0812b"
        },
        "downloads": -1,
        "filename": "raveberry-mopidyapi-1.0.2.tar.gz",
        "has_sig": false,
        "md5_digest": "2c7a00935e19d92efa31f962c36f087b",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6",
        "size": 35737,
        "upload_time": "2022-01-24T17:34:24",
        "upload_time_iso_8601": "2022-01-24T17:34:24.889088Z",
        "url": "https://files.pythonhosted.org/packages/81/c4/3c8a71c1c45ceb77909ff6fc84ef7d0ffad38f695052afb049c9cd41501f/raveberry-mopidyapi-1.0.2.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "487efd435d9a1b54408f095d89142e15e665bf379ca725730bba36d15ec0d020",
        "md5": "a8ce81d8512bb3b26304d7be91f19325",
        "sha256": "74015d7e4e5b04eb59beea9bca74164623d0be191c92e2843b049f228c6d5c6c"
      },
      "downloads": -1,
      "filename": "raveberry_mopidyapi-1.0.2-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "a8ce81d8512bb3b26304d7be91f19325",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": ">=3.6",
      "size": 27441,
      "upload_time": "2022-01-24T17:34:22",
      "upload_time_iso_8601": "2022-01-24T17:34:22.508361Z",
      "url": "https://files.pythonhosted.org/packages/48/7e/fd435d9a1b54408f095d89142e15e665bf379ca725730bba36d15ec0d020/raveberry_mopidyapi-1.0.2-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "81c43c8a71c1c45ceb77909ff6fc84ef7d0ffad38f695052afb049c9cd41501f",
        "md5": "2c7a00935e19d92efa31f962c36f087b",
        "sha256": "9505565f60135a0b0230c27ad9432d0f7b77704a67ef864ff2dbdf62bad0812b"
      },
      "downloads": -1,
      "filename": "raveberry-mopidyapi-1.0.2.tar.gz",
      "has_sig": false,
      "md5_digest": "2c7a00935e19d92efa31f962c36f087b",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": ">=3.6",
      "size": 35737,
      "upload_time": "2022-01-24T17:34:24",
      "upload_time_iso_8601": "2022-01-24T17:34:24.889088Z",
      "url": "https://files.pythonhosted.org/packages/81/c4/3c8a71c1c45ceb77909ff6fc84ef7d0ffad38f695052afb049c9cd41501f/raveberry-mopidyapi-1.0.2.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}