{
  "info": {
    "author": "mos_luo",
    "author_email": "mos_luo@163.com",
    "bugtrack_url": null,
    "classifiers": [
      "License :: OSI Approved :: MIT License",
      "Operating System :: OS Independent",
      "Programming Language :: Python :: 3"
    ],
    "description": "# README\n\n## 动机\n- 用tf.keras (TF2.0+) 的稳定API实现NLP预训练模型，例如BERT、BART等。\n- 不做过多的自定义类、方法，力图代码简洁，易懂，易扩展。\n\n## 支持的模型\n- BERT\n- BART\n\n## 使用例子\n### 安装\n```\npip install pretrain4keras\n```\n### BERT\n- bert参数下载：\n    - Google原版bert: https://github.com/google-research/bert\n- 代码 \n```python \nfrom pretrain4keras.models.bert import BertBuilder\n\n# 0.下载参数，存放于bert_dir下\n# Google原版bert: https://github.com/google-research/bert\nbert_dir = \"/Users/mos_luo/project/pretrain_model/bert/chinese_L-12_H-768_A-12/\"\nconfig_file = bert_dir + \"bert_config.json\"\ncheckpoint_file = bert_dir + \"bert_model.ckpt\"\nvocab_file = bert_dir + \"vocab.txt\"\n\n# 1.创建keras bert模型与tokenizer\nkeras_bert, tokenizer, config = BertBuilder().build_bert(\n    config_file=config_file, checkpoint_file=checkpoint_file, vocab_file=vocab_file\n)\n\n# 2.创建输入样本\n# tokenizer = builder.tokenizer(vocab_file)\ninputs = tokenizer([\"语言模型\"], return_tensors=\"tf\")\nprint(keras_bert(inputs))\n```\n### BART\n- BART参数下载\n    - 例如从https://huggingface.co/fnlp/bart-base-chinese/tree/4e93f21dca95a07747f434b0f9fe5d49cacc0441下载文件夹的所有文件\n    - huggingface transformers的参数与json的可能会发现变动，所以下载时需要指定版本id，例如4e93f21dca95a07747f434b0f9fe5d49cacc0441\n- 示例代码\n```python\nimport pprint\nimport tensorflow as tf\nfrom pretrain4keras.models.bart import BartBuilder\n\n# 0.手动从fnlp/bart-base-chinese下载文件\n# 从https://huggingface.co/fnlp/bart-base-chinese/tree/4e93f21dca95a07747f434b0f9fe5d49cacc0441下载文件夹的所有文件\npretrain_dir = \"/Users/normansluo/project/pretrain_model/huggingface_transformers/fnlp/bart-base-chinese-v2/\"\ncheckpoint_file = pretrain_dir + \"pytorch_model.bin\"\nconfig_file = pretrain_dir + \"config.json\"\nvocab_file = pretrain_dir + \"vocab.txt\"\n\n# 1.创建keras bart模型\nbuilder = BartBuilder()\nkeras_bart, tokenizer, config = builder.build_bart(\n    config_file=config_file, checkpoint_file=checkpoint_file, vocab_file=vocab_file\n)\n\n# 2.创建输入样本\ninputs = tokenizer([\"北京是[MASK]的首都\"], return_tensors=\"tf\")\ndel inputs[\"token_type_ids\"]\ninputs[\"decoder_input_ids\"] = tf.constant(\n    [[102, 101, 6188, 5066, 11009, 4941, 7178, 15134, 23943, 21784]]\n)\npprint.pprint(inputs)\n\n# 3.keras bart的输出\nprint(\"=========== keras bart的输出 ============>\")\nkeras_bart_out = keras_bart(inputs)\nprint(\"keras_bart_out=\")\nprint(keras_bart_out)\nprint(tokenizer.batch_decode(tf.argmax(keras_bart_out[\"lm\"], axis=2).numpy()))\n```\n\n## requirements\n- python>=3.6\n- tensorflow>=2.0.0\n- numpy\n- transformers=4.25.1\n    - 主要是为了提供tokenizer，不是必须的，可以不装。\n    - 你也可以用其他的tokenizer实现。\n\n## 参考\n- https://github.com/bojone/bert4keras\n- https://github.com/huggingface/transformers\n\n## 更新日志\n- 2023.01.15：添加BART\n- 2023.01.30：添加BERT\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/mosluo/pretrain4keras.git",
    "keywords": "",
    "license": "",
    "maintainer": "",
    "maintainer_email": "",
    "name": "pretrain4keras",
    "package_url": "https://pypi.org/project/pretrain4keras/",
    "platform": null,
    "project_url": "https://pypi.org/project/pretrain4keras/",
    "project_urls": {
      "Homepage": "https://github.com/mosluo/pretrain4keras.git"
    },
    "release_url": "https://pypi.org/project/pretrain4keras/0.0.8/",
    "requires_dist": null,
    "requires_python": "",
    "summary": "用tf.keras (TF2.0+) 的稳定API实现NLP预训练模型，例如BERT、BART等。",
    "version": "0.0.8",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 17110986,
  "releases": {
    "0.0.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "b833639bd01764252115a4e1c693156025dcc0c967b33b50e9f17688076b55e9",
          "md5": "76176578946618d6e06af298a73a86f3",
          "sha256": "8ebdc377113bc835d366c8acfa274ce88b41283e850d4083899dc442f4917e59"
        },
        "downloads": -1,
        "filename": "pretrain4keras-0.0.1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "76176578946618d6e06af298a73a86f3",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 17277,
        "upload_time": "2023-02-02T15:10:58",
        "upload_time_iso_8601": "2023-02-02T15:10:58.641227Z",
        "url": "https://files.pythonhosted.org/packages/b8/33/639bd01764252115a4e1c693156025dcc0c967b33b50e9f17688076b55e9/pretrain4keras-0.0.1-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "175af1cb6842246c748e540e6a4f0bfa7cb7863170755221d08f930815d2e6ca",
          "md5": "53269fb2c82bc60a7a85efc6ca0c8b20",
          "sha256": "6fcb6c5e343b660a29087e8f164581069317fd7af05596d60d598952c778204f"
        },
        "downloads": -1,
        "filename": "pretrain4keras-0.0.1.tar.gz",
        "has_sig": false,
        "md5_digest": "53269fb2c82bc60a7a85efc6ca0c8b20",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 13887,
        "upload_time": "2023-02-02T15:11:02",
        "upload_time_iso_8601": "2023-02-02T15:11:02.426271Z",
        "url": "https://files.pythonhosted.org/packages/17/5a/f1cb6842246c748e540e6a4f0bfa7cb7863170755221d08f930815d2e6ca/pretrain4keras-0.0.1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.0.3": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "f70ef049880e0074c915c1fc59151a8057df5c7620c509d508d32920bac79cc9",
          "md5": "93e2c8934a28821d6fe3bf9d93655331",
          "sha256": "bc4ffcf9a22777c803c68aa6720721ee5e581bb95412720a64ba36987591b488"
        },
        "downloads": -1,
        "filename": "pretrain4keras-0.0.3-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "93e2c8934a28821d6fe3bf9d93655331",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 17286,
        "upload_time": "2023-02-03T02:47:56",
        "upload_time_iso_8601": "2023-02-03T02:47:56.084767Z",
        "url": "https://files.pythonhosted.org/packages/f7/0e/f049880e0074c915c1fc59151a8057df5c7620c509d508d32920bac79cc9/pretrain4keras-0.0.3-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "6645d06baca9390e73c29ea42752fad29347adb9d8264da4588fe69f3ce45a33",
          "md5": "c650e7babe683c1133b25a12d9f66986",
          "sha256": "6e9689564f3005442c100011d4e22b0b46c57ef9fefd2946d20442c6333d4707"
        },
        "downloads": -1,
        "filename": "pretrain4keras-0.0.3.tar.gz",
        "has_sig": false,
        "md5_digest": "c650e7babe683c1133b25a12d9f66986",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 14301,
        "upload_time": "2023-02-03T02:47:58",
        "upload_time_iso_8601": "2023-02-03T02:47:58.393848Z",
        "url": "https://files.pythonhosted.org/packages/66/45/d06baca9390e73c29ea42752fad29347adb9d8264da4588fe69f3ce45a33/pretrain4keras-0.0.3.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.0.4": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "70954c3ba736d42184089e4f4d90e58ed1662e6ac749830b6924de944eaae395",
          "md5": "32a4d0eee1af9a88df455a6da1c5507b",
          "sha256": "580361814249b51c0a8111a5196792d6c2ece02b9b21c3f3bf73124547d46ed5"
        },
        "downloads": -1,
        "filename": "pretrain4keras-0.0.4-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "32a4d0eee1af9a88df455a6da1c5507b",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 17783,
        "upload_time": "2023-02-04T07:55:23",
        "upload_time_iso_8601": "2023-02-04T07:55:23.341117Z",
        "url": "https://files.pythonhosted.org/packages/70/95/4c3ba736d42184089e4f4d90e58ed1662e6ac749830b6924de944eaae395/pretrain4keras-0.0.4-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "4ddbeb16f040b1c093b92b53073fdf797667f463ae772eb04159cea189cda27a",
          "md5": "c393718343c7b773907da14611ea78ea",
          "sha256": "84e0e1b5d61f2d963c99781c2b06cf75209251da46382a24c96395ba4e5f1b13"
        },
        "downloads": -1,
        "filename": "pretrain4keras-0.0.4.tar.gz",
        "has_sig": false,
        "md5_digest": "c393718343c7b773907da14611ea78ea",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 14891,
        "upload_time": "2023-02-04T07:55:25",
        "upload_time_iso_8601": "2023-02-04T07:55:25.859133Z",
        "url": "https://files.pythonhosted.org/packages/4d/db/eb16f040b1c093b92b53073fdf797667f463ae772eb04159cea189cda27a/pretrain4keras-0.0.4.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.0.5": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "c6be009a24d6227cb18ef843b54603974374ec0a1e89c7388484a0febde8ce13",
          "md5": "0bf032847cfb7235d13876dd28e11fb7",
          "sha256": "c156942ea4dfab59dff6b435fcb0923a13c7f316ce5ce0cd3cb9a7b186c31048"
        },
        "downloads": -1,
        "filename": "pretrain4keras-0.0.5-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "0bf032847cfb7235d13876dd28e11fb7",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 17928,
        "upload_time": "2023-02-17T15:35:41",
        "upload_time_iso_8601": "2023-02-17T15:35:41.189965Z",
        "url": "https://files.pythonhosted.org/packages/c6/be/009a24d6227cb18ef843b54603974374ec0a1e89c7388484a0febde8ce13/pretrain4keras-0.0.5-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "0875bb59dc06ce69092fda40553e9fcfcde4db36833e58e47d0b3356a74b31b8",
          "md5": "67770f854b4b3760dc1e8456035ff9a3",
          "sha256": "2f376c1b6b7588602d7461a9ef9404dbe9c84f73a51002437c121de370be35e7"
        },
        "downloads": -1,
        "filename": "pretrain4keras-0.0.5.tar.gz",
        "has_sig": false,
        "md5_digest": "67770f854b4b3760dc1e8456035ff9a3",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 15032,
        "upload_time": "2023-02-17T15:35:43",
        "upload_time_iso_8601": "2023-02-17T15:35:43.364793Z",
        "url": "https://files.pythonhosted.org/packages/08/75/bb59dc06ce69092fda40553e9fcfcde4db36833e58e47d0b3356a74b31b8/pretrain4keras-0.0.5.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.0.6": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "a1fcb9acde775e58d247d5c76f9f530e0c3afecf93238d75aa320808b2a2aef7",
          "md5": "733b28f44b197605e7b92f56b2c8c3d9",
          "sha256": "a503573c4d9261df8a5d7f18eaa9238d0e5f96ebae729ac3b02252c32daeda4c"
        },
        "downloads": -1,
        "filename": "pretrain4keras-0.0.6-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "733b28f44b197605e7b92f56b2c8c3d9",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 18090,
        "upload_time": "2023-02-21T14:22:34",
        "upload_time_iso_8601": "2023-02-21T14:22:34.444361Z",
        "url": "https://files.pythonhosted.org/packages/a1/fc/b9acde775e58d247d5c76f9f530e0c3afecf93238d75aa320808b2a2aef7/pretrain4keras-0.0.6-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "fdcee09e4dbfd8b40b6773ac918d0ee6fef2bc3200041ef42df095264f3d9383",
          "md5": "25a8ebd861dc71cdd7e44320f3b0572b",
          "sha256": "800ce627b9c27cbb9072e7c0d536de2f2aa76a5384b7a1dfbef88d114e75dc6f"
        },
        "downloads": -1,
        "filename": "pretrain4keras-0.0.6.tar.gz",
        "has_sig": false,
        "md5_digest": "25a8ebd861dc71cdd7e44320f3b0572b",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 15194,
        "upload_time": "2023-02-21T14:22:36",
        "upload_time_iso_8601": "2023-02-21T14:22:36.735563Z",
        "url": "https://files.pythonhosted.org/packages/fd/ce/e09e4dbfd8b40b6773ac918d0ee6fef2bc3200041ef42df095264f3d9383/pretrain4keras-0.0.6.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.0.7": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "37d53d699cc6b040face39f0b4b03ce07a3d159ef8bb57bd4d9a3572bff32ae5",
          "md5": "2790f9cd4f58f775019ff99b43e50c39",
          "sha256": "3535535f216d3fbcf54539ac9b2d04cffa462a33d0579173aada25c546fdbeb6"
        },
        "downloads": -1,
        "filename": "pretrain4keras-0.0.7-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "2790f9cd4f58f775019ff99b43e50c39",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 18085,
        "upload_time": "2023-02-21T14:46:46",
        "upload_time_iso_8601": "2023-02-21T14:46:46.509089Z",
        "url": "https://files.pythonhosted.org/packages/37/d5/3d699cc6b040face39f0b4b03ce07a3d159ef8bb57bd4d9a3572bff32ae5/pretrain4keras-0.0.7-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "c28a773b5fe96df1c49608b09c4d34b1309422304f8144c3ca6500f11e2db580",
          "md5": "1e757f0a85ee351cbc31e158ed9de4f3",
          "sha256": "44163d7e34563891338c2d0139f24ca9eccb02fc5bf2137075d0a29a2c8bf36f"
        },
        "downloads": -1,
        "filename": "pretrain4keras-0.0.7.tar.gz",
        "has_sig": false,
        "md5_digest": "1e757f0a85ee351cbc31e158ed9de4f3",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 15420,
        "upload_time": "2023-02-21T14:46:48",
        "upload_time_iso_8601": "2023-02-21T14:46:48.884752Z",
        "url": "https://files.pythonhosted.org/packages/c2/8a/773b5fe96df1c49608b09c4d34b1309422304f8144c3ca6500f11e2db580/pretrain4keras-0.0.7.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.0.8": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "26b02e47edfa901a494a6cb0ca56ada216e3a456d6d1a55c8274a2d28524e4f4",
          "md5": "aff1fdd6d9a7f3ca52b13ff1545abc81",
          "sha256": "3d0b9b2095ac47a3527bc503731e0cdffc45d638238d01e759f31979ef157bdf"
        },
        "downloads": -1,
        "filename": "pretrain4keras-0.0.8-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "aff1fdd6d9a7f3ca52b13ff1545abc81",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 18083,
        "upload_time": "2023-03-01T12:29:55",
        "upload_time_iso_8601": "2023-03-01T12:29:55.236805Z",
        "url": "https://files.pythonhosted.org/packages/26/b0/2e47edfa901a494a6cb0ca56ada216e3a456d6d1a55c8274a2d28524e4f4/pretrain4keras-0.0.8-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "567e304429b402fc881f774d6b38cc27492337c871378b8bddd7a76470c964f5",
          "md5": "0f6f27d539e1db3e024078b7fafe663e",
          "sha256": "781b82048590ffadeec3281dcbee7ffc8c39725d5b3bc7dd67352ba5294ac97a"
        },
        "downloads": -1,
        "filename": "pretrain4keras-0.0.8.tar.gz",
        "has_sig": false,
        "md5_digest": "0f6f27d539e1db3e024078b7fafe663e",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 15432,
        "upload_time": "2023-03-01T12:29:57",
        "upload_time_iso_8601": "2023-03-01T12:29:57.179353Z",
        "url": "https://files.pythonhosted.org/packages/56/7e/304429b402fc881f774d6b38cc27492337c871378b8bddd7a76470c964f5/pretrain4keras-0.0.8.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "26b02e47edfa901a494a6cb0ca56ada216e3a456d6d1a55c8274a2d28524e4f4",
        "md5": "aff1fdd6d9a7f3ca52b13ff1545abc81",
        "sha256": "3d0b9b2095ac47a3527bc503731e0cdffc45d638238d01e759f31979ef157bdf"
      },
      "downloads": -1,
      "filename": "pretrain4keras-0.0.8-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "aff1fdd6d9a7f3ca52b13ff1545abc81",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": null,
      "size": 18083,
      "upload_time": "2023-03-01T12:29:55",
      "upload_time_iso_8601": "2023-03-01T12:29:55.236805Z",
      "url": "https://files.pythonhosted.org/packages/26/b0/2e47edfa901a494a6cb0ca56ada216e3a456d6d1a55c8274a2d28524e4f4/pretrain4keras-0.0.8-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "567e304429b402fc881f774d6b38cc27492337c871378b8bddd7a76470c964f5",
        "md5": "0f6f27d539e1db3e024078b7fafe663e",
        "sha256": "781b82048590ffadeec3281dcbee7ffc8c39725d5b3bc7dd67352ba5294ac97a"
      },
      "downloads": -1,
      "filename": "pretrain4keras-0.0.8.tar.gz",
      "has_sig": false,
      "md5_digest": "0f6f27d539e1db3e024078b7fafe663e",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": null,
      "size": 15432,
      "upload_time": "2023-03-01T12:29:57",
      "upload_time_iso_8601": "2023-03-01T12:29:57.179353Z",
      "url": "https://files.pythonhosted.org/packages/56/7e/304429b402fc881f774d6b38cc27492337c871378b8bddd7a76470c964f5/pretrain4keras-0.0.8.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}