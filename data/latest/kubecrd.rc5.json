{
  "info": {
    "author": "Abhilash Raj",
    "author_email": "raj.abhilash1@gmail.com",
    "bugtrack_url": null,
    "classifiers": [
      "License :: OSI Approved :: Apache Software License",
      "Programming Language :: Python :: 3",
      "Programming Language :: Python :: 3.10",
      "Programming Language :: Python :: 3.7",
      "Programming Language :: Python :: 3.8",
      "Programming Language :: Python :: 3.9"
    ],
    "description": "========\nKube CRD\n========\n\nThe primary purpose of this project is to simplify working with Kubernetes\nCustom Resources. To achieve that it provides a base class,\n``kubecrd.KubeResourceBase`` that can create Python\ndataclassses into Kubernetes Custom Resources and also generate and install\nCustom Resource Definitions for those resource into the K8s cluster directly.\n\n  >>> from dataclasses import dataclass, field\n  >>> from uuid import UUID\n  >>> from kubecrd import KubeResourceBase\n  >>> from apischema import schema\n\n  >>> @dataclass\n  ... class Resource(KubeResourceBase):\n  ...     __group__ = 'example.com'\n  ...     __version__ = 'v1alpha1'\n  ...\n  ...     name: str\n  ...     tags: list[str] = field(\n  ...         default_factory=list,\n  ...         metadata=schema(\n  ...            description='regroup multiple resources',\n  ...            unique=False,\n  ...         ),\n  ...     )\n\n  >>> print(Resource.crd_schema())\n  apiVersion: apiextensions.k8s.io/v1\n  kind: CustomResourceDefinition\n  metadata:\n    name: resources.example.com\n  spec:\n    group: example.com\n    names:\n      kind: Resource\n      plural: resources\n      singular: resource\n    scope: Namespaced\n    versions:\n    - name: v1alpha1\n      schema:\n        openAPIV3Schema:\n          properties:\n            spec:\n              properties:\n                name:\n                  type: string\n                tags:\n                  default: []\n                  description: regroup multiple resources\n                  items:\n                    type: string\n                  type: array\n                  uniqueItems: false\n              required:\n              - name\n              type: object\n          type: object\n      served: true\n      storage: true\n  <BLANKLINE>\n\n\nCreate CRD in K8s Cluster\n=========================\n\nIt is also possible to install the CRD in a cluster using a Kubernetes Client\nobject::\n\n  from from kubernetes import client, config\n  config.load_kube_config()\n  k8s_client = client.ApiClient()\n  Resource.install(k8s_client)\n\nYou can then find the resource in the cluster::\n\n  Â» kubectl get crds/resources.example.com\n  NAME                    CREATED AT\n  resources.example.com   2022-03-20T03:58:25Z\n\n  $ kubectl api-resources | grep example.com\n  resources     example.com/v1alpha1                  true         Resource\n\nInstallation of resource is idempotent, so re-installing an already installed\nresource doesn't raise any exceptions if ``exist_ok=True`` is passed in::\n\n  Resource.install(k8s_client, exist_ok=True)\n\n\nSerialization\n=============\n\nYou can serialize a Resource such that it is suitable to POST to K8s::\n\n  >>> example = Resource(name='myResource', tags=['tag1', 'tag2'])\n  >>> import json\n  >>> print(json.dumps(example.serialize(), sort_keys=True, indent=4))\n  {\n      \"apiVersion\": \"example.com/v1alpha1\",\n      \"kind\": \"Resource\",\n      \"metadata\": {\n          \"name\": \"...\"\n      },\n      \"spec\": {\n          \"name\": \"myResource\",\n          \"tags\": [\n              \"tag1\",\n              \"tag2\"\n          ]\n      }\n  }\n\n\nObjects can also be serialized and saved directly in K8s::\n\n  example.save(k8s_client)\n\nWhere ``client`` in the above is a Kubernetes client object. You can also use\nasyncio with kubernetes_asyncio client and instead do::\n\n  await example.async_save(k8s_async_client)\n\n\nDeserialization\n===============\n\nYou can deserialize the JSON from Kubernetes API into Python CR objects.\n::\n\n   $ cat -p testdata/cr.json\n   {\n    \"apiVersion\": \"example.com/v1alpha1\",\n    \"kind\": \"Resource\",\n    \"metadata\": {\n        \"generation\": 1,\n        \"name\": \"myresource1\",\n        \"namespace\": \"default\",\n        \"resourceVersion\": \"105572812\",\n        \"uid\": \"02102eb3-968b-418a-8023-75df383daa3c\"\n    },\n    \"spec\": {\n        \"name\": \"bestID\",\n        \"tags\": [\n            \"tag1\",\n            \"tag2\"\n        ]\n    }\n    }\n\nby using ``from_json`` classmethod on the resource::\n\n   >>> import json\n   >>> with open('testdata/cr.json') as fd:\n   ...     json_schema = json.load(fd)\n   >>> res = Resource.from_json(json_schema)\n   >>> print(res.name)\n   bestID\n   >>> print(res.tags)\n   ['tag1', 'tag2']\n\n\nThis also loads the Kubernetes's ``V1ObjectMeta`` and sets it as the\n``.metadata`` property of CR::\n\n  >>> print(res.metadata.namespace)\n  default\n  >>> print(res.metadata.name)\n  myresource1\n  >>> print(res.metadata.resource_version)\n  105572812\n\nWatch\n=====\n\nIt is possible to Watch for changes in Custom Resources using the standard\nWatch API in Kubernetes. For example, to watch for all changes in Resources::\n\n\n  async for happened, resource in Resource.async_watch(k8s_async_client):\n      print(f'Resource {resource.metadata.name} was {happened}')\n\n\nOr you can use the block sync API for the watch::\n\n\n  for happened, resource in Resource.watch(k8s_client):\n      print(f'Resource {resource.metadata.name} was {happened}')\n  \n\nInstalling\n==========\n\nKube CRD can be install from PyPI using pip or your favorite tool::\n\n  $ pip install kubecrd\n\n",
    "description_content_type": "text/x-rst",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/maxking/kubecrd",
    "keywords": "",
    "license": "Apache-2.0",
    "maintainer": "",
    "maintainer_email": "",
    "name": "kubecrd",
    "package_url": "https://pypi.org/project/kubecrd/",
    "platform": null,
    "project_url": "https://pypi.org/project/kubecrd/",
    "project_urls": {
      "Bug Tracker": "https://github.com/maxking/kubecrd/issues",
      "Homepage": "https://github.com/maxking/kubecrd",
      "Repository": "https://github.com/maxking/kubecrd"
    },
    "release_url": "https://pypi.org/project/kubecrd/0.5.0/",
    "requires_dist": [
      "PyYAML (>=6.0)",
      "apischema (>=0.15.0)",
      "kubernetes (>=23.3.0,<24.0.0)"
    ],
    "requires_python": ">=3.7,<4",
    "summary": "Create Kubernetes CRD using Python dataclasses",
    "version": "0.5.0",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 13390247,
  "releases": {
    "0.1.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "444cb113e38fb9ec94a6043966eb3ace005be4e66734e7c8dbe939b35c174e39",
          "md5": "3817c0508616a9356f247a55f49c9fd5",
          "sha256": "41120b6ed8ff2b610c593e6e83d8784790b76cc799824a388d1d7d48b88b216c"
        },
        "downloads": -1,
        "filename": "kubecrd-0.1.0-py3-none-any.whl",
        "has_sig": true,
        "md5_digest": "3817c0508616a9356f247a55f49c9fd5",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.7,<4",
        "size": 7580,
        "upload_time": "2022-03-20T04:32:45",
        "upload_time_iso_8601": "2022-03-20T04:32:45.023771Z",
        "url": "https://files.pythonhosted.org/packages/44/4c/b113e38fb9ec94a6043966eb3ace005be4e66734e7c8dbe939b35c174e39/kubecrd-0.1.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "70e2026015c5d7bc133fd581199dbd1a3940df11354e88d4bcd28bf632268ef4",
          "md5": "fd331fc44ea2df3a9b3861b01b8992b9",
          "sha256": "2e8b70dbc305d29959cf9dbf1fd10408bd3978aea5504eed28a2d6837407006a"
        },
        "downloads": -1,
        "filename": "kubecrd-0.1.0.tar.gz",
        "has_sig": true,
        "md5_digest": "fd331fc44ea2df3a9b3861b01b8992b9",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.7,<4",
        "size": 7546,
        "upload_time": "2022-03-20T04:32:46",
        "upload_time_iso_8601": "2022-03-20T04:32:46.955038Z",
        "url": "https://files.pythonhosted.org/packages/70/e2/026015c5d7bc133fd581199dbd1a3940df11354e88d4bcd28bf632268ef4/kubecrd-0.1.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.2.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "4600258a985c6def99d80ac54011f15555258867e24806e81fe1f50c3d1f4a2f",
          "md5": "6e1afa18d57044c81eb3ae748cbcb2bb",
          "sha256": "9e08d84de6ff7579ce024c37131b372977f766ec635ae3381100eb3c97970bf6"
        },
        "downloads": -1,
        "filename": "kubecrd-0.2.0-py3-none-any.whl",
        "has_sig": true,
        "md5_digest": "6e1afa18d57044c81eb3ae748cbcb2bb",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.7,<4",
        "size": 9109,
        "upload_time": "2022-03-28T01:02:14",
        "upload_time_iso_8601": "2022-03-28T01:02:14.669365Z",
        "url": "https://files.pythonhosted.org/packages/46/00/258a985c6def99d80ac54011f15555258867e24806e81fe1f50c3d1f4a2f/kubecrd-0.2.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "99759bb35127d618f77df11195269357f5c06f7788e1a6647f1f0d38c9b15f7d",
          "md5": "94667d500af12c1bec44418bec014350",
          "sha256": "175808cd98ae298e53c28ef65ccc311a5e05ca8d3a72c4e3a000ef727cd0707c"
        },
        "downloads": -1,
        "filename": "kubecrd-0.2.0.tar.gz",
        "has_sig": true,
        "md5_digest": "94667d500af12c1bec44418bec014350",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.7,<4",
        "size": 9297,
        "upload_time": "2022-03-28T01:02:15",
        "upload_time_iso_8601": "2022-03-28T01:02:15.932894Z",
        "url": "https://files.pythonhosted.org/packages/99/75/9bb35127d618f77df11195269357f5c06f7788e1a6647f1f0d38c9b15f7d/kubecrd-0.2.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.3.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "f1b03fb87f0414b7f435f59e157658198868ff0cfc118cb46022fff2cd92c883",
          "md5": "c552192a1535d99c954d43bb2570da65",
          "sha256": "45f8dfe208d1c02e741cbe3426106375f7da5932a3fe863d95e3f4b6931649d1"
        },
        "downloads": -1,
        "filename": "kubecrd-0.3.0-py3-none-any.whl",
        "has_sig": true,
        "md5_digest": "c552192a1535d99c954d43bb2570da65",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.7,<4",
        "size": 9771,
        "upload_time": "2022-04-03T07:21:23",
        "upload_time_iso_8601": "2022-04-03T07:21:23.943102Z",
        "url": "https://files.pythonhosted.org/packages/f1/b0/3fb87f0414b7f435f59e157658198868ff0cfc118cb46022fff2cd92c883/kubecrd-0.3.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "2cdb799f3b86310a4025456128478c5613d44cce97fcf92db4333dbe60a413f0",
          "md5": "b652878f36f1950c2394a5c6e4f07ba0",
          "sha256": "4f34e4879b055645d9166063d769d5b91a1d310128115a9718ed6a3765286a28"
        },
        "downloads": -1,
        "filename": "kubecrd-0.3.0.tar.gz",
        "has_sig": true,
        "md5_digest": "b652878f36f1950c2394a5c6e4f07ba0",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.7,<4",
        "size": 10059,
        "upload_time": "2022-04-03T07:21:25",
        "upload_time_iso_8601": "2022-04-03T07:21:25.706049Z",
        "url": "https://files.pythonhosted.org/packages/2c/db/799f3b86310a4025456128478c5613d44cce97fcf92db4333dbe60a413f0/kubecrd-0.3.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.4.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "281d0222bae1fc84ed53ee58556bde93fa2319f826ba9ada74131cd1940019d7",
          "md5": "825c89446d7458644f3c47e05a6b079e",
          "sha256": "12bf119bda618825cb954c1821d96b15884fa58c129a28b6477f0dfd76798def"
        },
        "downloads": -1,
        "filename": "kubecrd-0.4.0-py3-none-any.whl",
        "has_sig": true,
        "md5_digest": "825c89446d7458644f3c47e05a6b079e",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.7,<4",
        "size": 9770,
        "upload_time": "2022-04-03T07:57:58",
        "upload_time_iso_8601": "2022-04-03T07:57:58.614787Z",
        "url": "https://files.pythonhosted.org/packages/28/1d/0222bae1fc84ed53ee58556bde93fa2319f826ba9ada74131cd1940019d7/kubecrd-0.4.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "78fa2f9f4bb0b5ffdc136d6f42d1341ff4b59d991b9cc1bbacf02430599e02e3",
          "md5": "9455cc678b226062931e72a57f78a92c",
          "sha256": "62ef66de6edf5d84865c127b598937669393dac7c1c34b27b495da3ec0bdf30b"
        },
        "downloads": -1,
        "filename": "kubecrd-0.4.0.tar.gz",
        "has_sig": true,
        "md5_digest": "9455cc678b226062931e72a57f78a92c",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.7,<4",
        "size": 10062,
        "upload_time": "2022-04-03T07:58:00",
        "upload_time_iso_8601": "2022-04-03T07:58:00.466211Z",
        "url": "https://files.pythonhosted.org/packages/78/fa/2f9f4bb0b5ffdc136d6f42d1341ff4b59d991b9cc1bbacf02430599e02e3/kubecrd-0.4.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.5.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "0c627a9f04d82a6c54c0e280aa2da8519ecb3f913048005a6584cb71002acc95",
          "md5": "edfc2df7cedeee13e871bc90ef1e3029",
          "sha256": "f3cc3d3e60ab1e830bb3bba7206015320901d9f3a355d970dcb17886ab321f11"
        },
        "downloads": -1,
        "filename": "kubecrd-0.5.0-py3-none-any.whl",
        "has_sig": true,
        "md5_digest": "edfc2df7cedeee13e871bc90ef1e3029",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.7,<4",
        "size": 9756,
        "upload_time": "2022-04-03T08:16:59",
        "upload_time_iso_8601": "2022-04-03T08:16:59.878653Z",
        "url": "https://files.pythonhosted.org/packages/0c/62/7a9f04d82a6c54c0e280aa2da8519ecb3f913048005a6584cb71002acc95/kubecrd-0.5.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "44f3dec68c8cc004c0c139e4dca40b6a08f68f8544806a2bf2ead45b5fae15e6",
          "md5": "0cc0fd37ad7d9c87490d50baa4b64c49",
          "sha256": "09c903cbb47c66b6ded706a14919d61e87a6753fb425e5b213c3c3fcbb97c320"
        },
        "downloads": -1,
        "filename": "kubecrd-0.5.0.tar.gz",
        "has_sig": true,
        "md5_digest": "0cc0fd37ad7d9c87490d50baa4b64c49",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.7,<4",
        "size": 10036,
        "upload_time": "2022-04-03T08:17:02",
        "upload_time_iso_8601": "2022-04-03T08:17:02.380884Z",
        "url": "https://files.pythonhosted.org/packages/44/f3/dec68c8cc004c0c139e4dca40b6a08f68f8544806a2bf2ead45b5fae15e6/kubecrd-0.5.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "0c627a9f04d82a6c54c0e280aa2da8519ecb3f913048005a6584cb71002acc95",
        "md5": "edfc2df7cedeee13e871bc90ef1e3029",
        "sha256": "f3cc3d3e60ab1e830bb3bba7206015320901d9f3a355d970dcb17886ab321f11"
      },
      "downloads": -1,
      "filename": "kubecrd-0.5.0-py3-none-any.whl",
      "has_sig": true,
      "md5_digest": "edfc2df7cedeee13e871bc90ef1e3029",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": ">=3.7,<4",
      "size": 9756,
      "upload_time": "2022-04-03T08:16:59",
      "upload_time_iso_8601": "2022-04-03T08:16:59.878653Z",
      "url": "https://files.pythonhosted.org/packages/0c/62/7a9f04d82a6c54c0e280aa2da8519ecb3f913048005a6584cb71002acc95/kubecrd-0.5.0-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "44f3dec68c8cc004c0c139e4dca40b6a08f68f8544806a2bf2ead45b5fae15e6",
        "md5": "0cc0fd37ad7d9c87490d50baa4b64c49",
        "sha256": "09c903cbb47c66b6ded706a14919d61e87a6753fb425e5b213c3c3fcbb97c320"
      },
      "downloads": -1,
      "filename": "kubecrd-0.5.0.tar.gz",
      "has_sig": true,
      "md5_digest": "0cc0fd37ad7d9c87490d50baa4b64c49",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": ">=3.7,<4",
      "size": 10036,
      "upload_time": "2022-04-03T08:17:02",
      "upload_time_iso_8601": "2022-04-03T08:17:02.380884Z",
      "url": "https://files.pythonhosted.org/packages/44/f3/dec68c8cc004c0c139e4dca40b6a08f68f8544806a2bf2ead45b5fae15e6/kubecrd-0.5.0.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}