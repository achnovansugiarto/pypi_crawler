{
  "info": {
    "author": "ncoop57",
    "author_email": "nacooper01@wm.edu",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 4 - Beta",
      "Intended Audience :: Developers",
      "License :: OSI Approved :: Apache Software License",
      "Natural Language :: English",
      "Programming Language :: Python :: 3.10",
      "Programming Language :: Python :: 3.7",
      "Programming Language :: Python :: 3.8",
      "Programming Language :: Python :: 3.9"
    ],
    "description": "perplexed\n================\n\n<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->\n\nThis library is based on the idea from Andrej Karpathy on understanding\nthe failure cases of a model by looking at the worst predictions.\nSpecifically, this library focuses on calculating the perplexity of\nLarge Language Models (LLMs) such as GPT-2 and BERT. The idea is to\ncalculate the perplexity of a model on a dataset at the per token level.\nThis allows us to understand where the model is perplexed and where it\nis not. This is useful for debugging and understanding the model.\n\n## Install\n\n``` sh\npip install perplexed\n```\n\n## How to use\n\n### Using the API\n\n[`perplexed`](https://ncoop57.github.io/perplexed/core.html#perplexed)\nis designed to work with the HuggingFace ecosystem and is built on top\nof the `transformers` and `datasets` libraries. The API is designed to\nbe simple and easy to use. The main function is\n[`perplexed`](https://ncoop57.github.io/perplexed/core.html#perplexed)\nwhich takes in a model, dataset, and tokenizer and returns a simple\nCounter object with the perplexity of each token in the dataset. Here is\nan example of how to use it:\n\n``` python\nfrom perplexed.core import perplexed\n\ntokenizer = AutoTokenizer.from_pretrained(\"EleutherAI/gpt-neo-125M\")\ntokenizer.pad_token = tokenizer.eos_token\nmodel = AutoModelForCausalLM.from_pretrained(\"EleutherAI/gpt-neo-125M\")\n\ndataset = load_dataset(\"wikitext\", \"wikitext-2-raw-v1\", split=\"test\").select(range(100))\n# filter out empty strings\ndataset = dataset.filter(lambda x: len(x[\"text\"]) > 0)\n\nperplexity_cnt = perplexed(model, dataset, tokenizer=tokenizer, column=\"text\", batch_size=1, device=\"cpu\")\nperplexity_cnt.most_common(10)\n```\n\n    Found cached dataset wikitext (/home/nathan/.cache/huggingface/datasets/wikitext/wikitext-2-raw-v1/1.0.0/a241db52902eaf2c6aa732210bead40c090019a499ceb13bcbfa3f8ab646a126)\n    Loading cached processed dataset at /home/nathan/.cache/huggingface/datasets/wikitext/wikitext-2-raw-v1/1.0.0/a241db52902eaf2c6aa732210bead40c090019a499ceb13bcbfa3f8ab646a126/cache-68eb731029328d8b.arrow\n    Loading cached processed dataset at /home/nathan/.cache/huggingface/datasets/wikitext/wikitext-2-raw-v1/1.0.0/a241db52902eaf2c6aa732210bead40c090019a499ceb13bcbfa3f8ab646a126/cache-1c1cd85efcee4db8.arrow\n\n    [(' wired', 60983688.0),\n     (' 768', 21569838.0),\n     (' shatter', 12281687.0),\n     (' unsett', 8289435.0),\n     (' ignited', 6605209.0),\n     (' Tanz', 4834899.0),\n     (' Influence', 4153321.75),\n     (' Career', 4064189.0),\n     (' Television', 2325870.75),\n     (' Moral', 2243574.5)]\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/ncoop57/perplexed",
    "keywords": "nbdev jupyter notebook python",
    "license": "Apache Software License 2.0",
    "maintainer": "",
    "maintainer_email": "",
    "name": "perplexed",
    "package_url": "https://pypi.org/project/perplexed/",
    "platform": null,
    "project_url": "https://pypi.org/project/perplexed/",
    "project_urls": {
      "Homepage": "https://github.com/ncoop57/perplexed"
    },
    "release_url": "https://pypi.org/project/perplexed/0.0.1/",
    "requires_dist": [
      "datasets",
      "fastcore",
      "rich",
      "torch",
      "transformers",
      "code-tokenizers ; extra == 'dev'",
      "ipywidgets ; extra == 'dev'",
      "matplotlib ; extra == 'dev'",
      "nbdev ; extra == 'dev'",
      "seaborn ; extra == 'dev'",
      "twine ; extra == 'dev'"
    ],
    "requires_python": ">=3.7",
    "summary": "Find out where your model is perplexed!",
    "version": "0.0.1",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 15909481,
  "releases": {
    "0.0.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "518564795628a4c6b2736d72c79eabe024d2bce5d06b8e77e2d257f05347677f",
          "md5": "189b71e9dd0e0311e86c1b5b190d82ce",
          "sha256": "4830eddfcb2b32257a944f247052593c6c68ab51f41cf63809e8638badde4255"
        },
        "downloads": -1,
        "filename": "perplexed-0.0.1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "189b71e9dd0e0311e86c1b5b190d82ce",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.7",
        "size": 9365,
        "upload_time": "2022-11-28T03:35:33",
        "upload_time_iso_8601": "2022-11-28T03:35:33.782318Z",
        "url": "https://files.pythonhosted.org/packages/51/85/64795628a4c6b2736d72c79eabe024d2bce5d06b8e77e2d257f05347677f/perplexed-0.0.1-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "86e12cb56e0fa6c2462ac4a0f37a8514f017189e70fcf8d23df48b19fa88c2db",
          "md5": "3b05307bad5ac46f25253bf36ad8a73e",
          "sha256": "7a282f893c2bf8460eb557d7cedabdfa896d29c50cf2db0813e22bb0b2a5feec"
        },
        "downloads": -1,
        "filename": "perplexed-0.0.1.tar.gz",
        "has_sig": false,
        "md5_digest": "3b05307bad5ac46f25253bf36ad8a73e",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.7",
        "size": 9886,
        "upload_time": "2022-11-28T03:35:35",
        "upload_time_iso_8601": "2022-11-28T03:35:35.405153Z",
        "url": "https://files.pythonhosted.org/packages/86/e1/2cb56e0fa6c2462ac4a0f37a8514f017189e70fcf8d23df48b19fa88c2db/perplexed-0.0.1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "518564795628a4c6b2736d72c79eabe024d2bce5d06b8e77e2d257f05347677f",
        "md5": "189b71e9dd0e0311e86c1b5b190d82ce",
        "sha256": "4830eddfcb2b32257a944f247052593c6c68ab51f41cf63809e8638badde4255"
      },
      "downloads": -1,
      "filename": "perplexed-0.0.1-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "189b71e9dd0e0311e86c1b5b190d82ce",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": ">=3.7",
      "size": 9365,
      "upload_time": "2022-11-28T03:35:33",
      "upload_time_iso_8601": "2022-11-28T03:35:33.782318Z",
      "url": "https://files.pythonhosted.org/packages/51/85/64795628a4c6b2736d72c79eabe024d2bce5d06b8e77e2d257f05347677f/perplexed-0.0.1-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "86e12cb56e0fa6c2462ac4a0f37a8514f017189e70fcf8d23df48b19fa88c2db",
        "md5": "3b05307bad5ac46f25253bf36ad8a73e",
        "sha256": "7a282f893c2bf8460eb557d7cedabdfa896d29c50cf2db0813e22bb0b2a5feec"
      },
      "downloads": -1,
      "filename": "perplexed-0.0.1.tar.gz",
      "has_sig": false,
      "md5_digest": "3b05307bad5ac46f25253bf36ad8a73e",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": ">=3.7",
      "size": 9886,
      "upload_time": "2022-11-28T03:35:35",
      "upload_time_iso_8601": "2022-11-28T03:35:35.405153Z",
      "url": "https://files.pythonhosted.org/packages/86/e1/2cb56e0fa6c2462ac4a0f37a8514f017189e70fcf8d23df48b19fa88c2db/perplexed-0.0.1.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}