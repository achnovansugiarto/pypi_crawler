{
  "info": {
    "author": "TaylorHere",
    "author_email": "taylorherelee@gmail.com",
    "bugtrack_url": null,
    "classifiers": [
      "License :: OSI Approved :: MIT License",
      "Programming Language :: Python :: 3"
    ],
    "description": "BatchScript\n\n使用多进程+线程池+队列运行你的方法\n\n~~~shell\n$> pip3 install BatchScript\n# or\n$> git clone https://github.com/TaylorHere/BatchScript.git && cd BatchScript && pip3 install -e .\n# and you can test it\n$> cd BatchScript && python3 test.py\n~~~\n\n~~~python\nfrom master import Master\nfrom worker import Worker\nimport helper \nimport os\n\nclass Config():\n\n\tMaxWorkerSize = os.cpu_count() - 1  #worker数量\n\n\tMaxThreadPoolSize = 1024  #每个worker的线程池大小\n\n\tThreadQueueWaitTimeout = 0.01  #worker在job队列上获取数据的超时, 超时后会立即开始批量线程提交\n\n\tWorkerGetBatchSize = MaxThreadPoolSize  #额定批大小, 如果worker获取数据时不超时, 那么在获取都这个数量后便开始批量线程提交\n\n\tJobsResultsQueueNum = MaxWorkerSize #jobs 和 results 队列对的数量, 该数量如果小于worker数量, 则最后一对会被未分配的worker共用, 共用队列可能会导致锁操作增加\n\n\tResultsBatch = True #将一个batch的所有result当作一个result放入result 队列中\n\nmaster = Master(func=helper.sleep, config=Config())\nmaster.start()\nfor i in range(1000):\n    master.job_put(0.01)\n\nwhile True:\n    print(master.result().get())\n~~~\n\n链接多个 master\n~~~python\nfrom master import Master\nfrom worker import Worker\nimport helper \n\nmaster = Master(func=helper.sleep)\nmaster.start()\n\nfor i in range(1000):\n    master.job_put(0.01)\n\nanother_master = Master(func=print, connection=master)#该master会将connection的master的results队列作为jobs队列, 如果该master的队列对比链接master的队列对数量少, 会造成链接master的result不能被全部消耗\nanother_master.start()\n\n~~~\n\n采用 多进程启动Worker, worker维护线程池运行函数的方案\nmaster内建和worker关联的多个任务队列和对应的多个结果队列\nworker按batch从任务队列中获取数据并使用线程池提交运行\n批量结束后将任务结果put到结果队列\n\n你可以在config中调整\n~~~python\nimport os\n\nMaxWorkerSize = os.cpu_count() - 1  #worker数量\n\nMaxThreadPoolSize = 1024  #每个worker的线程池大小\n\nThreadQueueWaitTimeout = 0.01  #worker在job队列上获取数据的超时, 超时后会立即开始批量线程提交\n\nWorkerGetBatchSize = MaxThreadPoolSize  #额定批大小, 如果worker获取数据时不超时, 那么在获取都这个数量后便开始批量线程提交\n\nJobsResultsQueueNum = MaxWorkerSize #jobs 和 results 队列对的数量, 该数量如果小于worker数量, 则最后一对会被未分配的worker共用, 共用队列可能会导致锁操作增加\n\nResultsBatch = True #将一个batch的所有result当作一个result放入result 队列中\n~~~",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/TaylorHere/BatchScript",
    "keywords": "",
    "license": "",
    "maintainer": "",
    "maintainer_email": "",
    "name": "BatchScript",
    "package_url": "https://pypi.org/project/BatchScript/",
    "platform": "",
    "project_url": "https://pypi.org/project/BatchScript/",
    "project_urls": {
      "Homepage": "https://github.com/TaylorHere/BatchScript"
    },
    "release_url": "https://pypi.org/project/BatchScript/0.0.9/",
    "requires_dist": null,
    "requires_python": "",
    "summary": "Python Master-Queue-Worker Structure multiple task tool",
    "version": "0.0.9",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 8512481,
  "releases": {
    "0.0.2": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "e64ab82ab8bdf95b7882c57e20e3201595efac9c2bd0eb9e34628af1a0cc85ab",
          "md5": "b30c057b78479feef6f2750567169fe7",
          "sha256": "7b1707ea912c11045e079c329c7227ae1723ab2440e5338bd9ae7d98d1410250"
        },
        "downloads": -1,
        "filename": "BatchScript-0.0.2.tar.gz",
        "has_sig": false,
        "md5_digest": "b30c057b78479feef6f2750567169fe7",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 3692,
        "upload_time": "2020-01-26T10:20:39",
        "upload_time_iso_8601": "2020-01-26T10:20:39.992396Z",
        "url": "https://files.pythonhosted.org/packages/e6/4a/b82ab8bdf95b7882c57e20e3201595efac9c2bd0eb9e34628af1a0cc85ab/BatchScript-0.0.2.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.0.3": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "bf8240c27520faaad3771e185797eef272640c67b31a5e61574c9397ab90554f",
          "md5": "5336428e54f9515e8be7c29aece820df",
          "sha256": "e1044629069fe27fcea6107dc825d49644b019470998710bc41ddf58a1858ee2"
        },
        "downloads": -1,
        "filename": "BatchScript-0.0.3.tar.gz",
        "has_sig": false,
        "md5_digest": "5336428e54f9515e8be7c29aece820df",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 3759,
        "upload_time": "2020-01-26T13:22:56",
        "upload_time_iso_8601": "2020-01-26T13:22:56.748665Z",
        "url": "https://files.pythonhosted.org/packages/bf/82/40c27520faaad3771e185797eef272640c67b31a5e61574c9397ab90554f/BatchScript-0.0.3.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.0.4": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "b7accff3cf31241f7f44e9b142115d0d03723797b05e6d0551343cee5b8a3054",
          "md5": "f9018fcf6e24fb1b2ca389c739e2b5f8",
          "sha256": "a377ecb8bf65ca36533c99a7fd4955b450fc09609cc9f7081e3717612498d5fb"
        },
        "downloads": -1,
        "filename": "BatchScript-0.0.4.tar.gz",
        "has_sig": false,
        "md5_digest": "f9018fcf6e24fb1b2ca389c739e2b5f8",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 3759,
        "upload_time": "2020-01-26T13:48:04",
        "upload_time_iso_8601": "2020-01-26T13:48:04.102461Z",
        "url": "https://files.pythonhosted.org/packages/b7/ac/cff3cf31241f7f44e9b142115d0d03723797b05e6d0551343cee5b8a3054/BatchScript-0.0.4.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.0.5": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "1486c1459c1fb1b4fbf6c7f6202559b1348be56624fff1999fbd376e90dd2c22",
          "md5": "b81ea745e744ce24a81c6aa1d489a0ff",
          "sha256": "62e52a8d25a1d379147689981251dbacf00d61b99d478e6e104b641bdc06854c"
        },
        "downloads": -1,
        "filename": "BatchScript-0.0.5.tar.gz",
        "has_sig": false,
        "md5_digest": "b81ea745e744ce24a81c6aa1d489a0ff",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 3903,
        "upload_time": "2020-01-26T16:37:57",
        "upload_time_iso_8601": "2020-01-26T16:37:57.489783Z",
        "url": "https://files.pythonhosted.org/packages/14/86/c1459c1fb1b4fbf6c7f6202559b1348be56624fff1999fbd376e90dd2c22/BatchScript-0.0.5.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.0.6": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "6bf64102c79fe8c6bbea6b4a7992a1611e01d70782ed861602811b65a5ed93fb",
          "md5": "aafed8b6dc09ea5fd133c21d0f1d1ff1",
          "sha256": "89cf1afd91fbda72bf4da1198ce4f29a45b01736cc74abeae3d75ca46a6f1396"
        },
        "downloads": -1,
        "filename": "BatchScript-0.0.6.tar.gz",
        "has_sig": false,
        "md5_digest": "aafed8b6dc09ea5fd133c21d0f1d1ff1",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 3750,
        "upload_time": "2020-01-27T15:22:55",
        "upload_time_iso_8601": "2020-01-27T15:22:55.809742Z",
        "url": "https://files.pythonhosted.org/packages/6b/f6/4102c79fe8c6bbea6b4a7992a1611e01d70782ed861602811b65a5ed93fb/BatchScript-0.0.6.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.0.7": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "77646a2472b225a2864b6712b7f08883dde954f03e01b6e7f437edb67698a979",
          "md5": "c32a34613356f72fe47ee96b0c0be1b0",
          "sha256": "e20f45244c995b74ec34eabc8a7e13ff2f23bd4691a1facd940c92d2fcdbf6cf"
        },
        "downloads": -1,
        "filename": "BatchScript-0.0.7.tar.gz",
        "has_sig": false,
        "md5_digest": "c32a34613356f72fe47ee96b0c0be1b0",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 4180,
        "upload_time": "2020-09-29T11:29:44",
        "upload_time_iso_8601": "2020-09-29T11:29:44.353027Z",
        "url": "https://files.pythonhosted.org/packages/77/64/6a2472b225a2864b6712b7f08883dde954f03e01b6e7f437edb67698a979/BatchScript-0.0.7.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.0.8": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "56c7919370eef5b96280c145fb66ac517cffae077980eba4eac1cfa1315daa07",
          "md5": "a0456eb22fb85068899eeeb335562fa8",
          "sha256": "b2d77055fcd7e8ad06203d70112c5dbd2ff750749ac2def64dbffcfb151a5654"
        },
        "downloads": -1,
        "filename": "BatchScript-0.0.8.tar.gz",
        "has_sig": false,
        "md5_digest": "a0456eb22fb85068899eeeb335562fa8",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 4168,
        "upload_time": "2020-10-14T09:22:54",
        "upload_time_iso_8601": "2020-10-14T09:22:54.579022Z",
        "url": "https://files.pythonhosted.org/packages/56/c7/919370eef5b96280c145fb66ac517cffae077980eba4eac1cfa1315daa07/BatchScript-0.0.8.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.0.9": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "ae323642b800d4c136803404d1bc09a7e922264a0fd848df6e3736f62e34bfc2",
          "md5": "5040e37e0be51713f4e8c9a576605513",
          "sha256": "47565f77cc99aab1e8e721c62b30fc37880a33a9b57e6c370c97eaf6767bfff8"
        },
        "downloads": -1,
        "filename": "BatchScript-0.0.9.tar.gz",
        "has_sig": false,
        "md5_digest": "5040e37e0be51713f4e8c9a576605513",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 4173,
        "upload_time": "2020-10-27T13:10:08",
        "upload_time_iso_8601": "2020-10-27T13:10:08.794871Z",
        "url": "https://files.pythonhosted.org/packages/ae/32/3642b800d4c136803404d1bc09a7e922264a0fd848df6e3736f62e34bfc2/BatchScript-0.0.9.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "ae323642b800d4c136803404d1bc09a7e922264a0fd848df6e3736f62e34bfc2",
        "md5": "5040e37e0be51713f4e8c9a576605513",
        "sha256": "47565f77cc99aab1e8e721c62b30fc37880a33a9b57e6c370c97eaf6767bfff8"
      },
      "downloads": -1,
      "filename": "BatchScript-0.0.9.tar.gz",
      "has_sig": false,
      "md5_digest": "5040e37e0be51713f4e8c9a576605513",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": null,
      "size": 4173,
      "upload_time": "2020-10-27T13:10:08",
      "upload_time_iso_8601": "2020-10-27T13:10:08.794871Z",
      "url": "https://files.pythonhosted.org/packages/ae/32/3642b800d4c136803404d1bc09a7e922264a0fd848df6e3736f62e34bfc2/BatchScript-0.0.9.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}