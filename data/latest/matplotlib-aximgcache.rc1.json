{
  "info": {
    "author": "Leif Denby",
    "author_email": "leif@denby.eu",
    "bugtrack_url": null,
    "classifiers": [],
    "description": "# Easily store and replot matplotlib Axes content\n\n[![matplotlib-aximgcache (pip install)](https://github.com/leifdenby/matplotlib-aximgcache/actions/workflows/python-package-pip.yml/badge.svg)](https://github.com/leifdenby/matplotlib-aximgcache/actions/workflows/python-package-pip.yml)\n\nHave a plot that takes a long time to create and which you want to overlay\ndifferent things onto? You can use `matplotlib-aximgcache` to save the\nintermediate axes content to an image and later replot that same content into a\nnew axes (in the right place with transparency!) All you need is\n`.save_ax_to_image` and `.load_and_plot_image`, see below for an example (or\n[example.ipynb](example.ipynb)).\n\n\n## Installation\n\n```\npython -m pip install matplotlib-aximgcache\n```\n\n## Usage\n\nFirst, we'll create a reference plot with some shapes that extend to the edges\nof the figure and with whitespace in the middle so that we can test that\ntransparency works. At the end we call `.save_ax_to_image(...)` to save the\n`matplotlib.Axes` content.\n\n```python3\nimport matplotlib.pyplot as plt\nimport matplotlib.patches as mpatches\nimport matplotlib_aximgcache as mpl_aic\n\nfig, ax = plt.subplots()\nax.set_xlim(0, 400)\nax.set_ylim(0, 200)\n\nrects = [\n    mpatches.Rectangle((0, 0), 100, 200, linewidth=1, edgecolor=\"none\", facecolor=\"b\"),\n    mpatches.Rectangle(\n        (400, 0), -100, 200, linewidth=1, edgecolor=\"none\", facecolor=\"b\"\n    ),\n    mpatches.Rectangle((50, 50), 100, 100, linewidth=1, edgecolor=\"g\", facecolor=\"r\"),\n    mpatches.Rectangle((250, 50), 100, 100, linewidth=1, edgecolor=\"g\", facecolor=\"r\"),\n]\n\nfor rect in rects:\n    ax.add_patch(rect)\n\n# save the content of the axes to a PNG-image so that it can be replotted\n# into a new axes later\nmpl_aic.save_ax_to_image(ax=ax, fpath=\"test.png\")\n```\n\nThe figure looks like this:\n\n![](initial.png)\n\nThe stored image looks this (and contains meta-info so we can replot it in the\ncorrect location):\n\n![](test.png)\n\n\nNext, we create a new figure with an axes that has different extents than the\noriginal axes and has some extra content (a few green rectangles) so we can\ncheck alignment and transparency:\n\n```python\nfig, ax = plt.subplots(figsize=(8, 8))\nax.set_xlim(-200, 500)\nax.set_ylim(-200, 400)\n\n# add a few green rectangles to show that with changed axes extents\n# the loaded image is plotted in the correct place and has transparency\nrect = mpatches.Rectangle(\n    (100, 0), 20, 300, linewidth=1, edgecolor=\"none\", facecolor=\"g\"\n)\nax.add_patch(rect)\nrect = mpatches.Rectangle(\n    (300, 0), -20, 300, linewidth=1, edgecolor=\"none\", facecolor=\"g\", zorder=2\n)\nax.add_patch(rect)\n\n# add the content of the previous figure's axes from the image stored above\n# note that the loaded content is plotted with `zorder=1`, you can change\n# this if you want to change the z-ordering relative to other things in your\n# new figure\nmpl_aic.load_and_plot_image(ax=ax, fpath=\"test.png\")\n```\n\nThe final figure looks like this:\n\n![](final.png)\n\nNB: as you can tell from the above image there is a slight offset issue with\nthe plotted image. If you know what that might be [please let me\nknow](https://github.com/leifdenby/matplotlib-aximgcache/issues/new/choose)!\n\n\n## Contributing and inspiration\n\nI got the technique for saving the axes content from `ImportantOfBeingErnest`\n[on stackoverflow](https://stackoverflow.com/a/43099136/271776).\n\nPull-request welcome!\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/leifdenby/matplotlib-aximgcache",
    "keywords": "",
    "license": "",
    "maintainer": "",
    "maintainer_email": "",
    "name": "matplotlib-aximgcache",
    "package_url": "https://pypi.org/project/matplotlib-aximgcache/",
    "platform": null,
    "project_url": "https://pypi.org/project/matplotlib-aximgcache/",
    "project_urls": {
      "Homepage": "https://github.com/leifdenby/matplotlib-aximgcache"
    },
    "release_url": "https://pypi.org/project/matplotlib-aximgcache/0.1.0/",
    "requires_dist": [
      "matplotlib",
      "Pillow",
      "pytest ; extra == 'dev'",
      "nbval ; extra == 'dev'",
      "nb-black ; extra == 'dev'",
      "pre-commit ; extra == 'dev'",
      "ipython ; extra == 'dev'",
      "pytest ; extra == 'test'",
      "nbval ; extra == 'test'",
      "nb-black ; extra == 'test'"
    ],
    "requires_python": "",
    "summary": "Easily store and re-replot matplotlib Axes content",
    "version": "0.1.0",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 15525261,
  "releases": {
    "0.1.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "c5e5144086d04be60707b1f2f266ab83e71240ec597ced81157334a30fb6160a",
          "md5": "7f4b3d9dcea63f3b81bb40267b6a2fb5",
          "sha256": "fddf9816e216d13e6a2ed55345d478846a59edcd901237650091570fa100f49b"
        },
        "downloads": -1,
        "filename": "matplotlib_aximgcache-0.1.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "7f4b3d9dcea63f3b81bb40267b6a2fb5",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 3802,
        "upload_time": "2022-10-25T16:21:55",
        "upload_time_iso_8601": "2022-10-25T16:21:55.785222Z",
        "url": "https://files.pythonhosted.org/packages/c5/e5/144086d04be60707b1f2f266ab83e71240ec597ced81157334a30fb6160a/matplotlib_aximgcache-0.1.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "c5e5144086d04be60707b1f2f266ab83e71240ec597ced81157334a30fb6160a",
        "md5": "7f4b3d9dcea63f3b81bb40267b6a2fb5",
        "sha256": "fddf9816e216d13e6a2ed55345d478846a59edcd901237650091570fa100f49b"
      },
      "downloads": -1,
      "filename": "matplotlib_aximgcache-0.1.0-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "7f4b3d9dcea63f3b81bb40267b6a2fb5",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": null,
      "size": 3802,
      "upload_time": "2022-10-25T16:21:55",
      "upload_time_iso_8601": "2022-10-25T16:21:55.785222Z",
      "url": "https://files.pythonhosted.org/packages/c5/e5/144086d04be60707b1f2f266ab83e71240ec597ced81157334a30fb6160a/matplotlib_aximgcache-0.1.0-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}