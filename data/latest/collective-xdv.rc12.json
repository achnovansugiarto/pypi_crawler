{
  "info": {
    "author": "Martin Aspeli",
    "author_email": "optilude@gmail.com",
    "bugtrack_url": null,
    "classifiers": [
      "Framework :: Plone",
      "Programming Language :: Python",
      "Topic :: Software Development :: Libraries :: Python Modules"
    ],
    "description": "**XDV has been renamed to Diazo and this package has been replaced by plone.app.theming.** Visit the `Diazo website`_ or the `plone.app.theming PyPI page`_ for further information.\n\n.. _`Diazo website`: http://diazo.org\n.. _`plone.app.theming PyPI page`: http://pypi.python.org/pypi/plone.app.theming\n\n\n============\nIntroduction\n============\n\nThis package offers a simple way to develop and deploy Plone themes using\nthe `XDV`_ engine. If you are not familiar with XDV or rules-based theming,\ncheck out the `XDV documentation <http://pypi.python.org/pypi/xdv>`_.\n\n.. contents:: Contents\n\nInstallation\n============\n\ncollective.xdv depends on:\n\n  * `plone.transformchain`_ to hook the transformation into the publisher\n  * `plone.registry`_ and `plone.app.registry`_ to manage settings\n  * `plone.autoform`_, `plone.z3cform`_ and `plone.app.z3cform`_ to render the \n    control panel\n  * `five.globalrequest`_ and `zope.globalrequest`_ for internal request\n    access\n  * `XDV`_, containing XDV itself itself\n  * `lxml`_ to perform the final transform\n\nThese will all be pulled in automatically if you are using zc.buildout and\nfollow the installation instructions.\n\nTo install collective.xdv into your Plone instance, locate the file\nbuildout.cfg in the root of your Plone instance directory on the file system,\nand open it in a text editor. Locate the section that looks like this::\n\n    # extends = http://dist.plone.org/release/3.3/versions.cfg\n    extends = versions.cfg\n    versions = versions\n\nIt may also have a URL in the \"extends\" section, similar to the commented-out\nfirst line, depending on whether you pull the Plone configuration from the\nnetwork or locally.\n\nTo add collective.xdv to our setup, we need some slightly different versions\nof a couple of the packages, so we extend the base config with a version list\nfrom the good-py service, so change this part of the configuration so it looks\nlike this::\n\n    extends =\n        versions.cfg\n        http://good-py.appspot.com/release/collective.xdv/1.0?plone=3.3.5\n    versions = versions\n\nNote that the last part of the URL above before the ``?`` is the xdv version\nnumber. There may be a newer version by the time you read this, so check out\nthe `overview page <http://good-py.appspot.com/release/collective.xdv>`_ for\nthe known good set.\n\nReplace ``?plone=3.3.5`` with the version of Plone you are using. This\ndependency versions appropriate to your Plone.\n\nWhat happens here is that the dependency list for collective.xdv specifies\nsome new versions for you via the good-py URL. This way, you don't have to\nworry about getting the right versions, Buildout will handle it for you.\n\nNext step is to add the actual collective.xdv add-on to the \"eggs\" section of\nbuildout.cfg. Look for the section that looks like this::\n\n    eggs =\n        Plone\n\nThis section might have additional lines if you have other add-ons already\ninstalled. Just add the collective.xdv on a separate line, like this::\n\n    eggs =\n        Plone\n        collective.xdv [Zope2.10]\n\nNote the use of the [Zope2.10] extra, which brings in the\nZPublisherEventsBackport package for forward compatibility with Zope 2.12 /\nPlone 4. If you are using Zope 2.12 or later (e.g. with Plone 4), you should\ndo::\n\n    eggs =\n        Plone\n        collective.xdv\n\nNote that there is no need to add a ZCML slug as collective.xdv uses\nz3c.autoinclude to configure itself automatically.\n\nOnce you have added these lines to your configuration file, it's time to run\nbuildout, so the system can add and set up collective.xdv for you. Go to the\ncommand line, and from the root of your Plone instance (same directory as\nbuildout.cfg is located in), run buildout like this::\n\n    $ bin/buildout\n\nYou will see output similar to this::\n\n    Getting distribution for 'collective.xdv==1.0'.\n    Got collective.xdv 1.0.\n    Getting distribution for 'plone.app.registry'.\n    Got plone.app.registry 1.0a1.\n    Getting distribution for 'plone.synchronize'.\n    Got plone.synchronize 1.0b1.\n    ...\n\nIf everything went according to plan, you now have collective.xdv installed\nin your Zope instance.\n\nNext, start up Zope, e.g with::\n\n    $ bin/instance fg\n\nThen go to the \"Add-ons\" control panel in Plone as an administrator, and\ninstall the \"XDV theme support\" product. You should then notice a new\n\"XDV Theme\" control panel in Plone's site setup.\n    \nUsage\n=====\n\nIn the \"XDV Theme\" control panel, you can set the following options:\n\n  Enabled yes/no\n    Whether or not the transform is enabled.\n\n  Domains\n    A list of domains (including ports) that will be matched against\n    the HOST header to determine if the theme should be applied. Note that\n    127.0.0.1 is never styled, to ensure there's always a way back into Plone\n    to change these very settings. However, 'localhost' should work just fine.\n  \n  Theme\n    A file path or URL pointing to the theme file. This is just a\n    static HTML file.\n\n  Rules\n    The filesystem path to the rules XML file.  \n  \n  Alternate themes\n    A list of definitions of alternate themes and rules files for a different\n    path. Should be of the form 'path theme rules' where path may use a\n    regular expression syntax, theme is a file path or URL to the theme\n    template and rule is a file path to the rules file. If the theme or a\n    rules string starts with 'python://' a path resolve is done, so for\n    example you could refer to a theme file in your theme package as\n    python://yourtheme.xdvtheme/static/page.html .\n    \n  XSLT extension file \n    It is possible to extend XDV with a custom XSLT file.\n    If you have such a file, give its URL here.\n    \n  Absolute prefix \n    If given, any relative URL in an ``<img />``, ``<link\n    />``, ``<style />`` or ``<script />`` in the theme HTML file will be\n    prefixed by this URL snippet when the theme is compiled. This makes it\n    easier to develop theme HTML/CSS on the file system using relative paths\n    that still work on any URL on the server.\n    \n  Unstyled paths \n    This is used to give a list of URL patterns (using regular\n    expression syntax) for pages that will not be styled even if XDV is\n    enabled. By default, this includes the 'emptypage' view that is necessary\n    for the Kupu editor to work, and the manage_* pages that make up the ZMI.\n    \n  Note that when Zope is in debug mode, the theme will be re-compiled on\n  each request. In non-debug mode, it is compiled once on startup, and then\n  only if the control panel values are changed.\n\nResources in Python packages\n----------------------------\n\nWhen specifying the rules, theme and/or XSLT extension files, you should\nnormally use a file path. If you are distributing your theme in a Python\npackage that is installed using Distribute/setuptools (e.g. a standard\nPlone package installed via buildout), you can use the special ``python``\nURL scheme to reference your files.\n\nFor example, if your package is called ``my.package`` and it contains a\ndirectory ``mytheme``, you could reference the file ``rules.xml`` in that\nfile as::\n\n    ``python://my.package/mytheme/rules.xml``\n\nThis will be resolved to an absolute ``file://`` URL by the collective.xdv.\n\nStatic files and CSS\n--------------------\n\nTypically, the theme will reference static resources such as images or\nstylesheets. It is usually a good idea to keep all of these in a single,\ntop-level directory to minimise the risk of clashes with Plone content paths.\n\nIf you are using Zope/Plone standalone, you will need to make your static\nresources available through Zope, or serve them from a separate (sub-)domain.\nHere, you have a few options:\n\n * Create the static resources as ``File`` content objects through Plone.\n * Create the resources inside the ``portal_skins/custom`` folder in the ZMI.\n * Install the resources through a filesystem product.\n\nThe latter is most the appropriate option if you are distributing your theme\nas a Python package. In this case, you can register a resource directory in\nZCML like so::\n\n    <configure\n        xmlns=\"http://namespaces.zope.org/zope\"\n        xmlns:browser=\"http://namespaces.zope.org/browser\">\n        \n        ...\n        \n        <browser:resourceDirectory\n            name=\"my.package\"\n            directory=\"mytheme\"\n            />\n        \n        ...\n\n    </configure>\n\nThe ``mytheme`` directory should be in the same directory as the\n``configure.zcml`` file. You can now put your theme, rules and static\nresources here.\n\nIf you make sure that your theme uses only relative URLs to reference any\nstylesheets, JavaScript files, or images that it needs (including those\nreferenced from stylesheets), you should now be able to view your static\ntheme by going to a URL like::\n\n    http://localhost:8080/Plone/++resource++my.package/theme.html\n\nYou can now set the \"Absolute prefix\" configuration option to be\n'/++resource++my.package'. XDV will then turn those relative URLs into\nappropriate absolute URLs with this prefix.\n\nIf you have put Apache, nginx or IIS in front of Zope, you may want to serve\nthe static resources from the web server directly instead.\n\nUsing portal_css to manage your CSS\n-----------------------------------\n\nPlone's \"resource registries\", including the ``portal_css`` tool, can be used\nto manage CSS stylesheets. This offers several advantages over simply linking\nto your stylesheets in the template, such as:\n\n* Detailed control over the ordering of stylesheets\n* Merging of stylesheets to reduce the number of downloads required to render\n  your page\n* On-the-fly stylesheet compression (e.g. whitespace removal)\n* The ability to include or exclude a stylesheet based on an expression\n\nIt is usually desirable (and sometimes completely necessary) to leave the\ntheme file untouched, but you can still use ``portal_css`` to manage your\nstylesheets. The trick is to drop the theme's styles and then include all\nstyles from Plone. For example, you could add the following rules::\n\n    <drop theme=\"/html/head/link\" />\n    <drop theme=\"/html/head/style\" />\n    \n    <!-- Pull in Plone CSS -->\n    <append theme=\"/html/head\" content=\"/html/head/link | /html/head/style\" />\n\nThe use of an \"or\" expression for the content in the ``<append />`` rule means\nthat the precise ordering is maintained.\n\nFor an example of how to register stylesheets upon product installation using\nGenericSetup, see below. In short - use the ``cssregistry.xml`` import step\nin your GenericSetup profile directory.\n\nThere is one important caveat, however. Your stylesheet may include relative\nURL references of the following form:\n\n    background-image: url(../images/bg.jpg);\n    \nIf your stylesheet lives in a resource directory (e.g. it is registered in\n``portal_css`` with the id ``++resource++my.package/css/styles.css``), this\nwill work fine so long as the registry (and Zope) is in debug mode. The\nrelative URL will be resolved by the browser to\n``++resource++my.package/images/bg.jpg``.\n\nHowever, you may find that the relative URL breaks when the registry is put\ninto production mode. This is because resource merging also changes the URL\nof the stylesheet to be something like::\n\n    /plone-site/portal_css/Suburst+Theme/merged-cachekey-1234.css\n\nTo correct for this, you have a few options:\n\n1. Replace your static stylesheet with something dynamic so that you can\n   calculate it relative an absolute path on the fly. This obviously will not\n   work if you want to be able to view the theme standalone.\n2. Change your URLs to use an absolute path, e.g.\n   ``/++resource++my.theme/images/bg.jpg``. Again, this will break the\n   original stylesheet. However, you can perhaps create a Plone-only override\n   stylesheet that overrides each CSS property that uses a url().\n3. Avoid using ``portal_css`` for your static stylesheets.\n4. Use Plone 4. :-) In Plone 4 (b3 and later), the ``portal_css`` tool has an\n   option to parse a stylesheet for relative URLs and apply an absolute prefix\n   based on the stylesheet's debug-mode URL. The option is called\n   ``applyPrefix`` in the ``cssregistry.xml`` syntax.\n\nControlling Plone's default CSS\n-------------------------------\n\nIt is sometimes useful to show some of Plone's CSS in the styled site. You\ncan achieve this by using an XDV ``<append />`` rule or similar to copy the\nCSS from Plone's generated ``<head />`` into the theme. You can use the\nportal_css tool to turn off the style sheets you do not want.\n\nHowever, if you also want the site to be usable in non-themed mode (e.g. on\na separate URL), you may want to have a larger set of styles enabled when\nXDV is not used. To make this easier, you can use the following expressions\nas conditions in the portal_css tool (and portal_javascripts, portal_kss),\nin portal_actions, in page templates, and other places that use TAL expression\nsyntax::\n\n    request/HTTP_X_XDV | nothing\n\nThis expression will return True if XDV is currently enabled, in which case\nan HTTP header \"X-XDV\" will be set. By default, this will check both the\n'enabled' flag in the XDV control panel, and the current domain. If you later\ndeploy the theme to a fronting web server such as nginx, you can set the\nsame request header there to get the same effect, even if collective.xdv is\nuninstalled.\n\nUse::\n\n    not: request/HTTP_X_XDV | nothing\n    \nto 'hide' a style sheet from the themed site.\n\nA worked example\n=================\n\nThere are many ways to set up an XDV theme. For example, you could upload\nthe theme and rules as content in Plone use absolute paths to configure them.\nYou could also serve them from a separate static web server, or even load\nthem from the filesystem.\n\nTo create a deployable theme, however, it is often best to create a simple\nPython package. This also provides a natural home for theme-related \ncustomisations such as template overrides.\n\nAlthough a detailed tutorial is beyond the scope of this help file, a brief,\nworked example is shown below.\n\n1. Create a package and install it in your buildout::\n\n    $ cd src\n    $ paster create -t plone my.theme\n\nSee `the buildout manual`_ for details\n\nIf you have a recent ``ZopeSkel`` installed, this should work. Pick ``easy``\nmode. Answer \"yes\" when asked if you want to register a profile.\n\nThen edit ``buildout.cfg`` to add your new package (``my.theme`` above) to the\n``develop`` and ``eggs`` lists.\n\n2. Edit ``setup.py`` inside the newly created package\n\nThe ``install_requires`` list should be::\n\n    install_requires=[\n          'setuptools',\n          'collective.xdv',\n      ],\n\nRe-run buildout::\n\n    $ bin/buildout\n\n3. Edit ``configure.zcml`` inside the newly created package.\n\nAdd a resource directory inside the ``<configure />`` tag. Note that you may\nneed to add the ``browser`` namespace, as shown.\n\n    <configure\n        xmlns=\"http://namespaces.zope.org/zope\"\n        xmlns:browser=\"http://namespaces.zope.org/browser\"\n        xmlns:i18n=\"http://namespaces.zope.org/i18n\"\n        xmlns:genericsetup=\"http://namespaces.zope.org/genericsetup\"\n        i18n_domain=\"my.theme\">\n\n        <genericsetup:registerProfile\n            name=\"default\"\n            title=\"my.theme\"\n            directory=\"profiles/default\"\n            description=\"Installs the my.theme package\"\n            provides=\"Products.GenericSetup.interfaces.EXTENSION\"\n            />\n\n        <browser:resourceDirectory\n            name=\"my.theme\"\n            directory=\"static\"\n            />\n  \n    </configure>\n\nHere, we have used the package name, ``my.theme``, for the resource directory\nname. Adjust as appropriate.\n\n4. Add a ``static`` directory next to ``configure.zcml``.\n\n5. Put your theme and rules files into this directory.\n\nFor example, you may have a ``theme.html`` that references images in a\nsub-directory ``images/`` and stylesheets in a sub-directory ``css/``. Place\nthis file and the two directories inside the newly created ``static``\ndirectory.\n\nMake sure the theme uses relative URLs (e.g. ``<img src=\"images/foo.jpg\" />``)\nto reference its resources. This means you can open theme up from the\nfilesystem and view it in its splendour.\n\nAlso place a ``rules.xml`` file there. See the `XDV`_ documentation for\ndetails about its syntax. You can start with some very simple rules if\nyou just want to test::\n\n    <?xml version=\"1.0\" encoding=\"UTF-8\"?>\n    <rules\n        xmlns=\"http://namespaces.plone.org/xdv\"\n        xmlns:css=\"http://namespaces.plone.org/xdv+css\">\n        \n        <!-- Head: title -->\n        <replace theme=\"/html/head/title\" content=\"/html/head/title\" />\n    \n        <!-- Base tag -->\n        <replace theme=\"/html/head/base\" content=\"/html/head/base\" />\n    \n        <!-- Drop styles in the head - these are added back by including them from Plone -->\n        <drop theme=\"/html/head/link\" />\n        <drop theme=\"/html/head/style\" />\n    \n        <!-- Pull in Plone CSS -->\n        <append theme=\"/html/head\" content=\"/html/head/link | /html/head/style \" />\n\n    </rules>\n\nThese rules will pull in the ``<title />`` tag (i.e. the browser window's\ntitle), the ``<base />`` tag (necessary for certain Plone URLs to work\ncorrectly), and Plone's stylesheets.\n\nSee below for some more useful rules.\n\n6. Create the installation profile\n\nThe generated code above for the ``<genericsetup:registerProfile />`` tag\ncontains a reference to a directory ``profiles/default``. You may need to\ncreate this next to ``configure.zcml`` if it doesn't exist already, i.e.\ncreate a new directory ``profiles`` and inside it another directory\n``default``.\n\nIn this directory, add a file called ``metadata.xml`` containing::\n\n    <metadata>\n        <version>1</version>\n        <dependencies>\n            <dependency>profile-collective.xdv:default</dependency>\n        </dependencies>\n    </metadata>\n\nThis will install collective.xdv into Plone when my.theme is installed via\nthe add-on control panel later.\n\nAlso create a file called ``registry.xml``, with the following contents::\n\n    <registry>\n    \n        <!-- collective.xdv settings -->\n\n        <record interface=\"collective.xdv.interfaces.ITransformSettings\" field=\"domains\">\n            <value>\n                <element>domain.my:8080</element>\n            </value>\n        </record>\n\n        <record interface=\"collective.xdv.interfaces.ITransformSettings\" field=\"rules\">\n            <value>python://my.theme/static/rules.xml</value>\n        </record>\n    \n        <record interface=\"collective.xdv.interfaces.ITransformSettings\" field=\"theme\">\n            <value>python://my.theme/static/theme.html</value>\n        </record>\n    \n        <record interface=\"collective.xdv.interfaces.ITransformSettings\" field=\"absolute_prefix\">\n            <value>/++resource++my.theme</value>\n        </record>\n\n    </registry>\n\nReplace ``my.theme`` with your own package name, and ``rules.xml`` and\n``theme.html`` as appropriate.\n\nThis file configures the settings behind the XDV control panel.\n\nHint: If you have played with the control panel and want to export your\nsettings, you can create a snapshot in the ``portal_setup`` tool in the ZMI.\nExamine the ``registry.xml`` file this creates, and pick out the records that\nrelate to ``collective.xdv``. You should strip out the ``<field />`` tags\nin the export, so that you are left with ``<record />`` and ``<value />`` tags\nas shown above.\n\nAlso, add a ``cssregistry.xml`` in the ``profiles/default`` directory to\nconfigure the ``portal_css`` tool::\n\n    <?xml version=\"1.0\"?>\n    <object name=\"portal_css\">\n \n     <!-- Set conditions on stylesheets we don't want to pull in -->\n     <stylesheet\n         expression=\"not:request/HTTP_X_XDV | nothing\"\n         id=\"public.css\"\n         />\n     \n     <!-- Add new stylesheets -->\n     <!-- Note: applyPrefix is not available in Plone < 4.0b3 -->\n \n     <stylesheet title=\"\" authenticated=\"False\" cacheable=\"True\"\n        compression=\"safe\" conditionalcomment=\"\" cookable=\"True\" enabled=\"on\"\n        expression=\"request/HTTP_X_XDV | nothing\"\n        id=\"++resource++my.theme/css/styles.css\" media=\"\" rel=\"stylesheet\"\n        rendering=\"link\"\n        applyPrefix=\"True\"\n        />\n\n    </object>\n\nThis shows how to set a condition on an existing stylesheet, as well as\nregistering a brand new one. We've set ``applyPrefix`` to True here, as\nexplained above. This will only work in Plone 4.b3 and later. For earlier\nversions, simply take this out. \n\n7. Test\n\nStart up Zope and go to your Plone site. Your new package should show as\ninstallable in the add-on product control panel. When installed, it should\ninstall collective.xdv as a dependency and pre-configure it to use your theme\nand rule set. By default, the theme is not enabled, so you will need to go to\nthe control panel to switch it on.\n\nYou can now compare your untouched theme, the unstyled Plone site, and the\nthemed site by using the following URLs:\n\n* ``http://localhost:8080`` (or whatever you have configured as the styled\n  domain) for a styled Plone. If you used the sample rule above, this will\n  look almost exactly like your theme, but with the ``<title />`` tag\n  (normally shown in the title bar of your web browser) taken from Plone.\n* ``http://127.0.0.1:8080`` (presuming this is the port where Plone is\n  running) for an unstyled Plone.\n* ``http://localhost:8080/++resource++my.theme/theme.html`` for the pristine\n  theme. This is served as a static resource, almost as if it is being\n  opened on the filesystem.\n\nCommon rules\n============\n\nTo copy the page title::\n\n    <!-- Head: title -->\n    <replace theme=\"/html/head/title\" content=\"/html/head/title\" />\n\nTo copy the ``<base />`` tag (necessary for Plone's links to work)::\n\n    <!-- Base tag -->\n    <replace theme=\"/html/head/base\" content=\"/html/head/base\" />\n\nTo drop all styles and JavaScript resources from the theme and copy them\nfrom Plone's ``portal_css`` tool instead::\n\n    <!-- Drop styles in the head - these are added back by including them from Plone -->\n    <drop theme=\"/html/head/link\" />\n    <drop theme=\"/html/head/style\" />\n    \n    <!-- Pull in Plone CSS -->\n    <append theme=\"/html/head\" content=\"/html/head/link | /html/head/style\" />\n\nTo copy Plone's JavaScript resources::\n\n    <!-- Pull in Plone CSS -->\n    <append theme=\"/html/head\" content=\"/html/head/script\" />\n\nTo copy the class of the ``<body />`` tag (necessary for certain Plone\nJavaScript functions and styles to work properly)::\n\n    <!-- Body -->\n    <prepend theme=\"/html/body\" content=\"/html/body/attribute::class\" />    \n\nOther tips\n==========\n\n* Firebug is an excellent tool for inspecting the theme and content when\n  building rules. It even has an XPath extractor.\n* Read up on XPath. It's not as complex as it looks and very powerful.\n* Run Zope in debug mode whilst developing so that you don't need to restart\n  to see changes to theme, rules or, resources.\n\n.. _XDV: http://pypi.python.org/pypi/xdv\n.. _Deliverance: http://pypi.python.org/pypi/Deliverance\n.. _plone.transformchain: http://pypi.python.org/pypi/plone.transformchain\n.. _repoze.zope2: http://pypi.python.org/pypi/repoze.zope2\n.. _plone.transformchain: http://pypi.python.org/pypi/plone.transformchain\n.. _plone.registry: http://pypi.python.org/pypi/plone.registry\n.. _plone.app.registry: http://pypi.python.org/pypi/plone.app.registry\n.. _plone.autoform: http://pypi.python.org/pypi/plone.autoform\n.. _plone.z3cform: http://pypi.python.org/pypi/plone.z3cform\n.. _plone.app.z3cform: http://pypi.python.org/pypi/plone.app.z3cform\n.. _lxml: http://pypi.python.org/pypi/lxml\n.. _five.globalrequest: http://pypi.python.org/pypi/five.globalrequest\n.. _zope.globalrequest: http://pypi.python.org/pypi/zope.globalrequest\n.. _the buildout manual: http://plone.org/documentation/manual/developer-manual/managing-projects-with-buildout\n\n\nChangelog\n=========\n\n1.0rc11 - 2010-09-05\n--------------------\n\n* Add French translation, use real msgids in python files and cleanup obsolete\n  Japanese translations.\n  [laz]\n\n* Don't pretty print output - it can break browser renderings and introduces\n  unnecessary whitespace.\n  [elro]\n\n* Fix python:// URL resolution on Windows.\n  [optilude]\n\n* Clarify space separator warning.\n  [fvandijk]\n\n1.0rc10 - 2010-08-05\n--------------------\n\n* Use plone.subrequest.\n  [elro]\n\n* Use space as a separator for alternate themes. '|' is common in regular\n  expressions.\n  [elro]\n\n* Support XDV 0.4 <theme> directive so theme is not required on settings.\n  [elro]\n\n* Fix resolution of network (http/https) urls for external includes.\n  [elro]\n\n1.0rc9 - 2010-08-05\n-------------------\n\n* Use an IBeforeTraverseEvent on the Plone site root instead of an \n  IPubAfterTraversal event to hook in the X-XDV request header. This makes\n  the header work on 404 error pages.\n  [optilude]\n\n* Add collective.directoryresourcepatch to the Zope2.10 extras. This allows\n  for subdirectories to be traversed by the ResourceRegistries while running\n  Plone 3/Zope 2.10.\n  [dunlapm]\n\n* Require lxml>=2.2.4. The Zope2 KGS lists lxml=2.2, a version which errors on\n  invalid html.\n  [elro]\n\n* Fix extra.xsl support.\n  [elro]\n\n1.0rc8 - 2010-05-24\n-------------------\n\n* Support for styling sites using virtual hosting with a subpath.\n  https://bugs.launchpad.net/xdv/+bug/517244\n  [elro]\n\n* Exclusions for TinyMCE. https://bugs.launchpad.net/xdv/+bug/527807\n  [elro]\n\n1.0rc7 - 2010-05-23\n-------------------\n\n* UPGRADE NOTE: Reinstall product in the Add-ons control panel.\n\n* Switch on XInclude processing always.\n  [elro]\n\n* Fix Windows install. For running under Plone 4 on Windows, you must specify::\n\n    [versions]\n    lxml = 2.2.4\n\n until a newer lxml Windows binary egg is released.\n [elro]\n\n* Instead of the external resolver, let lxml read the network. You must now\n  explicitly enable ``Read network`` in the control panel.\n  [elro]\n\n1.0rc6 - 2010-05-21\n-------------------\n\n* Fix transform caching to account for different virtual hosts of the same\n  site and make cache invalidation work across ZEO clients.\n  [elro]\n\n1.0rc5 - 2010-04-21\n-------------------\n\n* Fix in-Plone content inclusion via the ``href`` mechanism, including the use\n  of relative paths in hrefs.\n  [optilude]\n\n* Ensured that the absolute prefix would work even in a virtual hosting\n  scenario where the aboslute path of the site root is '/'.\n  [optilude]\n  \n* Added an event handler which will set an HTTP request header 'X-XDV'\n  if XDV is enabled for the incoming domain. This can be used as a check\n  in e.g. portal_css, for example with a TALES expression like\n  'request/HTTP_X_XDV | nothing'. The @@xdv-check/enabled method\n  now just checks for the existence of this variable too. The idea is that\n  it is easier to replicate this in a pure-XSLT deployment scenario with\n  collective.xdv disabled, for example by setting the same request header in\n  nginx or Apache.\n  [optilude]\n\n* Made all zope paths resolve relative to the Plone site.\n  [marshalium]\n\n* Add support for resolving files with http/ftp absolute urls and zope paths.\n  [marshalium]\n\n* Make absolute_prefix prepend the Plone site path if necessary. This means\n  that an absolute prefix starting with / is always relative to the Plone\n  site root.\n  [optilude]\n\n* Add support for the python:// pseudo-scheme for the theme, rules and\n  extrauri files. See README.txt for details.\n  [optilude]\n\n* Improve the wording in the control panel\n  [optilude]\n\n* Fix a bug whereby the cached transforms (in non-debug-mode) would leak\n  across Plone sites in the same instance.\n  [optilude]\n\n* Remove the ``boilerplate`` parameter. Use ``extraurl`` instead.\n  [optilude]\n\n* Let collective.xdv depend on the new XDV egg, instead of dv.xdvserver.\n  [optilude]\n\n* Only invoke the transformation if collective.xdv is in fact installed.\n  Note: you may need to re-install the product after upgrading.\n  [optilude]\n\n* Use plone.transformchain to sequence transformation activities. Among\n  other things, this helps us avoid re-parsing/serialising lxml trees when\n  other things in the chain prefer to work with such representations of the\n  response. It also helps control the sequence of post-publication events.\n  [optilude]\n\n* Zope 2.12 / Plone 4 compatability.\n  [lrowe]\n\n1.0rc4 - 2009-10-27\n-------------------\n\n* Style error responses as well as successful responses.\n  [lrowe]\n\n* Use ZPublisher events instead of plone.postpublicationhook for compatibility\n  with Zope 2.12 / Plone 4. For Zope2.10 / Plone 3.x, you must now specify\n  \"collective.xdv [Zope2.10]\" in your buildout to bring in the package\n  ZPublisherEventsBackport.\n  [lrowe]\n\n* Added support for extraurl parameter\n  [mhora]\n\n* Added alternate themes and modified transform so it can decide by a path\n  regular expression which theme and rules files it will use for\n  transformation\n  [mhora]\n\n* Add /manage in unstyled paths default list.\n  [encolpe]\n  \n1.0a2 - 2009-07-12\n------------------\n\n* Catch up with changes in plone.registry's API.\n  [optilude]\n\n1.0a1 - 2009-04-17\n------------------\n\n* Initial release",
    "description_content_type": null,
    "docs_url": null,
    "download_url": "UNKNOWN",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "http://pypi.python.org/pypi/collective.xdv",
    "keywords": "plone xdv deliverance theme transform xslt",
    "license": "GPL",
    "maintainer": "",
    "maintainer_email": "",
    "name": "collective.xdv",
    "package_url": "https://pypi.org/project/collective.xdv/",
    "platform": "UNKNOWN",
    "project_url": "https://pypi.org/project/collective.xdv/",
    "project_urls": {
      "Download": "UNKNOWN",
      "Homepage": "http://pypi.python.org/pypi/collective.xdv"
    },
    "release_url": "https://pypi.org/project/collective.xdv/1.0rc11/",
    "requires_dist": null,
    "requires_python": null,
    "summary": "Integrates the xdv Deliverance implementation with Plone using a post-publication hook to transform content",
    "version": "1.0rc11",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 788282,
  "releases": {
    "1.0a1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "bb4691e904172817f6a5d1edddafa5536ae20450371d4699bd1e5df556847d4c",
          "md5": "3bc2be62327a3d520a0a32e0ec88c8ee",
          "sha256": "a2dd36f6acd9d14a70bf73d33fc9c6637b8af9ff80cedc99ac7c55a04fe81de9"
        },
        "downloads": -1,
        "filename": "collective.xdv-1.0a1.tar.gz",
        "has_sig": false,
        "md5_digest": "3bc2be62327a3d520a0a32e0ec88c8ee",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 15567,
        "upload_time": "2009-04-17T08:16:21",
        "upload_time_iso_8601": "2009-04-17T08:16:21.556033Z",
        "url": "https://files.pythonhosted.org/packages/bb/46/91e904172817f6a5d1edddafa5536ae20450371d4699bd1e5df556847d4c/collective.xdv-1.0a1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.0rc1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "eea3a92396b1cfff36522f39dabb4ea18c7e2fe6a7f12b823b5753269a67ebf6",
          "md5": "7412200d8447485e175eefff38d94ed6",
          "sha256": "3635101cbb54d57f890d2923c83e57963090bf64c5e4554b740858f652cd74b4"
        },
        "downloads": -1,
        "filename": "collective.xdv-1.0rc1.tar.gz",
        "has_sig": false,
        "md5_digest": "7412200d8447485e175eefff38d94ed6",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 15638,
        "upload_time": "2009-05-25T12:30:59",
        "upload_time_iso_8601": "2009-05-25T12:30:59.373726Z",
        "url": "https://files.pythonhosted.org/packages/ee/a3/a92396b1cfff36522f39dabb4ea18c7e2fe6a7f12b823b5753269a67ebf6/collective.xdv-1.0rc1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.0rc10": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "b8558e495779ab1df7ed8c8edeb3e85ea6379d453c5567701c05d15a18d79eaa",
          "md5": "98bcd9e8593692f3f973d03a288714e8",
          "sha256": "bb774c71c32087ad8d74e7de4b4ddf6e69641515a79e960f360f0f9b1918a062"
        },
        "downloads": -1,
        "filename": "collective.xdv-1.0rc10.tar.gz",
        "has_sig": false,
        "md5_digest": "98bcd9e8593692f3f973d03a288714e8",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 45851,
        "upload_time": "2010-08-16T21:13:25",
        "upload_time_iso_8601": "2010-08-16T21:13:25.966420Z",
        "url": "https://files.pythonhosted.org/packages/b8/55/8e495779ab1df7ed8c8edeb3e85ea6379d453c5567701c05d15a18d79eaa/collective.xdv-1.0rc10.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.0rc11": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "cc9421781f48cd7f02a7aa4e927d33b26c0d06ca0a0e67021b418ef99b23491d",
          "md5": "5cbd56865ca9335b8d8b4b7fa4c299ce",
          "sha256": "306783ed18862e2c8978e1a71fdbebbaaa013d80549be00a76666272e57c28b9"
        },
        "downloads": -1,
        "filename": "collective.xdv-1.0rc11.zip",
        "has_sig": false,
        "md5_digest": "5cbd56865ca9335b8d8b4b7fa4c299ce",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 60346,
        "upload_time": "2010-09-05T19:41:00",
        "upload_time_iso_8601": "2010-09-05T19:41:00.359294Z",
        "url": "https://files.pythonhosted.org/packages/cc/94/21781f48cd7f02a7aa4e927d33b26c0d06ca0a0e67021b418ef99b23491d/collective.xdv-1.0rc11.zip",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.0rc2": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "40bba9febdbb524cd152cd4ffc6209b319caaca24f83a74b7647efc78440a378",
          "md5": "dc5051272c0bcc23b7538b3ac0fb1080",
          "sha256": "98fb0dba363743cc55a003da49c45bf9bbc1e06720d4a4667c62cdf2e4512651"
        },
        "downloads": -1,
        "filename": "collective.xdv-1.0rc2.tar.gz",
        "has_sig": false,
        "md5_digest": "dc5051272c0bcc23b7538b3ac0fb1080",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 15679,
        "upload_time": "2009-05-25T12:42:32",
        "upload_time_iso_8601": "2009-05-25T12:42:32.110136Z",
        "url": "https://files.pythonhosted.org/packages/40/bb/a9febdbb524cd152cd4ffc6209b319caaca24f83a74b7647efc78440a378/collective.xdv-1.0rc2.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.0rc3": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "4c10fe8c0cd6ff23765e79fae4bb4d03a9c287d02c1522160e9c201d4b2b603b",
          "md5": "37fbf307cbc984901a9265b04f91495c",
          "sha256": "010f805b3d22d025f1d069b0336f238817e899041bd51a822c7558ac81ef3ac0"
        },
        "downloads": -1,
        "filename": "collective.xdv-1.0rc3.tar.gz",
        "has_sig": false,
        "md5_digest": "37fbf307cbc984901a9265b04f91495c",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 15755,
        "upload_time": "2009-07-12T10:36:31",
        "upload_time_iso_8601": "2009-07-12T10:36:31.708860Z",
        "url": "https://files.pythonhosted.org/packages/4c/10/fe8c0cd6ff23765e79fae4bb4d03a9c287d02c1522160e9c201d4b2b603b/collective.xdv-1.0rc3.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.0rc4": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "1581b27c264c96918609a200751c7a177eae7b53aff58f08f6fe7f24b65f818b",
          "md5": "3dc811567593453b302d131eb326407f",
          "sha256": "c59a4f13e4f6bbfc6d491cdfa79ce778e65ff0f72581a9316140a98ce59e64bf"
        },
        "downloads": -1,
        "filename": "collective.xdv-1.0rc4.tar.gz",
        "has_sig": false,
        "md5_digest": "3dc811567593453b302d131eb326407f",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 21063,
        "upload_time": "2009-10-27T16:27:53",
        "upload_time_iso_8601": "2009-10-27T16:27:53.847264Z",
        "url": "https://files.pythonhosted.org/packages/15/81/b27c264c96918609a200751c7a177eae7b53aff58f08f6fe7f24b65f818b/collective.xdv-1.0rc4.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.0rc5": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "4fe62e18efb23a230bd39b0b8e1f69b426970f0584d0e5ac061627581dece841",
          "md5": "d8dda0927585f8ceb926a686e7222799",
          "sha256": "945bb6b2811235e789532d95b9ec5ee8f89a032a8e8c7fcb532ca6fa8ee84506"
        },
        "downloads": -1,
        "filename": "collective.xdv-1.0rc5.zip",
        "has_sig": false,
        "md5_digest": "d8dda0927585f8ceb926a686e7222799",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 58363,
        "upload_time": "2010-04-21T19:06:03",
        "upload_time_iso_8601": "2010-04-21T19:06:03.002039Z",
        "url": "https://files.pythonhosted.org/packages/4f/e6/2e18efb23a230bd39b0b8e1f69b426970f0584d0e5ac061627581dece841/collective.xdv-1.0rc5.zip",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.0rc6": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "bd49ac52b1433dbb6179ff131c08b3a829c3e9769e7d05625d6b068e5c26eaa9",
          "md5": "6539da96aeb6925a898dcbe075b9ce0d",
          "sha256": "66190d64d59b9d9f4a0cc60ef2425aa4f9a1f906cddb486176799660ec9a235b"
        },
        "downloads": -1,
        "filename": "collective.xdv-1.0rc6.tar.gz",
        "has_sig": false,
        "md5_digest": "6539da96aeb6925a898dcbe075b9ce0d",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 40678,
        "upload_time": "2010-05-21T21:07:20",
        "upload_time_iso_8601": "2010-05-21T21:07:20.682118Z",
        "url": "https://files.pythonhosted.org/packages/bd/49/ac52b1433dbb6179ff131c08b3a829c3e9769e7d05625d6b068e5c26eaa9/collective.xdv-1.0rc6.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.0rc7": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "7719306c1318cc4d7be88f02180b42b07c2956da931d80450fab68e36e2b165a",
          "md5": "e776be2fff8c6539fbc018e73e784fbd",
          "sha256": "bd644b0fafcd2a8e20401e82384f427d9d8337680115cd5cfeaa40646153bc1a"
        },
        "downloads": -1,
        "filename": "collective.xdv-1.0rc7.tar.gz",
        "has_sig": false,
        "md5_digest": "e776be2fff8c6539fbc018e73e784fbd",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 42090,
        "upload_time": "2010-05-23T23:42:56",
        "upload_time_iso_8601": "2010-05-23T23:42:56.124922Z",
        "url": "https://files.pythonhosted.org/packages/77/19/306c1318cc4d7be88f02180b42b07c2956da931d80450fab68e36e2b165a/collective.xdv-1.0rc7.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.0rc8": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "00d863a72a887adba2a7db70afbe955a1489a32b19b9cc136f1d49ffe720f140",
          "md5": "36941c5ad5cb493a999c6785c2289530",
          "sha256": "730da2ead58552c3ac868ce86734b3c61fd4d6ad4df616249b8772790effeb7a"
        },
        "downloads": -1,
        "filename": "collective.xdv-1.0rc8.tar.gz",
        "has_sig": false,
        "md5_digest": "36941c5ad5cb493a999c6785c2289530",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 43445,
        "upload_time": "2010-05-24T02:16:14",
        "upload_time_iso_8601": "2010-05-24T02:16:14.134787Z",
        "url": "https://files.pythonhosted.org/packages/00/d8/63a72a887adba2a7db70afbe955a1489a32b19b9cc136f1d49ffe720f140/collective.xdv-1.0rc8.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.0rc9": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "323b8766d69b660ce5b3cfcf9e977b0676b6fb06e9d4e9409c5982f41c923e21",
          "md5": "0e7b37ff2b243aadf131e2f49c9f9ca9",
          "sha256": "70c81529e4e7ab79d0f0574b048efacc069568f95c76824d060d330292500b40"
        },
        "downloads": -1,
        "filename": "collective.xdv-1.0rc9.zip",
        "has_sig": false,
        "md5_digest": "0e7b37ff2b243aadf131e2f49c9f9ca9",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 59354,
        "upload_time": "2010-08-05T04:51:54",
        "upload_time_iso_8601": "2010-08-05T04:51:54.985441Z",
        "url": "https://files.pythonhosted.org/packages/32/3b/8766d69b660ce5b3cfcf9e977b0676b6fb06e9d4e9409c5982f41c923e21/collective.xdv-1.0rc9.zip",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "cc9421781f48cd7f02a7aa4e927d33b26c0d06ca0a0e67021b418ef99b23491d",
        "md5": "5cbd56865ca9335b8d8b4b7fa4c299ce",
        "sha256": "306783ed18862e2c8978e1a71fdbebbaaa013d80549be00a76666272e57c28b9"
      },
      "downloads": -1,
      "filename": "collective.xdv-1.0rc11.zip",
      "has_sig": false,
      "md5_digest": "5cbd56865ca9335b8d8b4b7fa4c299ce",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": null,
      "size": 60346,
      "upload_time": "2010-09-05T19:41:00",
      "upload_time_iso_8601": "2010-09-05T19:41:00.359294Z",
      "url": "https://files.pythonhosted.org/packages/cc/94/21781f48cd7f02a7aa4e927d33b26c0d06ca0a0e67021b418ef99b23491d/collective.xdv-1.0rc11.zip",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}