{
  "info": {
    "author": "Patrick Quinn, Matthew Hanson",
    "author_email": "patrick@patrickquinn.net",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 3 - Alpha",
      "Intended Audience :: Developers",
      "Intended Audience :: Science/Research",
      "License :: OSI Approved :: Apache Software License",
      "Programming Language :: Python :: 3",
      "Programming Language :: Python :: 3 :: Only",
      "Programming Language :: Python :: 3.8"
    ],
    "description": "zarr-eosdis-store\n=================\n\nThe zarr-eosdis-store library allows NASA EOSDIS Collections to be accessed efficiently\nby the `Zarr Python library <https://zarr.readthedocs.io/en/stable/index.html>`_, provided they\nhave a sidecar DMR++ metadata file generated.\n\nInstallation\n============\n\nThis module requires Python 3.8 or greater::\n\n    $ python --version\n    Python 3.8.2\n\nInstall from PyPI::\n\n    $ pip install zarr-eosdis-store\n\nTo install the latest development version::\n\n    $ pip install pip install git+https://github.com/nasa/zarr-eosdis-store.git@main#egg=zarr-eosdis-store\n\nEarthdata Login\n===============\n\nTo access EOSDIS data, you need to sign in with a free NASA Earthdata Login account, which you can obtain at\n`<https://urs.earthdata.nasa.gov/>`_.\n\nOnce you have an account, you will need to add your credentials to your ``~/.netrc`` file::\n\n    machine urs.earthdata.nasa.gov login YOUR_USERNAME password YOUR_PASSWORD\n\nIf you are accessing test data, you will need to use an account from the Earthdata Login test system at\n`<https://uat.urs.earthdata.nasa.gov/>`_ instead, adding a corresponding line to your ``~/.netrc`` file::\n\n    machine uat.urs.earthdata.nasa.gov login YOUR_USERNAME password YOUR_PASSWORD\n\n\nUsage\n=====\n\nTo use the library, simply instantiate ``eosdis_store.EosdisStore`` with the URL to the data file you would\nlike to access, pass it to the Zarr library as you would with any other store, and use the Zarr API as with any\nother read-only Zarr file.  Note: the URL to the data file will typically end with an HDF5 or NetCDF4 extension,\nnot .zarr.\n\n.. code-block:: python\n\n   from eosdis_store import EosdisStore\n   import zarr\n\n   # Assumes you have set up .netrc with your Earthdata Login information\n   f = zarr.open(EosdisStore('https://example.com/your/data/file.nc4'))\n\n   # Read metadata and data from f using the Zarr API\n   print(f['parameter_name'][0:0:0])\n\nIf the data has _FillValue (to flag nodata), scale_factor, or add_offset set (defined in metadata using CF-conventions)\nthey can be retrieved from the parameter attributes.\n\n.. code-block:: python\n\n  import numpy as np\n\n  scale_factor = f['parameter_name].scale_factor\n  add_offset = f['parameter_name].add_offset\n  nodata = f['parameter_name]._FillValue\n\n  arr = f['parameter_name'][] * scale_factor + add_offset\n\n  nodata_locs = np.where(arr == nodata)\n\n\nA better way to handle these is to use XArray. Rather than reading the data immediately when a slice is requested, XArray\ndefers the read until the data is actually accessed. With the Zarr backend to XArray, the scale and offset can be set so that\nwhen the data is accessed it will apply those values. This is more efficient if the data is going to be used in other operations.\n\nThe scale_factor and get_offset will be used if specified in the NetCDF/HDF5 file.\n\n.. code-block:: python\n\n  import xarray\n\n  store = EosdisStore('https://example.com/your/data/file.nc4')\n\n  f = xarray.open_zarr(store)\n\n  # the data is not read yet\n  xa = f['parameter_name'][<slice>]\n\n  # convert to numpy array, data is read\n  arr = xa.values\n\nThe resulting array will have had scale and offset applied, and any element that is equal to the _FillValue attribute will be\nset to numpy `nan`. To use XArray without apply the scale and offset or setting the nodata to `nan`, supply the `mask_and_scale`\nkeyword to xarray.open_zarr to False:\n\n.. code-block:: python\n\n  store = EosdisStore('https://example.com/your/data/file.nc4')\n\n  f = xarray.open_zarr(store, mask_and_scale=False)\n\n\nTechnical Summary\n=================\n\nWe make use of a technique to read NetCDF4 and some HDF5 files that was prototyped by The HDF Group and USGS, described\n`here <https://medium.com/pangeo/cloud-performant-reading-of-netcdf4-hdf5-data-using-the-zarr-library-1a95c5c92314)>`_.\n\nTo allow the technique to work with EOSDIS data, we have extended it and optimized access in the following key ways:\n\n* The ``EosdisStore`` reads a DMR++ file generated by OPeNDAP to present its metadata and determine byte offsets to the\n  Zarr library. By reusing these, we avoid needing to generate new metadata sidecar files to support new data.\n\n* The store uses HTTPS and authenticates with a ``.netrc`` entry, rather than the S3 API, making it compatible with\n  EOSDIS access patterns and requirements\n\n* The store caches redirect URLs for a period of time set by the Cache-Control header.  Doing this avoids the overhead\n  of repeated redirects when accessing parts of files.\n\n* The store uses a parallel API that allows it to make more efficient access optimizations:\n*\n  * When the Zarr library accesses data that requires reading multiple near-sequential bytes in the file, the store combines\n    these smaller requests into a single larger request.\n\n  * After an initial request to cache any authentication and redirect information, the store runs subsequent requests in\n    parallel.\n\nDevelopment\n===========\n\nClone the repository, then ``pip install`` its dependencies::\n\n    pip install -r requirements.txt\n    pip install -r requirements-dev.txt\n\nTo check code coverage and run tests::\n\n    coverage run -m pytest\n\nTo check coding style::\n\n    flake8 . --count --select=E9,F63,F7,F82 --show-source --statistics\n\nTo build documentation, generated at ``docs/_build/html/index.html``::\n\n    cd docs && make html\n\n\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/nasa/zarr-eosdis-store",
    "keywords": "",
    "license": "",
    "maintainer": "",
    "maintainer_email": "",
    "name": "zarr-eosdis-store",
    "package_url": "https://pypi.org/project/zarr-eosdis-store/",
    "platform": "",
    "project_url": "https://pypi.org/project/zarr-eosdis-store/",
    "project_urls": {
      "Homepage": "https://github.com/nasa/zarr-eosdis-store"
    },
    "release_url": "https://pypi.org/project/zarr-eosdis-store/0.1.3/",
    "requires_dist": [
      "CacheControl (>=0.12.6)",
      "requests (>=2.23.0)",
      "requests-futures (>=1.0.0)",
      "zarr (>=2.7.1)",
      "ipypb (~=0.5)",
      "xarray (~=0.16)",
      "numcodecs (>=0.8.1)",
      "setuptools (>=21.0.0) ; extra == 'dev'",
      "pytest (~=5.4) ; extra == 'dev'",
      "flake8 (~=3.8) ; extra == 'dev'",
      "safety (>=1.8.5) ; extra == 'dev'",
      "coverage (>=4.5.4) ; extra == 'dev'",
      "pygments (~=2.9) ; extra == 'dev'",
      "sphinx (>=3.2.1) ; extra == 'dev'",
      "sphinx-rtd-theme (>=0.5.0) ; extra == 'dev'",
      "recommonmark (>=0.7.1) ; extra == 'dev'"
    ],
    "requires_python": ">=3.8",
    "summary": "Zarr Store class for working with EOSDIS cloud data",
    "version": "0.1.3",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 11153489,
  "releases": {
    "0.0.2": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "586fe3336d828e43607103fa017f303df568ce05e2da0756e1717efb0443fda6",
          "md5": "4da5a9fc62683df0e4b6fad5238c0d6d",
          "sha256": "d288928e4cefae1a17fd5bef1ca87a39c05aba0e0cb515ae909f674276075ac5"
        },
        "downloads": -1,
        "filename": "zarr_eosdis_store-0.0.2-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "4da5a9fc62683df0e4b6fad5238c0d6d",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.8",
        "size": 14239,
        "upload_time": "2021-04-16T14:54:54",
        "upload_time_iso_8601": "2021-04-16T14:54:54.825642Z",
        "url": "https://files.pythonhosted.org/packages/58/6f/e3336d828e43607103fa017f303df568ce05e2da0756e1717efb0443fda6/zarr_eosdis_store-0.0.2-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "2e44cf38072f57b87380e07a57657048d19b4e898e39c5787a16b2f7bf42a43b",
          "md5": "36f24ef9471463caa68e6e8291a9bf23",
          "sha256": "b67fb1a2754188e9c671dd858940466577228b57093f5281c7812e899461d6d8"
        },
        "downloads": -1,
        "filename": "zarr-eosdis-store-0.0.2.tar.gz",
        "has_sig": false,
        "md5_digest": "36f24ef9471463caa68e6e8291a9bf23",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.8",
        "size": 16250,
        "upload_time": "2021-04-16T14:54:55",
        "upload_time_iso_8601": "2021-04-16T14:54:55.829197Z",
        "url": "https://files.pythonhosted.org/packages/2e/44/cf38072f57b87380e07a57657048d19b4e898e39c5787a16b2f7bf42a43b/zarr-eosdis-store-0.0.2.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.1.2": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "266580ae0a45db23a5d513c394a589ddc44118b9fd871a3e9e8e957724cc4323",
          "md5": "babe8f70aa2a988cacc48dd93737cc38",
          "sha256": "59b70a51dc5a9d48bae5add9d9542a0d023257dae1e7d1c93ec3073cbfa0bad2"
        },
        "downloads": -1,
        "filename": "zarr_eosdis_store-0.1.2-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "babe8f70aa2a988cacc48dd93737cc38",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.8",
        "size": 14086,
        "upload_time": "2021-07-16T21:41:21",
        "upload_time_iso_8601": "2021-07-16T21:41:21.290269Z",
        "url": "https://files.pythonhosted.org/packages/26/65/80ae0a45db23a5d513c394a589ddc44118b9fd871a3e9e8e957724cc4323/zarr_eosdis_store-0.1.2-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "aa8c79961431d8c542f0eb8a8c9c9d55728292982b0cb9b42a8140c17ae6e42d",
          "md5": "16660616d716b6effadb9000712e2481",
          "sha256": "118f2c5136cf906663e9c8e96fd37b21e6abffa37a5528ca549de74fde9d36a0"
        },
        "downloads": -1,
        "filename": "zarr-eosdis-store-0.1.2.tar.gz",
        "has_sig": false,
        "md5_digest": "16660616d716b6effadb9000712e2481",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.8",
        "size": 15741,
        "upload_time": "2021-07-16T21:41:22",
        "upload_time_iso_8601": "2021-07-16T21:41:22.269755Z",
        "url": "https://files.pythonhosted.org/packages/aa/8c/79961431d8c542f0eb8a8c9c9d55728292982b0cb9b42a8140c17ae6e42d/zarr-eosdis-store-0.1.2.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.1.3": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "ceec25b66b9192ba97430e101184baf9dd8ccb7562263acd41d088ad7adf7e85",
          "md5": "d34b47ccfabb1d0ba727dee095c3e427",
          "sha256": "a6d659e328cd0b2add9d5feb78d7510edadfbe6efebaffcb45f5a29edb007d41"
        },
        "downloads": -1,
        "filename": "zarr_eosdis_store-0.1.3-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "d34b47ccfabb1d0ba727dee095c3e427",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.8",
        "size": 14095,
        "upload_time": "2021-08-11T20:07:52",
        "upload_time_iso_8601": "2021-08-11T20:07:52.622375Z",
        "url": "https://files.pythonhosted.org/packages/ce/ec/25b66b9192ba97430e101184baf9dd8ccb7562263acd41d088ad7adf7e85/zarr_eosdis_store-0.1.3-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "4e756715a5481a78b3de2305fd4cf609c9650e8b461ec6a07528761d313a2057",
          "md5": "49286fe669de6ea39ebe335a4d6566cb",
          "sha256": "04fae6266a5cdc993cedb9db36271b6a43bfdd503ae540d52019cc41160e32f9"
        },
        "downloads": -1,
        "filename": "zarr-eosdis-store-0.1.3.tar.gz",
        "has_sig": false,
        "md5_digest": "49286fe669de6ea39ebe335a4d6566cb",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.8",
        "size": 15762,
        "upload_time": "2021-08-11T20:07:54",
        "upload_time_iso_8601": "2021-08-11T20:07:54.120093Z",
        "url": "https://files.pythonhosted.org/packages/4e/75/6715a5481a78b3de2305fd4cf609c9650e8b461ec6a07528761d313a2057/zarr-eosdis-store-0.1.3.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "ceec25b66b9192ba97430e101184baf9dd8ccb7562263acd41d088ad7adf7e85",
        "md5": "d34b47ccfabb1d0ba727dee095c3e427",
        "sha256": "a6d659e328cd0b2add9d5feb78d7510edadfbe6efebaffcb45f5a29edb007d41"
      },
      "downloads": -1,
      "filename": "zarr_eosdis_store-0.1.3-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "d34b47ccfabb1d0ba727dee095c3e427",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": ">=3.8",
      "size": 14095,
      "upload_time": "2021-08-11T20:07:52",
      "upload_time_iso_8601": "2021-08-11T20:07:52.622375Z",
      "url": "https://files.pythonhosted.org/packages/ce/ec/25b66b9192ba97430e101184baf9dd8ccb7562263acd41d088ad7adf7e85/zarr_eosdis_store-0.1.3-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "4e756715a5481a78b3de2305fd4cf609c9650e8b461ec6a07528761d313a2057",
        "md5": "49286fe669de6ea39ebe335a4d6566cb",
        "sha256": "04fae6266a5cdc993cedb9db36271b6a43bfdd503ae540d52019cc41160e32f9"
      },
      "downloads": -1,
      "filename": "zarr-eosdis-store-0.1.3.tar.gz",
      "has_sig": false,
      "md5_digest": "49286fe669de6ea39ebe335a4d6566cb",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": ">=3.8",
      "size": 15762,
      "upload_time": "2021-08-11T20:07:54",
      "upload_time_iso_8601": "2021-08-11T20:07:54.120093Z",
      "url": "https://files.pythonhosted.org/packages/4e/75/6715a5481a78b3de2305fd4cf609c9650e8b461ec6a07528761d313a2057/zarr-eosdis-store-0.1.3.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}