{
  "info": {
    "author": "João Nogueira",
    "author_email": "joao.nogueira@datarisk.io",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 4 - Beta",
      "Intended Audience :: Developers",
      "License :: OSI Approved :: Apache Software License",
      "Natural Language :: English",
      "Programming Language :: Python :: 3.10",
      "Programming Language :: Python :: 3.7",
      "Programming Language :: Python :: 3.8",
      "Programming Language :: Python :: 3.9"
    ],
    "description": "neoscr\n================\n\n<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->\n\n## Install\n\n``` sh\npip install neoscr\n```\n\n## How to use\n\nFill me in please! Don’t forget code examples:\n\n``` python\nfrom neoscr.core import ConsultaSCR\n```\n\n``` python\nimport os\n\nscr = ConsultaSCR(\n    user=os.environ[\"SCR_USER\"],\n    password=os.environ[\"SCR_PASSWORD\"],\n    code=os.environ[\"SCR_CODE\"],\n    api_key=os.environ[\"SCR_API_KEY\"]\n)\n```\n\n``` python\ncpf = \"000.000.000-00\"\nano_mes = \"12_2022\"\n\n# retorna dois dataframes\ndf_cpf_traduzido, df_cpf_modalidade = scr.get_cpf_data(cpf, ano_mes)\n```\n\n``` python\ncnpj = \"00.000.000/0001-00\"\nano_mes = \"12_2022\"\n\n# retorna dois dataframes\ndf_cnpj_traduzido, df_cnpj_modalidade = scr.get_cnpj_data(cnpj, ano_mes)\n```\n\n# CLI Interface\n\nThere is also a CLI interface to query SCR api from the command line.\n\n``` sh\nneoscr $SCR_USER $SCR_PASSWORD $SCR_CODE $SCR_API_KEY 000.000.000-00 12_2022 \n```\n\n# Batch Query\n\nExecute the code below to query a list of cpfs or cnpjs (under\nmodification) and download the data\n\n``` python\nimport os\nimport logging\nimport pandas as pd\nfrom tqdm import tqdm\n\nfrom neoscr.utils import let_only_digits\n\n# carregando a lista de cpfs\ndf = pd.read_csv(\"dataset.csv\")\nlista_de_cpfs = df['cpf'].tolist()\n\n# instanciando o objeto ConsultaSCR\nscr = ConsultaSCR(\n    user=os.environ[\"SCR_USER\"],\n    password=os.environ[\"SCR_PASSWORD\"],\n    code=os.environ[\"SCR_CODE\"],\n    api_key=os.environ[\"SCR_API_KEY\"]\n)\n\n# instanciando o objeto logger\nlogger = logging.getLogger('database_updater')\nlogger.setLevel(logging.DEBUG)\n\n# criando o file handler\nfile_handler = logging.FileHandler('querylog.log')\nfile_handler.setLevel(logging.DEBUG)\n\n# adicionando o file handler ao logger\nlogger.addHandler(file_handler)\n\n# iterando sobre a lista de cpfs e enriquecendo\nano_mes = \"12_2022\"\nfor cpf in tqdm(lista_de_cpfs):\n    try:\n        df_traduzido, df_modalidade = scr.get_cpf_data(cpf, ano_mes)                               \n        cpf_only_digits = let_only_digits(cpf)\n        df_traduzido.to_csv(f\"data/scr/raw/{cpf_only_digits}_traduzido.csv\", index=False)\n        df_modalidade.to_csv(f\"data/scr/raw/{cpf_only_digits}_modalidade.csv\", index=False)\n    except:\n        logger.error(f\"Erro no CPF {cpf}\")\n        continue\n```\n\nAfter download the data, you may want to get all the raw data together\nin one big table:\n\n``` python\n# carregandos os dados de todos os arquivos salvos\ndf_traduzido_full = pd.DataFrame()\nfor file in os.listdir(\"data/scr/raw/\"):\n    if file.endswith(\"_traduzido.csv\"):\n        df_traduzido = pd.read_csv(f\"data/scr/raw/{file}\")\n        df_traduzido_full = pd.concat([df_traduzido_full, df_traduzido])\n\ndf_modalidade_full = pd.DataFrame()\nfor file in os.listdir(\".data/scr/raw\"):\n    if file.endswith(\"_modalidade.csv\"):\n        df_modalidade = pd.read_csv(f\"data/scr/raw/{file}\")\n        df_modalidade_full = pd.concat([df_modalidade_full, df_modalidade])\n```\n\n\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/datarisk-io/neoscr",
    "keywords": "nbdev jupyter notebook python",
    "license": "Apache Software License 2.0",
    "maintainer": "",
    "maintainer_email": "",
    "name": "neoscr",
    "package_url": "https://pypi.org/project/neoscr/",
    "platform": null,
    "project_url": "https://pypi.org/project/neoscr/",
    "project_urls": {
      "Homepage": "https://github.com/datarisk-io/neoscr"
    },
    "release_url": "https://pypi.org/project/neoscr/1.0.0/",
    "requires_dist": [
      "fastcore",
      "pandas",
      "requests",
      "nbdev ; extra == 'dev'",
      "jupyter ; extra == 'dev'"
    ],
    "requires_python": ">=3.7",
    "summary": "Wrapper to query the SCR api",
    "version": "1.0.0",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 17308244,
  "releases": {
    "1.0.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "414359d1f7188935a08628d8b385cd1c1596edd9fa1f1528983aa329c719ef88",
          "md5": "2c74d406314ac1aadde5740d38f5eb94",
          "sha256": "e533aed4a8a03ccfd02ea3314ef4edc56f14ab1eb7a40424260144fc261d0f4a"
        },
        "downloads": -1,
        "filename": "neoscr-1.0.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "2c74d406314ac1aadde5740d38f5eb94",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.7",
        "size": 10415,
        "upload_time": "2023-03-10T22:27:56",
        "upload_time_iso_8601": "2023-03-10T22:27:56.871400Z",
        "url": "https://files.pythonhosted.org/packages/41/43/59d1f7188935a08628d8b385cd1c1596edd9fa1f1528983aa329c719ef88/neoscr-1.0.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "298c17e4b5559e673f4e0e9ce78c55650256274695e5f7512d6ca86dfa36d8b9",
          "md5": "1448643f7046d1279fd2d1c8eb269101",
          "sha256": "033885a70a54664a4955078ce7ce2f5ca708f769c537be588ff15805b9e8c5b1"
        },
        "downloads": -1,
        "filename": "neoscr-1.0.0.tar.gz",
        "has_sig": false,
        "md5_digest": "1448643f7046d1279fd2d1c8eb269101",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.7",
        "size": 10347,
        "upload_time": "2023-03-10T22:27:59",
        "upload_time_iso_8601": "2023-03-10T22:27:59.485044Z",
        "url": "https://files.pythonhosted.org/packages/29/8c/17e4b5559e673f4e0e9ce78c55650256274695e5f7512d6ca86dfa36d8b9/neoscr-1.0.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "414359d1f7188935a08628d8b385cd1c1596edd9fa1f1528983aa329c719ef88",
        "md5": "2c74d406314ac1aadde5740d38f5eb94",
        "sha256": "e533aed4a8a03ccfd02ea3314ef4edc56f14ab1eb7a40424260144fc261d0f4a"
      },
      "downloads": -1,
      "filename": "neoscr-1.0.0-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "2c74d406314ac1aadde5740d38f5eb94",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": ">=3.7",
      "size": 10415,
      "upload_time": "2023-03-10T22:27:56",
      "upload_time_iso_8601": "2023-03-10T22:27:56.871400Z",
      "url": "https://files.pythonhosted.org/packages/41/43/59d1f7188935a08628d8b385cd1c1596edd9fa1f1528983aa329c719ef88/neoscr-1.0.0-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "298c17e4b5559e673f4e0e9ce78c55650256274695e5f7512d6ca86dfa36d8b9",
        "md5": "1448643f7046d1279fd2d1c8eb269101",
        "sha256": "033885a70a54664a4955078ce7ce2f5ca708f769c537be588ff15805b9e8c5b1"
      },
      "downloads": -1,
      "filename": "neoscr-1.0.0.tar.gz",
      "has_sig": false,
      "md5_digest": "1448643f7046d1279fd2d1c8eb269101",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": ">=3.7",
      "size": 10347,
      "upload_time": "2023-03-10T22:27:59",
      "upload_time_iso_8601": "2023-03-10T22:27:59.485044Z",
      "url": "https://files.pythonhosted.org/packages/29/8c/17e4b5559e673f4e0e9ce78c55650256274695e5f7512d6ca86dfa36d8b9/neoscr-1.0.0.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}