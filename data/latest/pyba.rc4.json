{
  "info": {
    "author": "Semih GÃ¼nel",
    "author_email": "",
    "bugtrack_url": null,
    "classifiers": [],
    "description": "# Python Bundle Adjustment\n\n- Load the data.\n```python\nfrom pyba.CameraNetwork import CameraNetwork\nimport pickle\nimport glob\nimport numpy as np\n\nimage_path = './data/test/camera_{cam_id}_img_00000{img_id}.jpg'\npr_path = './data/test/df3d_2/pose_result*.pkl'\n\nd = pickle.load(open(glob.glob(pr_path)[0], 'rb'))\ncamNet = CameraNetwork(points2d=d['points2d'], calib=d, image_path=image_path)\n```\n\npoints2d is a numpy array with shape T x J x 2. \nAll units are in pixels. calib is a nested dictionary where keys are camera id's, indexed starting from 0 up to n_cameras-1. \nvalues are another sets of dictionaries with keys  \"R\", \"tvec\", \"intr\", \"distort\" \n\n```python\ncalib = {0: {'R': array([[ 0.90885957,  0.006461  , -0.41705219],\n         [ 0.01010426,  0.99924554,  0.03750006],\n         [ 0.41697983, -0.0382963 ,  0.90810859]]),\n  'tvec': array([1.65191596e+00, 2.22582670e-02, 1.18353733e+02]),\n  'intr': array([[1.60410e+04, 0.00000e+00, 2.40000e+02],\n         [0.00000e+00, 1.59717e+04, 4.80000e+02],\n         [0.00000e+00, 0.00000e+00, 1.00000e+00]]),\n  'distort': array([0., 0., 0., 0., 0.])},\n 1: {'R': array([[ 0.59137248,  0.02689833, -0.80594979],\n         [-0.00894927,  0.9996009 ,  0.02679478],\n         [ 0.80634887, -0.00863303,  0.59137718]]),\n  'tvec': array([ 1.02706542e+00, -9.25820468e-02,  1.18251732e+02]),\n  'intr': array([[1.60410e+04, 0.00000e+00, 2.40000e+02],\n         [0.00000e+00, 1.59717e+04, 4.80000e+02],\n         [0.00000e+00, 0.00000e+00, 1.00000e+00]]),\n  'distort': array([0., 0., 0., 0., 0.])},\n}\n```\n\n\n- Visualize the 2d pose.\n```python\nimport matplotlib.pyplot as plt\nimg = camNet.plot_2d(0, points='points2d')\nplt.figure(figsize=(20,20))\nplt.imshow(img, cmap='gray')\nplt.axis('off')\n```\n\n![image](https://user-images.githubusercontent.com/20509861/146374004-6ae50ba5-67b8-4326-a115-9901e102df6d.png)\n\n\n- Do the bundle adjustment.\n```python\nfrom pyba.pyba import bundle_adjust \nbundle_adjust(camNet)\n```\n\n```\n   Iteration     Total nfev        Cost      Cost reduction    Step norm     Optimality   \n       0              1         7.1659e+05                                    7.27e+05    \n       1              2         2.9376e+05      4.23e+05       1.08e+01       3.12e+05    \n       2              4         2.6084e+05      3.29e+04       2.39e+00       1.85e+05    \n       3              5         2.4676e+05      1.41e+04       3.04e+00       2.20e+04    \n       4              7         2.4604e+05      7.20e+02       1.32e+00       1.75e+04    \n       5              8         2.4579e+05      2.53e+02       2.67e+00       2.86e+04    \n       6              9         2.4487e+05      9.20e+02       2.53e+00       2.18e+04    \n       7             10         2.4472e+05      1.43e+02       2.48e+00       2.02e+04    \n       8             11         2.4441e+05      3.18e+02       6.71e-01       1.77e+03    \n       9             12         2.4440e+05      9.43e+00       6.78e-01       2.13e+03    \n`ftol` termination condition is satisfied.\nFunction evaluations 12, initial cost 7.1659e+05, final cost 2.4440e+05, first-order optimality 2.13e+03.\n```\n\n\n- Visualize the resulting camera rig.\n```python\nfig = plt.figure(figsize=(10,10))\nax3d = fig.add_subplot(111, projection='3d')\n\ncamNet.draw(ax3d, size=20)\ncamNet.plot_3d(ax3d, img_id=0, size=10)\n```\n\n<img src=\"https://user-images.githubusercontent.com/20509861/146374042-1a3a65d2-310d-4783-b6d0-6864c582959f.png\" width=\"500\">\n\n\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/semihgunel/PyBundleAdjustment",
    "keywords": "",
    "license": "",
    "maintainer": "",
    "maintainer_email": "",
    "name": "pyba",
    "package_url": "https://pypi.org/project/pyba/",
    "platform": "",
    "project_url": "https://pypi.org/project/pyba/",
    "project_urls": {
      "Homepage": "https://github.com/semihgunel/PyBundleAdjustment"
    },
    "release_url": "https://pypi.org/project/pyba/0.13/",
    "requires_dist": null,
    "requires_python": "",
    "summary": "Python Bundle Adjustment Routines",
    "version": "0.13",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 12654471,
  "releases": {
    "0.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "679025968130f5f1c907041ae8ba053871df80771117a65e1a64cd2f97b87d3e",
          "md5": "00e2ca3d7282613ba3eaf96e6624c188",
          "sha256": "dfefaa4100c84e5de15bba83e5b7b0355362521a9da8c79c4506e8c7f09b29b0"
        },
        "downloads": -1,
        "filename": "pyba-0.1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "00e2ca3d7282613ba3eaf96e6624c188",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 9130,
        "upload_time": "2021-12-20T14:46:26",
        "upload_time_iso_8601": "2021-12-20T14:46:26.360478Z",
        "url": "https://files.pythonhosted.org/packages/67/90/25968130f5f1c907041ae8ba053871df80771117a65e1a64cd2f97b87d3e/pyba-0.1-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "7627043155c8b41a4fd7ef0d5d40a5535aa8648615b6a8895e55e2a9aa18381b",
          "md5": "0a9e3ae71699630c1c585277055a4532",
          "sha256": "47d5881e5f7ac367b79f60de586fa71c4f98f027381f206145c1e2557c743252"
        },
        "downloads": -1,
        "filename": "pyba-0.1.tar.gz",
        "has_sig": false,
        "md5_digest": "0a9e3ae71699630c1c585277055a4532",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 7342,
        "upload_time": "2021-12-20T14:46:27",
        "upload_time_iso_8601": "2021-12-20T14:46:27.895844Z",
        "url": "https://files.pythonhosted.org/packages/76/27/043155c8b41a4fd7ef0d5d40a5535aa8648615b6a8895e55e2a9aa18381b/pyba-0.1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.11": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "286cf8a616fdeb2485cf39f29e5faee4d441d5fbc750623a4f13c71c7eda9638",
          "md5": "8c27d98cbf69945efa5398d5f37f5c89",
          "sha256": "b86ef0cc5722111b8246edeca625eac5d9b4726760f9730df0e2773afa6d5912"
        },
        "downloads": -1,
        "filename": "pyba-0.11-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "8c27d98cbf69945efa5398d5f37f5c89",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 9040,
        "upload_time": "2021-12-20T15:37:40",
        "upload_time_iso_8601": "2021-12-20T15:37:40.927635Z",
        "url": "https://files.pythonhosted.org/packages/28/6c/f8a616fdeb2485cf39f29e5faee4d441d5fbc750623a4f13c71c7eda9638/pyba-0.11-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "f9ea82a715f4c4d885fce4280ec5711b421c7d27928819aac7c8435551c144f9",
          "md5": "f048d103b02c287f1a652ffc76d9eefd",
          "sha256": "1d4aed6526db70b550f53757813e98c9c9716bcbe02a9403f85d5096d7b91c04"
        },
        "downloads": -1,
        "filename": "pyba-0.11.tar.gz",
        "has_sig": false,
        "md5_digest": "f048d103b02c287f1a652ffc76d9eefd",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 7246,
        "upload_time": "2021-12-20T15:37:42",
        "upload_time_iso_8601": "2021-12-20T15:37:42.315933Z",
        "url": "https://files.pythonhosted.org/packages/f9/ea/82a715f4c4d885fce4280ec5711b421c7d27928819aac7c8435551c144f9/pyba-0.11.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.12": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "5045b30ca1462599d6618c5078eadca5711cedcbab71e22e8d235e726b67f2e8",
          "md5": "491dde85426c5919041dd37f3499ffec",
          "sha256": "3f03a0256ecd537ebd0306b817b551c15a95b756e4fdb315e3f430e8cc137dee"
        },
        "downloads": -1,
        "filename": "pyba-0.12-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "491dde85426c5919041dd37f3499ffec",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 10050,
        "upload_time": "2022-01-20T09:23:15",
        "upload_time_iso_8601": "2022-01-20T09:23:15.985464Z",
        "url": "https://files.pythonhosted.org/packages/50/45/b30ca1462599d6618c5078eadca5711cedcbab71e22e8d235e726b67f2e8/pyba-0.12-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "0697a7360eeca6f8eb5b5ea3255ec1ff9fa06ade34b6863abfddb4d8b23d1a8b",
          "md5": "48f0cfe9db2b297b3b6a5e21cb6739f5",
          "sha256": "c9a2fcef80c6272d8368fd480a318739fc2a2a24eb7b7adbabfe740da41705fd"
        },
        "downloads": -1,
        "filename": "pyba-0.12.tar.gz",
        "has_sig": false,
        "md5_digest": "48f0cfe9db2b297b3b6a5e21cb6739f5",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 8070,
        "upload_time": "2022-01-20T09:23:17",
        "upload_time_iso_8601": "2022-01-20T09:23:17.766334Z",
        "url": "https://files.pythonhosted.org/packages/06/97/a7360eeca6f8eb5b5ea3255ec1ff9fa06ade34b6863abfddb4d8b23d1a8b/pyba-0.12.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.13": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "018c951dbbdee8e94e520220d04391252d70fc6de687f2324f182d6cd771919e",
          "md5": "ff13186fbcf1540b502d84ebe17b629f",
          "sha256": "ce971765e50f2fc3204343178ad4a9b366f308b0fd62efdb2ec7d2e09006bb72"
        },
        "downloads": -1,
        "filename": "pyba-0.13-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "ff13186fbcf1540b502d84ebe17b629f",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 10124,
        "upload_time": "2022-01-22T18:05:40",
        "upload_time_iso_8601": "2022-01-22T18:05:40.665001Z",
        "url": "https://files.pythonhosted.org/packages/01/8c/951dbbdee8e94e520220d04391252d70fc6de687f2324f182d6cd771919e/pyba-0.13-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "c295b9ed91dab572bed7269b5d6703dcddea1bcbf77d2e46fa57559fbb9f9b70",
          "md5": "d8684216e9ee205923b68569a174d374",
          "sha256": "584723371e2916eba014db9886964f652c84b6b2ce82084556752c1fead5c853"
        },
        "downloads": -1,
        "filename": "pyba-0.13.tar.gz",
        "has_sig": false,
        "md5_digest": "d8684216e9ee205923b68569a174d374",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 8975,
        "upload_time": "2022-01-22T18:05:42",
        "upload_time_iso_8601": "2022-01-22T18:05:42.727271Z",
        "url": "https://files.pythonhosted.org/packages/c2/95/b9ed91dab572bed7269b5d6703dcddea1bcbf77d2e46fa57559fbb9f9b70/pyba-0.13.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "018c951dbbdee8e94e520220d04391252d70fc6de687f2324f182d6cd771919e",
        "md5": "ff13186fbcf1540b502d84ebe17b629f",
        "sha256": "ce971765e50f2fc3204343178ad4a9b366f308b0fd62efdb2ec7d2e09006bb72"
      },
      "downloads": -1,
      "filename": "pyba-0.13-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "ff13186fbcf1540b502d84ebe17b629f",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": null,
      "size": 10124,
      "upload_time": "2022-01-22T18:05:40",
      "upload_time_iso_8601": "2022-01-22T18:05:40.665001Z",
      "url": "https://files.pythonhosted.org/packages/01/8c/951dbbdee8e94e520220d04391252d70fc6de687f2324f182d6cd771919e/pyba-0.13-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "c295b9ed91dab572bed7269b5d6703dcddea1bcbf77d2e46fa57559fbb9f9b70",
        "md5": "d8684216e9ee205923b68569a174d374",
        "sha256": "584723371e2916eba014db9886964f652c84b6b2ce82084556752c1fead5c853"
      },
      "downloads": -1,
      "filename": "pyba-0.13.tar.gz",
      "has_sig": false,
      "md5_digest": "d8684216e9ee205923b68569a174d374",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": null,
      "size": 8975,
      "upload_time": "2022-01-22T18:05:42",
      "upload_time_iso_8601": "2022-01-22T18:05:42.727271Z",
      "url": "https://files.pythonhosted.org/packages/c2/95/b9ed91dab572bed7269b5d6703dcddea1bcbf77d2e46fa57559fbb9f9b70/pyba-0.13.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}