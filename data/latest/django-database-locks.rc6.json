{
  "info": {
    "author": "Filipe Pina",
    "author_email": "fopina@gmail.com",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 5 - Production/Stable",
      "Environment :: Web Environment",
      "Framework :: Django",
      "Framework :: Django :: 2.2",
      "Framework :: Django :: 3.0",
      "Intended Audience :: Developers",
      "License :: OSI Approved :: BSD License",
      "Operating System :: OS Independent",
      "Programming Language :: Python",
      "Programming Language :: Python :: 3",
      "Programming Language :: Python :: 3 :: Only",
      "Programming Language :: Python :: 3.6",
      "Programming Language :: Python :: 3.7",
      "Programming Language :: Python :: 3.8",
      "Topic :: Software Development :: Libraries :: Python Modules"
    ],
    "description": "=====================\ndjango-database-locks\n=====================\n\n.. image:: https://github.com/fopina/django-database-locks/workflows/tests/badge.svg\n    :target: https://github.com/fopina/django-database-locks/actions?query=workflow%3Atests\n    :alt: tests\n\n.. image:: https://codecov.io/gh/fopina/django-database-locks/branch/master/graph/badge.svg\n   :target: https://codecov.io/gh/fopina/django-database-locks\n   :alt: Test coverage status\n\n.. image:: https://img.shields.io/pypi/v/django-database-locks\n    :target: https://pypi.org/project/django-database-locks/\n    :alt: Current version on PyPi\n\n.. image:: https://img.shields.io/pypi/dm/django-database-locks\n    :target: https://pypi.org/project/django-database-locks/\n    :alt: monthly downloads\n\n.. image:: https://img.shields.io/pypi/pyversions/django-database-locks\n    :alt: PyPI - Python Version\n\n.. image:: https://img.shields.io/pypi/djversions/django-database-locks\n    :alt: PyPI - Django Version\n\nDistributed locks for Django using DB (MySQL/Postgres)\n\nGiven the limitation that Percona Cluster does not support MySQL locks, this app implements locks using `select_for_update()` (row locks).\n\nInstallation\n------------\n\n    pip install django-database-locks\n\n\nUsage\n-----\n\n`django-database-locks` exposes one single the `lock` contextmanager and the `locked` decorator.\n\nThe `locked` decorator will wrap a django management command (subclasses of `django.core.management.base.BaseCommand`) or any function with the `lock` contextmanager:\n\n\n.. code-block:: python\n\n    from django.core.management.base import BaseCommand\n\n    from database_locks import locked\n\n    @locked\n    class Command(BaseCommand):\n        ...\n        def handle(self, *args, **options):\n            self.stdout.write('Got the lock')\n\n\n.. code-block:: python\n\n    from database_locks import locked\n\n    class SomeClass:\n      def non_locked(self):\n        pass\n\n      @locked\n      def locked(self):\n        print('got lock')\n\n.. code-block:: python\n\n    from database_locks import lock\n\n    class SomeClass:\n      def non_locked(self):\n        pass\n\n      def locked(self):\n        with lock():\n            print('got lock')\n\nDocs\n----\n\nBoth `lock` and `locked` have the same optional args:\n\n.. code-block:: python\n\n    :param lock_name: unique name in DB for this function\n    :param timeout: numbers of seconds to wait to acquire lock\n    :param lock_ttl: expiration timer of the lock, in seconds (set to None to infinite)\n    :param locked_by: owner id for the lock (if lock is active but owner is the same, returns acquired)\n    :param auto_renew: if set to True will re-acquire lock (for `lock_ttl` seconds) before `lock_ttl` is over.\n                       auto_renew thread will raise KeyboardInterrupt on the main thread in case re-acquiring fails\n    :param retry: retry every `retry` seconds acquiring until successful. set to None or 0 to disable.\n    :param lost_lock_cb: callback function when lock is lost (when re-acquiring). defaults to raising LockException\n\nThere are also the following options you can specify in the project `settings.py`\n\n- *DATABASE_LOCKS_STATUS_FILE*: file that will be updated with the lock status (default `None`). Useful when you have multiple shared-lock processes, to quickly inspect which one has the lock.\n- *DATABASE_LOCKS_ENABLED*: set to `False` to globally disable locks (default `True`)\n- *DATABASE_LOCKS_DEFAULT_TTL*: global lock TTL value (default `10`) which is ignored when `lock_ttl` is specified\n- *DATABASE_LOCKS_DEFAULT_TTL_RENEW*: number of seconds to renew lock before TTL expires (default `2`)\n\n\nTesting\n-------\n\nTox is used by the Github Action to test several python and django versions, with both MySQL and Postgres.\n\nTo quickly test locally, kick off a MySQL and/or Postgres docker container:\n\n\n    docker run -d --name locks-test \\\n               -p 8877:3306 \\\n               -e MYSQL_ROOT_PASSWORD=root \\\n               mysql:5.7\n\n    docker run -d --name locks-test-psql \\\n               -p 8878:5432 \\\n               -e POSTGRES_PASSWORD=postgres \\\n               postgres:10\n\n\nList available environments with `tox -l` and then run the one you want/have:\n\n    tox -e py39-dj32-mysql\n    # or\n    tox -e py39-dj32-postgresql -e py39-dj32-mysql\n\n\n",
    "description_content_type": "",
    "docs_url": null,
    "download_url": "https://pypi.org/project/django-database-locks/",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/fopina/django-database-locks",
    "keywords": "",
    "license": "BSD",
    "maintainer": "",
    "maintainer_email": "",
    "name": "django-database-locks",
    "package_url": "https://pypi.org/project/django-database-locks/",
    "platform": "",
    "project_url": "https://pypi.org/project/django-database-locks/",
    "project_urls": {
      "Download": "https://pypi.org/project/django-database-locks/",
      "Homepage": "https://github.com/fopina/django-database-locks"
    },
    "release_url": "https://pypi.org/project/django-database-locks/0.5/",
    "requires_dist": [
      "Django (>=2.2)"
    ],
    "requires_python": ">=3.6",
    "summary": "Distributed locks for Django using DB (MySQL/Postgres).",
    "version": "0.5",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 10349501,
  "releases": {
    "0.1a2": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "a86cdc72e52dfacb1e88f3f15173ea00bb66682bb3d5a48fddb4303ecafd628c",
          "md5": "ff4c5219cb27658aff1e7dd432ede41c",
          "sha256": "3bbc941a342151183b31919223d8835b4ce7676e5558cc73143d1deb0343664a"
        },
        "downloads": -1,
        "filename": "django_database_locks-0.1a2-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "ff4c5219cb27658aff1e7dd432ede41c",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.6",
        "size": 6933,
        "upload_time": "2020-07-10T15:56:32",
        "upload_time_iso_8601": "2020-07-10T15:56:32.234781Z",
        "url": "https://files.pythonhosted.org/packages/a8/6c/dc72e52dfacb1e88f3f15173ea00bb66682bb3d5a48fddb4303ecafd628c/django_database_locks-0.1a2-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "f092f9c6b235d29677805e1dbf1ff318981721738f46a18cecc69cfa974f759a",
          "md5": "5d67f13bdb5b373321aea5a37afe4278",
          "sha256": "dc0a728a869f11c37df26a8bc3f957dd647c65410a6f29c45ec24df33c081f4a"
        },
        "downloads": -1,
        "filename": "django-database-locks-0.1a2.tar.gz",
        "has_sig": false,
        "md5_digest": "5d67f13bdb5b373321aea5a37afe4278",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6",
        "size": 5138,
        "upload_time": "2020-07-10T15:56:34",
        "upload_time_iso_8601": "2020-07-10T15:56:34.469519Z",
        "url": "https://files.pythonhosted.org/packages/f0/92/f9c6b235d29677805e1dbf1ff318981721738f46a18cecc69cfa974f759a/django-database-locks-0.1a2.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.1a5": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "f76ab6012acbaf82ec2d973da490d3481a4f43b13decda2aaf3716aa0e292878",
          "md5": "9872ef92eaaba70c5dd91a15e9554412",
          "sha256": "5d437265763ee901d849231844cd84fcd73eef4223e1e0c7dc1ff8eb500be8a1"
        },
        "downloads": -1,
        "filename": "django_database_locks-0.1a5-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "9872ef92eaaba70c5dd91a15e9554412",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.6",
        "size": 7215,
        "upload_time": "2020-07-10T22:20:53",
        "upload_time_iso_8601": "2020-07-10T22:20:53.115573Z",
        "url": "https://files.pythonhosted.org/packages/f7/6a/b6012acbaf82ec2d973da490d3481a4f43b13decda2aaf3716aa0e292878/django_database_locks-0.1a5-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "004ffd15c9dac9a063afb8d6a6d8300db3b56a5e476da949cb70ea674006efcb",
          "md5": "86218526bba3427821d234aaeb31f7d8",
          "sha256": "dc04a88b0d0d7c377276222aeb7101708009f803323a2f5838d45c67066006c8"
        },
        "downloads": -1,
        "filename": "django-database-locks-0.1a5.tar.gz",
        "has_sig": false,
        "md5_digest": "86218526bba3427821d234aaeb31f7d8",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6",
        "size": 5417,
        "upload_time": "2020-07-10T22:20:54",
        "upload_time_iso_8601": "2020-07-10T22:20:54.071587Z",
        "url": "https://files.pythonhosted.org/packages/00/4f/fd15c9dac9a063afb8d6a6d8300db3b56a5e476da949cb70ea674006efcb/django-database-locks-0.1a5.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.1b1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "cbb6ca3f09f67f3101882eff35a48ec6ff6b1f3f7afa116405e75d5b8bb3542b",
          "md5": "54d4af29be77b96546fa999017826b76",
          "sha256": "2cbf68a7eee3c7230295f56e3a71382eea8358f2cfb64aacedd78825d5177f76"
        },
        "downloads": -1,
        "filename": "django_database_locks-0.1b1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "54d4af29be77b96546fa999017826b76",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.6",
        "size": 7214,
        "upload_time": "2020-07-10T22:29:45",
        "upload_time_iso_8601": "2020-07-10T22:29:45.515308Z",
        "url": "https://files.pythonhosted.org/packages/cb/b6/ca3f09f67f3101882eff35a48ec6ff6b1f3f7afa116405e75d5b8bb3542b/django_database_locks-0.1b1-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "3999004c5da1bf5e22bad0ffbd37d713a2cadfadf9cfe167d979aa4d3b3048b3",
          "md5": "2b2718262f33e1564b4473593e6a826f",
          "sha256": "1e0f44bff644c7ec9a3bd4a97e99c217a58a7886811a0511d6761b991f68bbae"
        },
        "downloads": -1,
        "filename": "django-database-locks-0.1b1.tar.gz",
        "has_sig": false,
        "md5_digest": "2b2718262f33e1564b4473593e6a826f",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6",
        "size": 5417,
        "upload_time": "2020-07-10T22:29:46",
        "upload_time_iso_8601": "2020-07-10T22:29:46.702339Z",
        "url": "https://files.pythonhosted.org/packages/39/99/004c5da1bf5e22bad0ffbd37d713a2cadfadf9cfe167d979aa4d3b3048b3/django-database-locks-0.1b1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.2": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "85442d6fac2e0129b72f2d8d860864d4fd89d0af2c95dfffbf47b9f3b28e7c09",
          "md5": "ce4cfc3dd13d83bae81b227e9aa3209d",
          "sha256": "4f76f9dd7606023ec2481983c53d7ebc07f479af36516da09c44aa0aeeb2a12f"
        },
        "downloads": -1,
        "filename": "django_database_locks-0.2-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "ce4cfc3dd13d83bae81b227e9aa3209d",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.6",
        "size": 8072,
        "upload_time": "2020-07-13T09:55:35",
        "upload_time_iso_8601": "2020-07-13T09:55:35.793045Z",
        "url": "https://files.pythonhosted.org/packages/85/44/2d6fac2e0129b72f2d8d860864d4fd89d0af2c95dfffbf47b9f3b28e7c09/django_database_locks-0.2-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "b4ecd0e84d1d32fc124df432fa676decd044b1a6b567565cef7865a04e43d0e0",
          "md5": "1403fd5a6403274b3d0091c607b67bcc",
          "sha256": "9093a96ecb3d0bf90dd392194bb1ac7aca5509267515116f5224965c72f94edf"
        },
        "downloads": -1,
        "filename": "django-database-locks-0.2.tar.gz",
        "has_sig": false,
        "md5_digest": "1403fd5a6403274b3d0091c607b67bcc",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6",
        "size": 7409,
        "upload_time": "2020-07-13T09:55:37",
        "upload_time_iso_8601": "2020-07-13T09:55:37.311937Z",
        "url": "https://files.pythonhosted.org/packages/b4/ec/d0e84d1d32fc124df432fa676decd044b1a6b567565cef7865a04e43d0e0/django-database-locks-0.2.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.3": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "e6ced6c76866f6f234019fd077c332b4248f5b5b3f16db8c16ba838ca6458f2d",
          "md5": "c44bc61e34b57997f80f79089d7e4d17",
          "sha256": "5f56d51d826d3168f48b0014987aa50f3a8cdafc06e79e1eba29c279e2530904"
        },
        "downloads": -1,
        "filename": "django_database_locks-0.3-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "c44bc61e34b57997f80f79089d7e4d17",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.6",
        "size": 8071,
        "upload_time": "2020-07-13T09:57:33",
        "upload_time_iso_8601": "2020-07-13T09:57:33.107308Z",
        "url": "https://files.pythonhosted.org/packages/e6/ce/d6c76866f6f234019fd077c332b4248f5b5b3f16db8c16ba838ca6458f2d/django_database_locks-0.3-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "f41a9ed2d0bf6e3b9fbdf049861f29ce86ba61c94ca2e975c4d8104597f1c90f",
          "md5": "13cc796917c3873039a6e3753107c89f",
          "sha256": "c565bfdf155798d13933f03eee4f73b989e27261071920e8e1a2e09eaa933a07"
        },
        "downloads": -1,
        "filename": "django-database-locks-0.3.tar.gz",
        "has_sig": false,
        "md5_digest": "13cc796917c3873039a6e3753107c89f",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6",
        "size": 6707,
        "upload_time": "2020-07-13T09:57:34",
        "upload_time_iso_8601": "2020-07-13T09:57:34.215425Z",
        "url": "https://files.pythonhosted.org/packages/f4/1a/9ed2d0bf6e3b9fbdf049861f29ce86ba61c94ca2e975c4d8104597f1c90f/django-database-locks-0.3.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.5": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "1588e8f0317239f836c383fe0209a671e7ff7078db715cf68ffc77516bac65fa",
          "md5": "8b6642414b18472bfbe45acdf894d3eb",
          "sha256": "1b88921becef07732c4992bac8ea5b4b514688da02c26805e8b9bf08be1b0ef2"
        },
        "downloads": -1,
        "filename": "django_database_locks-0.5-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "8b6642414b18472bfbe45acdf894d3eb",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.6",
        "size": 8536,
        "upload_time": "2021-05-13T23:24:27",
        "upload_time_iso_8601": "2021-05-13T23:24:27.478271Z",
        "url": "https://files.pythonhosted.org/packages/15/88/e8f0317239f836c383fe0209a671e7ff7078db715cf68ffc77516bac65fa/django_database_locks-0.5-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "aa8e44674c520b34d225f9d1edbfe56662c3109aaf49f53df32f697629aac425",
          "md5": "64c8e21bffa2ac4fb21b1102e47488fc",
          "sha256": "97666ffcccdc7377639948d1f5f0dc63590a1313fc7848c5b080c97d2a68591a"
        },
        "downloads": -1,
        "filename": "django-database-locks-0.5.tar.gz",
        "has_sig": false,
        "md5_digest": "64c8e21bffa2ac4fb21b1102e47488fc",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6",
        "size": 8361,
        "upload_time": "2021-05-13T23:24:28",
        "upload_time_iso_8601": "2021-05-13T23:24:28.564784Z",
        "url": "https://files.pythonhosted.org/packages/aa/8e/44674c520b34d225f9d1edbfe56662c3109aaf49f53df32f697629aac425/django-database-locks-0.5.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "1588e8f0317239f836c383fe0209a671e7ff7078db715cf68ffc77516bac65fa",
        "md5": "8b6642414b18472bfbe45acdf894d3eb",
        "sha256": "1b88921becef07732c4992bac8ea5b4b514688da02c26805e8b9bf08be1b0ef2"
      },
      "downloads": -1,
      "filename": "django_database_locks-0.5-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "8b6642414b18472bfbe45acdf894d3eb",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": ">=3.6",
      "size": 8536,
      "upload_time": "2021-05-13T23:24:27",
      "upload_time_iso_8601": "2021-05-13T23:24:27.478271Z",
      "url": "https://files.pythonhosted.org/packages/15/88/e8f0317239f836c383fe0209a671e7ff7078db715cf68ffc77516bac65fa/django_database_locks-0.5-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "aa8e44674c520b34d225f9d1edbfe56662c3109aaf49f53df32f697629aac425",
        "md5": "64c8e21bffa2ac4fb21b1102e47488fc",
        "sha256": "97666ffcccdc7377639948d1f5f0dc63590a1313fc7848c5b080c97d2a68591a"
      },
      "downloads": -1,
      "filename": "django-database-locks-0.5.tar.gz",
      "has_sig": false,
      "md5_digest": "64c8e21bffa2ac4fb21b1102e47488fc",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": ">=3.6",
      "size": 8361,
      "upload_time": "2021-05-13T23:24:28",
      "upload_time_iso_8601": "2021-05-13T23:24:28.564784Z",
      "url": "https://files.pythonhosted.org/packages/aa/8e/44674c520b34d225f9d1edbfe56662c3109aaf49f53df32f697629aac425/django-database-locks-0.5.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}