{
  "info": {
    "author": "Zhong Qishuai",
    "author_email": "ferdinandzhong@gmail.com",
    "bugtrack_url": null,
    "classifiers": [
      "Programming Language :: Python :: 3 :: Only",
      "Programming Language :: Python :: 3.6",
      "Programming Language :: Python :: 3.7",
      "Programming Language :: Python :: 3.8",
      "Programming Language :: Python :: 3.9",
      "Topic :: Software Development :: Libraries :: Python Modules"
    ],
    "description": "# Distilbert-punctuator\n\n<p align=\"center\">\n  <a href=\"https://pypi.org/project/distilbert-punctuator/\">\n      <img src=\"https://badge.fury.io/py/distilbert-punctuator.svg\" alt=\"PyPI version\" height=\"20\">\n  </a>\n  <a href=\"https://pepy.tech/project/distilbert-punctuator\">\n      <img src=\"https://pepy.tech/badge/distilbert-punctuator/month\" alt=\"PyPi Downloads\" height=\"20\">\n  </a>\n  <a href=\"https://tldrlegal.com/license/apache-license-2.0-(apache-2.0)\">\n      <img src=\"https://img.shields.io/github/license/mosecorg/mosec\" alt=\"License\" height=\"20\">\n  </a>\n</p>\n\n## Introduction\nDistilbert-punctuator is a python package provides a bert-based punctuator (fine-tuned model of `pretrained huggingface DistilBertForTokenClassification`) with following three components:\n\n* **data process**: funcs for processing user's data to prepare for training. If user perfer to fine-tune the model with his/her own data.\n* **training**: training pipeline and doing validation. User can fine-tune his/her own punctuator with the pipeline\n* **inference**: easy-to-use interface for user to use trained punctuator.\n* If user doesn't want to train a punctuator himself/herself, two pre-fined-tuned model from huggingface model hub\n  * `Qishuai/distilbert_punctuator_en` 📎 [Model details](https://huggingface.co/Qishuai/distilbert_punctuator_en)\n  * `Qishuai/distilbert_punctuator_zh` 📎 [Model details](https://huggingface.co/Qishuai/distilbert_punctuator_zh)\n* model examples in huggingface web page.\n  * English model\n  <figure>\n    <img src=\"./docs/static/english_model_example.png\" width=\"600\" />\n  </figure>\n\n  * Simplified Chinese model\n  <figure>\n    <img src=\"./docs/static/chinese_model_example.png\" width=\"600\" />\n  </figure>\n\n## Installation\n* Installing the package from pypi: `pip install distilbert-punctuator` for directly usage of punctuator.\n* Installing the package with option to do data processing `pip install distilbert-punctuator[data_process]`.\n* Installing the package with option to train and validate your own model `pip install distilbert-punctuator[training]`\n* For development and contribution\n  * clone the repo\n  * `make install`\n\n## Data Process\nComponent for pre-processing the training data. To use this component, please install as `pip install distilbert-punctuator[data_process]`\n\nThe package is providing a simple pipeline for you to generate `NER` format training data.\n\n### Example\n`examples/data_sample.py`\n\n## Train\nComponent for providing a training pipeline for fine-tuning a pretrained `DistilBertForTokenClassification` model from `huggingface`.\nThe latest version has the implementation of **`R-Drop`** enhanced training. \n[R-Drop github repo](https://github.com/dropreg/R-Drop)\n[Paper of R-Drop](https://arxiv.org/abs/2106.14448)\n\n### Example\n`examples/english_train_sample.py`\n\n### Training_arguments:\nArguments required for the training pipeline.\n\n- # basic arguments\n  - `training_corpus(List[List[str]])`: list of sequences for training, longest sequence should be no longer than pretrained LM # noqa: E501\n  - `validation_corpus(List[List[str]])`: list of sequences for validation, longest sequence should be no longer than pretrained LM # noqa: E501\n  - `training_tags(List[List[int]])`: tags(int) for training\n  - `validation_tags(List[List[int]])`: tags(int) for validation\n  - `model_name_or_path(str)`: name or path of pre-trained model\n  - `tokenizer_name(str)`: name of pretrained tokenizer\n\n- # training arguments\n  - `epoch(int)`: number of epoch\n  - `batch_size(int)`: batch size\n  - `model_storage_dir(str)`: fine-tuned model storage path\n  - `label2id(Dict)`: the tags label and id mapping\n  - `early_stop_count(int)`: after how many epochs to early stop training if valid loss not become smaller. default 3 # noqa: E501\n  - `gpu_device(int)`: specific gpu card index, default is the CUDA_VISIBLE_DEVICES from environ\n  - `warm_up_steps(int)`: warm up steps.\n  - `r_drop(bool)`: whether to train with r-drop\n  - `r_alpha(int)`: alpha value for kl divengence in the loss, default is 0\n  - `plot_steps(int)`: record training status to tensorboard among how many steps\n  - `tensorboard_log_dir(Optional[str])`: the tensorboard logs output directory, default is \"runs\"\n\n- # model arguments\n  - `addtional_model_config(Optional[Dict])`: additional configuration for model\n\nYou can also train your own NER models with the trainer provided in this repo. \nThe example can be found in `notebooks/R-drop NER.ipynb`\n\n## Evaluation\nValidation of fine-tuned model\n\n### Example\n`examples/train_sample.py`\n\n### Validation_arguments:\n- `evaluation_corpus(List[List[str]])`: list of sequences for evaluation, longest sequence should be no longer than pretrained LM's max_position_embedding(512)\n- `evaluation_tags(List[List[int]])`: tags(int) for evaluation (the GT)\n- `model_name_or_path(str)`: name or path of fine-tuned model\n- `tokenizer_name(str)`: name of tokenizer\n- `batch_size(int)`: batch size\n- `label2id(Optional[Dict])`: label2id. Default one is from model config. Pass in this argument if your model doesn't have a label2id inside config\n- `gpu_device(int)`: specific gpu card index, default is the CUDA_VISIBLE_DEVICES from environ\n\n## Inference\nComponent for providing an inference interface for user to use punctuator.\n\n### Architecture\n```\n +----------------------+              (child process)\n |   user application   |             +-------------------+\n +                      + <---------->| punctuator server |\n |   +inference object  |             +-------------------+\n +----------------------+\n```\n\nThe punctuator will be deployed in a child process which communicates with main process through pipe connection.\nTherefore user can initialize an inference object and call its `punctuation` function when needed. The punctuator will never block the main process unless doing punctuation.\nThere is a `graceful shutdown` methodology for the punctuator, hence user dosen't need to worry about the shutting-down.\n\n### Example\n`examples/inference_sample.py`\n\n### Inference_arguments\nArguments required for the inference pipeline.\n\n- `model_name_or_path(str)`: name or path of pre-trained model\n- `tokenizer_name(str)`: name of pretrained tokenizer\n- `tag2punctuator(Dict[str, tuple])`: tag to punctuator mapping.\n   dbpunctuator.utils provides two default mappings for English and Chinese\n   ```python\n   NORMAL_TOKEN_TAG = \"O\"\n   DEFAULT_ENGLISH_TAG_PUNCTUATOR_MAP = {\n       NORMAL_TOKEN_TAG: (\"\", False),\n       \"COMMA\": (\",\", False),\n       \"PERIOD\": (\".\", True),\n       \"QUESTIONMARK\": (\"?\", True),\n       \"EXLAMATIONMARK\": (\"!\", True),\n   }\n\n   DEFAULT_CHINESE_TAG_PUNCTUATOR_MAP = {\n       NORMAL_TOKEN_TAG: (\"\", False),\n       \"C_COMMA\": (\"，\", False),\n       \"C_PERIOD\": (\"。\", True),\n       \"C_QUESTIONMARK\": (\"? \", True),\n       \"C_EXLAMATIONMARK\": (\"! \", True),\n       \"C_DUNHAO\": (\"、\", False),\n   }\n   ```\n   for own fine-tuned model with different tags, pass in your own mapping\n- `tag2id_storage_path(Optional[str])`: tag2id storage path. Default one is from model config. Pass in this argument if your model doesn't have a tag2id inside config\n\n\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/FerdinandZhong/punctuator",
    "keywords": "",
    "license": "",
    "maintainer": "",
    "maintainer_email": "",
    "name": "distilbert-punctuator",
    "package_url": "https://pypi.org/project/distilbert-punctuator/",
    "platform": null,
    "project_url": "https://pypi.org/project/distilbert-punctuator/",
    "project_urls": {
      "Homepage": "https://github.com/FerdinandZhong/punctuator"
    },
    "release_url": "https://pypi.org/project/distilbert-punctuator/0.3.0/",
    "requires_dist": [
      "torch (>=1.7.1)",
      "typer (==0.3.2)",
      "tqdm (>=4.61.2)",
      "transformers (>=4.12.0)",
      "pydantic (==1.8.2)",
      "plane (>=0.2.0)",
      "pandas (>=1.1.0) ; extra == 'data_process'",
      "pytest (>=6) ; extra == 'dev'",
      "flake8 (>=3.8) ; extra == 'dev'",
      "black (>=20.8b1) ; extra == 'dev'",
      "isort (>=5.6) ; extra == 'dev'",
      "autoflake (>=1.4) ; extra == 'dev'",
      "pandas (>=1.1.0) ; extra == 'dev'",
      "scikit-learn (>=0.23.2) ; extra == 'dev'",
      "scikit-learn (>=0.23.2) ; extra == 'training'",
      "tensorboard ; extra == 'training'"
    ],
    "requires_python": ">3.6",
    "summary": "A small seq2seq punctuator tool based on DistilBERT",
    "version": "0.3.0",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 15152068,
  "releases": {
    "0.1.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "22625bef242f7ed4123f5ede1af8cc64778be98c5f4d3732ee6630a1eea2bbeb",
          "md5": "887ed8989039fc5f9a754c93abfbdebf",
          "sha256": "f8e049684fb147e7604e97a82dde2632e3e7f2a4326bd0ce62fa674150e631ac"
        },
        "downloads": -1,
        "filename": "distilbert_punctuator-0.1.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "887ed8989039fc5f9a754c93abfbdebf",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">3.6",
        "size": 14791,
        "upload_time": "2021-11-18T10:18:28",
        "upload_time_iso_8601": "2021-11-18T10:18:28.768265Z",
        "url": "https://files.pythonhosted.org/packages/22/62/5bef242f7ed4123f5ede1af8cc64778be98c5f4d3732ee6630a1eea2bbeb/distilbert_punctuator-0.1.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "5f8aea90fca4e8eba912d8db2dc71ab11d0970cbf4ab1c52a10dc7bbca2678ee",
          "md5": "ab257ede9e19968a21e7bac362bcea9e",
          "sha256": "deca6fcd22306b8b1d4800e6e32698eb0a8eea57353b97a07a7227d4bc02455b"
        },
        "downloads": -1,
        "filename": "distilbert-punctuator-0.1.0.tar.gz",
        "has_sig": false,
        "md5_digest": "ab257ede9e19968a21e7bac362bcea9e",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">3.6",
        "size": 11621,
        "upload_time": "2021-11-18T10:18:30",
        "upload_time_iso_8601": "2021-11-18T10:18:30.511118Z",
        "url": "https://files.pythonhosted.org/packages/5f/8a/ea90fca4e8eba912d8db2dc71ab11d0970cbf4ab1c52a10dc7bbca2678ee/distilbert-punctuator-0.1.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.1.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "f368970a8908c06dbf107748c2c12a8e01b0cce22502457363015f908d812609",
          "md5": "66402e78a4e795a38cca646d32e0082e",
          "sha256": "1de3993eae9e722be7cc55e51b955efe2409108083017ec66b3887547cdfe820"
        },
        "downloads": -1,
        "filename": "distilbert_punctuator-0.1.1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "66402e78a4e795a38cca646d32e0082e",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">3.6",
        "size": 15971,
        "upload_time": "2021-11-19T15:14:05",
        "upload_time_iso_8601": "2021-11-19T15:14:05.294329Z",
        "url": "https://files.pythonhosted.org/packages/f3/68/970a8908c06dbf107748c2c12a8e01b0cce22502457363015f908d812609/distilbert_punctuator-0.1.1-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "5a7e4ebe9555790fbea574d79ce60765ba4c12a00d7ecd1528275a9905aea9c9",
          "md5": "f8d850d515979115f46e5a373adaaeb3",
          "sha256": "e0cd37c060cfdfc9ddc660741799a076cce0c080d89c662a7bf26f08e760e011"
        },
        "downloads": -1,
        "filename": "distilbert-punctuator-0.1.1.tar.gz",
        "has_sig": false,
        "md5_digest": "f8d850d515979115f46e5a373adaaeb3",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">3.6",
        "size": 13190,
        "upload_time": "2021-11-19T15:14:06",
        "upload_time_iso_8601": "2021-11-19T15:14:06.464545Z",
        "url": "https://files.pythonhosted.org/packages/5a/7e/4ebe9555790fbea574d79ce60765ba4c12a00d7ecd1528275a9905aea9c9/distilbert-punctuator-0.1.1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.2.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "9ca5e9b8f4baf25e09a4b5477a28235bd1bf341941ac944f6ebff5482939d6ce",
          "md5": "9f45874c4eb60e24db5ee49295886048",
          "sha256": "3b400af2ef4510077945b01bf2c98f230b5cd94dbcdf6c1c92d9293616049e53"
        },
        "downloads": -1,
        "filename": "distilbert_punctuator-0.2.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "9f45874c4eb60e24db5ee49295886048",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">3.6",
        "size": 27424,
        "upload_time": "2021-12-13T16:07:49",
        "upload_time_iso_8601": "2021-12-13T16:07:49.014677Z",
        "url": "https://files.pythonhosted.org/packages/9c/a5/e9b8f4baf25e09a4b5477a28235bd1bf341941ac944f6ebff5482939d6ce/distilbert_punctuator-0.2.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "716661c1fb5712fdd1680bb4aac1cbba3f59c6ae35c9e3887d64ee4c498ed30f",
          "md5": "5d4fa117219412ba20122f990dc84b48",
          "sha256": "71ea5db902befcdb0cfd6ee849b36d99767ab1e792fb9ca5b6e0961f321b2a14"
        },
        "downloads": -1,
        "filename": "distilbert-punctuator-0.2.0.tar.gz",
        "has_sig": false,
        "md5_digest": "5d4fa117219412ba20122f990dc84b48",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">3.6",
        "size": 22379,
        "upload_time": "2021-12-13T16:07:50",
        "upload_time_iso_8601": "2021-12-13T16:07:50.599285Z",
        "url": "https://files.pythonhosted.org/packages/71/66/61c1fb5712fdd1680bb4aac1cbba3f59c6ae35c9e3887d64ee4c498ed30f/distilbert-punctuator-0.2.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.2.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "744b807f564b5e6e32d3f9f33fd98e42a13fd199cbfd26e9192cc951c2f95be7",
          "md5": "25f42681dd0d95790619d7a0955b0120",
          "sha256": "f1ce25bc203ac6bdd905219ad6871a537b6530f80d25a73932b18884b47d19e2"
        },
        "downloads": -1,
        "filename": "distilbert_punctuator-0.2.1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "25f42681dd0d95790619d7a0955b0120",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">3.6",
        "size": 27579,
        "upload_time": "2022-04-20T03:06:07",
        "upload_time_iso_8601": "2022-04-20T03:06:07.321229Z",
        "url": "https://files.pythonhosted.org/packages/74/4b/807f564b5e6e32d3f9f33fd98e42a13fd199cbfd26e9192cc951c2f95be7/distilbert_punctuator-0.2.1-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "cbbcb25573185e37eedb664328d2d1bebd6f60217ff5e3d6fb1d5b4a4567fb6c",
          "md5": "84723d7a614047d696d01eddaf80ae91",
          "sha256": "de729014d1915488fe13598a2b636fc3e13a5d9736aea2111571db67463b92fc"
        },
        "downloads": -1,
        "filename": "distilbert-punctuator-0.2.1.tar.gz",
        "has_sig": false,
        "md5_digest": "84723d7a614047d696d01eddaf80ae91",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">3.6",
        "size": 22787,
        "upload_time": "2022-04-20T03:06:08",
        "upload_time_iso_8601": "2022-04-20T03:06:08.790609Z",
        "url": "https://files.pythonhosted.org/packages/cb/bc/b25573185e37eedb664328d2d1bebd6f60217ff5e3d6fb1d5b4a4567fb6c/distilbert-punctuator-0.2.1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.3.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "70f6d447e4ea277e48ffe7aa66f885ca8f501f3e5f677a40d3521b4e5c61e1e0",
          "md5": "5a113b2794cca595083c042c0dd14952",
          "sha256": "5c97954976c1e07946537c0a26a3b99e1cf7d19503e59af34a788f89e4acd15a"
        },
        "downloads": -1,
        "filename": "distilbert_punctuator-0.3.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "5a113b2794cca595083c042c0dd14952",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">3.6",
        "size": 34220,
        "upload_time": "2022-09-20T08:40:32",
        "upload_time_iso_8601": "2022-09-20T08:40:32.137043Z",
        "url": "https://files.pythonhosted.org/packages/70/f6/d447e4ea277e48ffe7aa66f885ca8f501f3e5f677a40d3521b4e5c61e1e0/distilbert_punctuator-0.3.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "968e49bc3452262fd9e6f5d85421b37bf9a1f3b9cf1fd3ffafc805dbdcb7ad07",
          "md5": "d2e4962f9169811ba8333c1798ac92db",
          "sha256": "81db2e9425e325a90a6fc1c2a0eb166ce282de1b22281457bde125d47aa162f5"
        },
        "downloads": -1,
        "filename": "distilbert-punctuator-0.3.0.tar.gz",
        "has_sig": false,
        "md5_digest": "d2e4962f9169811ba8333c1798ac92db",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">3.6",
        "size": 26763,
        "upload_time": "2022-09-20T08:40:33",
        "upload_time_iso_8601": "2022-09-20T08:40:33.883639Z",
        "url": "https://files.pythonhosted.org/packages/96/8e/49bc3452262fd9e6f5d85421b37bf9a1f3b9cf1fd3ffafc805dbdcb7ad07/distilbert-punctuator-0.3.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "70f6d447e4ea277e48ffe7aa66f885ca8f501f3e5f677a40d3521b4e5c61e1e0",
        "md5": "5a113b2794cca595083c042c0dd14952",
        "sha256": "5c97954976c1e07946537c0a26a3b99e1cf7d19503e59af34a788f89e4acd15a"
      },
      "downloads": -1,
      "filename": "distilbert_punctuator-0.3.0-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "5a113b2794cca595083c042c0dd14952",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": ">3.6",
      "size": 34220,
      "upload_time": "2022-09-20T08:40:32",
      "upload_time_iso_8601": "2022-09-20T08:40:32.137043Z",
      "url": "https://files.pythonhosted.org/packages/70/f6/d447e4ea277e48ffe7aa66f885ca8f501f3e5f677a40d3521b4e5c61e1e0/distilbert_punctuator-0.3.0-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "968e49bc3452262fd9e6f5d85421b37bf9a1f3b9cf1fd3ffafc805dbdcb7ad07",
        "md5": "d2e4962f9169811ba8333c1798ac92db",
        "sha256": "81db2e9425e325a90a6fc1c2a0eb166ce282de1b22281457bde125d47aa162f5"
      },
      "downloads": -1,
      "filename": "distilbert-punctuator-0.3.0.tar.gz",
      "has_sig": false,
      "md5_digest": "d2e4962f9169811ba8333c1798ac92db",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": ">3.6",
      "size": 26763,
      "upload_time": "2022-09-20T08:40:33",
      "upload_time_iso_8601": "2022-09-20T08:40:33.883639Z",
      "url": "https://files.pythonhosted.org/packages/96/8e/49bc3452262fd9e6f5d85421b37bf9a1f3b9cf1fd3ffafc805dbdcb7ad07/distilbert-punctuator-0.3.0.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}