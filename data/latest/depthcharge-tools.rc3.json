{
  "info": {
    "author": "Alper Nebi Yasak",
    "author_email": "alpernebiyasak@gmail.com",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 3 - Alpha",
      "Environment :: Console",
      "Intended Audience :: Developers",
      "License :: OSI Approved :: GNU General Public License v2 or later (GPLv2+)",
      "Operating System :: POSIX :: Linux",
      "Programming Language :: Python :: 3",
      "Topic :: System :: Boot"
    ],
    "description": "=================\nDepthcharge-Tools\n=================\nThis project is a collection of tools that ease and automate interacting\nwith depthcharge_, the Chrome OS bootloader.\n\nDepthcharge is built into the firmware of Chrome OS boards, uses a\ncustom verified boot flow and usually cannot boot other operating\nsystems as is. This means someone who wants to use e.g. Debian_ on these\nboards need to either replace the firmware or work their system into\n`the format depthcharge expects`_. These tools are about the latter.\n\nRight now these are developed on and tested with only a few boards,\nbut everything will attempt to work on other boards based on my best\nguesses.\n\n.. _depthcharge: https://chromium.googlesource.com/chromiumos/platform/depthcharge\n.. _the format depthcharge expects: https://www.chromium.org/chromium-os/chromiumos-design-docs/disk-format#TOC-Google-Chrome-OS-devices\n.. _Debian: https://www.debian.org/\n\n\nmkdepthcharge\n=============\nThe mkdepthcharge_ tool is intended to wrap mkimage_ and vbutil_kernel_\nto provide reasonable defaults to them, hide their idiosyncrasies and\nautomate creating a depthcharge-bootable partition image appropriate for\nthe running architecture. An example invocation on a Samsung Chromebook\nPlus (v1, arm64) could be::\n\n    $ mkdepthcharge -o depthcharge.img --compress lzma \\\n        --cmdline \"console=tty1 root=/dev/mmcblk0p2 rootwait\" \\\n        /boot/vmlinuz.gz /boot/initrd.img rk3399-gru-kevin.dtb\n\nHere, mkdepthcharge would automatically extract and recompress the\nkernel, create a FIT image, put command line parameters into a file,\ncreate an empty bootloader, and provide defaults for vboot keys and\nother arguments while building the partition image.\n\n.. _mkdepthcharge: https://github.com/alpernebbi/depthcharge-tools/blob/master/mkdepthcharge.rst\n.. _mkimage: https://dyn.manpages.debian.org/jump?q=unstable/mkimage\n.. _vbutil_kernel: https://dyn.manpages.debian.org/jump?q=unstable/vbutil_kernel\n\n\ndepthchargectl\n==============\nThe depthchargectl_ tool goes a step further and aims to fully automate\nbootable image creation and Chrome OS kernel partition management, even\nthe board-specific and distro-specific parts. With proper integration\nwith your distribution, depthchargectl can keep your system bootable\nacross kernel and initramfs changes without any interaction on your\npart. Even without such integration, a single command automates most of\nthe work::\n\n    # Use --allow-current if you only have one Chrome OS kernel partition.\n    $ sudo depthchargectl write --allow-current\n    Building depthcharge image for board 'Samsung Chromebook Plus' ('kevin').\n    Built depthcharge image for kernel version '5.10.0-6-arm64'.\n    Wrote image '/boot/depthcharge/5.10.0-6-arm64.img' to partition '/dev/mmcblk1p1'.\n    Set partition '/dev/mmcblk1p1' as next to boot.\n\n    # After a reboot, you or an init service should run this.\n    $ sudo depthchargectl bless\n    Set partition '/dev/mmcblk1p1' as successfully booted.\n\n.. _depthchargectl: https://github.com/alpernebbi/depthcharge-tools/blob/master/depthchargectl.rst\n\n\nInstallation\n============\nThis depends on the ``pkg_resources`` Python package which is usually\ndistributed with ``setuptools``. The tools can run a number of programs\nwhen necessary, which should be considered dependencies:\n\n- ``futility`` (``vbutil_kernel``), ``cgpt``, ``crossystem``\n- ``mkimage``, ``fdtget``, ``fdtput``\n- ``lz4``, ``lzma``\n- ``gzip``, ``lzop``, ``bzip2``, ``xz``, ``zstd``\n  (optional, for unpacking compressed ``/boot/vmlinuz``)\n\nThe ``rst2man`` program (from ``docutils``) should be used to convert\nthe ``mkdepthcharge.rst`` and ``depthchargectl.rst`` files to manual\npages. However, this is not automated here and has to be done manually.\n\nThis project (or at least ``depthchargectl``) is meant to be integrated\ninto your operating system by its maintainers, and the best way to\ninstall it is through your OS' package manager whenever possible.\n\nDebian\n------\nAn unofficial Debian package is available in the releases_ page, with\nit's packaging source tracked in salsa_. After downloading, you can\ninstall with::\n\n    $ sudo apt install ./depthcharge-tools_*.deb\n\n.. _releases: https://github.com/alpernebbi/depthcharge-tools/releases\n.. _salsa: https://salsa.debian.org/alpernebbi/depthcharge-tools\n\nPip\n---\nPython binary wheels are uploaded to PyPI_, and it should be possible to\ninstall the python package using `pip`. However, this does not install\nthe manual pages, bash/zsh completions, systemd/init.d service files,\nand OS-specific kernel/initramfs hooks.\n\nYou can install in `--user` mode, but this makes it quite hard to use\n`depthchargectl` as root. As root privileges are necessary to manipulate\nsystem block devices this limits you a bit::\n\n    $ pip install --user depthcharge-tools\n\nAlthough inadvisable, you can install as root to overcome that caveat.\nAlternatively, see the `PYTHONPATH` hack in one of the later sections.\n\n.. _PyPI: https://pypi.org/project/depthcharge-tools/\n\n\nConfiguration\n=============\nYou can configure depthcharge-tools with the |CONFIG_FILE| file, or by\nputting similar fragments in the |CONFIGD_DIR| directory. See the\nconfig.ini_ file for the built-in default configuration.\n\nSettings in the ``[depthcharge-tools]`` section are the global defaults\nfrom which all commands inherit. Other than that, config sections have\ninheritence based on their names i.e. those in the form of ``[a/b/c]``\ninherit from ``[a/b]`` which also inherits from ``[a]``. Each subcommand\nreads its config from such a subsection.\n\nCurrently the following configuration options are available::\n\n    [depthcharge-tools]\n    enable-system-hooks: Write/remove images on kernel/initramfs changes\n    vboot-keyblock: The kernel keyblock file for verifying and signing images\n    vboot-private-key: The private key (.vbprivk) for signing images\n    vboot-public-key: The public key for (.vbpubk) verifying images\n\n    [depthchargectl]\n    board: Codename of a board to build and check images for\n    ignore-initramfs: Do not include an initramfs in the image\n    images-dir: Directory to store built images\n    kernel-cmdline: Kernel commandline parameters to use\n\nFor longer explanations check the manual pages of each command for\noptions named the same as these.\n\n.. |CONFIG_FILE| replace:: ``/etc/depthcharge-tools/config``\n.. |CONFIGD_DIR| replace:: ``/etc/depthcharge-tools/config.d``\n.. _config.ini: https://github.com/alpernebbi/depthcharge-tools/blob/master/depthcharge_tools/config.ini\n\n\nInstallation for development\n============================\nIf you want to use development versions, you can clone this repository\nand install using pip::\n\n    $ pip3 install --user -e /path/to/depthcharge-tools\n\nHopefully, you should be able to use depthchargectl with just that::\n\n    $ depthchargectl build --output depthcharge.img\n    Building depthcharge image for board 'Samsung Chromebook Plus' ('kevin').\n    Built depthcharge image for kernel version '5.10.0-6-arm64'.\n    depthchargectl.img\n\nMost ``depthchargectl`` functionality needs root as it handles disks and\npartitions, and you need special care while invoking as root::\n\n    $ depthchargectl() {\n        sudo PYTHONPATH=/path/to/depthcharge-tools \\\n            python3 -m depthcharge_tools.depthchargectl \"$@\"\n    }\n\n    $ depthchargectl list /dev/mmcblk0\n    S  P  T  PATH\n    1  2  0  /dev/mmcblk0p2\n    1  1  0  /dev/mmcblk0p4\n    0  0  15 /dev/mmcblk0p6\n\n\nContributing\n============\nI only own two chromebooks, so I need your help to make it work with all\nothers. Pull requests, bug reports, or even pointers in the right\ndirection for existing issues are all welcome.\n\n\nLicense\n=======\nThis program is free software; you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation; either version 2 of the License, or\n(at your option) any later version.\n\nThis program is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with this program. If not, see <https://www.gnu.org/licenses/>\n",
    "description_content_type": "text/x-rst",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/alpernebbi/depthcharge-tools",
    "keywords": "ChromeOS ChromiumOS depthcharge vboot vbutil_kernel",
    "license": "GPL2+",
    "maintainer": "",
    "maintainer_email": "",
    "name": "depthcharge-tools",
    "package_url": "https://pypi.org/project/depthcharge-tools/",
    "platform": null,
    "project_url": "https://pypi.org/project/depthcharge-tools/",
    "project_urls": {
      "Homepage": "https://github.com/alpernebbi/depthcharge-tools"
    },
    "release_url": "https://pypi.org/project/depthcharge-tools/0.6.1/",
    "requires_dist": [
      "setuptools"
    ],
    "requires_python": "",
    "summary": "Tools to manage the Chrome OS bootloader",
    "version": "0.6.1",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 15887145,
  "releases": {
    "0.5.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "c6d19386e84879680f55cf2a632f66b4b58ab1bed9803b086b55153a4075eed1",
          "md5": "ac0d669c7b511b617c4b5eac19b40d8c",
          "sha256": "434bbb08f0322927c1f54c4d00f35dfe2306f0010338c58ee745a4a358f1356e"
        },
        "downloads": -1,
        "filename": "depthcharge_tools-0.5.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "ac0d669c7b511b617c4b5eac19b40d8c",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 62649,
        "upload_time": "2021-05-06T13:34:14",
        "upload_time_iso_8601": "2021-05-06T13:34:14.107067Z",
        "url": "https://files.pythonhosted.org/packages/c6/d1/9386e84879680f55cf2a632f66b4b58ab1bed9803b086b55153a4075eed1/depthcharge_tools-0.5.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "64f32131e39fade30ebf4fa387e519008394b0367f1833dd5b3d366fcd76a6f2",
          "md5": "d18cbba5e3b173b42159a57d5c3f67e4",
          "sha256": "1e1b94529123dcd755f1fa1b686e63f57f475cacd6e1f954806cd42307469103"
        },
        "downloads": -1,
        "filename": "depthcharge-tools-0.5.0.tar.gz",
        "has_sig": false,
        "md5_digest": "d18cbba5e3b173b42159a57d5c3f67e4",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 67265,
        "upload_time": "2021-05-06T13:34:16",
        "upload_time_iso_8601": "2021-05-06T13:34:16.358780Z",
        "url": "https://files.pythonhosted.org/packages/64/f3/2131e39fade30ebf4fa387e519008394b0367f1833dd5b3d366fcd76a6f2/depthcharge-tools-0.5.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.6.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "9814487f42a91c2f4df6c0697d3a6b3629817b6bacdc661421ddaf6558c3392c",
          "md5": "91738384afa189491ca7d085fdc91afe",
          "sha256": "bd012c0e84c09bb2f1d2391ee6b09b0846d25ee23d1bc46652e685bf5eab86ee"
        },
        "downloads": -1,
        "filename": "depthcharge_tools-0.6.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "91738384afa189491ca7d085fdc91afe",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 78186,
        "upload_time": "2022-10-19T22:24:35",
        "upload_time_iso_8601": "2022-10-19T22:24:35.091924Z",
        "url": "https://files.pythonhosted.org/packages/98/14/487f42a91c2f4df6c0697d3a6b3629817b6bacdc661421ddaf6558c3392c/depthcharge_tools-0.6.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "1f873b65c7384615a678db06dfeef4ffabcee08384359840cc7667ee64197113",
          "md5": "b4487ea006239cc784cff6e870f89bac",
          "sha256": "05c0b8e8bcbd200a205b3b598428ccbd19ff9723bc0718b0c023a7033688cdb0"
        },
        "downloads": -1,
        "filename": "depthcharge-tools-0.6.0.tar.gz",
        "has_sig": false,
        "md5_digest": "b4487ea006239cc784cff6e870f89bac",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 84004,
        "upload_time": "2022-10-19T22:24:38",
        "upload_time_iso_8601": "2022-10-19T22:24:38.876324Z",
        "url": "https://files.pythonhosted.org/packages/1f/87/3b65c7384615a678db06dfeef4ffabcee08384359840cc7667ee64197113/depthcharge-tools-0.6.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.6.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "b1e0c3585aa76edf1b48dde6fd9b806db6733668c0b2ef1fb40d5d5b57fa6119",
          "md5": "4a646e908fab05935b30391469057722",
          "sha256": "309f14406e53bb0009d8b2f1a04a2baff0e448a3964c379d6136237567ceef1c"
        },
        "downloads": -1,
        "filename": "depthcharge_tools-0.6.1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "4a646e908fab05935b30391469057722",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 78696,
        "upload_time": "2022-11-25T07:52:33",
        "upload_time_iso_8601": "2022-11-25T07:52:33.699619Z",
        "url": "https://files.pythonhosted.org/packages/b1/e0/c3585aa76edf1b48dde6fd9b806db6733668c0b2ef1fb40d5d5b57fa6119/depthcharge_tools-0.6.1-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "888525df7bd2f8a6496b2b413433c61ad20f48ccb27fde7499288f36a0de9ae7",
          "md5": "fd99e5adacf951ee2e61779b45c3af44",
          "sha256": "24808fefe65f9f810183bf779af5efe14e3371c6ccf0a609a225b534d2850932"
        },
        "downloads": -1,
        "filename": "depthcharge-tools-0.6.1.tar.gz",
        "has_sig": false,
        "md5_digest": "fd99e5adacf951ee2e61779b45c3af44",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 86830,
        "upload_time": "2022-11-25T07:52:36",
        "upload_time_iso_8601": "2022-11-25T07:52:36.020620Z",
        "url": "https://files.pythonhosted.org/packages/88/85/25df7bd2f8a6496b2b413433c61ad20f48ccb27fde7499288f36a0de9ae7/depthcharge-tools-0.6.1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "b1e0c3585aa76edf1b48dde6fd9b806db6733668c0b2ef1fb40d5d5b57fa6119",
        "md5": "4a646e908fab05935b30391469057722",
        "sha256": "309f14406e53bb0009d8b2f1a04a2baff0e448a3964c379d6136237567ceef1c"
      },
      "downloads": -1,
      "filename": "depthcharge_tools-0.6.1-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "4a646e908fab05935b30391469057722",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": null,
      "size": 78696,
      "upload_time": "2022-11-25T07:52:33",
      "upload_time_iso_8601": "2022-11-25T07:52:33.699619Z",
      "url": "https://files.pythonhosted.org/packages/b1/e0/c3585aa76edf1b48dde6fd9b806db6733668c0b2ef1fb40d5d5b57fa6119/depthcharge_tools-0.6.1-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "888525df7bd2f8a6496b2b413433c61ad20f48ccb27fde7499288f36a0de9ae7",
        "md5": "fd99e5adacf951ee2e61779b45c3af44",
        "sha256": "24808fefe65f9f810183bf779af5efe14e3371c6ccf0a609a225b534d2850932"
      },
      "downloads": -1,
      "filename": "depthcharge-tools-0.6.1.tar.gz",
      "has_sig": false,
      "md5_digest": "fd99e5adacf951ee2e61779b45c3af44",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": null,
      "size": 86830,
      "upload_time": "2022-11-25T07:52:36",
      "upload_time_iso_8601": "2022-11-25T07:52:36.020620Z",
      "url": "https://files.pythonhosted.org/packages/88/85/25df7bd2f8a6496b2b413433c61ad20f48ccb27fde7499288f36a0de9ae7/depthcharge-tools-0.6.1.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}