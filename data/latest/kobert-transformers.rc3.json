{
  "info": {
    "author": "Jangwon Park",
    "author_email": "adieujw@gmail.com",
    "bugtrack_url": null,
    "classifiers": [],
    "description": "# KoBERT-Transformers\n\n`KoBERT` & `DistilKoBERT` on ðŸ¤— Huggingface Transformers ðŸ¤—\n\nKoBERT ëª¨ë¸ì€ [ê³µì‹ ë ˆí¬](https://github.com/SKTBrain/KoBERT)ì˜ ê²ƒê³¼ ë™ì¼í•©ë‹ˆë‹¤. ë³¸ ë ˆí¬ëŠ” **Huggingface tokenizerì˜ ëª¨ë“  APIë¥¼ ì§€ì›**í•˜ê¸° ìœ„í•´ì„œ ì œìž‘ë˜ì—ˆìŠµë‹ˆë‹¤.\n\n## ðŸš¨ ì¤‘ìš”! ðŸš¨\n\n### ðŸ™ TL;DR\n\n1. `transformers` ëŠ” `v3.0` ì´ìƒì„ ë°˜ë“œì‹œ ì„¤ì¹˜!\n2. `tokenizer`ëŠ” ë³¸ ë ˆí¬ì˜ `kobert_transformers/tokenization_kobert.py`ë¥¼ ì‚¬ìš©!\n\n### 1. Tokenizer í˜¸í™˜\n\n`Huggingface Transformers`ê°€ `v2.9.0`ë¶€í„° tokenization ê´€ë ¨ APIê°€ ì¼ë¶€ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ì— ë§žì¶° ê¸°ì¡´ì˜ `tokenization_kobert.py`ë¥¼ ìƒìœ„ ë²„ì „ì— ë§žê²Œ ìˆ˜ì •í•˜ì˜€ìŠµë‹ˆë‹¤.\n\n### 2. Embeddingì˜ padding_idx ì´ìŠˆ\n\nì´ì „ë¶€í„° `BertModel`ì˜ `BertEmbeddings`ì—ì„œ `padding_idx=0`ìœ¼ë¡œ **Hard-coding**ë˜ì–´ ìžˆì—ˆìŠµë‹ˆë‹¤. (ì•„ëž˜ ì½”ë“œ ì°¸ê³ )\n\n```python\nclass BertEmbeddings(nn.Module):\n    def __init__(self, config):\n        super().__init__()\n        self.word_embeddings = nn.Embedding(config.vocab_size, config.hidden_size, padding_idx=0)\n        self.position_embeddings = nn.Embedding(config.max_position_embeddings, config.hidden_size)\n        self.token_type_embeddings = nn.Embedding(config.type_vocab_size, config.hidden_size)\n```\n\nê·¸ëŸ¬ë‚˜ Sentencepieceì˜ ê²½ìš° ê¸°ë³¸ê°’ìœ¼ë¡œ `pad_token_id=1`, `unk_token_id=0`ìœ¼ë¡œ ì„¤ì •ì´ ë˜ì–´ ìžˆê³  (ì´ëŠ” KoBERTë„ ë™ì¼), ì´ë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ëŠ” BertModelì˜ ê²½ìš° ì›ì¹˜ ì•Šì€ ê²°ê³¼ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìžˆìŠµë‹ˆë‹¤.\n\nHuggingfaceì—ì„œë„ ìµœê·¼ì— í•´ë‹¹ ì´ìŠˆë¥¼ ì¸ì§€í•˜ì—¬ ì´ë¥¼ ìˆ˜ì •í•˜ì—¬ `v2.9.0`ì— ë°˜ì˜í•˜ì˜€ìŠµë‹ˆë‹¤. ([ê´€ë ¨ PR #3793](https://github.com/huggingface/transformers/pull/3793)) configì— `pad_token_id=1` ì„ ì¶”ê°€ ê°€ëŠ¥í•˜ì—¬ ì´ë¥¼ í•´ê²°í•  ìˆ˜ ìžˆê²Œ í•˜ì˜€ìŠµë‹ˆë‹¤.\n\n```python\nclass BertEmbeddings(nn.Module):\n    def __init__(self, config):\n        super().__init__()\n        self.word_embeddings = nn.Embedding(config.vocab_size, config.hidden_size, padding_idx=config.pad_token_id)\n        self.position_embeddings = nn.Embedding(config.max_position_embeddings, config.hidden_size)\n        self.token_type_embeddings = nn.Embedding(config.type_vocab_size, config.hidden_size)\n```\n\nê·¸ëŸ¬ë‚˜ `v.2.9.0`ì—ì„œ `DistilBERT`, `ALBERT` ë“±ì—ëŠ” ì´ ì´ìŠˆê°€ í•´ê²°ë˜ì§€ ì•Šì•„ ì§ì ‘ PRì„ ì˜¬ë ¤ ì²˜ë¦¬í•˜ì˜€ê³  ([ê´€ë ¨ PR #3965](https://github.com/huggingface/transformers/pull/3965)), **`v2.9.1`ì— ìµœì¢…ì ìœ¼ë¡œ ë°˜ì˜ë˜ì–´ ë°°í¬ë˜ì—ˆìŠµë‹ˆë‹¤.**\n\nì•„ëž˜ëŠ” ì´ì „ê³¼ í˜„ìž¬ ë²„ì „ì˜ ì°¨ì´ì ì„ ë³´ì—¬ì£¼ëŠ” ì½”ë“œìž…ë‹ˆë‹¤.\n\n```python\n# Transformers v2.7.0\n>>> from transformers import BertModel, DistilBertModel\n>>> model = BertModel.from_pretrained(\"monologg/kobert\")\n>>> model.embeddings.word_embeddings\nEmbedding(8002, 768, padding_idx=0)\n>>> model = DistilBertModel.from_pretrained(\"monologg/distilkobert\")\n>>> model.embeddings.word_embeddings\nEmbedding(8002, 768, padding_idx=0)\n\n\n### Transformers v2.9.1\n>>> from transformers import BertModel, DistilBertModel\n>>> model = BertModel.from_pretrained(\"monologg/kobert\")\n>>> model.embeddings.word_embeddings\nEmbedding(8002, 768, padding_idx=1)\n>>> model = DistilBertModel.from_pretrained(\"monologg/distilkobert\")\n>>> model.embeddings.word_embeddings\nEmbedding(8002, 768, padding_idx=1)\n```\n\n## KoBERT / DistilKoBERT on ðŸ¤— Transformers ðŸ¤—\n\n### Dependencies\n\n- torch>=1.1.0\n- transformers>=3,<5\n\n### How to Use\n\n```python\n>>> from transformers import BertModel, DistilBertModel\n>>> bert_model = BertModel.from_pretrained('monologg/kobert')\n>>> distilbert_model = DistilBertModel.from_pretrained('monologg/distilkobert')\n```\n\n**Tokenizerë¥¼ ì‚¬ìš©í•˜ë ¤ë©´, [`kobert_transformers/tokenization_kobert.py`](https://github.com/monologg/KoBERT-Transformers/blob/master/kobert_transformers/tokenization_kobert.py) íŒŒì¼ì„ ë³µì‚¬í•œ í›„, `KoBertTokenizer`ë¥¼ ìž„í¬íŠ¸í•˜ë©´ ë©ë‹ˆë‹¤.**\n\n- KoBERTì™€ DistilKoBERT ëª¨ë‘ ë™ì¼í•œ í† í¬ë‚˜ì´ì €ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.\n- **ê¸°ì¡´ KoBERTì˜ ê²½ìš° Special Tokenì´ ì œëŒ€ë¡œ ë¶„ë¦¬ë˜ì§€ ì•ŠëŠ” ì´ìŠˆ**ê°€ ìžˆì–´ì„œ í•´ë‹¹ ë¶€ë¶„ì„ ìˆ˜ì •í•˜ì—¬ ë°˜ì˜í•˜ì˜€ìŠµë‹ˆë‹¤. ([Issue link](https://github.com/SKTBrain/KoBERT/issues/11))\n\n```python\n>>> from tokenization_kobert import KoBertTokenizer\n>>> tokenizer = KoBertTokenizer.from_pretrained('monologg/kobert') # monologg/distilkobertë„ ë™ì¼\n>>> tokenizer.tokenize(\"[CLS] í•œêµ­ì–´ ëª¨ë¸ì„ ê³µìœ í•©ë‹ˆë‹¤. [SEP]\")\n>>> ['[CLS]', 'â–í•œêµ­', 'ì–´', 'â–ëª¨ë¸', 'ì„', 'â–ê³µìœ ', 'í•©ë‹ˆë‹¤', '.', '[SEP]']\n>>> tokenizer.convert_tokens_to_ids(['[CLS]', 'â–í•œêµ­', 'ì–´', 'â–ëª¨ë¸', 'ì„', 'â–ê³µìœ ', 'í•©ë‹ˆë‹¤', '.', '[SEP]'])\n>>> [2, 4958, 6855, 2046, 7088, 1050, 7843, 54, 3]\n```\n\n## Kobert-Transformers (Pip library)\n\n[![PyPI](https://img.shields.io/pypi/v/kobert-transformers)](https://pypi.org/project/kobert-transformers/)\n[![license](https://img.shields.io/badge/license-Apache%202.0-red)](https://github.com/monologg/DistilKoBERT/blob/master/LICENSE)\n[![Downloads](https://pepy.tech/badge/kobert-transformers)](https://pepy.tech/project/kobert-transformers)\n\n- `tokenization_kobert.py`ë¥¼ ëž©í•‘í•œ íŒŒì´ì¬ ë¼ì´ë¸ŒëŸ¬ë¦¬\n- KoBERT, DistilKoBERTë¥¼ Huggingface Transformers ë¼ì´ë¸ŒëŸ¬ë¦¬ í˜•íƒœë¡œ ì œê³µ\n- `v0.5.1`ì—ì„œëŠ” `transformers v3.0` ì´ìƒìœ¼ë¡œ ê¸°ë³¸ ì„¤ì¹˜í•©ë‹ˆë‹¤. (`transformers v4.0` ê¹Œì§€ëŠ” ì´ìŠˆ ì—†ì´ ì‚¬ìš© ê°€ëŠ¥)\n\n### Install Kobert-Transformers\n\n```bash\npip3 install kobert-transformers\n```\n\n### How to Use\n\n```python\n>>> import torch\n>>> from kobert_transformers import get_kobert_model, get_distilkobert_model\n>>> model = get_kobert_model()\n>>> model.eval()\n>>> input_ids = torch.LongTensor([[31, 51, 99], [15, 5, 0]])\n>>> attention_mask = torch.LongTensor([[1, 1, 1], [1, 1, 0]])\n>>> token_type_ids = torch.LongTensor([[0, 0, 1], [0, 1, 0]])\n>>> sequence_output, pooled_output = model(input_ids, attention_mask, token_type_ids)\n>>> sequence_output[0]\ntensor([[-0.2461,  0.2428,  0.2590,  ..., -0.4861, -0.0731,  0.0756],\n        [-0.2478,  0.2420,  0.2552,  ..., -0.4877, -0.0727,  0.0754],\n        [-0.2472,  0.2420,  0.2561,  ..., -0.4874, -0.0733,  0.0765]],\n       grad_fn=<SelectBackward>)\n```\n\n```python\n>>> from kobert_transformers import get_tokenizer\n>>> tokenizer = get_tokenizer()\n>>> tokenizer.tokenize(\"[CLS] í•œêµ­ì–´ ëª¨ë¸ì„ ê³µìœ í•©ë‹ˆë‹¤. [SEP]\")\n['[CLS]', 'â–í•œêµ­', 'ì–´', 'â–ëª¨ë¸', 'ì„', 'â–ê³µìœ ', 'í•©ë‹ˆë‹¤', '.', '[SEP]']\n>>> tokenizer.convert_tokens_to_ids(['[CLS]', 'â–í•œêµ­', 'ì–´', 'â–ëª¨ë¸', 'ì„', 'â–ê³µìœ ', 'í•©ë‹ˆë‹¤', '.', '[SEP]'])\n[2, 4958, 6855, 2046, 7088, 1050, 7843, 54, 3]\n```\n\n## Reference\n\n- [KoBERT](https://github.com/SKTBrain/KoBERT)\n- [DistilKoBERT](https://github.com/monologg/DistilKoBERT)\n- [Huggingface Transformers](https://github.com/huggingface/transformers)\n\n\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/monologg/KoBERT-Transformers",
    "keywords": "distilkobert kobert bert pytorch transformers lightweight",
    "license": "Apache License 2.0",
    "maintainer": "",
    "maintainer_email": "",
    "name": "kobert-transformers",
    "package_url": "https://pypi.org/project/kobert-transformers/",
    "platform": "",
    "project_url": "https://pypi.org/project/kobert-transformers/",
    "project_urls": {
      "Homepage": "https://github.com/monologg/KoBERT-Transformers"
    },
    "release_url": "https://pypi.org/project/kobert-transformers/0.5.1/",
    "requires_dist": [
      "torch (>=1.1.0)",
      "transformers (<5,>=3)",
      "sentencepiece (>=0.1.91)"
    ],
    "requires_python": ">=3.6",
    "summary": "Transformers library for KoBERT, DistilKoBERT",
    "version": "0.5.1",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 10661145,
  "releases": {
    "0.4.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "f36df4e21513c1f26cacd68c144a428ccaa90dd92d85985e878976ebbaf06624",
          "md5": "dc05ff5d8d3d4deb6886411c6b7165ba",
          "sha256": "518d622054ce0965c7853eb9a0710051b8db295f7f6c477f584473ba3f64330e"
        },
        "downloads": -1,
        "filename": "kobert_transformers-0.4.1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "dc05ff5d8d3d4deb6886411c6b7165ba",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3",
        "size": 12308,
        "upload_time": "2020-05-14T11:33:08",
        "upload_time_iso_8601": "2020-05-14T11:33:08.819817Z",
        "url": "https://files.pythonhosted.org/packages/f3/6d/f4e21513c1f26cacd68c144a428ccaa90dd92d85985e878976ebbaf06624/kobert_transformers-0.4.1-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.5.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "ea69aa41197a950299eebc1e2991fdb6a7d8d2fa80fa1efe8b580bffddaf43af",
          "md5": "ba05b79a0e42fb03b3523a77ca4e5e38",
          "sha256": "aa7760853be5d1ec8ab600b11f1b6626123583c3c3f2f9adc36a5bd7b2e2f0ac"
        },
        "downloads": -1,
        "filename": "kobert_transformers-0.5.1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "ba05b79a0e42fb03b3523a77ca4e5e38",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.6",
        "size": 12411,
        "upload_time": "2021-06-16T09:09:15",
        "upload_time_iso_8601": "2021-06-16T09:09:15.099044Z",
        "url": "https://files.pythonhosted.org/packages/ea/69/aa41197a950299eebc1e2991fdb6a7d8d2fa80fa1efe8b580bffddaf43af/kobert_transformers-0.5.1-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "36043b41292198e1c7429c2104dcb05b8912ddb18582c8021b324d233313a807",
          "md5": "33625e69e5551325dbe9edbcb7151136",
          "sha256": "4aba0fa8f4f1eb477c5da91962090fcc958158d6e45bffe6e56e5d90c38bb578"
        },
        "downloads": -1,
        "filename": "kobert-transformers-0.5.1.tar.gz",
        "has_sig": false,
        "md5_digest": "33625e69e5551325dbe9edbcb7151136",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6",
        "size": 7792,
        "upload_time": "2021-06-16T09:09:16",
        "upload_time_iso_8601": "2021-06-16T09:09:16.527051Z",
        "url": "https://files.pythonhosted.org/packages/36/04/3b41292198e1c7429c2104dcb05b8912ddb18582c8021b324d233313a807/kobert-transformers-0.5.1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.5.1rc1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "3c2cb211dd166554838054041c2fae999ed31997b8faa8e2766309a202719a57",
          "md5": "f7aad9919e55fe92cf2043062dfebcba",
          "sha256": "fc787cd692fec40d27ff69b825681a262b4e1c0dea497f9f59708c366193359e"
        },
        "downloads": -1,
        "filename": "kobert_transformers-0.5.1rc1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "f7aad9919e55fe92cf2043062dfebcba",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.6",
        "size": 12448,
        "upload_time": "2021-06-16T09:07:01",
        "upload_time_iso_8601": "2021-06-16T09:07:01.925482Z",
        "url": "https://files.pythonhosted.org/packages/3c/2c/b211dd166554838054041c2fae999ed31997b8faa8e2766309a202719a57/kobert_transformers-0.5.1rc1-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "0380cd9a474ebb3ed7e859b2e56fcc70be1b259e0d84b6506387446526409210",
          "md5": "f0ac21754e019d861e9267a6519560af",
          "sha256": "ebbdc8bec199262df8ac9559d6b90aa200e6485eaba11af1368307aa7415ec9c"
        },
        "downloads": -1,
        "filename": "kobert-transformers-0.5.1rc1.tar.gz",
        "has_sig": false,
        "md5_digest": "f0ac21754e019d861e9267a6519560af",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6",
        "size": 7808,
        "upload_time": "2021-06-16T09:07:03",
        "upload_time_iso_8601": "2021-06-16T09:07:03.489748Z",
        "url": "https://files.pythonhosted.org/packages/03/80/cd9a474ebb3ed7e859b2e56fcc70be1b259e0d84b6506387446526409210/kobert-transformers-0.5.1rc1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "ea69aa41197a950299eebc1e2991fdb6a7d8d2fa80fa1efe8b580bffddaf43af",
        "md5": "ba05b79a0e42fb03b3523a77ca4e5e38",
        "sha256": "aa7760853be5d1ec8ab600b11f1b6626123583c3c3f2f9adc36a5bd7b2e2f0ac"
      },
      "downloads": -1,
      "filename": "kobert_transformers-0.5.1-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "ba05b79a0e42fb03b3523a77ca4e5e38",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": ">=3.6",
      "size": 12411,
      "upload_time": "2021-06-16T09:09:15",
      "upload_time_iso_8601": "2021-06-16T09:09:15.099044Z",
      "url": "https://files.pythonhosted.org/packages/ea/69/aa41197a950299eebc1e2991fdb6a7d8d2fa80fa1efe8b580bffddaf43af/kobert_transformers-0.5.1-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "36043b41292198e1c7429c2104dcb05b8912ddb18582c8021b324d233313a807",
        "md5": "33625e69e5551325dbe9edbcb7151136",
        "sha256": "4aba0fa8f4f1eb477c5da91962090fcc958158d6e45bffe6e56e5d90c38bb578"
      },
      "downloads": -1,
      "filename": "kobert-transformers-0.5.1.tar.gz",
      "has_sig": false,
      "md5_digest": "33625e69e5551325dbe9edbcb7151136",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": ">=3.6",
      "size": 7792,
      "upload_time": "2021-06-16T09:09:16",
      "upload_time_iso_8601": "2021-06-16T09:09:16.527051Z",
      "url": "https://files.pythonhosted.org/packages/36/04/3b41292198e1c7429c2104dcb05b8912ddb18582c8021b324d233313a807/kobert-transformers-0.5.1.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}