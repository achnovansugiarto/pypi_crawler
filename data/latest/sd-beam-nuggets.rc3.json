{
  "info": {
    "author": "Rodrigo Gon√ßalves",
    "author_email": "rodrigoalvs.goncalves@gmail.com",
    "bugtrack_url": null,
    "classifiers": [
      "License :: OSI Approved :: MIT License",
      "Operating System :: OS Independent",
      "Programming Language :: Python"
    ],
    "description": "[![PyPI](https://img.shields.io/pypi/v/beam-nuggets.svg)](https://pypi.org/project/beam-nuggets/) [![PyPI - Downloads](https://img.shields.io/pypi/dm/beam-nuggets.svg)](https://pypi.org/project/beam-nuggets/)\n\n# About\nA collection of random transforms for the [Apache beam](https://beam.apache.org/) python SDK . Many are \nsimple transforms. The most useful ones are those for \nreading/writing from/to relational databases.\n# Installation\n* Using pip\n```bash\npip install beam-nuggets\n```\n* From source\n```bash\ngit clone git@github.com:mohaseeb/beam-nuggets.git\ncd beam-nuggets\npip install .\n```\n# Supported transforms\n### IO\n* [relational_db.ReadFromDB](http://mohaseeb.com/beam-nuggets/beam_nuggets.io.relational_db.html#beam_nuggets.io.relational_db.ReadFromDB) \nfor reading from relational database tables. \n* [relational_db.Write](http://mohaseeb.com/beam-nuggets/beam_nuggets.io.relational_db.html#beam_nuggets.io.relational_db.Write) \nfor writing to relational database tables.\n<br>Above transforms uses [SqlAlchemy](https://www.sqlalchemy.org/) to communicate with the database, \nand hence they can read from and write to all relational databases supported\n by SqlAlchemy. \nThe transforms [are tested](https://github.com/mohaseeb/beam-nuggets/tree/master/beam_nuggets/io/test) against PostgreSQL, MySQL and SQLite.\n* [kafkaio.KafkaProduce](http://mohaseeb.com/beam-nuggets/beam_nuggets.io.kafkaio.html#beam_nuggets.io.kafkaio.KafkaProduce) for writing to Kafka topics.\n* [kafkaio.KafkaConsume](http://mohaseeb.com/beam-nuggets/beam_nuggets.io.kafkaio.html#beam_nuggets.io.kafkaio.KafkaConsume) for consuming from kafka topics.\n* [csvio.Read](http://mohaseeb.com/beam-nuggets/beam_nuggets.io.csvio.html#beam_nuggets.io.csvio.Read)\nfor reading CSV files.\n<!--read from sql database-->\n<!--read from postgres postgresql-->\n<!--read from mysql-->\n<!--read from oracle-->\n<!--write to sql database-->\n<!--write to postgres postgresql-->\n<!--write to mysql-->\n<!--write to oracle-->\n<!--read from kafka topic-->\n<!--write to kafka topic-->\n### Others\n* [SelectFromNestedDict](http://mohaseeb.com/beam-nuggets/beam_nuggets.transforms.nested_dict.html#beam_nuggets.transforms.nested_dict.SelectFromNestedDict)\nSelects a subset from records formed of nested dictionaries.\n* [ParseJson](beam_nuggets.transforms.json_.html#beam_nuggets.transforms.json_.ParseJson)\n* [AssignUniqueId](beam_nuggets.transforms.json_.html#beam_nuggets.transforms.json_.ParseJson)\n# Documentation\nSee [here](http://mohaseeb.com/beam-nuggets/).\n# Usage\nWrite data to an SQLite table using beam-nugget's \n[relational_db.Write](http://mohaseeb.com/beam-nuggets/beam_nuggets.io.relational_db.html#beam_nuggets.io.relational_db.Write) transform.\n```python\n# write_sqlite.py contents\nimport apache_beam as beam\nfrom apache_beam.options.pipeline_options import PipelineOptions\nfrom beam_nuggets.io import relational_db\n\nrecords = [\n    {'name': 'Jan', 'num': 1},\n    {'name': 'Feb', 'num': 2}\n]\n\nsource_config = relational_db.SourceConfiguration(\n    drivername='sqlite',\n    database='/tmp/months_db.sqlite',\n    create_if_missing=True  # create the database if not there \n)\n\ntable_config = relational_db.TableConfiguration(\n    name='months',\n    create_if_missing=True,  # automatically create the table if not there\n    primary_key_columns=['num']  # and use 'num' column as primary key\n)\n\nwith beam.Pipeline(options=PipelineOptions()) as p:  # Will use local runner\n    months = p | \"Reading month records\" >> beam.Create(records)\n    months | 'Writing to DB' >> relational_db.Write(\n        source_config=source_config,\n        table_config=table_config\n    )\n```\nExecute the pipeline\n```bash\npython write_sqlite.py \n```\nExamine the contents\n```bash\nsqlite3 /tmp/months_db.sqlite 'select * from months'\n# output:\n# 1.0|Jan\n# 2.0|Feb\n```\nTo write the same data to a PostgreSQL table instead, just create a suitable \n[relational_db.SourceConfiguration](http://mohaseeb.com/beam-nuggets/beam_nuggets.io.relational_db_api.html#beam_nuggets.io.relational_db_api.SourceConfiguration) as follows.\n```python\nsource_config = relational_db.SourceConfiguration(\n    drivername='postgresql+pg8000',\n    host='localhost',\n    port=5432,\n    username='postgres',\n    password='password',\n    database='calendar',\n    create_if_missing=True  # create the database if not there \n)\n```\nClick [here](https://github.com/mohaseeb/beam-nuggets/tree/master/examples/dataflow/)\nfor more examples, including writing to PostgreSQL in Google Cloud Platform \nusing the DataFlowRunner. \n<br><br>\nAn example showing how you can use beam-nugget's [relational_db.ReadFromDB](http://mohaseeb.com/beam-nuggets/beam_nuggets.io.relational_db.html#beam_nuggets.io.relational_db.ReadFromDB) \ntransform to read from a PostgreSQL database table. \n```python\nfrom __future__ import print_function\nimport apache_beam as beam\nfrom apache_beam.options.pipeline_options import PipelineOptions\nfrom beam_nuggets.io import relational_db\n\nwith beam.Pipeline(options=PipelineOptions()) as p:\n    source_config = relational_db.SourceConfiguration(\n        drivername='postgresql+pg8000',\n        host='localhost',\n        port=5432,\n        username='postgres',\n        password='password',\n        database='calendar',\n    )\n    records = p | \"Reading records from db\" >> relational_db.ReadFromDB(\n        source_config=source_config,\n        table_name='months',\n        query='select num, name from months'  # optional. When omitted, all table records are returned. \n    )\n    records | 'Writing to stdout' >> beam.Map(print)\n```\nSee [here](https://github.com/mohaseeb/beam-nuggets/tree/master/examples) for more examples.\n# Development\n* Install\n```bash\ngit clone git@github.com:mohaseeb/beam-nuggets.git\ncd beam-nuggets\nexport BEAM_NUGGETS_ROOT=`pwd`\npip install -e .[dev]\n```\n* Make changes on dedicated dev branches\n* Run tests\n```bash\ncd $BEAM_NUGGETS_ROOT\npython -m unittest discover -v\n```\n* Generate docs\n```bash\ncd $BEAM_NUGGETS_ROOT\ndocs/generate_docs.sh\n```\n* Create a PR against master.\n* After merging the accepted PR and updating the local master, upload a new \nbuild to pypi.\n```bash\ncd $BEAM_NUGGETS_ROOT\nscripts/build_test_deploy.sh\n```\n# Backlog \n* versioned docs?\n* Summarize the investigation of using Source/Sink Vs ParDo(and GroupBy) for IO\n* more nuggets: WriteToCsv\n* Investigate readiness of SDF ParDo, and possibility to use for relational_db.ReadFromDB\n* integration tests\n* DB transforms failures handling on IO transforms\n* more nuggets: Elasticsearch, Mongo \n* WriteToRelationalDB, logging\n\n# Contributers\n[mohaseeb](https://github.com/mohaseeb), [astrocox](https://github.com/astrocox), [2514millerj](https://github.com/2514millerj)\n\n# Licence\nMIT\n\n\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/rodalgon/beam-nuggets",
    "keywords": "",
    "license": "",
    "maintainer": "",
    "maintainer_email": "",
    "name": "sd-beam-nuggets",
    "package_url": "https://pypi.org/project/sd-beam-nuggets/",
    "platform": "",
    "project_url": "https://pypi.org/project/sd-beam-nuggets/",
    "project_urls": {
      "Homepage": "https://github.com/rodalgon/beam-nuggets"
    },
    "release_url": "https://pypi.org/project/sd-beam-nuggets/0.15.3/",
    "requires_dist": [
      "apache-beam (<3.0.0,>=2.8.0)",
      "SQLAlchemy (<=1.3.15,>=1.3.14)",
      "sqlalchemy-utils (<0.34,>=0.33.11)",
      "pg8000 (<2.0.0,>=1.12.4)",
      "PyMySQL (<2.0.0,>=0.9.3)",
      "kafka (>===1.3.5)",
      "nose (<2.0.0,>=1.3.7) ; extra == 'dev'",
      "testing.postgresql (<2.0.0,>=1.3.0) ; extra == 'dev'",
      "testing.mysqld (<2.0.0,>=1.4.0) ; extra == 'dev'",
      "numpy (<2.0.0,>=1.15.4) ; extra == 'dev'",
      "pandas (<0.24,>=0.23.4) ; extra == 'dev'",
      "Sphinx (<2.0.0,>=1.8.3) ; extra == 'dev'",
      "sphinx-rtd-theme (<2.0.0,>=0.4.2) ; extra == 'dev'"
    ],
    "requires_python": "",
    "summary": "Collection of transforms for the Apache beam python SDK. Forks the original Mohamed Haseeb repository to make some workarounds",
    "version": "0.15.3",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 7497500,
  "releases": {
    "0.15.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "926909399e831d46360f1b1867e2a3e6022f76bba11320753d68cbcae5d152ae",
          "md5": "854ef80908ba05ae42798bb0fa1f6e13",
          "sha256": "9fe14d2fa053a0b50050baf0d3dac03d6b964fa9390a6287952c9ec722626d68"
        },
        "downloads": -1,
        "filename": "sd_beam_nuggets-0.15.1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "854ef80908ba05ae42798bb0fa1f6e13",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 24717,
        "upload_time": "2020-06-17T12:48:55",
        "upload_time_iso_8601": "2020-06-17T12:48:55.767877Z",
        "url": "https://files.pythonhosted.org/packages/92/69/09399e831d46360f1b1867e2a3e6022f76bba11320753d68cbcae5d152ae/sd_beam_nuggets-0.15.1-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "29c49c762361b8efa8c3cd66f7480880c18aa380cdf33f5c0ffe3934513f0a73",
          "md5": "782ce42681a409eb287d9c01bae30894",
          "sha256": "acf1b1d2f31c243a69e47d0c8368e6c357c4def0aa9ddaff6c622b4ed813173a"
        },
        "downloads": -1,
        "filename": "sd-beam-nuggets-0.15.1.tar.gz",
        "has_sig": false,
        "md5_digest": "782ce42681a409eb287d9c01bae30894",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 19624,
        "upload_time": "2020-06-17T12:48:58",
        "upload_time_iso_8601": "2020-06-17T12:48:58.463777Z",
        "url": "https://files.pythonhosted.org/packages/29/c4/9c762361b8efa8c3cd66f7480880c18aa380cdf33f5c0ffe3934513f0a73/sd-beam-nuggets-0.15.1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.15.2": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "fceb3fa12594f113b19584caaefd0ba861d5277b9844dcc08c518d6da4d7d2df",
          "md5": "83d4b3eab935e2b8ec8f04d27778dd9a",
          "sha256": "0ffc71ff38127be852fdcc3103f440c0f23eb21e241e8a896e13a20ab12be792"
        },
        "downloads": -1,
        "filename": "sd_beam_nuggets-0.15.2-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "83d4b3eab935e2b8ec8f04d27778dd9a",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 24726,
        "upload_time": "2020-06-17T14:12:19",
        "upload_time_iso_8601": "2020-06-17T14:12:19.966798Z",
        "url": "https://files.pythonhosted.org/packages/fc/eb/3fa12594f113b19584caaefd0ba861d5277b9844dcc08c518d6da4d7d2df/sd_beam_nuggets-0.15.2-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "dfd366e7672cf4421671b621c2767879a619d2af1770ed7e7431467e98211376",
          "md5": "a7b568768b2784997b1186afafdc6fdd",
          "sha256": "4c312e8f9388c85e5b083ba0211af706407c8c533f6b8f5dd21bbb1be1bd6d2f"
        },
        "downloads": -1,
        "filename": "sd-beam-nuggets-0.15.2.tar.gz",
        "has_sig": false,
        "md5_digest": "a7b568768b2784997b1186afafdc6fdd",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 19645,
        "upload_time": "2020-06-17T14:12:21",
        "upload_time_iso_8601": "2020-06-17T14:12:21.708087Z",
        "url": "https://files.pythonhosted.org/packages/df/d3/66e7672cf4421671b621c2767879a619d2af1770ed7e7431467e98211376/sd-beam-nuggets-0.15.2.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.15.3": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "04a3738282453fe49574a7d398798f298890358c58f24bba8da863fe91c9f056",
          "md5": "3e3684866a7383403babfd7578989b05",
          "sha256": "1ad3681a0c12499b5ed72ebfce277955d5dbb0289e8dd0785ec37b9c9aa3a37f"
        },
        "downloads": -1,
        "filename": "sd_beam_nuggets-0.15.3-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "3e3684866a7383403babfd7578989b05",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 24722,
        "upload_time": "2020-06-17T14:22:14",
        "upload_time_iso_8601": "2020-06-17T14:22:14.457717Z",
        "url": "https://files.pythonhosted.org/packages/04/a3/738282453fe49574a7d398798f298890358c58f24bba8da863fe91c9f056/sd_beam_nuggets-0.15.3-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "0ae3b75c23581cbe76f2f0d79bf356b4965a4bc5b5a127f11d2861569f8120b4",
          "md5": "1cd7228eb08965ce5a622c74c01ef22c",
          "sha256": "c77d7bf9079764fcc5619799a45b918cd0a7c77c949572cc5ec7e15667aec1cb"
        },
        "downloads": -1,
        "filename": "sd-beam-nuggets-0.15.3.tar.gz",
        "has_sig": false,
        "md5_digest": "1cd7228eb08965ce5a622c74c01ef22c",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 19655,
        "upload_time": "2020-06-17T14:22:16",
        "upload_time_iso_8601": "2020-06-17T14:22:16.018792Z",
        "url": "https://files.pythonhosted.org/packages/0a/e3/b75c23581cbe76f2f0d79bf356b4965a4bc5b5a127f11d2861569f8120b4/sd-beam-nuggets-0.15.3.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "04a3738282453fe49574a7d398798f298890358c58f24bba8da863fe91c9f056",
        "md5": "3e3684866a7383403babfd7578989b05",
        "sha256": "1ad3681a0c12499b5ed72ebfce277955d5dbb0289e8dd0785ec37b9c9aa3a37f"
      },
      "downloads": -1,
      "filename": "sd_beam_nuggets-0.15.3-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "3e3684866a7383403babfd7578989b05",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": null,
      "size": 24722,
      "upload_time": "2020-06-17T14:22:14",
      "upload_time_iso_8601": "2020-06-17T14:22:14.457717Z",
      "url": "https://files.pythonhosted.org/packages/04/a3/738282453fe49574a7d398798f298890358c58f24bba8da863fe91c9f056/sd_beam_nuggets-0.15.3-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "0ae3b75c23581cbe76f2f0d79bf356b4965a4bc5b5a127f11d2861569f8120b4",
        "md5": "1cd7228eb08965ce5a622c74c01ef22c",
        "sha256": "c77d7bf9079764fcc5619799a45b918cd0a7c77c949572cc5ec7e15667aec1cb"
      },
      "downloads": -1,
      "filename": "sd-beam-nuggets-0.15.3.tar.gz",
      "has_sig": false,
      "md5_digest": "1cd7228eb08965ce5a622c74c01ef22c",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": null,
      "size": 19655,
      "upload_time": "2020-06-17T14:22:16",
      "upload_time_iso_8601": "2020-06-17T14:22:16.018792Z",
      "url": "https://files.pythonhosted.org/packages/0a/e3/b75c23581cbe76f2f0d79bf356b4965a4bc5b5a127f11d2861569f8120b4/sd-beam-nuggets-0.15.3.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}