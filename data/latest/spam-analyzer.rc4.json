{
  "info": {
    "author": "",
    "author_email": "Matteo Spanio <matteo.spanio97@gmail.com>",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 3 - Alpha",
      "Intended Audience :: Developers",
      "License :: OSI Approved :: GNU General Public License v3 (GPLv3)",
      "Operating System :: OS Independent",
      "Programming Language :: Python :: 3.10",
      "Programming Language :: Python :: 3.11"
    ],
    "description": "<p style=\"display:flex;align-items:center;justify-content:center\">\n    <img src=\"http://matteospanio.me/assets/images/spam-detector-logo_transparent.png\" width=\"300px\" />\n</p>\n\n> A fast spam filter written in Python inspired by SpamAssassin integrated with machine learning.\n\n[![test workflow](https://github.com/matteospanio/spam-analyzer/actions/workflows/test.yml/badge.svg)](https://github.com/matteospanio/spam-analyzer/actions/workflows/test.yml/badge.svg)\n[![PyPI version](https://badge.fury.io/py/spam-analyzer.svg)](https://badge.fury.io/py/spam-analyzer)\n[![Python version](https://img.shields.io/badge/python-3.10%20%7C%203.11-blue)](https://img.shields.io/badge/python-3.10%20%7C%203.7%20%7C%203.11-blue)\n[![Downloads](https://pepy.tech/badge/spam-analyzer)](https://pepy.tech/project/spam-analyzer)\n[![Downloads](https://pepy.tech/badge/spam-analyzer/week)](https://pepy.tech/project/spam-analyzer/week)\n[![License: GPL v3](https://img.shields.io/badge/License-GPLv3-blue.svg)](https://www.gnu.org/licenses/gpl-3.0)\n[![CircleCI](https://circleci.com/gh/matteospanio/spam-analyzer.svg?style=svg)](https://circleci.com/gh/matteospanio/spam-analyzer)\n[![Coverage Status](https://coveralls.io/repos/github/matteospanio/spam-analyzer/badge.svg?branch=master)](https://coveralls.io/github/matteospanio/spam-analyzer?branch=master)\n\n# Table of Contents\n\n- [Table of Contents](#table-of-contents)\n- [What is Spam Analyzer?](#what-is-spam-analyzer)\n- [Installation](#installation)\n- [Usage](#usage)\n  * [CLI](#cli)\n  * [Python](#python)\n- [Contributing](#contributing)\n- [License](#license)\n\n\n# What is spam-analyzer?\n\nspam-analyzer is a CLI (Command Line Interface) application that aims be a viable alternative to spam filter services.\n\nThis program can classify the email given in inputs in spam or non-spam using a machine learning algorithm (Random Forest), the model is trained using a dataset of 19900 emails. Anyway it could be wrong sometimes, if you want to improve the accuracy of the model you can train it with your persolized dataset.\n\nThe main features of spam-analyzer are:\n\n1. spam recognition with the option to display a detailed analysis of the email\n2. JSON output\n3. it can be used as a library in your Python project to extract features from an email\n4. it is written in Python with its most modern features to ensure software correctness\n\n## What is spam and how does spam-analyzer know it?\n\nThe analysis takes in consideration the following main aspects:\n- the headers of the email\n- the body of the email\n- the attachments of the email\n\nThe most significant parts are the headers and the body of the email. The headers are analyzed to extract the following features:\n- SPF (Sender Policy Framework)\n- DKIM (DomainKeys Identified Mail)\n- DMARC (Domain-based Message Authentication, Reporting & Conformance)\n- If the sender domain is the same as the first in received headers\n- The subject of the email\n- The send date\n- If the send date is compliant to the RFC 2822 and if it was sent from a valid time zone\n- The date of the first received header\n\nWhile the body is analyzed to extract the following features:\n- If there are links\n- If there are images\n- If links are only http or https\n- The percentage of the body that is written in uppercase\n- The percentage of the body that contains blacklisted words\n- The polarity of the body calculated with TextBlob\n- The subjectivity of the body calculated with TextBlob\n- If it contains mailto links\n- If it contains javascript code\n- If it contains html code\n- If it contains html forms\n\nAbout attachments we only know if they are present or not and if they are executable files.\n\nThe task could be solved in a programmatic way, chaining a long set of `if` statements based on the features extracted from the email. However, this approach is not scalable and it is not easy to maintain. Moreover, it is not possible to improve the accuracy of the model without changing the code and, the most important, the analysis would be based on the conaissance of the programmer and not on the data. Since we live in the data era, we should use the data to solve the problem, not the programmer's knowledge. So I decided to use a machine learning algorithm to solve the problem using all the features extracted from the email.\n\n# Installation\n\nspam-analyzer is available on PyPI, so you can install it with pip:\n\n```bash\npip install spam-analyzer\n```\n\nFor the latest version, you can install it from the source code:\n\n```bash\ngit clone https://github.com/matteospanio/spam-analyzer.git\ncd spam-analyzer\npip install .\n```\n\n# Usage\n\n## CLI\n\nspam-analyzer can be used as a CLI application:\n\n```\nusage: spam-analyzer [-h] -f FILE [-l WORDLIST] [-v] [-V] [-fmt FORMAT] [-o FILE] [--destination-dir DIRECTORY]\n\nA simple program to analyzer emails\n\noptions:\n  -h, --help            show this help message and exit\n  -f FILE, --file FILE  The file or directory to analyze\n  -l WORDLIST, --wordlist WORDLIST\n                        A file containing the spam wordlist\n  -v, --verbose         More program output\n  -V, --version         Show program version\n  -fmt FORMAT, --output-format FORMAT\n                        Format output in a different way\n  -o FILE, --output-file FILE\n                        Write output to a file (works only for json format)\n  --destination-dir DIRECTORY\n                        The directory where copy your classified emails\n```\n\n-  `spam-analyzer -f <file>`: classify the email given in input\n-  `spam-analyzer -f <file> -v`: classify the email given in input and display a detailed analysis[^1]\n-  `spam-analyzer -f <file> -fmt json`: classify the email given in input and display the result in JSON format (useful for integration with other programs)\n-  `spam-analyzer -f <file> -fmt json -o <file>`: classify the email given in input and write the result in JSON format in the file given in input[^2]\n-  `spam-analyzer -f <file> -l <file>`: classify the email given in input using the wordlist given in input\n-  `spam-analyzer -f <directory> --destination-dir <directory>`: classify all the emails in the directory given in input and copy them in the directory given in input splitted in spam and non-spam folders\n\n### Configuration\n\n`spam-analyzer` is thought to be highly configurable: on its first execution it will create a configuration file in `~/.config/spamanalyzer/` with some other default files. You can change the configuration file to customize the behavior of the program. At the moment of writing there are only paths to the wordlist and the model, but in the future there will be more options (e.g. senders blacklist and whitelist, a default path where to copy classified emails,...).\n\n[^1]: The `--verbose` option is available only for the first use case, it will not work in combination with the `--output-format` option.\n\n[^2]: You should use the `--output-file` instead of the `>` operator to write the output in a file, because the `spam-analyzer` program prints some other information on the standard output while processing the email(s).\n\n## Python\n\n```python\nfrom spamanalyzer import MailAnalyzer\n\nanalyzer = MailAnalyzer(wordlist_path=\"path/to/wordlist.txt\")\nanalysis = analyzer.analyze(\"path/to/email.txt\")\n```\n\nThe `spamanalyzer` library provides a really simple interface to extract features from an email. The `MailAnalyzer` class provides the `analyze` method that takes in input the path to the email and returns a `MailAnalysis` object containing the analysis of the email.\n\nFurthermore, the `MailAnalysis` class provides the `is_spam` method that returns `True` if the email is spam, `False` otherwise. Further examples are available in the folder `examples` of the source code.\n\n# Contributing\n\nContributions are welcome! Please read the [contribution guidelines](CONTRIBUTING.md) first.\n\n# License\n\nspam-analyzer is licensed under the [GPLv3](LICENSE) license.\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "",
    "keywords": "spam,spam-analyzer,cybersecurity",
    "license": "",
    "maintainer": "",
    "maintainer_email": "",
    "name": "spam-analyzer",
    "package_url": "https://pypi.org/project/spam-analyzer/",
    "platform": null,
    "project_url": "https://pypi.org/project/spam-analyzer/",
    "project_urls": {
      "homepage": "http://matteospanio.me/spam-analyzer/",
      "repository": "https://github.com/matteospanio/spam-analyzer"
    },
    "release_url": "https://pypi.org/project/spam-analyzer/0.1.0/",
    "requires_dist": [
      "attrs (==22.1.0)",
      "beautifulsoup4 (==4.11.1)",
      "bleach (==5.0.1)",
      "bs4 (==0.0.1)",
      "build (==0.9.0)",
      "certifi (==2022.12.7)",
      "cffi (==1.15.1)",
      "charset-normalizer (==2.1.1)",
      "click (==8.1.3)",
      "commonmark (==0.9.1)",
      "coverage (==6.5.0)",
      "coveralls (==3.3.1)",
      "cryptography (==38.0.3)",
      "dnspython (==2.2.1)",
      "docopt (==0.6.2)",
      "docutils (==0.19)",
      "exceptiongroup (==1.0.1)",
      "idna (==3.4)",
      "importlib-metadata (==5.0.0)",
      "iniconfig (==1.1.1)",
      "jaraco.classes (==3.2.3)",
      "jeepney (==0.8.0)",
      "Jinja2 (==3.1.2)",
      "joblib (==1.2.0)",
      "keyring (==23.11.0)",
      "mail-parser (==3.15.0)",
      "MarkupSafe (==2.1.1)",
      "more-itertools (==9.0.0)",
      "nltk (==3.7)",
      "numpy (==1.23.5)",
      "packaging (==21.3)",
      "pandas (==1.5.2)",
      "pdoc (==12.3.0)",
      "pep517 (==0.13.0)",
      "pkginfo (==1.8.3)",
      "pluggy (==1.0.0)",
      "pycparser (==2.21)",
      "Pygments (==2.13.0)",
      "pyparsing (==3.0.9)",
      "pytest (==7.2.0)",
      "pytest-cov (==4.0.0)",
      "python-dateutil (==2.8.2)",
      "pytz (==2022.6)",
      "PyYAML (==6.0)",
      "readme-renderer (==37.3)",
      "regex (==2022.10.31)",
      "requests (==2.28.1)",
      "requests-toolbelt (==0.10.1)",
      "rfc3986 (==2.0.0)",
      "rich (==12.6.0)",
      "scikit-learn (==1.1.2)",
      "scipy (==1.9.3)",
      "SecretStorage (==3.3.3)",
      "simplejson (==3.17.6)",
      "six (==1.16.0)",
      "soupsieve (==2.3.2.post1)",
      "textblob (==0.17.1)",
      "threadpoolctl (==3.1.0)",
      "toml (==0.10.2)",
      "tomli (==2.0.1)",
      "tqdm (==4.64.1)",
      "twine (==4.0.1)",
      "urllib3 (==1.26.12)",
      "webencodings (==0.5.1)",
      "yapf (==0.32.0)",
      "zipp (==3.10.0)"
    ],
    "requires_python": ">=3.10",
    "summary": "A simple email analyzer",
    "version": "0.1.0",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 16053554,
  "releases": {
    "0.0.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "8aec4bdbb53eaabc49f937f4aa2d0390e098788e42d3a7a55223ad73ca622a59",
          "md5": "6d892ec4c93b67dc1ad903cbac574232",
          "sha256": "0d3899f5ee8342f6889eced3198d329a16bfcac7c60d8a6592d19b774f7229ac"
        },
        "downloads": -1,
        "filename": "spam_analyzer-0.0.1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "6d892ec4c93b67dc1ad903cbac574232",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.10",
        "size": 11861642,
        "upload_time": "2022-11-26T23:15:29",
        "upload_time_iso_8601": "2022-11-26T23:15:29.934461Z",
        "url": "https://files.pythonhosted.org/packages/8a/ec/4bdbb53eaabc49f937f4aa2d0390e098788e42d3a7a55223ad73ca622a59/spam_analyzer-0.0.1-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "595a4412d839f85c76bc82cf899da76ed548a16a3d350a57a3fb196eb3381e2a",
          "md5": "bec653a2be084bf60c95029d64b2752b",
          "sha256": "326d0bd6803fd7fabe487ee7005a5fe15dfe7d4163437e2624b10e74fd9c9738"
        },
        "downloads": -1,
        "filename": "spam-analyzer-0.0.1.tar.gz",
        "has_sig": false,
        "md5_digest": "bec653a2be084bf60c95029d64b2752b",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.10",
        "size": 11363671,
        "upload_time": "2022-11-26T23:16:07",
        "upload_time_iso_8601": "2022-11-26T23:16:07.096938Z",
        "url": "https://files.pythonhosted.org/packages/59/5a/4412d839f85c76bc82cf899da76ed548a16a3d350a57a3fb196eb3381e2a/spam-analyzer-0.0.1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.0.2": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "b9107dd556cc314191167aa8d13e4daeca9b2cf73931a7b59840bd81a0757003",
          "md5": "785c201dca81394c9e9f0e74fe258024",
          "sha256": "cefb1f26ab400b92514b07bdc4786ea1fbed804f2ccb7cb1a128ca5aef0f667e"
        },
        "downloads": -1,
        "filename": "spam_analyzer-0.0.2-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "785c201dca81394c9e9f0e74fe258024",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.10",
        "size": 11862494,
        "upload_time": "2022-11-27T11:02:13",
        "upload_time_iso_8601": "2022-11-27T11:02:13.841732Z",
        "url": "https://files.pythonhosted.org/packages/b9/10/7dd556cc314191167aa8d13e4daeca9b2cf73931a7b59840bd81a0757003/spam_analyzer-0.0.2-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "b8c994c4719a50d86697233656c0bdef34e2c2c52b389dbf143cdfa9137245ce",
          "md5": "48d397896f9a15a197671b7fe89966b3",
          "sha256": "06b728e459f10139c3015ae459715f5a435661919f5b254b92849b8e1de8e8f4"
        },
        "downloads": -1,
        "filename": "spam-analyzer-0.0.2.tar.gz",
        "has_sig": false,
        "md5_digest": "48d397896f9a15a197671b7fe89966b3",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.10",
        "size": 11364809,
        "upload_time": "2022-11-27T11:02:48",
        "upload_time_iso_8601": "2022-11-27T11:02:48.694726Z",
        "url": "https://files.pythonhosted.org/packages/b8/c9/94c4719a50d86697233656c0bdef34e2c2c52b389dbf143cdfa9137245ce/spam-analyzer-0.0.2.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.0.3": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "768039cc72b69f1bdc11da4e763d6b24acdf284909547373598b9a32999f9f4e",
          "md5": "b2e169be78fcda5875643a5a5602d515",
          "sha256": "92c201630319f4f3095f354bfc618e4d7f024485218ab7add49264bb96439591"
        },
        "downloads": -1,
        "filename": "spam_analyzer-0.0.3-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "b2e169be78fcda5875643a5a5602d515",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.10",
        "size": 11862726,
        "upload_time": "2022-12-09T18:55:02",
        "upload_time_iso_8601": "2022-12-09T18:55:02.519930Z",
        "url": "https://files.pythonhosted.org/packages/76/80/39cc72b69f1bdc11da4e763d6b24acdf284909547373598b9a32999f9f4e/spam_analyzer-0.0.3-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "51db308f0819150c98287703463b15e830312acc1f95981d75799d3e68c7165e",
          "md5": "a89e86052559134ea3e94b58a038fea1",
          "sha256": "af4d567b7c958af8e4f59d4c71b00f27e70f11bfdf0bb1e3ecbdca8283873074"
        },
        "downloads": -1,
        "filename": "spam-analyzer-0.0.3.tar.gz",
        "has_sig": false,
        "md5_digest": "a89e86052559134ea3e94b58a038fea1",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.10",
        "size": 11365368,
        "upload_time": "2022-12-09T18:55:36",
        "upload_time_iso_8601": "2022-12-09T18:55:36.897794Z",
        "url": "https://files.pythonhosted.org/packages/51/db/308f0819150c98287703463b15e830312acc1f95981d75799d3e68c7165e/spam-analyzer-0.0.3.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.1.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "8596683b793ec5d6fe230eadba28f6f25007027808b79296184337e1771f6547",
          "md5": "4988e4a8b07ff9dbe50ce1ae11743cc0",
          "sha256": "81b0296a0122e0d073387c5377f0bcf597e6b0bcfb440843a2e22eb96ec03a52"
        },
        "downloads": -1,
        "filename": "spam_analyzer-0.1.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "4988e4a8b07ff9dbe50ce1ae11743cc0",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.10",
        "size": 11862982,
        "upload_time": "2022-12-09T22:09:17",
        "upload_time_iso_8601": "2022-12-09T22:09:17.570324Z",
        "url": "https://files.pythonhosted.org/packages/85/96/683b793ec5d6fe230eadba28f6f25007027808b79296184337e1771f6547/spam_analyzer-0.1.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "97ed0d1d0e7ede0a806b17462535ffe82770d938387cb43ff2f30d52ee5cc33b",
          "md5": "4d363a064fd27453fb779311430ab794",
          "sha256": "2395cf47c70b0a7e9c239d7fd789083b5004793fcc55ea956fe5d47048a28d0d"
        },
        "downloads": -1,
        "filename": "spam-analyzer-0.1.0.tar.gz",
        "has_sig": false,
        "md5_digest": "4d363a064fd27453fb779311430ab794",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.10",
        "size": 11365587,
        "upload_time": "2022-12-09T22:12:05",
        "upload_time_iso_8601": "2022-12-09T22:12:05.690041Z",
        "url": "https://files.pythonhosted.org/packages/97/ed/0d1d0e7ede0a806b17462535ffe82770d938387cb43ff2f30d52ee5cc33b/spam-analyzer-0.1.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "8596683b793ec5d6fe230eadba28f6f25007027808b79296184337e1771f6547",
        "md5": "4988e4a8b07ff9dbe50ce1ae11743cc0",
        "sha256": "81b0296a0122e0d073387c5377f0bcf597e6b0bcfb440843a2e22eb96ec03a52"
      },
      "downloads": -1,
      "filename": "spam_analyzer-0.1.0-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "4988e4a8b07ff9dbe50ce1ae11743cc0",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": ">=3.10",
      "size": 11862982,
      "upload_time": "2022-12-09T22:09:17",
      "upload_time_iso_8601": "2022-12-09T22:09:17.570324Z",
      "url": "https://files.pythonhosted.org/packages/85/96/683b793ec5d6fe230eadba28f6f25007027808b79296184337e1771f6547/spam_analyzer-0.1.0-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "97ed0d1d0e7ede0a806b17462535ffe82770d938387cb43ff2f30d52ee5cc33b",
        "md5": "4d363a064fd27453fb779311430ab794",
        "sha256": "2395cf47c70b0a7e9c239d7fd789083b5004793fcc55ea956fe5d47048a28d0d"
      },
      "downloads": -1,
      "filename": "spam-analyzer-0.1.0.tar.gz",
      "has_sig": false,
      "md5_digest": "4d363a064fd27453fb779311430ab794",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": ">=3.10",
      "size": 11365587,
      "upload_time": "2022-12-09T22:12:05",
      "upload_time_iso_8601": "2022-12-09T22:12:05.690041Z",
      "url": "https://files.pythonhosted.org/packages/97/ed/0d1d0e7ede0a806b17462535ffe82770d938387cb43ff2f30d52ee5cc33b/spam-analyzer-0.1.0.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}