{
  "info": {
    "author": "",
    "author_email": "Alain <afer921@mailfence.com>",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 5 - Production/Stable",
      "Intended Audience :: Developers",
      "Intended Audience :: End Users/Desktop",
      "License :: OSI Approved :: MIT License",
      "Operating System :: OS Independent",
      "Programming Language :: Python :: 3.10",
      "Programming Language :: Python :: 3.9",
      "Topic :: Home Automation"
    ],
    "description": "# xiaomipassive\nLYWSD02, LYWSD03MMC (custom firmware ATC) and MiFlora passive scanner\n## Installation\n```\ngit clone https://github.com/afer92/xiaomipassive.git\ncd xiaomipassive\npip3 install .\n```\n## Command line tool\n```\nxiaomipassivec\n```\nOutput:\n```\nmac: 80:EA:CA:89:xx:yy conductivity:   54 µS/cm (2023-02-26T00:42:25)\nmac: C4:7C:8D:64:xx:yyconductivity:  837 µS/cm (2023-02-26T00:42:25)\nmac: C4:7C:8D:6C:xx:yy light:          26 lux   (2023-02-26T00:42:26)\n...\nA4:C1:38:09:xx:yy ATC_0990AB\n=================\nmac: A4:C1:38:09:xx:yyB rssi:          -35 dBm   (2023-02-26T00:42:39)\nmac: A4:C1:38:09:xx:yy temperature:  21.6 °C    (2023-02-26T00:42:39)\nmac: A4:C1:38:09:xx:yy moisture:       32 %     (2023-02-26T00:42:39)\nmac: A4:C1:38:09:xx:yyB battery:        93 %     (2023-02-26T00:42:39)\nmac: A4:C1:38:09:xx:yy volt:         3.04 V     (2023-02-26T00:42:39)\n```\n## class XiaomiPassiveScanner\n```Python\nloop = asyncio.get_event_loop()\nscanner = XiaomiPassiveScanner(loop, callback, timeout_seconds=240)\n```\n### callback\nFunction call at each received advertissement\n```Python\ndef callback(self, data):\n    print(self.dump_result(data))\n```\nOutput:\n```\nmac: C4:7C:8D:65:xx:yy conductivity: 376 µS/cm\nmac: 80:EA:CA:89:xx:yy light:        283 lux\nmac: 15:03:10:12:xx:yy moisture:     47.0 %\nmac: C4:7C:8D:65:xx:yy temperature:  20.8 °C\nmac: E7:2E:01:71:xx:yy battery:      18 %\n```\nFunction **dump_result** format the data decoded in an advertisement\n\nDictionnary **data**:\n```Python\n{'ok': True,\n 'mac': 'C4:7C:8D:6C:xx:yy',\n 'sensor': 4100,\n 'stype': 'temperature',\n 'svalue': ListContainer([123, 0]),\n 'typeCst': ListContainer([113, 32, 152, 0]),\n 'num': 247,\n 'tab': 13,\n 'name': 'Flower care',\n 'rssi': -87,\n 'value': 12.3\n }\n```\n### timeout_seconds\nScan for **timeout_seconds**, default=240s\n### devices\nAfter **timeout_seconds** scanning, data collected for each mac address\n\nFunction **dump_device(mac)** format the data for one mac address\n```\nE7:2E:01:71:xx:yy LYWSD02\n=================\nmac: E7:2E:01:71:xx:yy rssi:          -93 dBm   (2023-02-24T19:34:19)\nmac: E7:2E:01:71:xx:yy moisture:     47.0 %     (2023-02-24T19:32:44)\nmac: E7:2E:01:71:xx:yy temperature:  20.6 °C    (2023-02-24T19:34:18)\nmac: E7:2E:01:71:xx:yy battery:        18 %     (2023-02-24T19:33:37)\n\nC4:7C:8D:65:B1:1D Flower care\n=================\nmac: C4:7C:8D:65:xx:yy rssi:          -81 dBm   (2023-02-24T19:34:19)\nmac: C4:7C:8D:65:xx:yy light:         118 lux   (2023-02-24T19:33:41)\nmac: C4:7C:8D:65:xx:yy moisture:       21 %     (2023-02-24T19:33:52)\nmac: C4:7C:8D:65:xx:yy conductivity:  309 µS/cm (2023-02-24T19:34:04)\nmac: C4:7C:8D:65:xx:yy temperature:  20.7 °C    (2023-02-24T19:34:15)\n```\n\n## Example\n```Python\n#!/usr/bin/python3\n\nfrom xiaomipassive import xiaomipassive as xiaomi\nimport asyncio\n\ndef main():\n\n    def callback(self, result):\n        print(self.dump_result(result))\n\n    def get_data():\n        loop = asyncio.get_event_loop()\n        scanner = xiaomi.XiaomiPassiveScanner\n        miflora_scanner = scanner(loop, callback, timeout_seconds=240)\n        try:\n            loop.run_until_complete(miflora_scanner.run())\n        except KeyboardInterrupt as err:\n            print(err)\n\n        for mac, device in miflora_scanner.xdevices.items():\n            print(device)\n\n    get_data()\n\n\nif __name__ == '__main__':\n    exit(main())\n```\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "",
    "keywords": "home,automation,xiaomi,LYWSD02,LYWSD03,Flower care",
    "license": "MIT License",
    "maintainer": "",
    "maintainer_email": "",
    "name": "xiaomipassive",
    "package_url": "https://pypi.org/project/xiaomipassive/",
    "platform": null,
    "project_url": "https://pypi.org/project/xiaomipassive/",
    "project_urls": {
      "Bug Tracker": "https://github.com/afer92/xiaomipassive/issues",
      "Homepage": "https://github.com/afer92/xiaomipassive"
    },
    "release_url": "https://pypi.org/project/xiaomipassive/2023.2.6/",
    "requires_dist": [
      "bleak",
      "construct",
      "pip (>=21.0)"
    ],
    "requires_python": ">=3.9.0",
    "summary": "MiFlora and LYWSD02 passive scanner",
    "version": "2023.2.6",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 17250010,
  "releases": {
    "2023.2.0.dev0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "70c0a4b8b06b673eca0713c5aab48c097233d961735c40df375537980b5aafdc",
          "md5": "ef911df8e176988d99ce7e9120d10025",
          "sha256": "fd86c7a419fb28d7798f0b5e62cfda77ef3340e3b8efa8fb8656b94fd1af4c3c"
        },
        "downloads": -1,
        "filename": "xiaomipassive-2023.2.0.dev0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "ef911df8e176988d99ce7e9120d10025",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.9.0",
        "size": 4966,
        "upload_time": "2023-02-22T14:09:55",
        "upload_time_iso_8601": "2023-02-22T14:09:55.677884Z",
        "url": "https://files.pythonhosted.org/packages/70/c0/a4b8b06b673eca0713c5aab48c097233d961735c40df375537980b5aafdc/xiaomipassive-2023.2.0.dev0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "e7e7e0fa8b9cadb9a4bf0a552576878b73a27da3b8d3af99c0d7558f4f65cc9f",
          "md5": "8d0bb41fefadae51bb7f817ea53913a1",
          "sha256": "455dc446193b4cc7bdd32911ab6d0b0c83e0e6af4104c484fd3094be8a7081fd"
        },
        "downloads": -1,
        "filename": "xiaomipassive-2023.2.0.dev0.tar.gz",
        "has_sig": false,
        "md5_digest": "8d0bb41fefadae51bb7f817ea53913a1",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.9.0",
        "size": 5093,
        "upload_time": "2023-02-22T14:09:57",
        "upload_time_iso_8601": "2023-02-22T14:09:57.337830Z",
        "url": "https://files.pythonhosted.org/packages/e7/e7/e0fa8b9cadb9a4bf0a552576878b73a27da3b8d3af99c0d7558f4f65cc9f/xiaomipassive-2023.2.0.dev0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "2023.2.1.dev0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "faf1c19944d661c97321af09771b4b410e18400a07407d61212c8c9dd8f0e763",
          "md5": "aa89d66884a80122bce9706ced7057c0",
          "sha256": "15414c7a6059aa8bf5abbfe6dc45530823678762fe2f398ae21f871c19d6111d"
        },
        "downloads": -1,
        "filename": "xiaomipassive-2023.2.1.dev0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "aa89d66884a80122bce9706ced7057c0",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.9.0",
        "size": 6390,
        "upload_time": "2023-02-23T14:11:08",
        "upload_time_iso_8601": "2023-02-23T14:11:08.930642Z",
        "url": "https://files.pythonhosted.org/packages/fa/f1/c19944d661c97321af09771b4b410e18400a07407d61212c8c9dd8f0e763/xiaomipassive-2023.2.1.dev0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "39d8cfcc85804e22afe9cb53d10e421999fd16a2dbcc6cdb4adfefc80c62c0a8",
          "md5": "a18b5481dcfb352c1712d8b8230c601c",
          "sha256": "06d73ab09bf996d619b2f05103fc596ab7a06cbb23dfef095ad548cd34f57014"
        },
        "downloads": -1,
        "filename": "xiaomipassive-2023.2.1.dev0.tar.gz",
        "has_sig": false,
        "md5_digest": "a18b5481dcfb352c1712d8b8230c601c",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.9.0",
        "size": 5654,
        "upload_time": "2023-02-23T14:11:10",
        "upload_time_iso_8601": "2023-02-23T14:11:10.443442Z",
        "url": "https://files.pythonhosted.org/packages/39/d8/cfcc85804e22afe9cb53d10e421999fd16a2dbcc6cdb4adfefc80c62c0a8/xiaomipassive-2023.2.1.dev0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "2023.2.1.dev1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "098e3a2d15a23b65caca0ca403af6d2a15e926687be4cb34affae35cb3ad5a89",
          "md5": "87e459d9cc2c10673c3068adb718a663",
          "sha256": "4ea0cb10ebf78697d39daf16ce4121687f662ae4b08d7c0c352c91608d948640"
        },
        "downloads": -1,
        "filename": "xiaomipassive-2023.2.1.dev1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "87e459d9cc2c10673c3068adb718a663",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.9.0",
        "size": 7051,
        "upload_time": "2023-02-24T19:37:25",
        "upload_time_iso_8601": "2023-02-24T19:37:25.317373Z",
        "url": "https://files.pythonhosted.org/packages/09/8e/3a2d15a23b65caca0ca403af6d2a15e926687be4cb34affae35cb3ad5a89/xiaomipassive-2023.2.1.dev1-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "b58f4d35fe519cf9daabf40f01f93076215b358cd511a478f8436f50ea07d41a",
          "md5": "1a1dde73dc5879c726c1133b90f3dcec",
          "sha256": "aef46cf4016f0b67d1e4624e4cf6bbacca4a4e30976f20eaa59f47f897337730"
        },
        "downloads": -1,
        "filename": "xiaomipassive-2023.2.1.dev1.tar.gz",
        "has_sig": false,
        "md5_digest": "1a1dde73dc5879c726c1133b90f3dcec",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.9.0",
        "size": 7083,
        "upload_time": "2023-02-24T19:37:27",
        "upload_time_iso_8601": "2023-02-24T19:37:27.121196Z",
        "url": "https://files.pythonhosted.org/packages/b5/8f/4d35fe519cf9daabf40f01f93076215b358cd511a478f8436f50ea07d41a/xiaomipassive-2023.2.1.dev1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "2023.2.2.dev0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "60cc7024fe20fa3c68ebce25b516f3390741a8630fa6478db75ac6e8e31a8d91",
          "md5": "f96b48cf57c8e97a5cf1ec182fd93209",
          "sha256": "c14e7da9d0d00cf4d95dc8f03a391ec03e55381c5e5d13adaea1a52c482c5fe5"
        },
        "downloads": -1,
        "filename": "xiaomipassive-2023.2.2.dev0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "f96b48cf57c8e97a5cf1ec182fd93209",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.9.0",
        "size": 7091,
        "upload_time": "2023-02-25T08:01:13",
        "upload_time_iso_8601": "2023-02-25T08:01:13.969080Z",
        "url": "https://files.pythonhosted.org/packages/60/cc/7024fe20fa3c68ebce25b516f3390741a8630fa6478db75ac6e8e31a8d91/xiaomipassive-2023.2.2.dev0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "9c7b93777884ce5b668afa874009841c4a9307d246816c1c5382b9e7cacbf821",
          "md5": "063bfb2ff46d8761bab849428241be63",
          "sha256": "3f2cfe7ea13b658bf37f08e77f0f95dfeefce5f5a5f3963c8ec393222a2fbbbf"
        },
        "downloads": -1,
        "filename": "xiaomipassive-2023.2.2.dev0.tar.gz",
        "has_sig": false,
        "md5_digest": "063bfb2ff46d8761bab849428241be63",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.9.0",
        "size": 7153,
        "upload_time": "2023-02-25T08:01:16",
        "upload_time_iso_8601": "2023-02-25T08:01:16.069913Z",
        "url": "https://files.pythonhosted.org/packages/9c/7b/93777884ce5b668afa874009841c4a9307d246816c1c5382b9e7cacbf821/xiaomipassive-2023.2.2.dev0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "2023.2.4.dev0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "92459b42c5a17324e5317da286c8da5df5f060d98ac49cbbef12483caf37483d",
          "md5": "5eb758a1115c8d08b883cb4c401bea6d",
          "sha256": "b16ef8acf69c36d53cc82f58b20be7f5df73e2a22be7901b8dd78fa6d7e17f37"
        },
        "downloads": -1,
        "filename": "xiaomipassive-2023.2.4.dev0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "5eb758a1115c8d08b883cb4c401bea6d",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.9.0",
        "size": 7770,
        "upload_time": "2023-02-26T08:44:39",
        "upload_time_iso_8601": "2023-02-26T08:44:39.785456Z",
        "url": "https://files.pythonhosted.org/packages/92/45/9b42c5a17324e5317da286c8da5df5f060d98ac49cbbef12483caf37483d/xiaomipassive-2023.2.4.dev0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "579d16bd4df02e498b441d0addcc87a04a61e01a95a988b8d2a35c4ffd4d3080",
          "md5": "1a3a6430c4fd2aa6ce6468257e0bdbe7",
          "sha256": "3a140253418b0985ec9bfb77826e69e95875fa923991e5ac21f17cd7793fb7ca"
        },
        "downloads": -1,
        "filename": "xiaomipassive-2023.2.4.dev0.tar.gz",
        "has_sig": false,
        "md5_digest": "1a3a6430c4fd2aa6ce6468257e0bdbe7",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.9.0",
        "size": 7793,
        "upload_time": "2023-02-26T08:44:41",
        "upload_time_iso_8601": "2023-02-26T08:44:41.477182Z",
        "url": "https://files.pythonhosted.org/packages/57/9d/16bd4df02e498b441d0addcc87a04a61e01a95a988b8d2a35c4ffd4d3080/xiaomipassive-2023.2.4.dev0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "2023.2.5.dev0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "8bc89ee312257f20672068f0a9ddf7b1b2a4a115fb51bfe7afcabaf47dadecec",
          "md5": "d19ea2ff94da3f2a6da1c76943dc2960",
          "sha256": "3bee283dcb123694f92c92e2010ab35e388b216730c0680c065a0a7ac20da431"
        },
        "downloads": -1,
        "filename": "xiaomipassive-2023.2.5.dev0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "d19ea2ff94da3f2a6da1c76943dc2960",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.9.0",
        "size": 10287,
        "upload_time": "2023-02-26T22:49:48",
        "upload_time_iso_8601": "2023-02-26T22:49:48.600238Z",
        "url": "https://files.pythonhosted.org/packages/8b/c8/9ee312257f20672068f0a9ddf7b1b2a4a115fb51bfe7afcabaf47dadecec/xiaomipassive-2023.2.5.dev0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "c864bd41f467262ecd1c59f744780fe9c6db2f89fb773ed006bcb171ed762df9",
          "md5": "f0131c4df81695ef56f605850255fb7c",
          "sha256": "38bb8d3f28388bf288e00888419bef3ae1edd10a1271b511516a2d8b563017b5"
        },
        "downloads": -1,
        "filename": "xiaomipassive-2023.2.5.dev0.tar.gz",
        "has_sig": false,
        "md5_digest": "f0131c4df81695ef56f605850255fb7c",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.9.0",
        "size": 9944,
        "upload_time": "2023-02-26T22:49:50",
        "upload_time_iso_8601": "2023-02-26T22:49:50.392633Z",
        "url": "https://files.pythonhosted.org/packages/c8/64/bd41f467262ecd1c59f744780fe9c6db2f89fb773ed006bcb171ed762df9/xiaomipassive-2023.2.5.dev0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "2023.2.6": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "581311fb9dfdcfbcc8341f92b25506d7d6f3f734cae21c6ddf12082d129c5efc",
          "md5": "a27726b594a1b290dcd306ced8ccc71b",
          "sha256": "188396d48791e7b3323f7079309beca6c24e2e44695787ee9db3f3495df1eddd"
        },
        "downloads": -1,
        "filename": "xiaomipassive-2023.2.6-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "a27726b594a1b290dcd306ced8ccc71b",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.9.0",
        "size": 10219,
        "upload_time": "2023-03-11T09:17:17",
        "upload_time_iso_8601": "2023-03-11T09:17:17.722397Z",
        "url": "https://files.pythonhosted.org/packages/58/13/11fb9dfdcfbcc8341f92b25506d7d6f3f734cae21c6ddf12082d129c5efc/xiaomipassive-2023.2.6-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "7f548596e827c07ad127851120c82b0c2a0f2036286ebbb74f13c992a667f708",
          "md5": "13057663a01c89dc2ab3b27e1b4ee2dc",
          "sha256": "ab813bf19b934fcac2e2db7f06f7befc87c7e89e8614292bab854175dbf04d2d"
        },
        "downloads": -1,
        "filename": "xiaomipassive-2023.2.6.tar.gz",
        "has_sig": false,
        "md5_digest": "13057663a01c89dc2ab3b27e1b4ee2dc",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.9.0",
        "size": 9933,
        "upload_time": "2023-03-11T09:17:19",
        "upload_time_iso_8601": "2023-03-11T09:17:19.545323Z",
        "url": "https://files.pythonhosted.org/packages/7f/54/8596e827c07ad127851120c82b0c2a0f2036286ebbb74f13c992a667f708/xiaomipassive-2023.2.6.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "581311fb9dfdcfbcc8341f92b25506d7d6f3f734cae21c6ddf12082d129c5efc",
        "md5": "a27726b594a1b290dcd306ced8ccc71b",
        "sha256": "188396d48791e7b3323f7079309beca6c24e2e44695787ee9db3f3495df1eddd"
      },
      "downloads": -1,
      "filename": "xiaomipassive-2023.2.6-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "a27726b594a1b290dcd306ced8ccc71b",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": ">=3.9.0",
      "size": 10219,
      "upload_time": "2023-03-11T09:17:17",
      "upload_time_iso_8601": "2023-03-11T09:17:17.722397Z",
      "url": "https://files.pythonhosted.org/packages/58/13/11fb9dfdcfbcc8341f92b25506d7d6f3f734cae21c6ddf12082d129c5efc/xiaomipassive-2023.2.6-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "7f548596e827c07ad127851120c82b0c2a0f2036286ebbb74f13c992a667f708",
        "md5": "13057663a01c89dc2ab3b27e1b4ee2dc",
        "sha256": "ab813bf19b934fcac2e2db7f06f7befc87c7e89e8614292bab854175dbf04d2d"
      },
      "downloads": -1,
      "filename": "xiaomipassive-2023.2.6.tar.gz",
      "has_sig": false,
      "md5_digest": "13057663a01c89dc2ab3b27e1b4ee2dc",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": ">=3.9.0",
      "size": 9933,
      "upload_time": "2023-03-11T09:17:19",
      "upload_time_iso_8601": "2023-03-11T09:17:19.545323Z",
      "url": "https://files.pythonhosted.org/packages/7f/54/8596e827c07ad127851120c82b0c2a0f2036286ebbb74f13c992a667f708/xiaomipassive-2023.2.6.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}