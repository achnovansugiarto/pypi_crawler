{
  "info": {
    "author": "Mohamad Bahamdain",
    "author_email": "i@mhmd.dev",
    "bugtrack_url": null,
    "classifiers": [
      "Framework :: Django",
      "License :: OSI Approved :: MIT License",
      "Operating System :: OS Independent",
      "Programming Language :: Python :: 3 :: Only"
    ],
    "description": "A flexible implementation of Django's [`cache_page`](https://docs.djangoproject.com/en/dev/topics/cache/#the-per-view-cache) decorator, supports building custom keys, cache groups, O(1) cache invalidation on redis, and more.\n\n# Description\n\nThis package provides a customizable `cache_page` decorator that allows you to define your custom key generation functions with a few utilities and invalidate large cache groups on redis at no cost.\n\n### The story behind this package:\nwe used django's default `cache_page` decorator for around a year, it was really easy and quick to set up and it served its purpose, but it was very limiting, it had no way of building custom keys for cached views and that was making it quite impossible to invalidate view caches properly, data inconsistencies appeared everywhere, and we had to build a customizable solution for caching. \n\n\n# Installation\n\n```bash\npip install django-custom-cache-page\n```\n\n\n# Features:\n\nThe customizable cache_page supports the following:\n- accepts a function to generate a key based on the request.\n- has an option to have versioned groups in the cache key\n    - this is really useful with **redis**, deleting a large number of caches (without storing all the keys!) on redis has a performance of O(n) and it blocks any other operation because redis is single-threaded. meaning that it will take a longer time as the size of your cache DBs grow, it's impossible to do this operation frequently at scale without choking redis. our solution to achieve O(1) invalidation is to have versioned groups in the cache key, where the group version is stored in redis separately, all you need to invalidate a group of caches is to increment the group version and all the old caches will become invalid and will expire gradually. (be careful, this won't help with keys that don't expire.)\n- supports disabling cache for some requests by setting `do_not_cache` attribute on the request to True.\n\nThere are two default utilities to generate cache keys:\n- generate_cache_key: similar to Django's default\n- generate_query_params_cache_key: generate a key using query parameters only\n\nbut you can create your own key generation function and pass it to the decorator.\n\n\n# Example\n\nviews.py:\n\n```python\nfrom django.http import HttpResponse\n\nfrom custom_cache_page.cache import cache_page\nfrom custom_cache_page.utils import generate_query_params_cache_key\n\n@cache_page(60 * 60, generate_query_params_cache_key)\ndef my_view(request):\n    return HttpResponse(\"okay\")\n```\n\nusing groups:\n```python\nfrom django.http import HttpResponse\nfrom custom_cache_page.cache import cache_page\n\n@cache_page(\n        timeout=60 * 60,\n        key_func=lambda r: r.path,\n        versioned=False,\n        group_func=lambda r: 'cached_views',\n        prefix='prefix'\n)\ndef my_view(request):\n    return HttpResponse(\"okay\")\n```\nto invalidate a group:\n```python\nfrom custom_cache_page.utils import invalidate_group_caches\n\ninvalidate_group_caches('cached_views')\n```\n\n## Hashed keys:\n\nAll keys generated by this package are hashed using md5 for performance reasons. if you wanted to delete the keys manually use the hashing utility first:\n```python\nfrom custom_cache_page.utils import hash_key\nkey = 'prefix:cached_views:0:/bo'\nhashed_key =  hash_key(key)\n```\n\n---\n## Running Tests\n\n```bash\npytest\n```\n\n\n## Development installation\n\n```bash\ngit clone https://github.com/zidsa/django-custom-cache-page.git\ncd django-custom-cache-page\npip install --editable .\n```\n\n\n\n\n",
    "description_content_type": "text/plain",
    "docs_url": null,
    "download_url": "https://pypi.org/project/django-custom-cache-page/",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/zidsa/django-custom-cache-page",
    "keywords": "Django,Django Cache,cache_page",
    "license": "MIT",
    "maintainer": "",
    "maintainer_email": "",
    "name": "django-custom-cache-page",
    "package_url": "https://pypi.org/project/django-custom-cache-page/",
    "platform": "",
    "project_url": "https://pypi.org/project/django-custom-cache-page/",
    "project_urls": {
      "Download": "https://pypi.org/project/django-custom-cache-page/",
      "Homepage": "https://github.com/zidsa/django-custom-cache-page"
    },
    "release_url": "https://pypi.org/project/django-custom-cache-page/0.3/",
    "requires_dist": [
      "django (>=2.0)",
      "pytest ; extra == 'dev'",
      "pytest-pep8 ; extra == 'dev'",
      "pytest-cov ; extra == 'dev'"
    ],
    "requires_python": "",
    "summary": "A customizable implementation of Django's cache_page decorator.",
    "version": "0.3",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 7444419,
  "releases": {
    "0.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "e43cc6fbaa3565b33c44c6d55cdb04fc45f6a271e5d88352e12c8578d4483e1c",
          "md5": "ac885c4a7fcb8ebf0124040091df4af0",
          "sha256": "f8174620b7082011ce1b1a4bf807619f99ad363f19453992da87edae5c1777cd"
        },
        "downloads": -1,
        "filename": "django_custom_cache_page-0.1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "ac885c4a7fcb8ebf0124040091df4af0",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 4869,
        "upload_time": "2020-06-10T01:36:24",
        "upload_time_iso_8601": "2020-06-10T01:36:24.619106Z",
        "url": "https://files.pythonhosted.org/packages/e4/3c/c6fbaa3565b33c44c6d55cdb04fc45f6a271e5d88352e12c8578d4483e1c/django_custom_cache_page-0.1-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "18ff38e04cd7d7a6e3594bfbc277fb81dbae753b2da1730efb8763672f76b1c9",
          "md5": "67ae29fb17747efcdec6acc5dabeef36",
          "sha256": "c08a6842a491ac3a2f6aa43c01956eb0991da207b7dfce1f5f535e234e6a3c1e"
        },
        "downloads": -1,
        "filename": "django-custom-cache-page-0.1.tar.gz",
        "has_sig": false,
        "md5_digest": "67ae29fb17747efcdec6acc5dabeef36",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 2786,
        "upload_time": "2020-06-10T01:36:26",
        "upload_time_iso_8601": "2020-06-10T01:36:26.850371Z",
        "url": "https://files.pythonhosted.org/packages/18/ff/38e04cd7d7a6e3594bfbc277fb81dbae753b2da1730efb8763672f76b1c9/django-custom-cache-page-0.1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.2": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "4c6c9eabad68008333bbd7be8a15c38f520412e2f4969bb7484628dedb997046",
          "md5": "0b102fd9d2c24fe8856f0f227ef29892",
          "sha256": "ebaf4cac9f1eeff869402d04d02367ab466718a89f82f2396145a58a866ed0a2"
        },
        "downloads": -1,
        "filename": "django_custom_cache_page-0.2-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "0b102fd9d2c24fe8856f0f227ef29892",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 5213,
        "upload_time": "2020-06-10T02:03:46",
        "upload_time_iso_8601": "2020-06-10T02:03:46.788975Z",
        "url": "https://files.pythonhosted.org/packages/4c/6c/9eabad68008333bbd7be8a15c38f520412e2f4969bb7484628dedb997046/django_custom_cache_page-0.2-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "060ec2ffc4368ad7c219034b76652c358fb3f514b89719ff873ba77394dacf6f",
          "md5": "6cdc7725421cb36ae65e405ea376a3f8",
          "sha256": "5611359cf548445ebc338d6bef6531faa86a48c81286e5cdc9c25c1416c58d10"
        },
        "downloads": -1,
        "filename": "django-custom-cache-page-0.2.tar.gz",
        "has_sig": false,
        "md5_digest": "6cdc7725421cb36ae65e405ea376a3f8",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 3189,
        "upload_time": "2020-06-10T02:03:47",
        "upload_time_iso_8601": "2020-06-10T02:03:47.959940Z",
        "url": "https://files.pythonhosted.org/packages/06/0e/c2ffc4368ad7c219034b76652c358fb3f514b89719ff873ba77394dacf6f/django-custom-cache-page-0.2.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.3": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "7827f949fbb4242e4e14d3c8f620e95e1a73092d8027512d3afdc521f1abb940",
          "md5": "fc21ab79c2f4a92ad8ff90d2ea91e680",
          "sha256": "1611283de389bfba8aaaccbe0aefb19892a1f778d5fd780856172ea82f9197b1"
        },
        "downloads": -1,
        "filename": "django_custom_cache_page-0.3-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "fc21ab79c2f4a92ad8ff90d2ea91e680",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 6300,
        "upload_time": "2020-06-10T16:15:58",
        "upload_time_iso_8601": "2020-06-10T16:15:58.977445Z",
        "url": "https://files.pythonhosted.org/packages/78/27/f949fbb4242e4e14d3c8f620e95e1a73092d8027512d3afdc521f1abb940/django_custom_cache_page-0.3-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "2c89a0d8791f3b4cc32e6eed876dc97b8c435aceae5c4e3558f5348849f7112a",
          "md5": "8ca0c0b9367343d7773058064d0ecc1c",
          "sha256": "0675790714cfb9617c4c3cf7adc80ab25263876dbd0be0e8af096361ac58b389"
        },
        "downloads": -1,
        "filename": "django-custom-cache-page-0.3.tar.gz",
        "has_sig": false,
        "md5_digest": "8ca0c0b9367343d7773058064d0ecc1c",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 4391,
        "upload_time": "2020-06-10T16:16:00",
        "upload_time_iso_8601": "2020-06-10T16:16:00.697206Z",
        "url": "https://files.pythonhosted.org/packages/2c/89/a0d8791f3b4cc32e6eed876dc97b8c435aceae5c4e3558f5348849f7112a/django-custom-cache-page-0.3.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "7827f949fbb4242e4e14d3c8f620e95e1a73092d8027512d3afdc521f1abb940",
        "md5": "fc21ab79c2f4a92ad8ff90d2ea91e680",
        "sha256": "1611283de389bfba8aaaccbe0aefb19892a1f778d5fd780856172ea82f9197b1"
      },
      "downloads": -1,
      "filename": "django_custom_cache_page-0.3-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "fc21ab79c2f4a92ad8ff90d2ea91e680",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": null,
      "size": 6300,
      "upload_time": "2020-06-10T16:15:58",
      "upload_time_iso_8601": "2020-06-10T16:15:58.977445Z",
      "url": "https://files.pythonhosted.org/packages/78/27/f949fbb4242e4e14d3c8f620e95e1a73092d8027512d3afdc521f1abb940/django_custom_cache_page-0.3-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "2c89a0d8791f3b4cc32e6eed876dc97b8c435aceae5c4e3558f5348849f7112a",
        "md5": "8ca0c0b9367343d7773058064d0ecc1c",
        "sha256": "0675790714cfb9617c4c3cf7adc80ab25263876dbd0be0e8af096361ac58b389"
      },
      "downloads": -1,
      "filename": "django-custom-cache-page-0.3.tar.gz",
      "has_sig": false,
      "md5_digest": "8ca0c0b9367343d7773058064d0ecc1c",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": null,
      "size": 4391,
      "upload_time": "2020-06-10T16:16:00",
      "upload_time_iso_8601": "2020-06-10T16:16:00.697206Z",
      "url": "https://files.pythonhosted.org/packages/2c/89/a0d8791f3b4cc32e6eed876dc97b8c435aceae5c4e3558f5348849f7112a/django-custom-cache-page-0.3.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}