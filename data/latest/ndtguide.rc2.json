{
  "info": {
    "author": "Mingwei Zhang",
    "author_email": "mingwei@bgpkit.com",
    "bugtrack_url": null,
    "classifiers": [],
    "description": "# NDTGuide\n\nNDTGuide is a Python package that aims to provide easy to use quick access to MeasurementLab's (MLab)\nNDT measurement data on Google BigQuery. This library is intended to work **only** on Google Colab\nplatform due to the BigQuery and GCP's requirement on service account usage.\n\n## Overview\n\n`NDTGuide` provides an abstract layer around the Google BigQuery interface and MLab's data \nschema. At its core, it provides a growing number of functions that translate user intentions\ninto BigQuery SQL statements.\n\n## Usage\n\n### Login with Google Account (Required Step)\n\nSince the MLab's data access is tied to individual Google accounts, it is required to first\nlogin to Google first when first running the script. `NDTGuide` provided a wrapper `.login()` \nfunction that interactively prompt user to login.\n\n```python\nguide = NDTGuide()\nguide.login()\n```\n\n### Gather Daily NDT Stats\n\nOne of the most used queries is to pull out daily aggregated statistics of the measurement data\nto gather some overview of certain clients/servers/regions. `NDTGuide` provides the `.sql_daily_aggregate(...)`\nfunction to generate sql statements for this task.\n\nIt accepts the following required parameters:\n- `table_name`: currently supports `ndt7` or `ndt5`\n- `date_start` and `date_end`: start and end date, in the format of `YYYY-mm-dd`\n- `aggr_func`: aggregation function, currently supports `avg`, `max`, `min`\n\nAdditional filters for NDT clients and servers include:\n- `client_asn` and `server_asn`: autonomous number of the client/server\n- `client_cidr` and `server_cidr`: IP block (CIDR) of  the client/server\n- `client_country` and `server_country`: two-letter country code of the client/server\n\nThe query should return results of the following data:\n- mean throughput\n- minimum RTT\n- packet loss rate\n\nThe following example queries the average measurements from `ndt7` table between `2022-02-01` to \n`2022-02-10` for clients located in Ukraine.\n```python\nsql = guide.sql_daily_aggregate(\"ndt7\", \"2022-02-01\", \"2022-02-10\", \"avg\", client_country=\"ua\")\nguide.exec_sql(sql)\n```\n\n```text\n|   | avg_throughput |   avg_rtt | avg_lossrate |       date |\n| 0 |      49.453097 | 52.033121 |     0.042338 | 2022-02-01 |\n| 1 |      50.410214 | 53.451678 |     0.051775 | 2022-02-02 |\n| 2 |      52.047963 | 52.372124 |     0.043772 | 2022-02-03 |\n| 3 |      54.767157 | 55.180171 |     0.041808 | 2022-02-04 |\n| 4 |      47.897135 | 58.383362 |     0.029880 | 2022-02-05 |\n| 5 |      75.044735 | 59.411379 |     0.041825 | 2022-02-06 |\n| 6 |      91.473595 | 49.754529 |     0.048684 | 2022-02-07 |\n| 7 |      58.433473 | 48.761221 |     0.041670 | 2022-02-08 |\n| 8 |     105.985296 | 56.598006 |     0.034676 | 2022-02-09 |\n| 9 |      64.017782 | 57.256041 |     0.045156 | 2022-02-10 |\n```\n\n### Gather Clients and Servers\n\n`NDTGuide` provides function to generate queries look for\n- clients that users servers in certain network\n- servers that the clients in certain network uses\n\nThese functions allow users to quickly locate relevant clients/servers for any interested networks.\n\nFor example, the following query gathers all the NDT servers any clients from AS3216 used during a one week period:\n```python\nsql = guide.sql_get_servers(\"ndt7\", \"2022-01-01\", \"2022-01-07\", \"3216\")\nprint(sql)\ndf = guide.exec_sql(sql)\ndf\n```\n\n```text\n      SELECT distinct server.Site, server.Machine, server.Network.ASNumber, server.Network.ASName, server.Network.CIDR, server.Geo.CountryCode, server.Geo.City\n      FROM `measurement-lab.ndt.ndt7` \n      WHERE date>='2022-01-01' and date<='2022-01-07'  and client.Network.ASNumber=3216\n      \n|    | Site  | Machine | ASNumber | ASName                            | CIDR               | CountryCode | City      |\n|----+-------+---------+----------+-----------------------------------+--------------------+-------------+-----------|\n|  0 | beg01 | mlab1   |    13004 | Serbian Open Exchange DOO         | 188.120.127.0/26   | RS          | Belgrade  |\n|  1 | arn03 | mlab1   |     3356 | Level 3 Parent, LLC               | 213.242.86.64/26   | SE          | Stockholm |\n|  2 | beg01 | mlab2   |    13004 | Serbian Open Exchange DOO         | 188.120.127.0/26   | RS          | Belgrade  |\n|  3 | arn04 | mlab2   |     1299 | Telia Company AB                  | 62.115.225.128/26  | SE          | Stockholm |\n|  4 | arn05 | mlab3   |     3257 | GTT Communications Inc.           | 77.67.119.64/26    | SE          | Stockholm |\n|  5 | arn03 | mlab2   |     3356 | Level 3 Parent, LLC               | 213.242.86.64/26   | SE          | Stockholm |\n|  6 | beg01 | mlab3   |    13004 | Serbian Open Exchange DOO         | 188.120.127.0/26   | RS          | Belgrade  |\n|  7 | arn02 | mlab3   |     1273 | Vodafone Group PLC                | 195.89.146.192/26  | SE          | Stockholm |\n|  8 | hnd02 | mlab1   |     2518 | BIGLOBE Inc.                      | 210.151.179.128/26 | JP          | Tokyo     |\n|  9 | arn06 | mlab3   |     6453 | TATA COMMUNICATIONS (AMERICA) INC | 193.142.125.64/26  | SE          | Stockholm |\n| 10 | arn04 | mlab1   |     1299 | Telia Company AB                  | 62.115.225.128/26  | SE          | Stockholm |\n| 11 | arn06 | mlab2   |     6453 | TATA COMMUNICATIONS (AMERICA) INC | 193.142.125.64/26  | SE          | Stockholm |\n| 12 | arn04 | mlab3   |     1299 | Telia Company AB                  | 62.115.225.128/26  | SE          | Stockholm |\n| 13 | hnd04 | mlab1   |     5580 | GTT Netherlands B.V.              | 64.235.255.128/26  | JP          | Tokyo     |\n| 14 | arn05 | mlab1   |     3257 | GTT Communications Inc.           | 77.67.119.64/26    | SE          | Stockholm |\n| 15 | arn02 | mlab1   |     1273 | Vodafone Group PLC                | 195.89.146.192/26  | SE          | Stockholm |\n| 16 | arn02 | mlab2   |     1273 | Vodafone Group PLC                | 195.89.146.192/26  | SE          | Stockholm |\n| 17 | hnd03 | mlab1   |     2516 | KDDI Corporation                  | 111.109.1.64/26    | JP          | Tokyo     |\n| 18 | hnd04 | mlab3   |     5580 | GTT Netherlands B.V.              | 64.235.255.128/26  | JP          | Tokyo     |\n| 19 | arn05 | mlab2   |     3257 | GTT Communications Inc.           | 77.67.119.64/26    | SE          | Stockholm |\n| 20 | hnd03 | mlab3   |     2516 | KDDI Corporation                  | 111.109.1.64/26    | JP          | Tokyo     |\n| 21 | arn06 | mlab1   |     6453 | TATA COMMUNICATIONS (AMERICA) INC | 193.142.125.64/26  | SE          | Stockholm |\n| 22 | arn03 | mlab3   |     3356 | Level 3 Parent, LLC               | 213.242.86.64/26   | SE          | Stockholm |\n```\n\n### Customizable Queries\n\n`NDTGuide` provide a `.get_schema()` function to provide a selected useful schema to help with\nmanually constructing BigQuery queries.\n\n```python\nguide.get_schema()\n```\n\n```python\n{'a': {'CongestionControl': 'string',\n  'LossRate': 'float',\n  'MeanThroughputMbps': 'float',\n  'MinRTT': 'float',\n  'TestTime': 'TimeStamp',\n  'UUID': 'string'},\n 'client': {'Geo': {'City': 'string',\n   'ContinentCode': 'string',\n   'CountryCode': 'string',\n   'CountryName': 'string'},\n  'Network': {'ASName': 'string', 'ASNumber': 'integer', 'CIDR': 'string'}},\n 'date': 'date',\n 'id': 'string',\n 'server': {'Geo': {'City': 'string',\n   'ContinentCode': 'string',\n   'CountryCode': 'string',\n   'CountryName': 'string'},\n  'Machine': 'string',\n  'Network': {'ASName': 'string', 'ASNumber': 'integer', 'CIDR': 'string'},\n  'Site': 'string'}}\n```\n\nThe customized queries can be passed into the same `.exec_sql(sql)` function similar to other \nprovided built-in functions.\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/bgpkit/ndtguide",
    "keywords": "",
    "license": "",
    "maintainer": "",
    "maintainer_email": "",
    "name": "ndtguide",
    "package_url": "https://pypi.org/project/ndtguide/",
    "platform": null,
    "project_url": "https://pypi.org/project/ndtguide/",
    "project_urls": {
      "Homepage": "https://github.com/bgpkit/ndtguide"
    },
    "release_url": "https://pypi.org/project/ndtguide/0.1.1/",
    "requires_dist": null,
    "requires_python": "",
    "summary": "MeasurementLab NDT data query guide",
    "version": "0.1.1",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 14061458,
  "releases": {
    "0.1.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "4cec09d4a1682338d9094c0dd670e71822832705f66f8985fb18bf3f09cdb54b",
          "md5": "d0bfdaf847da52d48990ff1641ae74bc",
          "sha256": "5936c50bd584ec1d4f0420e225c4facfe00ef23b2eaf6a4b9df335c7574e9f58"
        },
        "downloads": -1,
        "filename": "ndtguide-0.1.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "d0bfdaf847da52d48990ff1641ae74bc",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 5876,
        "upload_time": "2022-06-07T19:03:54",
        "upload_time_iso_8601": "2022-06-07T19:03:54.110948Z",
        "url": "https://files.pythonhosted.org/packages/4c/ec/09d4a1682338d9094c0dd670e71822832705f66f8985fb18bf3f09cdb54b/ndtguide-0.1.0-py3-none-any.whl",
        "yanked": true,
        "yanked_reason": "Package naming incorrect"
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "39626f4688343c842ce211bf13eb8c68e3c6fce53d0477d836d1f57cbe63efe8",
          "md5": "56ccf8965d650c0603f01485a88e8bd7",
          "sha256": "cb0f5254adb606d51d24b08c0072507e79f112c3f9416d6221c820ee6971f58d"
        },
        "downloads": -1,
        "filename": "ndtguide-0.1.0.tar.gz",
        "has_sig": false,
        "md5_digest": "56ccf8965d650c0603f01485a88e8bd7",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 5574,
        "upload_time": "2022-06-07T19:03:55",
        "upload_time_iso_8601": "2022-06-07T19:03:55.903722Z",
        "url": "https://files.pythonhosted.org/packages/39/62/6f4688343c842ce211bf13eb8c68e3c6fce53d0477d836d1f57cbe63efe8/ndtguide-0.1.0.tar.gz",
        "yanked": true,
        "yanked_reason": "Package naming incorrect"
      }
    ],
    "0.1.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "2980fc423a42352573ff4b197da2fb507fdd2489a624ef39918c81126ddaa559",
          "md5": "4b9fc25bbdfd0177b412bd0a78cfe6d4",
          "sha256": "a380251dc0ec2552769affd4b8632632014f574e4353e982e0a8b9cbc86b0733"
        },
        "downloads": -1,
        "filename": "ndtguide-0.1.1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "4b9fc25bbdfd0177b412bd0a78cfe6d4",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 5873,
        "upload_time": "2022-06-07T19:06:20",
        "upload_time_iso_8601": "2022-06-07T19:06:20.012391Z",
        "url": "https://files.pythonhosted.org/packages/29/80/fc423a42352573ff4b197da2fb507fdd2489a624ef39918c81126ddaa559/ndtguide-0.1.1-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "c50af4a07d17035539ee7b4b296d7e74219dfd2e1295bcf3ce72a8d07265e753",
          "md5": "63e909d06ea17241a5400f81374a7bbd",
          "sha256": "efa5fa9b9861e76c63b7b1fc8f8a0facf873b10a20bf92eb030be1de75a554ad"
        },
        "downloads": -1,
        "filename": "ndtguide-0.1.1.tar.gz",
        "has_sig": false,
        "md5_digest": "63e909d06ea17241a5400f81374a7bbd",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 5575,
        "upload_time": "2022-06-07T19:06:21",
        "upload_time_iso_8601": "2022-06-07T19:06:21.188395Z",
        "url": "https://files.pythonhosted.org/packages/c5/0a/f4a07d17035539ee7b4b296d7e74219dfd2e1295bcf3ce72a8d07265e753/ndtguide-0.1.1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "2980fc423a42352573ff4b197da2fb507fdd2489a624ef39918c81126ddaa559",
        "md5": "4b9fc25bbdfd0177b412bd0a78cfe6d4",
        "sha256": "a380251dc0ec2552769affd4b8632632014f574e4353e982e0a8b9cbc86b0733"
      },
      "downloads": -1,
      "filename": "ndtguide-0.1.1-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "4b9fc25bbdfd0177b412bd0a78cfe6d4",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": null,
      "size": 5873,
      "upload_time": "2022-06-07T19:06:20",
      "upload_time_iso_8601": "2022-06-07T19:06:20.012391Z",
      "url": "https://files.pythonhosted.org/packages/29/80/fc423a42352573ff4b197da2fb507fdd2489a624ef39918c81126ddaa559/ndtguide-0.1.1-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "c50af4a07d17035539ee7b4b296d7e74219dfd2e1295bcf3ce72a8d07265e753",
        "md5": "63e909d06ea17241a5400f81374a7bbd",
        "sha256": "efa5fa9b9861e76c63b7b1fc8f8a0facf873b10a20bf92eb030be1de75a554ad"
      },
      "downloads": -1,
      "filename": "ndtguide-0.1.1.tar.gz",
      "has_sig": false,
      "md5_digest": "63e909d06ea17241a5400f81374a7bbd",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": null,
      "size": 5575,
      "upload_time": "2022-06-07T19:06:21",
      "upload_time_iso_8601": "2022-06-07T19:06:21.188395Z",
      "url": "https://files.pythonhosted.org/packages/c5/0a/f4a07d17035539ee7b4b296d7e74219dfd2e1295bcf3ce72a8d07265e753/ndtguide-0.1.1.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}