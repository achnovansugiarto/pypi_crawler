{
  "info": {
    "author": "Sigurður Skúli Sigurgeirsson",
    "author_email": "siggiskuli@gmail.com",
    "bugtrack_url": null,
    "classifiers": [
      "License :: OSI Approved :: MIT License",
      "Operating System :: OS Independent",
      "Programming Language :: Python :: 3",
      "Programming Language :: Python :: 3.6"
    ],
    "description": "# Somnus\n\n![Build](https://github.com/skuldur/somnus/workflows/build/badge.svg)\n![PyPI - License](https://img.shields.io/pypi/l/somnus)\n![GitHub release (latest SemVer)](https://img.shields.io/github/v/release/skuldur/somnus)\n\nSomnus offers easy keyword detection for everyone. It allows you to listen for and detect a specific keyword in a continuous stream of audio data. It uses keyword detection models developed by Google and Baidu to detect instances of the keyword and by using these small-footprint models Somnus keeps memory usage and latency to a minimum.\n\n## Getting started\n\n### Prerequisites\n\n#### Linux\n\n```bash\nsudo apt-get install portaudio19-dev python-pyaudio python3-pyaudio\n```\n\n#### Windows 10\n\nYou need to install Microsoft C++ Build Tools before you can install Somnus.\n\n### Installation\n\nUse the package manager [pip](https://pip.pypa.io/en/stable/) to install the Somnus package and the CLI\n\n```bash\npip install somnus\n```\n\n## Quickstart\n\nSomnus makes it simple to go from raw audio recordings to a working keyword detection model. To get started create a few recordings of yourself saying the keyword and download the datasets in the [Recommended datasets section](#recommended-datasets). Move the files to the raw audio directory you specify by running `somnus configure`. \n\nNow that you have your raw audio files set up, you can use our default configurations to create a highly effective keyword detection model.\n\n1. Run `somnus augment_audio` to augment the audio files with background noise and create your audio dataset\n2. Run `somnus preprocess` to normalize the data stored in the augmented audio files and create a dataset that's been prepared for our keyword detection models\n3. Run `somnus train --epochs 10` to train a keyword detection model using the dataset you just created. The resulting model will be saved to `saved_model.h5` in your current working directory.\n4. Run `somnus test` to test the accuracy of the model you just trained using a test dataset that was generated by the `preprocess` command.\n\nNow that you have a trained model you can use the Somnus client to detect a keyword using your microphone. First run `somnus list_microphones` to find the device index of your microphone. Then run the following test script using your microphone's device index and verify that the keyword detection is working.\n\n```python\nfrom somnus.somnus import Somnus\n\ns = Somnus(model='./saved_model.h5', device_index=1)\nactivated = s.listen()\n\nif activated:\n\tprint('You did it!')\nelse:\n\tprint('Something went wrong!')\n```\n\n## Usage\n\n### Somnus\n\nSomnus can be used to listen for an instance of a selected keyword in a continuous stream of audio data from a single channel from a microphone. To find the device index of your microphone run `somnus list_microphones`.\n\nSomnus can handle all the audio interfacing for you so that you only need to initialize Somnus and and call the `listen()` and it will start listening to your microphone until it detects the keyword. Somnus also offers a nonblocking method (`detect_keyword()`) that allows the user to process the audio themselves and only use Somnus to detect a keyword in an audio time series passed to `detect_keyword()` as an argument.\n\n**Parameters**\n* **model (default: '')**: The relative or absolute path to a Keras model file for the keyword model.\n* **device_index (default: 0)**: The device index of the microphone that Somnus should listen to.\n* **threshold (default: 0.5)**: A threshold for how confident Somnus has to be for it to detect the keyword\n* **audio_config**: A dictionary containing the configuration specific to the audio time series. It contains the following:\n\t* **data_shape (default: (101, 40, 1))**: The input shape for the keyword model\n\t* **sample_duration (default: 1)**: How long the input of the keyword model should be in seconds\n\t* **n_filters (default: 40)**: The number of filters in each frame\n\t* **win_length (default: 400)**: The length of each window in frames\n\t* **win_hop (default: 160)**: the number of frames between the starting frame of each consecutive window.\n\n## CLI\n\n[The Somnus CLI Documentation](https://github.com/Skuldur/somnus/blob/master/cli/README.md)\n\n## Models\n\nCurrently Somnus offers the choice between the following models:\n\n| Name           | Original paper                                                                                                                                                          | Description                                                                     | Total parameters | Size |\n|----------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------|-------------------------|-----------|\n| cnn-one-stride | [Convolutional Neural Networks for Small-footprint Keyword Spotting](https://static.googleusercontent.com/media/research.google.com/en//pubs/archive/43969.pdf) | A frequency strided convolutional model with a stride of 4 and no pooling       | 381k                    | 1.5MB     |\n| cnn-trad-pool  | [Convolutional Neural Networks for Small-footprint Keyword Spotting](https://static.googleusercontent.com/media/research.google.com/en//pubs/archive/43969.pdf) | A keyword detection model with two convolutional layers followed by max pooling | 649k                    | 2.5MB     |\n| crnn-time-stride  | [Convolutional Recurrent Neural Networks for Small-Footprint Keyword Spotting](https://arxiv.org/ftp/arxiv/papers/1703/1703.05390.pdf) | A convolutional recurrent network with time striding | 88k                    | 380KB     |\n\n## Recommended datasets\n\nBefore you start we highly recommend downloading pre-made datasets for both the negative examples and background noise. For negative examples we recommend the [Librispeech](http://www.openslr.org/12/) dataset. You can pick any of the dev, test, or train datasets. To start with we recommend using the `train-clean-100.tar.gz` dataset and moving on to the larger datasets if needed. For background noise we recommend the [DEMAND](https://asa.scitation.org/doi/abs/10.1121/1.4799597) dataset that you can download from Kaggle [here](https://www.kaggle.com/aanhari/demand-dataset).\n\nExtract the data and move the Librispeech dataset to the raw audio directory and place it in the `negatives/` sub-directory and the DEMAND dataset to the `backgrounds/` sub-directory.\n\n`positives/` will then contain utterances of your keyword in various conditions using multiple different voices and dialects. Additionally, you can add custom negative examples to the `negatives/` sub-directory. We recommend that a majority of these utterances use a microphone similar to the one you will be using in the final product. This is because data gathered from different types of microphones can look completely different, e.g. a model trained on utterances recorded using headset microphone will probably not work well with a far field microphone array.\n\nIf your model is intended to be used with many different types of microphones then we recommend gathering positive and negative recordings using as many different microphones as you can.\n\n## Contributing\nPull requests are welcome. For major changes, please open an issue first to discuss what you would like to change.\n\n## License\n[MIT](https://choosealicense.com/licenses/mit/)\n\n\n\n\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/Skuldur/somnus",
    "keywords": "",
    "license": "",
    "maintainer": "",
    "maintainer_email": "",
    "name": "somnus",
    "package_url": "https://pypi.org/project/somnus/",
    "platform": "",
    "project_url": "https://pypi.org/project/somnus/",
    "project_urls": {
      "Homepage": "https://github.com/Skuldur/somnus"
    },
    "release_url": "https://pypi.org/project/somnus/0.2.2/",
    "requires_dist": [
      "numpy (>=1.16.2)",
      "pydub (>=0.23.1)",
      "pyaudio (>=0.2.11)",
      "librosa (>=0.8.0)",
      "tensorflow (>=2.2.0)",
      "fire (>=0.3.1)",
      "tqdm (>=4.47.0)"
    ],
    "requires_python": ">=3.6",
    "summary": "Somnus is keyword detection made easy.",
    "version": "0.2.2",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 7991612,
  "releases": {
    "0.1.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "ce71db569327f49aa161e7e611187c0e0a61cf713aa744875485892eb57f88d6",
          "md5": "072afe4384bdadcc307324002be1d735",
          "sha256": "a21a02fb5a8c486d3767e45ddfe65274a0450bf04ca02048beabdd7079d67543"
        },
        "downloads": -1,
        "filename": "somnus-0.1.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "072afe4384bdadcc307324002be1d735",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.6",
        "size": 14784,
        "upload_time": "2020-08-09T18:56:04",
        "upload_time_iso_8601": "2020-08-09T18:56:04.489917Z",
        "url": "https://files.pythonhosted.org/packages/ce/71/db569327f49aa161e7e611187c0e0a61cf713aa744875485892eb57f88d6/somnus-0.1.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "cc270de435a4cfed52802ff04b99f9b9180e26de898a366357fb32e0151c20f0",
          "md5": "4687973be65974a4be0d22b56f94594f",
          "sha256": "9c9a0dabbef383872a0ee74dc4c5f32971055dfa57a9244135756e26e5b11a7d"
        },
        "downloads": -1,
        "filename": "somnus-0.1.0.tar.gz",
        "has_sig": false,
        "md5_digest": "4687973be65974a4be0d22b56f94594f",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6",
        "size": 15344,
        "upload_time": "2020-08-09T18:56:06",
        "upload_time_iso_8601": "2020-08-09T18:56:06.975643Z",
        "url": "https://files.pythonhosted.org/packages/cc/27/0de435a4cfed52802ff04b99f9b9180e26de898a366357fb32e0151c20f0/somnus-0.1.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.1.2": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "247eefddae7c493e4e5251cb71317e909ff2274be9da6979f462c87f7d2e8dbd",
          "md5": "64cb72644d2a89d6f24cd121be6391e5",
          "sha256": "7a1c9eeec8abe6a43120e1ea679b07391b4c31e56cee80b78b04ebf20329a061"
        },
        "downloads": -1,
        "filename": "somnus-0.1.2-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "64cb72644d2a89d6f24cd121be6391e5",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.6",
        "size": 14814,
        "upload_time": "2020-08-10T16:42:40",
        "upload_time_iso_8601": "2020-08-10T16:42:40.869353Z",
        "url": "https://files.pythonhosted.org/packages/24/7e/efddae7c493e4e5251cb71317e909ff2274be9da6979f462c87f7d2e8dbd/somnus-0.1.2-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "7bde74fb9de9edf0f070e28b3249ff5df06c3389d5a827f1cb7a09c3d5fcc756",
          "md5": "c46747da9af531eed1390a04b62f62f4",
          "sha256": "a6f06bafce42f30d2cdf840be49085bc557bfdcde7785e91dfebeb858145994d"
        },
        "downloads": -1,
        "filename": "somnus-0.1.2.tar.gz",
        "has_sig": false,
        "md5_digest": "c46747da9af531eed1390a04b62f62f4",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6",
        "size": 15456,
        "upload_time": "2020-08-10T16:42:42",
        "upload_time_iso_8601": "2020-08-10T16:42:42.261102Z",
        "url": "https://files.pythonhosted.org/packages/7b/de/74fb9de9edf0f070e28b3249ff5df06c3389d5a827f1cb7a09c3d5fcc756/somnus-0.1.2.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.2.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "87cac464515b7c05fc016e03f9394a3605be031c88e07a662052368f7a37ccd4",
          "md5": "9daa9f0238bb548b11e7936eed66cbaa",
          "sha256": "2f2ae705b3003fe81d24300a2bf07fda12e188bf15206ecb7d23c840c3e1813a"
        },
        "downloads": -1,
        "filename": "somnus-0.2.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "9daa9f0238bb548b11e7936eed66cbaa",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.6",
        "size": 14976,
        "upload_time": "2020-08-17T21:19:52",
        "upload_time_iso_8601": "2020-08-17T21:19:52.875540Z",
        "url": "https://files.pythonhosted.org/packages/87/ca/c464515b7c05fc016e03f9394a3605be031c88e07a662052368f7a37ccd4/somnus-0.2.0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "4b3afee90ca664d7b767a5808d0c6c31a20bd63968a8056348527f4a90919e6d",
          "md5": "0979e3292e57ba56a3508dff8cfaf225",
          "sha256": "ad4ed5dfed6618efbc248850fcc0ead9d547a1fed96ca0390d349d0105aec6d1"
        },
        "downloads": -1,
        "filename": "somnus-0.2.0.tar.gz",
        "has_sig": false,
        "md5_digest": "0979e3292e57ba56a3508dff8cfaf225",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6",
        "size": 15435,
        "upload_time": "2020-08-17T21:19:54",
        "upload_time_iso_8601": "2020-08-17T21:19:54.286780Z",
        "url": "https://files.pythonhosted.org/packages/4b/3a/fee90ca664d7b767a5808d0c6c31a20bd63968a8056348527f4a90919e6d/somnus-0.2.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.2.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "6341bc7607d4df65b527bfcf63d087029d7cadd13dd2db2ece3652e9a190ff84",
          "md5": "0674073a9e38f494b8f6de8aab5f99ef",
          "sha256": "3077f4f00cdac95832cfad443957537d4c14d639b283423e21662bea1d47ca35"
        },
        "downloads": -1,
        "filename": "somnus-0.2.1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "0674073a9e38f494b8f6de8aab5f99ef",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.6",
        "size": 14964,
        "upload_time": "2020-08-18T20:14:29",
        "upload_time_iso_8601": "2020-08-18T20:14:29.234780Z",
        "url": "https://files.pythonhosted.org/packages/63/41/bc7607d4df65b527bfcf63d087029d7cadd13dd2db2ece3652e9a190ff84/somnus-0.2.1-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "2a12edf6034d0959c10f37b91932d580a3875aa81c55da7c4a3e88c6bb13cd0a",
          "md5": "7599e06e2b78a4d51efadf656dda37b0",
          "sha256": "79800dbdb6cfbb482e751befa83312929710270c58557cda76691202ec3619ac"
        },
        "downloads": -1,
        "filename": "somnus-0.2.1.tar.gz",
        "has_sig": false,
        "md5_digest": "7599e06e2b78a4d51efadf656dda37b0",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6",
        "size": 15408,
        "upload_time": "2020-08-18T20:14:31",
        "upload_time_iso_8601": "2020-08-18T20:14:31.154778Z",
        "url": "https://files.pythonhosted.org/packages/2a/12/edf6034d0959c10f37b91932d580a3875aa81c55da7c4a3e88c6bb13cd0a/somnus-0.2.1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.2.2": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "f35db6a0d9fc4edad457a1271aac12991dccd622a5eecebf29031151b62d54a4",
          "md5": "46835b53f55a0437c457cd9ae0a09b93",
          "sha256": "6dfdb4276e9181213117e1c6d795ca5a58b3bd111641be7ffdcf5c047ae37ccc"
        },
        "downloads": -1,
        "filename": "somnus-0.2.2-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "46835b53f55a0437c457cd9ae0a09b93",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.6",
        "size": 14966,
        "upload_time": "2020-08-18T21:23:44",
        "upload_time_iso_8601": "2020-08-18T21:23:44.014153Z",
        "url": "https://files.pythonhosted.org/packages/f3/5d/b6a0d9fc4edad457a1271aac12991dccd622a5eecebf29031151b62d54a4/somnus-0.2.2-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "56330dd40174b2410fe60d94fc1945ffee9fa3a84cf9a85797763ffcc8c7afd8",
          "md5": "304e4e1b7db805895b5ab2f75bbee393",
          "sha256": "15b29970089f93afea98e504536a4ac989cc148fdb37eb4f267208e97196745c"
        },
        "downloads": -1,
        "filename": "somnus-0.2.2.tar.gz",
        "has_sig": false,
        "md5_digest": "304e4e1b7db805895b5ab2f75bbee393",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6",
        "size": 15408,
        "upload_time": "2020-08-18T21:23:45",
        "upload_time_iso_8601": "2020-08-18T21:23:45.529006Z",
        "url": "https://files.pythonhosted.org/packages/56/33/0dd40174b2410fe60d94fc1945ffee9fa3a84cf9a85797763ffcc8c7afd8/somnus-0.2.2.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "f35db6a0d9fc4edad457a1271aac12991dccd622a5eecebf29031151b62d54a4",
        "md5": "46835b53f55a0437c457cd9ae0a09b93",
        "sha256": "6dfdb4276e9181213117e1c6d795ca5a58b3bd111641be7ffdcf5c047ae37ccc"
      },
      "downloads": -1,
      "filename": "somnus-0.2.2-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "46835b53f55a0437c457cd9ae0a09b93",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": ">=3.6",
      "size": 14966,
      "upload_time": "2020-08-18T21:23:44",
      "upload_time_iso_8601": "2020-08-18T21:23:44.014153Z",
      "url": "https://files.pythonhosted.org/packages/f3/5d/b6a0d9fc4edad457a1271aac12991dccd622a5eecebf29031151b62d54a4/somnus-0.2.2-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "56330dd40174b2410fe60d94fc1945ffee9fa3a84cf9a85797763ffcc8c7afd8",
        "md5": "304e4e1b7db805895b5ab2f75bbee393",
        "sha256": "15b29970089f93afea98e504536a4ac989cc148fdb37eb4f267208e97196745c"
      },
      "downloads": -1,
      "filename": "somnus-0.2.2.tar.gz",
      "has_sig": false,
      "md5_digest": "304e4e1b7db805895b5ab2f75bbee393",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": ">=3.6",
      "size": 15408,
      "upload_time": "2020-08-18T21:23:45",
      "upload_time_iso_8601": "2020-08-18T21:23:45.529006Z",
      "url": "https://files.pythonhosted.org/packages/56/33/0dd40174b2410fe60d94fc1945ffee9fa3a84cf9a85797763ffcc8c7afd8/somnus-0.2.2.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}