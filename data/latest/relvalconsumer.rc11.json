{
  "info": {
    "author": "Adam Williamson",
    "author_email": "awilliam@redhat.com",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 5 - Production/Stable",
      "License :: OSI Approved :: GNU General Public License v3 or later (GPLv3+)",
      "Topic :: Utilities"
    ],
    "description": "# relvalconsumer\n\n`relvalconsumer` is a fedora-messaging consumer for creating Fedora release\nvalidation test events. Each time a compose appears, it runs various checks\nto decide whether it should create an event for the compose. It creates events\nfor both nightly composes and 'candidate' composes.\n\nIt should create a first nightly for the next release shortly after a release\ngoes out. From then until the release, it will create new nightly events\nperiodically. It will never create a nightly event fewer than three days after\nthe current event. Between three and fourteen days after the current event,\nit will create a new event if certain packages have changed (these are defined\nin the code). After fourteen days it will create an event as soon as a nightly\ncompose appears. It will create events for all candidate composes as soon as\nthey appear.\n\nIt should never create an event for a given release from a Rawhide compose\nafter that release branches, because at that point wikitcms will decide that\nany notional event for a Rawhide compose would be for the release *two* after\nthe current stable release, and this script will create events only for the\nrelease *one* after the current stable release.\n\nNote that in production mode the consumer is configured to create events in\nthe production wiki and send announcement emails to the test@ mailing list.\nSo, really, only one person should ever have it running in production mode,\nand that's probably me. Please don't run it in production mode unless you're\ntaking over my job or something.\n\nAs long as relval is also installed, relvalconsumer will also run the image\nsize check on the newly-created event, whenever it creates an event.\n\nThe project also includes another consumer, RelvalAMIConsumer, which updates\na wiki page containing information on available EC2 AMIs for a validation\nevent whenever a relevant 'AMI published' message is received from fedimg\n(the tool that publishes Fedora AMI images to EC2).\n\n## Requirements\n\nPython libraries:\n\n* [fedora-messaging](https://github.com/fedora-infra/fedora-messaging)\n* [fedfind](https://pagure.io/fedora-qa/fedfind)\n* [wikitcms](https://pagure.io/fedora-qa/python-wikitcms)\n* [mwclient](https://github.com/mwclient/mwclient)\n\nThe `hawkey` library is also required. This is only available on Fedora and\nRHEL and is only available from official package repositories, it is not\navailable from Pypi.\n\nOptionally also [relval](https://pagure.io/fedora-qa/relval) itself, to run\nimage size check tests on the created events.\n\n## Installation\n\nInstall the required external Python libraries, then use setuptools to\ninstall, e.g.:\n\n        python3 setup.py install\n\nYou will also typically need to do:\n\n        dnf install fedora-messaging python3-hawkey\n\n## Configuration\n\nA sample configuration file which is set up to listen for real compose events\non the production fedora-messaging bus is provided as `relvalconsumer.toml`.\nA sample file for the AMI consumer is provided as `relvalamiconsumer.toml`.\nTo use these, you must at least change the queue name from\n`00000000-0000-0000-0000-000000000000` to a unique and private string; the\nofficial recommendation is to use a UUID generated by uuidgen. Then place the\nfile in `/etc/fedora-messaging`.\n\nYou can then enable and start the consumer as a systemd service:\n\n    sudo systemctl enable fm-consumer@relvalconsumer\n    sudo systemctl start fm-consumer@relvalconsumer\n\nFor the AMI consumer:\n\n    sudo systemctl enable fm-consumer@relvalamiconsumer\n    sudo systemctl start fm-consumer@relvalamiconsumer\n\n## Test and production modes\n\nA configuration setting, `relval_prod`, decides whether the consumer operates\nin 'production' or 'test' mode. This is set in the consumer configuration\nfile's `consumer_config` section. The corresponding setting for the AMI\nconsumer is `relvalami_prod`. In test mode:\n\n* The consumer creates events on the staging wiki (not production wiki)\n* The announcement email is logged rather than being mailed out\n\nIn this mode it is fairly safe to play around with the consumer. You will need\na local fedora-messaging broker instance to be able to trigger the consumer at\nwill, though. Depending on how you set that up, you may also need to change\nthe `routing_keys` from `.prod.` to `.dev.` or similar.\n\nFor 'production':\n\n* **The consumer creates events on the production wiki**\n* **The consumer sends email notifications to public mailing lists**\n\n**PLEASE** do not enable the production consumer unless you're absolutely sure\nit's your job to create the official events.\n\n## License\n\n`relvalconsumer` is released under the [GPL](https://www.gnu.org/licenses/gpl.txt), version 3 or later. See `COPYING`\nand the header of `relvalconsumer.py` itself.\n\n## Contributing\n\nIssues and pull requests can be filed in [Pagure](https://pagure.io/fedora-qa/relvalconsumer).\nPull requests must be signed off (use the `-s` git argument). By signing off\nyour pull request you are agreeing to the\n[Developer's Certificate of Origin](http://developercertificate.org/):\n\n    Developer's Certificate of Origin 1.1\n\n    By making a contribution to this project, I certify that:\n\n    (a) The contribution was created in whole or in part by me and I\n        have the right to submit it under the open source license\n        indicated in the file; or\n\n    (b) The contribution is based upon previous work that, to the best\n        of my knowledge, is covered under an appropriate open source\n        license and I have the right under that license to submit that\n        work with modifications, whether created in whole or in part\n        by me, under the same open source license (unless I am\n        permitted to submit under a different license), as indicated\n        in the file; or\n\n    (c) The contribution was provided directly to me by some other\n        person who certified (a), (b) or (c) and I have not modified\n        it.\n\n    (d) I understand and agree that this project and the contribution\n        are public and that a record of the contribution (including all\n        personal information I submit with it, including my sign-off) is\n        maintained indefinitely and may be redistributed consistent with\n        this project or the open source license(s) involved.",
    "description_content_type": "",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://pagure.io/fedora-qa/relvalconsumer",
    "keywords": "fedora qa mediawiki validation",
    "license": "GPLv3+",
    "maintainer": "",
    "maintainer_email": "",
    "name": "relvalconsumer",
    "package_url": "https://pypi.org/project/relvalconsumer/",
    "platform": "",
    "project_url": "https://pypi.org/project/relvalconsumer/",
    "project_urls": {
      "Homepage": "https://pagure.io/fedora-qa/relvalconsumer"
    },
    "release_url": "https://pypi.org/project/relvalconsumer/2.2.1/",
    "requires_dist": null,
    "requires_python": "",
    "summary": "Fedora QA wiki release validation event fedora-messaging consumer",
    "version": "2.2.1",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 7252616,
  "releases": {
    "1.0.0": [],
    "1.0.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "81294a3c31eb71b45f752cadc15077e309948391b6e3a3445f1dd98fe83a840e",
          "md5": "ce8fd8d9911c64d35f77cd5a5911e574",
          "sha256": "1e708d56b983435de18dac9aca3a805e4474d18d7de93017e1b7b86b2fbb3a76"
        },
        "downloads": -1,
        "filename": "relvalconsumer-1.0.1.tar.gz",
        "has_sig": false,
        "md5_digest": "ce8fd8d9911c64d35f77cd5a5911e574",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 25345,
        "upload_time": "2017-02-18T16:49:29",
        "upload_time_iso_8601": "2017-02-18T16:49:29.425692Z",
        "url": "https://files.pythonhosted.org/packages/81/29/4a3c31eb71b45f752cadc15077e309948391b6e3a3445f1dd98fe83a840e/relvalconsumer-1.0.1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.1.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "4f364eef03e83d25ed1d0ad1d284929f4093326930ec77c5714d1ff9087a5ed4",
          "md5": "56cf5d6b8158ecee08b2288c22a13c3c",
          "sha256": "7765913a3e0c48f0ca16b1fe20aed3d7a1e8363e411ee0b2ff744ce236b2926f"
        },
        "downloads": -1,
        "filename": "relvalconsumer-1.1.0.tar.gz",
        "has_sig": false,
        "md5_digest": "56cf5d6b8158ecee08b2288c22a13c3c",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 28320,
        "upload_time": "2017-11-11T01:20:20",
        "upload_time_iso_8601": "2017-11-11T01:20:20.854544Z",
        "url": "https://files.pythonhosted.org/packages/4f/36/4eef03e83d25ed1d0ad1d284929f4093326930ec77c5714d1ff9087a5ed4/relvalconsumer-1.1.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.2.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "64e93d790ab6da08a2deb676c7034dfe62b8d96664e5c08955ffa5d5a8e9e080",
          "md5": "e9ae7cfbb09ea00171ef085dc44e2764",
          "sha256": "298fd3c93d1b31b03a4437e5490de37acd4139e142e109c6cb5e030c62bbbd4b"
        },
        "downloads": -1,
        "filename": "relvalconsumer-1.2.0.tar.gz",
        "has_sig": false,
        "md5_digest": "e9ae7cfbb09ea00171ef085dc44e2764",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 28349,
        "upload_time": "2017-12-22T19:52:20",
        "upload_time_iso_8601": "2017-12-22T19:52:20.938099Z",
        "url": "https://files.pythonhosted.org/packages/64/e9/3d790ab6da08a2deb676c7034dfe62b8d96664e5c08955ffa5d5a8e9e080/relvalconsumer-1.2.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.3.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "935ffeeb8bf527fa6ef8d8a30b64e345a9b3e4a4773af69b7436fc22f98427fb",
          "md5": "77f9f326b2202a1a30ba954eb2c1054c",
          "sha256": "563fd622201a8e05241d8c4fe37a1b8f356f73a9b10b47c75c94a2eba8cda12c"
        },
        "downloads": -1,
        "filename": "relvalconsumer-1.3.0.tar.gz",
        "has_sig": false,
        "md5_digest": "77f9f326b2202a1a30ba954eb2c1054c",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 26510,
        "upload_time": "2018-02-14T00:36:42",
        "upload_time_iso_8601": "2018-02-14T00:36:42.338681Z",
        "url": "https://files.pythonhosted.org/packages/93/5f/feeb8bf527fa6ef8d8a30b64e345a9b3e4a4773af69b7436fc22f98427fb/relvalconsumer-1.3.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "1.3.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "46133b04bdf8e7a028498281a147aaff0b8775da2d953249a3fdb474e55059d4",
          "md5": "d7f302bb8b6342e5a05a0921669d772a",
          "sha256": "5592e58bf89fb4a5dd7f00929986bd6851155212a97ff62f684558707d52e268"
        },
        "downloads": -1,
        "filename": "relvalconsumer-1.3.1.tar.gz",
        "has_sig": false,
        "md5_digest": "d7f302bb8b6342e5a05a0921669d772a",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 28923,
        "upload_time": "2018-02-23T01:02:20",
        "upload_time_iso_8601": "2018-02-23T01:02:20.001914Z",
        "url": "https://files.pythonhosted.org/packages/46/13/3b04bdf8e7a028498281a147aaff0b8775da2d953249a3fdb474e55059d4/relvalconsumer-1.3.1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "2.0.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "daf1ff8e507e8a9735ec7488f6c3ac3a2e82663b298571568565d5dd52ea5515",
          "md5": "31533f5b2424d2161d3346b80d45f23f",
          "sha256": "4611724c711e5377928f7e40a53ae1f781f47fb6c626269eb614d0d6f33ba371"
        },
        "downloads": -1,
        "filename": "relvalconsumer-2.0.0.tar.gz",
        "has_sig": false,
        "md5_digest": "31533f5b2424d2161d3346b80d45f23f",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 27578,
        "upload_time": "2019-06-18T23:19:37",
        "upload_time_iso_8601": "2019-06-18T23:19:37.781091Z",
        "url": "https://files.pythonhosted.org/packages/da/f1/ff8e507e8a9735ec7488f6c3ac3a2e82663b298571568565d5dd52ea5515/relvalconsumer-2.0.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "2.0.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "2e191b688de68196f16d01a0c7203aa62484db017fba211e890bc4487f8f2ca3",
          "md5": "f65624966219928de0505fc974331985",
          "sha256": "71d8db2ea4a3a6614576e60eb9863c2a428bf6bdb8579f37fcfb1f9c093073a2"
        },
        "downloads": -1,
        "filename": "relvalconsumer-2.0.1.tar.gz",
        "has_sig": false,
        "md5_digest": "f65624966219928de0505fc974331985",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 28220,
        "upload_time": "2019-09-19T19:22:14",
        "upload_time_iso_8601": "2019-09-19T19:22:14.534278Z",
        "url": "https://files.pythonhosted.org/packages/2e/19/1b688de68196f16d01a0c7203aa62484db017fba211e890bc4487f8f2ca3/relvalconsumer-2.0.1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "2.1.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "ea8666b6cdf0422ad9529e8f4680547a5c03d582b54b342493ea69e7d300a404",
          "md5": "554e7f5b515ea3195f6b7b610babc80a",
          "sha256": "078208d8d1c068054eaf3d07221f9bbcf5d593e81bcda6bca6fef9555ae612e6"
        },
        "downloads": -1,
        "filename": "relvalconsumer-2.1.0.tar.gz",
        "has_sig": false,
        "md5_digest": "554e7f5b515ea3195f6b7b610babc80a",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 30461,
        "upload_time": "2019-11-13T23:29:14",
        "upload_time_iso_8601": "2019-11-13T23:29:14.599221Z",
        "url": "https://files.pythonhosted.org/packages/ea/86/66b6cdf0422ad9529e8f4680547a5c03d582b54b342493ea69e7d300a404/relvalconsumer-2.1.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "2.2.0": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "8ecb2f03e2de834b65408bf6b0fbc06f84dbf8de3559479b7a351d069b1a4872",
          "md5": "6412469da7e7aa5a08d584238c3a2350",
          "sha256": "39071083bc406cc8f9fa70f195cb8522386a026313cc79c1ce6b4f4c93aeae03"
        },
        "downloads": -1,
        "filename": "relvalconsumer-2.2.0.tar.gz",
        "has_sig": false,
        "md5_digest": "6412469da7e7aa5a08d584238c3a2350",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 30028,
        "upload_time": "2020-05-16T00:28:47",
        "upload_time_iso_8601": "2020-05-16T00:28:47.888318Z",
        "url": "https://files.pythonhosted.org/packages/8e/cb/2f03e2de834b65408bf6b0fbc06f84dbf8de3559479b7a351d069b1a4872/relvalconsumer-2.2.0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "2.2.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "e4a3ca52e682a48b38c0f54da97d9e5fdb282ec1a83d93d9a33e6a3a9ffff5d1",
          "md5": "a16ed5589ba67f37249ccba26b19433a",
          "sha256": "fa46d42c6b7b1eb0296604b264d3331a3e7c50ebc36d1e46047f256810d4d25b"
        },
        "downloads": -1,
        "filename": "relvalconsumer-2.2.1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "a16ed5589ba67f37249ccba26b19433a",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 21060,
        "upload_time": "2020-05-16T00:33:05",
        "upload_time_iso_8601": "2020-05-16T00:33:05.874116Z",
        "url": "https://files.pythonhosted.org/packages/e4/a3/ca52e682a48b38c0f54da97d9e5fdb282ec1a83d93d9a33e6a3a9ffff5d1/relvalconsumer-2.2.1-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "cac97c74f03defbd7b650b5611d9c7587df49656ad1ece21becbed36c53c9160",
          "md5": "c4f78476480d90ca30ca81da48f78f15",
          "sha256": "e44665115dae9770650e017d9a197bceb9e487331379010def6f8b0481348c37"
        },
        "downloads": -1,
        "filename": "relvalconsumer-2.2.1.tar.gz",
        "has_sig": false,
        "md5_digest": "c4f78476480d90ca30ca81da48f78f15",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 30048,
        "upload_time": "2020-05-16T00:32:43",
        "upload_time_iso_8601": "2020-05-16T00:32:43.270038Z",
        "url": "https://files.pythonhosted.org/packages/ca/c9/7c74f03defbd7b650b5611d9c7587df49656ad1ece21becbed36c53c9160/relvalconsumer-2.2.1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "e4a3ca52e682a48b38c0f54da97d9e5fdb282ec1a83d93d9a33e6a3a9ffff5d1",
        "md5": "a16ed5589ba67f37249ccba26b19433a",
        "sha256": "fa46d42c6b7b1eb0296604b264d3331a3e7c50ebc36d1e46047f256810d4d25b"
      },
      "downloads": -1,
      "filename": "relvalconsumer-2.2.1-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "a16ed5589ba67f37249ccba26b19433a",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": null,
      "size": 21060,
      "upload_time": "2020-05-16T00:33:05",
      "upload_time_iso_8601": "2020-05-16T00:33:05.874116Z",
      "url": "https://files.pythonhosted.org/packages/e4/a3/ca52e682a48b38c0f54da97d9e5fdb282ec1a83d93d9a33e6a3a9ffff5d1/relvalconsumer-2.2.1-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "cac97c74f03defbd7b650b5611d9c7587df49656ad1ece21becbed36c53c9160",
        "md5": "c4f78476480d90ca30ca81da48f78f15",
        "sha256": "e44665115dae9770650e017d9a197bceb9e487331379010def6f8b0481348c37"
      },
      "downloads": -1,
      "filename": "relvalconsumer-2.2.1.tar.gz",
      "has_sig": false,
      "md5_digest": "c4f78476480d90ca30ca81da48f78f15",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": null,
      "size": 30048,
      "upload_time": "2020-05-16T00:32:43",
      "upload_time_iso_8601": "2020-05-16T00:32:43.270038Z",
      "url": "https://files.pythonhosted.org/packages/ca/c9/7c74f03defbd7b650b5611d9c7587df49656ad1ece21becbed36c53c9160/relvalconsumer-2.2.1.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}