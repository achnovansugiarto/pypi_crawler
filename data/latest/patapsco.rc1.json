{
  "info": {
    "author": "",
    "author_email": "",
    "bugtrack_url": null,
    "classifiers": [],
    "description": "# Patapsco - the SCALE 2021 Pipeline\n\n## Requirements\nPatapsco requires Python 3.6+ and Java 11+.\n\nInstalling Patapsco with Anaconda will add Java into the virtual environment.\nIf not using Anaconda, you will need to check your Java version or\nenable the java module on the grid.\n\nTo check your Java version:\n```\njavac --version\n```\n\nOn the grid, enable Java with:\n```\nmodule add java\n```\n\n## Install\n\n### Create a Python virtual environment using venv or conda.\n\n#### With conda\nInstalling with conda is recommended and will install the gpu-enabled version of pytorch.\nAs of June 2021, CUDA 11.1.1 will be installed into the environment by default.\nYou do not need to load any CUDA modules on the grid to use the GPUs.\n\nCreate and activate the conda environment:\n```\nconda env create --file environment.yml\nconda activate patapsco\n```\nInstall Patapsco:\n```\npip install --editable .\n```\n\n#### With Python's venv module\nCreate and activate the virtual environment:\n```\npython3 -m venv venv\nsource venv/bin/activate\n```\nYou may need to upgrade your pip:\n```\npip install -U pip\npip install -U wheel\n```\nInstall Patapsco and its dependencies:\n```\npip install --editable .\n```\n\nNote: python virtual environments do not work properly on the HLTCOE grid!\n\n#### Windows users\nIf you do not have a C++ compiler or cannot install pytrec_eval,\nthen comment out the lines in environment.yml and setup.py that specify pytrec_eval.\nExample:\n```yaml\n  - pip:\n    - pyserini\n    # - pytrec_eval\n```\nYou will be able to run Patapsco, but not score your runs.\n\n## Design\nPatapsco was designed to create CLIR runs and not for training CLIR components (like reranking models).\nIt is expected that the artifacts generated by Patapsco could be used for training,\nbut that the training happens outside of Patapsco.\n\nPatapsco consists of two pipelines:\n  - Stage 1: creates an index from the documents\n  - Stage 2: retrieves results for queries from the indexes and reranks the results\n\nA pipeline consists of a sequence of tasks.\n  - Stage 1 tasks: \n    - text processing of documents (character normalization, tokenization, etc.)\n    - indexing\n  - Stage 2 tasks: \n    - extract query from topic\n    - text processing of query (same as document processing)\n    - retrieval of results\n    - reranking of results\n    - scoring\n\nWhen a run is complete, its output is written to a run directory.\nTasks also store artifacts in the run directory that can be used for other runs.\nFor example, an index created in one run can be used in another.\n\nPatapsco can run partial pipelines.\nFor example, a user can run just stage 1 to generate an index.\nOr a user may run only stage 2 and have it start with processed queries and a prebuilt index.\n\n## Configuration\nPatapsco uses YAML or JSON files for configuration.\nThe stage 1 and stage 2 pipelines are built from the configuration.\nThe output including any artifacts (like processed queries or an index) are stored in a run directory.\nFor more information on configuration, see `docs/config.md`.\n\n## Running\nAfter installing Patapsco, a sample run is started with:\n```\npatapsco samples/configs/eng_basic.yml\n```\n\nBy default, the output for the run is written to a `runs` directory in the working directory.\nIf a run is complete, Patapsco will not overwrite it.\n\nTo turn on more detailed logging and full exception stack traces, use the debug flag:\n```\npatapsco --debug samples/configs/eng_basic.yml\n```\n\nAny variable in the configuration can be overriden on the command line:\n```\npatapsco --set run.name=my_test_run samples/configs/eng_basic.yml\n```\n\n## Submitting Results\nA run's output file plus the configuration used to generate the run can be submitted at the website: \nhttps://scale21.org\n\n## Bug Reports\nUse issues on Gitlab to report bugs or request new features.\nFor a bug report include \n * a description of what was expected and what actually happened\n * any stack trace or error message\n * the configuration file if the bug only happens with that configuration\n\n\n## Development\nDevelopers should install Patapsco in editable mode along with development dependencies:\n```\npip install -e .[dev]\n```\n\n### Unit Tests\nTo run the unit tests, run:\n```\npytest\n```\n\nSome tests load models and are normally skipped. To run those:\n```\npytest --runslow\n```\n\n### Code Style\nThe code should conform to the PEP8 style except for leniency on line length.\n\nTo update the code, you can use autopep8.\nTo run it on a file:\n```\nautopep8 -i [path to file]\n```\n\nTo test PEP8 compliance, run:\n```\nflake8 patapsco\n```\n\n\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "",
    "keywords": "",
    "license": "BSD",
    "maintainer": "",
    "maintainer_email": "",
    "name": "patapsco",
    "package_url": "https://pypi.org/project/patapsco/",
    "platform": "",
    "project_url": "https://pypi.org/project/patapsco/",
    "project_urls": null,
    "release_url": "https://pypi.org/project/patapsco/0.9.7/",
    "requires_dist": [
      "beautifulsoup4",
      "ftfy",
      "jieba",
      "luqum",
      "more-itertools",
      "nltk (>=3.6.0)",
      "numpy",
      "parsivar-scale",
      "psutil",
      "pydantic (<1.8.0,>=1.7.1)",
      "pymorphy2",
      "pyserini (>=0.13.0)",
      "pytrec-eval",
      "pyyaml",
      "sacremoses",
      "spacy (>=3.0.0)",
      "spacy-pkuseg (<0.1.0,>=0.0.27)",
      "sqlitedict",
      "stanza (>=1.2.1)",
      "pytest ; extra == 'dev'",
      "flake8 ; extra == 'dev'",
      "autopep8 ; extra == 'dev'"
    ],
    "requires_python": ">=3.6.1",
    "summary": "Cross Language Information Retrieval pipeline",
    "version": "0.9.7",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 12192662,
  "releases": {
    "0.9.7": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "42dd40fa6ac8862d4a59a54c62d2d65981c2b86510a282f7986c2d648cb7c853",
          "md5": "3cfd689deb149600824dfc134c4c521e",
          "sha256": "35ab8a9887fa137aca12c424e8c4a4c689631e4d5c5dc9ae2dbbb3b5abac738e"
        },
        "downloads": -1,
        "filename": "patapsco-0.9.7-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "3cfd689deb149600824dfc134c4c521e",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.6.1",
        "size": 137412,
        "upload_time": "2021-12-02T17:58:51",
        "upload_time_iso_8601": "2021-12-02T17:58:51.654932Z",
        "url": "https://files.pythonhosted.org/packages/42/dd/40fa6ac8862d4a59a54c62d2d65981c2b86510a282f7986c2d648cb7c853/patapsco-0.9.7-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "b8f2aed91d5c4e6964a4258666a8b6dc7bcdda2fc9112ead6b3159bf40681a81",
          "md5": "c839f77b7ad9ef877fbb40364ad2f6c7",
          "sha256": "c46b4144bc28b347690804dc50671da7ad404700f4321f99eee22c345c774ee7"
        },
        "downloads": -1,
        "filename": "patapsco-0.9.7.tar.gz",
        "has_sig": false,
        "md5_digest": "c839f77b7ad9ef877fbb40364ad2f6c7",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.6.1",
        "size": 127754,
        "upload_time": "2021-12-02T17:58:53",
        "upload_time_iso_8601": "2021-12-02T17:58:53.593838Z",
        "url": "https://files.pythonhosted.org/packages/b8/f2/aed91d5c4e6964a4258666a8b6dc7bcdda2fc9112ead6b3159bf40681a81/patapsco-0.9.7.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "42dd40fa6ac8862d4a59a54c62d2d65981c2b86510a282f7986c2d648cb7c853",
        "md5": "3cfd689deb149600824dfc134c4c521e",
        "sha256": "35ab8a9887fa137aca12c424e8c4a4c689631e4d5c5dc9ae2dbbb3b5abac738e"
      },
      "downloads": -1,
      "filename": "patapsco-0.9.7-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "3cfd689deb149600824dfc134c4c521e",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": ">=3.6.1",
      "size": 137412,
      "upload_time": "2021-12-02T17:58:51",
      "upload_time_iso_8601": "2021-12-02T17:58:51.654932Z",
      "url": "https://files.pythonhosted.org/packages/42/dd/40fa6ac8862d4a59a54c62d2d65981c2b86510a282f7986c2d648cb7c853/patapsco-0.9.7-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "b8f2aed91d5c4e6964a4258666a8b6dc7bcdda2fc9112ead6b3159bf40681a81",
        "md5": "c839f77b7ad9ef877fbb40364ad2f6c7",
        "sha256": "c46b4144bc28b347690804dc50671da7ad404700f4321f99eee22c345c774ee7"
      },
      "downloads": -1,
      "filename": "patapsco-0.9.7.tar.gz",
      "has_sig": false,
      "md5_digest": "c839f77b7ad9ef877fbb40364ad2f6c7",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": ">=3.6.1",
      "size": 127754,
      "upload_time": "2021-12-02T17:58:53",
      "upload_time_iso_8601": "2021-12-02T17:58:53.593838Z",
      "url": "https://files.pythonhosted.org/packages/b8/f2/aed91d5c4e6964a4258666a8b6dc7bcdda2fc9112ead6b3159bf40681a81/patapsco-0.9.7.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}