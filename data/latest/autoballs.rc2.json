{
  "info": {
    "author": "Ryan Greenhalgh",
    "author_email": "ryan.greenhalgh@hotmail.co.uk,",
    "bugtrack_url": null,
    "classifiers": [
      "Natural Language :: English",
      "Programming Language :: Python",
      "Programming Language :: Python :: 3"
    ],
    "description": "[![Build Status](https://travis-ci.com/rg314/autoballs.svg?token=BCkcrsWckKEnE7AqL2uD&branch=main)](https://travis-ci.com/rg314/autoballs) \n[![codecov](https://codecov.io/gh/rg314/autoballs/branch/main/graph/badge.svg?token=35L8J85XO9)](https://codecov.io/gh/rg314/autoballs)\n![License: MIT](https://img.shields.io/badge/License-MIT-green.svg)\n[![PyPI version](https://badge.fury.io/py/autoballs.svg)](https://badge.fury.io/py/autoballs)\n\n<p align=\"center\">\n  <img src=\"https://user-images.githubusercontent.com/35999546/109693171-44312080-7b81-11eb-812a-2659d07cd632.png\" alt=\"Autoballs logo\" width=\"400\"/>\n</p>\n\nPipeline for analysis of ex vivo explants\n\n## Installation\nWhile writing this package I tried my best not to reinvent the wheel for that reason there are a number of dependencies on [Fiji](https://imagej.net/Fiji). When installing the package please ensure that you create a conda env with relatvent [openjdk8](https://openjdk.java.net/install/) and [Maven](https://maven.apache.org/guides/getting-started/maven-in-five-minutes.html). Furthermore, due to constant updates of Fuji please use ```get_fiji_version.sh``` script to download the working version.\n\n```git clone git@github.com:rg314/autoballs.git```\n\nGo into the autoballs firectory get the working Fiji version\n\n```\nsource scripts/get_fiji_version.sh \n```\n\nCreate conda env\n\n```\nconda create -n autoballs python=3.8\n```\n\nInstall autoballs in editable mode\n\n```\npip install -e .\n```\n\nFor training you might need to install pytorch CUDA otherwise for general useage segmentation will be fine on CPU. However, for CUDA run\n\n```\nconda install pytorch torchvision torchaudio cudatoolkit=10.2 -c pytorch\n```\n\nor for the latest version check out PyTorch [PyTorch](https://pytorch.org/get-started/locally/)\n\n## File structure\nPlease note you will need to follow the following file conventions for this to work properly. I’ve not yet included the AFM section but I’m planning on adding this part in as well so there will be a later dependency. \n\n```\n├── 20210226 Cam Franze\n│   ├── afm\n│   │   ├── data\n│   │   │   ├── e01_nt_fg1_1force-save-2021.02.27-11.46.03.003.jpk-force\n│   │   │   ├── ...\n│   │   │   └── ve1_fg1_1force-save-2021.02.27-11.34.31.418.jpk-force\n│   │   ├── datatxt\n│   │   │   ├── e01_nt_fg1_1force-save-2021.02.27-11.46.03.003.txt\n│   │   │   ├── ...\n│   │   │   └── ve1_fg1_1force-save-2021.02.27-11.34.31.418.txt\n│   │   └── run.py\n│   ├── e01_nt_fg1_1\n│   │   └── series.nd2\n│   ├── e01_nt_fg2_1\n│   │   └── series.nd2\n│   └── metadata.txt\n```\n\n## Metadata\nYou will need to have a metadata file that store info about the frogs and gels for example \n\n```\n{\n'gel': \n{\n'e01':'Elastic 100 Pa',\n'e1':'Elastic 1 kPa',\n've1':'Viscoelastic 1 kPa',\n'glass':'Glass',\n},\n'frog': \n{\n'fg1':'Upstairs outside box 176b 13:30 17/20',\n'fg2':'Downstairs inside box 176b 13:30 17/20',\n'fg3':'Downstairs outside box 182b 13:30 17/20',\n'fg4':'Upstairs inside box 176b 13:30 17/20',\n}\n}\n```\n\nNote the subfolders need to have the same naming convention i.e. if ```e01_nt_fg1_1``` is processed the frog and gel metadata will be identified as\n\n1) Upstairs outside box 176b 13:30 17/20\n2) Elastic 100 Pa\n\n## Usage\n\nCheck that the config is set-up correctly in ```scripts/pipeline_cnn.py```\n\nYou'll need to ensure that the path is pointing to the correct folder where each subdir has the file structure outlined above. \n\n```\ndef config():\n    configs = dict()\n\n    if sys.platform == \"linux\" or sys.platform == \"linux2\":\n        path = '/media/ryan/9684408684406AB7/Users/ryan/Google Drive/TFM Cambridge/2021/Frogs'\n    elif sys.platform == \"win32\":\n        path = 'C:\\\\Users\\\\ryan\\\\Google Drive\\\\TFM Cambridge\\\\2021\\\\Frogs'\n    elif sys.platform == 'darwin':\n        path = '/Users/ryan/Google Drive/TFM Cambridge/2021/Frogs'\n\n\n    configs['path'] = path\n    configs['sample'] = '20210305 Cam Franze' #'20210226 Cam Franze'\n    configs['metadata_file'] = f\"{configs['path']}/{configs['sample']}{os.sep}metadata.txt\"\n    configs['metadata'] = biometa(configs['metadata_file'])\n    configs['frog_metadata'] = configs['metadata']['frog']\n    configs['gel_metadata'] = configs['metadata']['gel']\n    configs['sholl'] = True\n    configs['create_results'] = True\n    configs['results_path'] = 'results' + os.sep + configs['sample'] + '_results'\n    configs['seg'] = True\n    configs['headless'] = True\n    configs['step_size'] = 5\n    configs['device'] = 'cuda'\n    configs['best_model'] = './best_model_1.pth'\n```\n\nIf you have all path envs and file structures set up correctly you can run the pipeline as \n\n```\npython scripts/pipeline_cnn.py\n```\n\nA resuls folder will created and stats will be performed on the sample i.e. \n\n```\n(autoballs) ryan@ryan:~/Documents/GitHub/autoballs$ python scripts/pipeline_cnn.py \n           Multiple Comparison of Means - Tukey HSD, FWER=0.05            \n==========================================================================\n    group1           group2       meandiff p-adj   lower    upper   reject\n--------------------------------------------------------------------------\n Elastic 1 kPa     Elastic 100 Pa -43.0119 0.0031 -74.6687 -11.3551   True\n Elastic 1 kPa              Glass -15.4829 0.4857 -43.6976  12.7318  False\n Elastic 1 kPa Viscoelastic 1 kPa -17.8286 0.7525 -66.5802  30.9231  False\nElastic 100 Pa              Glass   27.529 0.0466   0.2912  54.7668   True\nElastic 100 Pa Viscoelastic 1 kPa  25.1833 0.5246 -23.0095  73.3762  False\n         Glass Viscoelastic 1 kPa  -2.3457    0.9 -48.3508  43.6594  False\n--------------------------------------------------------------------------\n           Multiple Comparison of Means - Tukey HSD, FWER=0.05            \n==========================================================================\n    group1           group2       meandiff p-adj   lower    upper   reject\n--------------------------------------------------------------------------\n Elastic 1 kPa     Elastic 100 Pa -43.0119 0.0031 -74.6687 -11.3551   True\n Elastic 1 kPa              Glass -15.4829 0.4857 -43.6976  12.7318  False\n Elastic 1 kPa Viscoelastic 1 kPa -17.8286 0.7525 -66.5802  30.9231  False\nElastic 100 Pa              Glass   27.529 0.0466   0.2912  54.7668   True\nElastic 100 Pa Viscoelastic 1 kPa  25.1833 0.5246 -23.0095  73.3762  False\n         Glass Viscoelastic 1 kPa  -2.3457    0.9 -48.3508  43.6594  False\n--------------------------------------------------------------------------\n```\n\n<p align=\"center\">\n  <img src=\"https://user-images.githubusercontent.com/35999546/110252098-a328d800-7f7b-11eb-941b-605ae460e7d5.png\" alt=\"drawing\" width=\"400\"/>\n</p>\n\n## Example\n![image](https://user-images.githubusercontent.com/35999546/110234828-8f9e5280-7f24-11eb-86ae-512017c80779.png)\n\n\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "",
    "keywords": "",
    "license": "",
    "maintainer": "",
    "maintainer_email": "",
    "name": "autoballs",
    "package_url": "https://pypi.org/project/autoballs/",
    "platform": "",
    "project_url": "https://pypi.org/project/autoballs/",
    "project_urls": null,
    "release_url": "https://pypi.org/project/autoballs/0.0.2/",
    "requires_dist": [
      "codecov (==2.1.11)",
      "pytest (==6.2.2)",
      "albumentations (==0.5.2)",
      "attrs (==20.3.0)",
      "certifi (==2020.12.5)",
      "chardet (==4.0.0)",
      "coverage (==5.5)",
      "cycler (==0.10.0)",
      "decorator (==4.4.2)",
      "efficientnet-pytorch (==0.6.3)",
      "idna (==2.10)",
      "imageio (==2.9.0)",
      "imgaug (==0.4.0)",
      "imglyb (==1.0.0)",
      "iniconfig (==1.1.1)",
      "jgo (==1.0.0)",
      "joblib (==1.0.1)",
      "JPype1 (==1.2.1)",
      "kiwisolver (==1.3.1)",
      "matplotlib (==3.3.4)",
      "munch (==2.5.0)",
      "nd2reader (==3.2.3)",
      "networkx (==2.5)",
      "olefile (==0.46)",
      "opencv-python (==4.5.1.48)",
      "opencv-python-headless (==4.5.1.48)",
      "packaging (==20.9)",
      "pandas (==1.2.3)",
      "patsy (==0.5.1)",
      "Pillow (>=6.2.0)",
      "PIMS (==0.5)",
      "pluggy (==0.13.1)",
      "pretrainedmodels (==0.7.4)",
      "psutil (==5.8.0)",
      "py (==1.10.0)",
      "pyimagej (==1.0.0)",
      "pyparsing (==2.4.7)",
      "python-dateutil (==2.8.1)",
      "pytz (==2021.1)",
      "PyWavelets (==1.1.1)",
      "PyYAML (==5.4.1)",
      "requests (==2.25.1)",
      "scikit-image (==0.18.1)",
      "scikit-learn (==0.24.1)",
      "scipy (==1.6.1)",
      "scyjava (==1.1.0)",
      "seaborn (==0.11.1)",
      "segmentation-models-pytorch (==0.1.3)",
      "Shapely (==1.7.1)",
      "sklearn (==0.0)",
      "slicerator (==1.0.0)",
      "statsmodels (==0.12.2)",
      "threadpoolctl (==2.1.0)",
      "tifffile (==2021.2.26)",
      "timm (==0.3.2)",
      "toml (==0.10.2)",
      "torch (==1.8.0)",
      "torchaudio (==0.8.0)",
      "torchvision (==0.9.0)",
      "tqdm (==4.59.0)",
      "urllib3 (==1.26.3)",
      "xarray (==0.17.0)",
      "xmltodict (==0.12.0)"
    ],
    "requires_python": "",
    "summary": "Python package for segmentation of axons and morphological analysis.",
    "version": "0.0.2",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 9703377,
  "releases": {
    "0.0.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "4d29b501c41e231295087de0ccc0ee4e584838d87d891c32d1e0aae0cb939ebd",
          "md5": "8567787480b9717c9f46bfb1a9e3526b",
          "sha256": "58b679fabd54b000127f6d1d7a567c2a50139faef1701d3e1b1997172340c792"
        },
        "downloads": -1,
        "filename": "autoballs-0.0.1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "8567787480b9717c9f46bfb1a9e3526b",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 14599,
        "upload_time": "2021-03-08T07:52:27",
        "upload_time_iso_8601": "2021-03-08T07:52:27.733995Z",
        "url": "https://files.pythonhosted.org/packages/4d/29/b501c41e231295087de0ccc0ee4e584838d87d891c32d1e0aae0cb939ebd/autoballs-0.0.1-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "c8f754b6673e1694c8548c8c50d154e01542d349b3d4bca081670d861270aa08",
          "md5": "46ae189ddfbff6edf0ace1048dae875d",
          "sha256": "36c8c211f60c7c0d421ed72cbc5b5a749257a4c5d33a9af6884a20e789b5f76c"
        },
        "downloads": -1,
        "filename": "autoballs-0.0.1.tar.gz",
        "has_sig": false,
        "md5_digest": "46ae189ddfbff6edf0ace1048dae875d",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 16934,
        "upload_time": "2021-03-08T07:52:29",
        "upload_time_iso_8601": "2021-03-08T07:52:29.320787Z",
        "url": "https://files.pythonhosted.org/packages/c8/f7/54b6673e1694c8548c8c50d154e01542d349b3d4bca081670d861270aa08/autoballs-0.0.1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.0.2": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "00b53fc3b00fe9132eda2789e55619ca9d9dad93e562d411c215fe504eb97efd",
          "md5": "5957ef96bd5282af11df9649d87e2a8a",
          "sha256": "cba659b68ccba70de4d28b124e3d1b664ea2fb9a3eaed0036a40d40bcae2df95"
        },
        "downloads": -1,
        "filename": "autoballs-0.0.2-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "5957ef96bd5282af11df9649d87e2a8a",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": null,
        "size": 14697,
        "upload_time": "2021-03-08T13:36:04",
        "upload_time_iso_8601": "2021-03-08T13:36:04.128337Z",
        "url": "https://files.pythonhosted.org/packages/00/b5/3fc3b00fe9132eda2789e55619ca9d9dad93e562d411c215fe504eb97efd/autoballs-0.0.2-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "7964cd3aa22ebe5fe771a6f545358dd383ca686670aa505e78dd7bbff2e7732a",
          "md5": "299fae5adaf4022650dd0052d1786d12",
          "sha256": "d69a3d90db4cf6023db39d14dbfd6392e32f76069e0ce79bf2e273bfc4c1c784"
        },
        "downloads": -1,
        "filename": "autoballs-0.0.2.tar.gz",
        "has_sig": false,
        "md5_digest": "299fae5adaf4022650dd0052d1786d12",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": null,
        "size": 17131,
        "upload_time": "2021-03-08T13:36:06",
        "upload_time_iso_8601": "2021-03-08T13:36:06.978783Z",
        "url": "https://files.pythonhosted.org/packages/79/64/cd3aa22ebe5fe771a6f545358dd383ca686670aa505e78dd7bbff2e7732a/autoballs-0.0.2.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "00b53fc3b00fe9132eda2789e55619ca9d9dad93e562d411c215fe504eb97efd",
        "md5": "5957ef96bd5282af11df9649d87e2a8a",
        "sha256": "cba659b68ccba70de4d28b124e3d1b664ea2fb9a3eaed0036a40d40bcae2df95"
      },
      "downloads": -1,
      "filename": "autoballs-0.0.2-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "5957ef96bd5282af11df9649d87e2a8a",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": null,
      "size": 14697,
      "upload_time": "2021-03-08T13:36:04",
      "upload_time_iso_8601": "2021-03-08T13:36:04.128337Z",
      "url": "https://files.pythonhosted.org/packages/00/b5/3fc3b00fe9132eda2789e55619ca9d9dad93e562d411c215fe504eb97efd/autoballs-0.0.2-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "7964cd3aa22ebe5fe771a6f545358dd383ca686670aa505e78dd7bbff2e7732a",
        "md5": "299fae5adaf4022650dd0052d1786d12",
        "sha256": "d69a3d90db4cf6023db39d14dbfd6392e32f76069e0ce79bf2e273bfc4c1c784"
      },
      "downloads": -1,
      "filename": "autoballs-0.0.2.tar.gz",
      "has_sig": false,
      "md5_digest": "299fae5adaf4022650dd0052d1786d12",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": null,
      "size": 17131,
      "upload_time": "2021-03-08T13:36:06",
      "upload_time_iso_8601": "2021-03-08T13:36:06.978783Z",
      "url": "https://files.pythonhosted.org/packages/79/64/cd3aa22ebe5fe771a6f545358dd383ca686670aa505e78dd7bbff2e7732a/autoballs-0.0.2.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}